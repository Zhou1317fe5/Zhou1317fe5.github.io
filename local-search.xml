<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>æ·±åº¦å­¦ä¹ -Course1_Week4æ·±å±‚ç¥ç»ç½‘ç»œ</title>
    <link href="/2024/02/07/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-Course1-Week4%E6%B7%B1%E5%B1%82%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/"/>
    <url>/2024/02/07/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-Course1-Week4%E6%B7%B1%E5%B1%82%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>æ·±åº¦å­¦ä¹ -Course1_Week3æµ…å±‚ç¥ç»ç½‘ç»œ</title>
    <link href="/2024/02/07/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-Course1-Week3%E6%B5%85%E5%B1%82%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/"/>
    <url>/2024/02/07/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-Course1-Week3%E6%B5%85%E5%B1%82%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/</url>
    
    <content type="html"><![CDATA[]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>æ·±åº¦å­¦ä¹ -Course1_Week2ç¥ç»ç½‘ç»œåŸºç¡€çŸ¥è¯†</title>
    <link href="/2024/02/07/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-Course1-Week2%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/"/>
    <url>/2024/02/07/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-Course1-Week2%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86/</url>
    
    <content type="html"><![CDATA[<h1 id="äºŒåˆ†ç±»binary-classification">2.1 äºŒåˆ†ç±»(Binary Classification)</h1><p>æˆ‘ä»¬çŸ¥é“é€»è¾‘å›å½’æ˜¯ä¸€ä¸ªç”¨äºäºŒåˆ†ç±»(<strong>binary classification</strong>)çš„ç®—æ³•ã€‚ã€‚ äºŒåˆ†ç±»å°±æ˜¯è¾“å‡ºyåªæœ‰{0,1}ä¸¤ä¸ªç¦»æ•£å€¼ï¼ˆä¹Ÿæœ‰{-1,1}çš„æƒ…å†µï¼‰ã€‚ æˆ‘ä»¬ä»¥ä¸€ä¸ªå›¾åƒè¯†åˆ«é—®é¢˜ä¸ºä¾‹ï¼Œåˆ¤æ–­å›¾ç‰‡ä¸­æ˜¯å¦æœ‰çŒ«å­˜åœ¨ï¼Œ0ä»£è¡¨noncatï¼Œ1ä»£è¡¨catã€‚å…¶è¾“å…¥æ˜¯ç”±ç‰¹å¾å‘é‡ğ‘¥è¡¨ç¤ºçš„å›¾åƒï¼Œå¹¶é¢„æµ‹ç›¸åº”çš„æ ‡ç­¾ğ‘¦æ˜¯1è¿˜æ˜¯0ã€‚ <img src="/img/æ·±åº¦å­¦ä¹ -Course1-Week2/2ç¥ç»ç½‘ç»œçš„ç¼–ç¨‹åŸºç¡€.png" /> åœ¨è®¡ç®—æœºä¸­ä¸ºäº†ä¿å­˜ä¸€å¼ å›¾ç‰‡ï¼Œéœ€è¦ä¿å­˜ä¸‰ä¸ªçŸ©é˜µï¼Œå®ƒä»¬åˆ†åˆ«å¯¹åº”å›¾ç‰‡ä¸­çš„çº¢ã€ç»¿ã€è“ä¸‰ç§é¢œè‰²é€šé“ï¼Œä¸‰ä¸ªçŸ©é˜µä¸å›¾åƒå¤§å°ç›¸åŒï¼Œå¦‚æœå›¾ç‰‡å¤§å°ä¸º64x64åƒç´ ï¼Œé‚£ä¹ˆä½ å°±æœ‰ä¸‰ä¸ªè§„æ¨¡ä¸º64x64çš„çŸ©é˜µï¼Œåˆ†åˆ«å¯¹åº”å›¾ç‰‡ä¸­çº¢ã€ç»¿ã€è“ä¸‰ç§åƒç´ çš„å¼ºåº¦å€¼ã€‚ <img src="/img/æ·±åº¦å­¦ä¹ -Course1-Week2/2ç¥ç»ç½‘ç»œçš„ç¼–ç¨‹åŸºç¡€_1.png" /></p><p>å•å…ƒæ ¼ä¸­çš„å€¼è¡¨ç¤ºå°†ç”¨äºåˆ›å»º n ç»´ç‰¹å¾å‘é‡çš„åƒç´ å¼ºåº¦ã€‚åœ¨æ¨¡å¼è¯†åˆ«å’Œæœºå™¨å­¦ä¹ ä¸­ï¼Œä¸€ä¸ªç‰¹å¾å‘é‡ä»£è¡¨ä¸€ä¸ªå›¾åƒã€‚ä¸ºäº†åˆ›å»ºç‰¹å¾å‘é‡ ğ‘¥ï¼Œæ¯ç§é¢œè‰²çš„åƒç´ å¼ºåº¦å€¼å°†è¢«â€œå±•å¼€â€æˆ–â€œé‡å¡‘â€ã€‚è¾“å…¥ç‰¹å¾å‘é‡ğ‘¥çš„ç»´åº¦ä¸ºğ‘›= 64*64*3 = 12288ã€‚</p><p><img src="/img/æ·±åº¦å­¦ä¹ -Course1-Week2/2ç¥ç»ç½‘ç»œçš„ç¼–ç¨‹åŸºç¡€_2.png" /></p><p>æ‰€ä»¥åœ¨äºŒåˆ†ç±»é—®é¢˜ä¸­ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯å­¦ä¹ ä¸€ä¸ªåˆ†ç±»å™¨ï¼šè¾“å…¥ä¸€å¹…ä»¥ç‰¹å¾å‘é‡ğ‘¥è¡¨ç¤ºçš„å›¾åƒï¼Œå¹¶é¢„æµ‹ç›¸åº”çš„è¾“å‡ºæ ‡ç­¾ğ‘¦æ˜¯1è¿˜æ˜¯0ã€‚</p><p><strong>Notation</strong></p><ul><li>æ ·æœ¬ï¼š <span class="math inline">\((x,y)\)</span>, è®­ç»ƒæ ·æœ¬åŒ…å«<span class="math inline">\(m\)</span>ä¸ªï¼›</li><li>å…¶ä¸­<span class="math inline">\(x\in R^{n_x}\)</span>,è¡¨ç¤ºæ ·æœ¬<span class="math inline">\(x\)</span> åŒ…å«<span class="math inline">\(n_x\)</span>ä¸ªç‰¹å¾ï¼›</li><li><span class="math inline">\(y\in0,1\)</span>,ç›®æ ‡å€¼å±äº0ã€1åˆ†ç±»ï¼›</li><li>mä¸ªè®­ç»ƒæ•°æ®:<span class="math inline">\(\left\{(x^{(1)},y^{(1)}),(x^{(2)},y^{(2)}),\cdots,(x^{(m)},y^{(m)})\right\}\)</span></li></ul><p>è¾“å…¥ç¥ç»ç½‘ç»œæ—¶æ ·æœ¬æ•°æ®çš„å½¢çŠ¶ä¸ºï¼š <img src="/img/æ·±åº¦å­¦ä¹ -Course1-Week2/2ç¥ç»ç½‘ç»œçš„ç¼–ç¨‹åŸºç¡€_5.png" /></p><h1 id="é€»è¾‘å›å½’logistic-regression">2.2 é€»è¾‘å›å½’(Logistic Regression)</h1><p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥ä»‹ç»å¦‚ä½•ä½¿ç”¨é€»è¾‘å›å½’æ¥è§£å†³äºŒåˆ†ç±»é—®é¢˜ã€‚</p><p>é€»è¾‘å›å½’ä¸­ï¼Œç»™å®šè¾“å…¥ <span class="math inline">\(x\)</span>, é¢„æµ‹å€¼ <span class="math inline">\(\hat{y}=P(y=1|x),\mathrm{where}0\leq\hat{y}\leq1\)</span> è¡¨ç¤ºä¸º1çš„æ¦‚ç‡ï¼Œå–å€¼èŒƒå›´åœ¨[0,1]ä¹‹é—´ã€‚</p><p>è¿™æ˜¯å…¶ä¸äºŒåˆ†ç±»æ¨¡å‹ä¸åŒçš„åœ°æ–¹ã€‚é€»è¾‘å›å½’çš„é¢„æµ‹å€¼ä¸ºä¸€ä¸ªè¿ç»­çš„æ¦‚ç‡ã€‚</p><p>Logisticå›å½’ä¸­ä½¿ç”¨çš„å‚æ•°æ˜¯ï¼š</p><ul><li>è¾“å…¥ç‰¹å¾å‘é‡ï¼š<span class="math inline">\(x\in\mathbb{R}^{n_x}\)</span> ï¼Œå…¶ä¸­ <span class="math inline">\(ğ‘›_ğ‘¥\)</span> æ˜¯ç‰¹å¾æ•°é‡</li><li>è®­ç»ƒæ ‡ç­¾ï¼šğ‘¦ Îµ 0,1</li><li>æƒé‡ï¼š<span class="math inline">\(w\in\mathbb{R}^{n_x}\)</span> ï¼Œå…¶ä¸­<span class="math inline">\(ğ‘›_ğ‘¥\)</span> æ˜¯ç‰¹å¾æ•°é‡</li><li>é˜ˆå€¼ï¼šğ‘ Îµ â„</li><li>è¾“å‡ºï¼š<span class="math inline">\(\hat{y}=\sigma(w^{T}x+b)\)</span></li><li>Sigmoid å‡½æ•°ï¼š<span class="math inline">\(s=\sigma(w^{T}x+b)=\sigma(z){=}\frac{1}{1+e^{-z}}\)</span></li></ul><p><span class="math inline">\(w^{T}x+b\)</span>æ˜¯ä¸€ä¸ªçº¿æ€§å‡½æ•° (ğ‘ğ‘¥ + ğ‘)ï¼Œå…¶è¾“å‡ºä¸ºä¸€ä¸ªè¿ç»­çš„æ¦‚ç‡ã€‚ä½†ç”±äºæˆ‘ä»¬æ­£åœ¨å¯»æ‰¾ [0,1] ä¹‹é—´çš„æ¦‚ç‡çº¦æŸï¼Œå› æ­¤ä½¿ç”¨ sigmoid å‡½æ•°å°†è¾“å‡ºè¾¹ç•Œé™åˆ¶åœ¨åœ¨[0,1] ä¹‹é—´ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚ <img src="/img/æ·±åº¦å­¦ä¹ -Course1-Week2/2ç¥ç»ç½‘ç»œçš„ç¼–ç¨‹åŸºç¡€_6.png" /></p><p>sigmoidå‡½æ•°çš„å…¬å¼ä¸ºï¼š<span class="math inline">\(\sigma(z){=}\frac{1}{1+e^{-z}}\)</span></p><p>å…¶ä¸­ï¼Œzæ˜¯ä¸€ä¸ªå®æ•°ã€‚</p><p>éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š</p><ol type="1"><li><p>å½“zéå¸¸å¤§æ—¶ï¼Œsigmoidå‡½æ•°æ¥è¿‘äº1ã€‚è¿™æ˜¯å› ä¸ºæŒ‡æ•°<span class="math inline">\(e^{-x}\)</span>ä¼šå˜å¾—éå¸¸å°ï¼Œæ¥è¿‘äº0ï¼Œæ‰€ä»¥1é™¤ä»¥1åŠ ä¸Šä¸€ä¸ªæ¥è¿‘äº0çš„é¡¹ï¼Œç»“æœå°±ä¼šæ¥è¿‘äº1ã€‚</p></li><li><p>ç›¸ååœ°ï¼Œå½“xéå¸¸å°æˆ–ä¸ºä¸€ä¸ªç»å¯¹å€¼å¾ˆå¤§çš„è´Ÿæ•°æ—¶ï¼Œsigmoidå‡½æ•°æ¥è¿‘äº0ã€‚å¯ä»¥å°†å…¶çœ‹ä½œæ˜¯1é™¤ä»¥1åŠ ä¸Šä¸€ä¸ªéå¸¸éå¸¸å¤§çš„æ•°ï¼Œç»“æœå°±ä¼šæ¥è¿‘äº0ã€‚</p></li><li><p>å®é™…ä¸Šï¼Œå½“xå˜æˆä¸€ä¸ªç»å¯¹å€¼å¾ˆå¤§çš„è´Ÿæ•°æ—¶ï¼Œsigmoidå‡½æ•°ä¼šéå¸¸æ¥è¿‘äº0ã€‚</p></li></ol><p>å› æ­¤ï¼Œåœ¨å®ç°é€»è¾‘å›å½’æ—¶ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯é€šè¿‡è°ƒæ•´æœºå™¨å­¦ä¹ å‚æ•°wå’Œbï¼Œä½¿å¾—sigmoidå‡½æ•°èƒ½å¤Ÿå¾ˆå¥½åœ°ä¼°è®¡ç»™å®šæƒ…å†µçš„æ¦‚ç‡ã€‚</p><p>ç°åœ¨ä½ å·²ç»çŸ¥é“é€»è¾‘å›å½’æ¨¡å‹æ˜¯ä»€ä¹ˆæ ·å­äº†ï¼Œä¸‹ä¸€æ­¥è¦åšçš„æ˜¯ä½¿ç”¨ä»£ä»·å‡½æ•°è®­ç»ƒå‚æ•°wå’Œå‚æ•°bã€‚</p><h1 id="é€»è¾‘å›å½’çš„ä»£ä»·å‡½æ•°logistic-regression-cost-function">2.3 é€»è¾‘å›å½’çš„ä»£ä»·å‡½æ•°ï¼ˆLogistic Regression Cost Functionï¼‰</h1><p>ä¸ºäº†è®­ç»ƒå‚æ•°ğ‘¤å’Œğ‘ï¼Œæˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªæˆæœ¬å‡½æ•°ã€‚</p><h2 id="æŸå¤±å‡½æ•°">æŸå¤±å‡½æ•°</h2><p>æŸå¤±å‡½æ•°æµ‹é‡é¢„æµ‹ <span class="math inline">\((\hat{y}^{(i)})\)</span> å’ŒæœŸæœ›è¾“å‡º <span class="math inline">\(({y}^{(i)})\)</span>ä¹‹é—´çš„å·®å¼‚ã€‚ æ¢å¥è¯è¯´ï¼ŒæŸå¤±å‡½æ•°è®¡ç®—å•ä¸ªè®­ç»ƒç¤ºä¾‹çš„è¯¯å·®ã€‚</p><p>å¯¹äºé€»è¾‘å›å½’ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¸ä½¿ç”¨å¹³æ–¹è¯¯å·®<span class="math inline">\(L(\hat{y},y)=\frac12(\hat{y}-y)^2\)</span>æ¥ä½œä¸ºLoss functionã€‚å› ä¸ºä¸Šé¢çš„å¹³æ–¹è¯¯å·®æŸå¤±å‡½æ•°ä¸€èˆ¬æ˜¯éå‡¸å‡½æ•°ï¼ˆnon-convexï¼‰ï¼Œå…¶åœ¨ä½¿ç”¨æ¢¯åº¦ä¸‹é™ç®—æ³•çš„æ—¶å€™ï¼Œå®¹æ˜“å¾—åˆ°å±€éƒ¨æœ€ä¼˜è§£ï¼Œè€Œä¸æ˜¯å…¨å±€æœ€ä¼˜è§£ï¼Œå› æ­¤è¦é€‰æ‹©å‡¸å‡½æ•°ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨é€»è¾‘å›å½’æ¨¡å‹ä¸­å®šä¹‰å¦å¤–ä¸€ä¸ªæŸå¤±å‡½æ•°ã€‚ <span class="math display">\[L\left(\hat{y},y\right)=-y\log(\hat{y})-(1-y)\log(1-\hat{y})\]</span></p><p>å½“<span class="math inline">\(y=1\)</span>æ—¶ï¼Œ<span class="math inline">\(L(\hat{y},y)=-\log\hat{y}\)</span>ã€‚å¦‚æœ<span class="math inline">\(\hat{y}\)</span>è¶Šæ¥è¿‘1ï¼Œ<span class="math inline">\(L(\hat{y},y)\approx0\)</span>,è¡¨ç¤ºé¢„æµ‹æ•ˆæœè¶Šå¥½ï¼›å¦‚æœ<span class="math inline">\(\hat{y}\)</span>è¶Šæ¥è¿‘0ï¼Œ <span class="math inline">\(L(\hat{y},y)\approx+\infty\)</span>,è¡¨ç¤ºé¢„æµ‹æ•ˆæœè¶Šå·®ï¼›</p><p>å½“<span class="math inline">\(y=0\)</span>æ—¶ï¼Œ<span class="math inline">\(L(\hat{y},y)=-\log(1-\hat{y})\)</span>ã€‚å¦‚æœ<span class="math inline">\(\hat{y}\)</span>è¶Šæ¥è¿‘0ï¼Œ<span class="math inline">\(L(\hat{y},y)\approx0\)</span>,è¡¨ç¤ºé¢„æµ‹æ•ˆæœè¶Šå¥½ï¼›å¦‚æœ<span class="math inline">\(\hat{y}\)</span>è¶Šæ¥è¿‘1ï¼Œ<span class="math inline">\(L(\hat{y},y)\approx+\infty\)</span>,è¡¨ç¤ºé¢„æµ‹æ•ˆæœè¶Šå·®ï¼›</p><p>æˆ‘ä»¬çš„ç›®æ ‡æ˜¯æœ€å°åŒ–æ ·æœ¬ç‚¹çš„æŸå¤±Loss Function, æŸå¤±å‡½æ•°æ˜¯é’ˆå¯¹å•ä¸ªæ ·æœ¬ç‚¹çš„ã€‚</p><h2 id="æˆæœ¬å‡½æ•°">æˆæœ¬å‡½æ•°</h2><p>Loss functionæ˜¯é’ˆå¯¹å•ä¸ªæ ·æœ¬çš„ï¼Œæˆæœ¬å‡½æ•°æ˜¯æ•´ä¸ªè®­ç»ƒé›†çš„æŸå¤±å‡½æ•°çš„å¹³å‡å€¼ã€‚ <span class="math display">\[J(w,b)=\frac{1}{m}\sum_{i=1}^{m}L\big(\hat{y}^{(i)},y^{(i)}\big)=-\frac{1}{m}\sum_{i=1}^{m}\big[(y^{(i)}\log\big(\hat{y}^{(i)}\big)+\big(1-y^{(i)}\big)\log(1-\hat{y}^{(i)})\big]\]</span></p><h1 id="æ¢¯åº¦ä¸‹é™gradient-descent">2.4 æ¢¯åº¦ä¸‹é™ï¼ˆGradient Descentï¼‰</h1><p>æˆ‘ä»¬å·²ç»çŸ¥é“Cost functionçš„è¡¨è¾¾å¼äº†ï¼Œé‚£ä¹ˆå¦‚ä½•æ‰¾åˆ°æœ€å°åŒ–æˆæœ¬çš„å‡½æ•°J(w,b)çš„wå’Œbå‘¢ï¼Œæ¥ä¸‹æ¥å°†ä½¿ç”¨æ¢¯åº¦ä¸‹é™ï¼ˆGradient Descentï¼‰ç®—æ³•æ¥è¿›è¡Œä¼˜åŒ–ã€‚</p><p>ç”±äºJ(w,b)æ˜¯convex functionï¼Œæ¢¯åº¦ä¸‹é™ç®—æ³•æ˜¯å…ˆéšæœºé€‰æ‹©ä¸€ç»„å‚æ•°wå’Œbå€¼ï¼Œç„¶åæ¯æ¬¡è¿­ä»£çš„è¿‡ç¨‹ä¸­åˆ†åˆ«æ²¿ç€wå’Œbçš„æ¢¯åº¦ï¼ˆåå¯¼æ•°ï¼‰çš„åæ–¹å‘å‰è¿›ä¸€å°æ­¥ï¼Œä¸æ–­ä¿®æ­£wå’Œbã€‚</p><p>æ¯æ¬¡è¿­ä»£æ›´æ–°wå’Œbåï¼Œéƒ½èƒ½è®©J(w,b)æ›´æ¥è¿‘å…¨å±€æœ€å°å€¼ã€‚æ¢¯åº¦ä¸‹é™çš„è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p><p><img src="/img/æ·±åº¦å­¦ä¹ -Course1-Week2/2ç¥ç»ç½‘ç»œçš„ç¼–ç¨‹åŸºç¡€_10.png" /></p><p>æ¢¯åº¦ä¸‹é™ç®—æ³•æ¯æ¬¡è¿­ä»£æ›´æ–°ï¼Œwå’Œbçš„ä¿®æ­£è¡¨è¾¾å¼ä¸ºï¼š <span class="math display">\[w:=w-\alpha\frac{\partial J(w,b)}{\partial w}\]</span></p><p><span class="math display">\[b:=b-\alpha\frac{\partial J(w,b)}{\partial b}\]</span></p><p>ä¸Šå¼ä¸­ï¼Œ<span class="math inline">\(\alpha\)</span>æ˜¯å­¦ä¹ å› å­( learning rate),è¡¨ç¤ºæ¢¯åº¦ä¸‹é™çš„æ­¥è¿›é•¿åº¦ã€‚<span class="math inline">\(\alpha\)</span>è¶Šå¤§ï¼Œwå’Œbæ¯æ¬¡æ›´æ–°çš„â€œæ­¥ä¼â€æ›´å¤§ä¸€äº›ï¼›<span class="math inline">\(\alpha\)</span>è¶Šå°ï¼Œwå’Œbæ¯æ¬¡æ›´æ–°çš„<span class="math inline">\(^\mathrm{\iota}\)</span>æ­¥ä¼â€æ›´å°ä¸€äº›ã€‚</p><p>åœ¨ç¨‹åºä»£ç ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨dwæ¥è¡¨ç¤º<span class="math inline">\(\frac{\partial J(w,b)}{\partial w}\)</span> ,ç”¨dbæ¥è¡¨ç¤º<span class="math inline">\(\frac{\partial J(w,b)}{\partial b}\)</span>ã€‚å¾®ç§¯åˆ†é‡Œï¼Œ<span class="math inline">\(\frac{df}{dx}\)</span>è¡¨ ç¤ºå¯¹å•ä¸€å˜é‡æ±‚å¯¼æ•°ï¼Œ<span class="math inline">\(\frac{\partial f}{\partial x}\)</span>è¡¨ç¤ºå¯¹å¤šä¸ªå˜é‡ä¸­æŸä¸ªå˜é‡æ±‚åå¯¼æ•°ã€‚</p><p>æ¢¯åº¦ä¸‹é™ç®—æ³•èƒ½å¤Ÿä¿è¯æ¯æ¬¡è¿­ä»£wå’Œbéƒ½èƒ½å‘ç€J(w,b)å…¨å±€æœ€å°åŒ–çš„æ–¹å‘è¿›è¡Œã€‚</p><h1 id="è®¡ç®—å›¾computation-graph">2.5 è®¡ç®—å›¾ï¼ˆComputation Graphï¼‰</h1><p>æ•´ä¸ªç¥ç»ç½‘ç»œçš„è®­ç»ƒè¿‡ç¨‹å®é™…ä¸ŠåŒ…å«äº†ä¸¤ä¸ªè¿‡ç¨‹ï¼šæ­£å‘ä¼ æ’­ï¼ˆForward Propagationï¼‰å’Œåå‘ä¼ æ’­ï¼ˆBack Propagationï¼‰ã€‚</p><p>æ­£å‘ä¼ æ’­æ˜¯ä»è¾“å…¥åˆ°è¾“å‡ºï¼Œç”±ç¥ç»ç½‘ç»œè®¡ç®—å¾—åˆ°é¢„æµ‹è¾“å‡ºçš„è¿‡ç¨‹ï¼›åå‘ä¼ æ’­æ˜¯ä»è¾“å‡ºåˆ°è¾“å…¥ï¼Œåˆ©ç”¨è¾“å‡ºè®¡ç®—å‡ºå¯¹åº”çš„æ¢¯åº¦æˆ–å¯¼æ•°ï¼Œå¯¹å‚æ•°wå’Œbè®¡ç®—æ¢¯åº¦çš„è¿‡ç¨‹ã€‚</p><p>ä¸‹é¢ï¼Œæˆ‘ä»¬ç”¨è®¡ç®—å›¾ï¼ˆComputation graphï¼‰çš„å½¢å¼æ¥ç†è§£è¿™ä¸¤ä¸ªè¿‡ç¨‹ã€‚</p><p>ä¸¾ä¸ªç®€å•çš„ä¾‹å­ï¼Œå‡å¦‚Cost functionä¸ºJ(a,b,c)=3(a+bc)ï¼ŒåŒ…å«aï¼Œbï¼Œcä¸‰ä¸ªå˜é‡ã€‚ æˆ‘ä»¬ç”¨uè¡¨ç¤ºbcï¼Œvè¡¨ç¤ºa+uï¼Œåˆ™J=3vã€‚ å®ƒçš„è®¡ç®—å›¾å¯ä»¥å†™æˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š <img src="/img/æ·±åº¦å­¦ä¹ -Course1-Week2/2ç¥ç»ç½‘ç»œçš„ç¼–ç¨‹åŸºç¡€_7.png" /></p><p>é¦–å…ˆè®¡ç®—u=bcï¼Œæ¥ç€è®¡ç®—v=a+uï¼Œæœ€åè®¡ç®—J=3v</p><p>è®¡ç®—å›¾ä¸­ï¼Œè¿™ç§ä»å·¦åˆ°å³ï¼Œä»è¾“å…¥åˆ°è¾“å‡ºçš„è¿‡ç¨‹å°±å¯¹åº”ç€ç¥ç»ç½‘ç»œæˆ–è€…é€»è¾‘å›å½’ä¸­è¾“å…¥ä¸æƒé‡ç»è¿‡è¿ç®—è®¡ç®—å¾—åˆ°Cost functionçš„æ­£å‘è¿‡ç¨‹ã€‚</p><h1 id="è®¡ç®—å›¾å¯¼æ•°derivatives-with-a-computation-graph">2.6 è®¡ç®—å›¾å¯¼æ•°ï¼ˆDerivatives with a Computation Graphï¼‰</h1><p>ä¸Šä¸€éƒ¨åˆ†ä»‹ç»çš„æ˜¯è®¡ç®—å›¾çš„æ­£å‘ä¼ æ’­ï¼ˆForward Propagationï¼‰ï¼Œä¸‹é¢æˆ‘ä»¬æ¥ä»‹ç»å…¶åå‘ä¼ æ’­ï¼ˆBack Propagationï¼‰ï¼Œå³è®¡ç®—è¾“å‡ºå¯¹è¾“å…¥çš„åå¯¼æ•°ã€‚</p><p>è¿˜æ˜¯ä¸Šä¸ªè®¡ç®—å›¾çš„ä¾‹å­ï¼Œè¾“å…¥å‚æ•°æœ‰3ä¸ªï¼Œåˆ†åˆ«æ˜¯aï¼Œbï¼Œcã€‚ <img src="/img/æ·±åº¦å­¦ä¹ -Course1-Week2/2ç¥ç»ç½‘ç»œçš„ç¼–ç¨‹åŸºç¡€_8.png" /> é¦–å…ˆè®¡ç®—Jå¯¹å‚æ•°açš„åå¯¼æ•°ã€‚ä»è®¡ç®—å›¾ä¸Šæ¥çœ‹ï¼Œä»å³åˆ°å·¦ï¼ŒJæ˜¯vçš„å‡½æ•°ï¼Œvæ˜¯açš„å‡½æ•°ã€‚åˆ™åˆ©ç”¨æ±‚å¯¼æŠ€å·§ï¼Œå¯ä»¥å¾—åˆ°ï¼š <span class="math inline">\(\frac{\partial J}{\partial a}=\frac{\partial J}{\partial v}\cdot\frac{\partial v}{\partial a}=3\cdot1=3\)</span></p><p>ç„¶åè®¡ç®—Jå¯¹å‚æ•°bçš„åå¯¼æ•°ã€‚ä»è®¡ç®—å›¾ä¸Šæ¥çœ‹ï¼Œä»å³åˆ°å·¦ï¼ŒJæ˜¯vçš„å‡½æ•°ï¼Œvæ˜¯uçš„å‡½æ•°ï¼Œuæ˜¯bçš„å‡½æ•°ã€‚å¯ä»¥æ¨å¯¼ï¼š <span class="math inline">\(\frac{\partial J}{\partial b}=\frac{\partial J}{\partial v}\cdot\frac{\partial v}{\partial u}\cdot\frac{\partial u}{\partial b}=3\cdot1\cdot c=3\cdot1\cdot2=6\)</span></p><p>æœ€åè®¡ç®—Jå¯¹å‚æ•°cçš„åå¯¼æ•°ã€‚ä»ä»è®¡ç®—å›¾ä¸Šæ¥çœ‹ï¼Œä»å³åˆ°å·¦ï¼ŒJæ˜¯vçš„å‡½æ•°ï¼Œvæ˜¯uçš„å‡½æ•°ï¼Œuæ˜¯cçš„å‡½æ•°ã€‚å¯ä»¥æ¨å¯¼ï¼š <span class="math inline">\(\frac{\partial J}{\partial c}=\frac{\partial J}{\partial v}\cdot\frac{\partial v}{\partial u}\cdot\frac{\partial u}{\partial c}=3\cdot1\cdot b=3\cdot1\cdot3=9\)</span></p><h1 id="é€»è¾‘å›å½’çš„æ¢¯åº¦ä¸‹é™logistic-regression-gradient-descent">2.7 é€»è¾‘å›å½’çš„æ¢¯åº¦ä¸‹é™ï¼ˆLogistic Regression Gradient Descentï¼‰</h1><p>æˆ‘ä»¬å¯¹é€»è¾‘å›å½’è¿›è¡Œæ¢¯åº¦è®¡ç®—ã€‚</p><p>å¯¹å•ä¸ªæ ·æœ¬è€Œè¨€ï¼Œé€»è¾‘å›å½’æŸå¤±å‡½æ•°å¦‚ä¸‹ï¼š</p><p><span class="math display">\[\begin{gathered}z=w^Tx+b \\\hat{y}=a=\sigma(z) \\L(a,y)=-(ylog(a)+(1-y)log(1-a)) \end{gathered}\]</span></p><p>å¯¹äº<strong>æ­£å‘ä¼ æ’­</strong>ï¼š å‡è®¾è¾“å…¥æ ·æœ¬xæœ‰ä¸¤ä¸ªç‰¹å¾(<span class="math inline">\(x_1,x_2\)</span>)ï¼Œç›¸åº”çš„æƒé‡wç»´åº¦ä¹Ÿæ˜¯2ï¼Œå³(<span class="math inline">\(w_1,w_2\)</span>)ã€‚åˆ™<span class="math inline">\(z=w_1x_1+w_2x_2+b\)</span>ï¼Œæ­£å‘ä¼ æ’­è®¡ç®—å›¾å¦‚ä¸‹ï¼š</p><p><img src="/img/æ·±åº¦å­¦ä¹ -Course1-Week2/2ç¥ç»ç½‘ç»œçš„ç¼–ç¨‹åŸºç¡€_11.png" /></p><p>å¯¹äº<strong>åå‘ä¼ æ’­</strong>ï¼š</p><p><img src="/img/æ·±åº¦å­¦ä¹ -Course1-Week2/2ç¥ç»ç½‘ç»œçš„ç¼–ç¨‹åŸºç¡€_12.png" /></p><p>çŸ¥é“äº†<span class="math inline">\(d_z\)</span>ä¹‹åï¼Œå°±å¯ä»¥ç›´æ¥å¯¹<span class="math inline">\(w_1\)</span>ï¼Œ<span class="math inline">\(w_2\)</span>å’Œbè¿›è¡Œæ±‚å¯¼äº†ã€‚ <span class="math display">\[\begin{aligned}dw_1&amp;=\frac{\partial L}{\partial w_1}=\frac{\partial L}{\partial z}\cdot\frac{\partial z}{\partial w_1}=x_1\cdot dz=x_1(a-y)\\dw_2&amp;=\frac{\partial L}{\partial w_2}=\frac{\partial L}{\partial z}\cdot\frac{\partial z}{\partial w_2}=x_2\cdot dz=x_2(a-y)\\db&amp;=\frac{\partial L}{\partial b}=\frac{\partial L}{\partial z}\cdot\frac{\partial z}{\partial b}=1\cdot dz=a-y\end{aligned}\]</span></p><p>åˆ™æ¢¯åº¦ä¸‹é™ç®—æ³•å¯è¡¨ç¤ºä¸ºï¼š</p><p><span class="math display">\[\begin{gathered}w_1:=w_1-\alpha\:dw_1\\w_2:=w_2-\alpha\:dw_2\\b:=b-\alpha\:db\end{gathered}\]</span></p><p><strong>æ€»ç»“ï¼š</strong> é¦–å…ˆçŸ¥é“å‚æ•°wå’Œbï¼Œåˆ©ç”¨æ­£å‘ä¼ æ’­è®¡ç®—å‡ºæŸå¤±å‡½æ•°çš„å€¼ï¼Œæ¥ç€æ ¹æ®æŸå¤±å‡½æ•°çš„å€¼åˆ©ç”¨åå‘ä¼ æ’­è®¡ç®—å‡ºwå’Œbçš„å¯¼æ•°ï¼Œæœ€ååˆ©ç”¨è®¡ç®—å‡ºçš„å¯¼æ•°æ›´æ–°wå’Œbçš„å€¼ <span class="math display">\[\begin{gathered}w=w-\alpha\frac{\partial J(w,b)}{\partial w} \\b=b-\alpha\frac{\partial J(w,b)}{\partial b} \end{gathered}\]</span> ä¾æ¬¡å¾ªç¯ï¼Œç›´åˆ°æŸå¤±å‡½æ•°æœ€å°ã€‚</p><h1 id="mä¸ªæ ·æœ¬çš„æ¢¯åº¦ä¸‹é™çš„ä¾‹gradient-descent-on-m-examples">2.8 mä¸ªæ ·æœ¬çš„æ¢¯åº¦ä¸‹é™çš„ä¾‹(Gradient Descent on m Examples)</h1><p><img src="/img/æ·±åº¦å­¦ä¹ -Course1-Week2/2ç¥ç»ç½‘ç»œçš„ç¼–ç¨‹åŸºç¡€_9.png" /></p><p>Cost functionå…³äºwå’Œbçš„åå¯¼æ•°å¯ä»¥å†™æˆå’Œå¹³å‡çš„å½¢å¼ï¼š <span class="math display">\[\begin{gathered}\begin{aligned}dw_1&amp;=\frac1m\sum_{i=1}^mx_1^{(i)}(a^{(i)}-y^{(i)})\\\\dw_2&amp;=\frac1m\sum_{i=1}^mx_2^{(i)}(a^{(i)}-y^{(i)})\\\\db&amp;=\frac1m\sum_{i=1}^m(a^{(i)}-y^{(i)})\end{aligned}\end{gathered}\]</span></p><p><span class="math inline">\(\mathrm{d}\omega_{1}\)</span> ã€<span class="math inline">\(\mathrm{d}\omega_{2}\)</span> ç”¨äºç´¯åŠ ï¼Œå•ä¸ªæ ·æœ¬ä¸­çš„åå¯¼æ•°éƒ½ç´¯åŠ åœ¨æ­¤ï¼Œæœ€åæ±‚å¹³å‡ï¼Œæ‰€ä»¥åˆå§‹åŒ–ä¸º0ã€‚</p><p>åœ¨ä¸Šè¿°çš„æ¢¯åº¦ä¸‹é™ç®—æ³•ä¸­ï¼Œæˆ‘ä»¬æ˜¯åˆ©ç”¨forå¾ªç¯å¯¹æ¯ä¸ªæ ·æœ¬è¿›è¡Œ<span class="math inline">\(dw_1\)</span>ï¼Œ<span class="math inline">\(dw_2\)</span>å’Œ<span class="math inline">\(d_b\)</span>çš„ç´¯åŠ è®¡ç®—æœ€åå†æ±‚å¹³å‡æ•°çš„ã€‚</p><p>åœ¨æ·±åº¦å­¦ä¹ ä¸­ï¼Œæ ·æœ¬æ•°é‡mé€šå¸¸å¾ˆå¤§ï¼Œä½¿ç”¨forå¾ªç¯ä¼šè®©ç¥ç»ç½‘ç»œç¨‹åºè¿è¡Œå¾—å¾ˆæ…¢ã€‚</p><p>æ‰€ä»¥ï¼Œæˆ‘ä»¬åº”è¯¥å°½é‡é¿å…ä½¿ç”¨forå¾ªç¯æ“ä½œï¼Œè€Œä½¿ç”¨çŸ©é˜µè¿ç®—ï¼Œèƒ½å¤Ÿå¤§å¤§æé«˜ç¨‹åºè¿è¡Œé€Ÿåº¦ã€‚</p><h1 id="å‘é‡åŒ–vectorization">2.9 å‘é‡åŒ–(Vectorization)</h1><p>æ·±åº¦å­¦ä¹ ç®—æ³•ä¸­ï¼Œæ•°æ®é‡å¾ˆå¤§ï¼Œåœ¨ç¨‹åºä¸­åº”è¯¥å°½é‡å‡å°‘ä½¿ç”¨å¾ªç¯è¯­å¥ï¼Œè€Œå¯ä»¥ä½¿ç”¨å‘é‡è¿ç®—æ¥æé«˜ç¨‹åºè¿è¡Œé€Ÿåº¦ã€‚</p><p>å‘é‡åŒ–ï¼ˆVectorizationï¼‰å°±æ˜¯åˆ©ç”¨çŸ©é˜µè¿ç®—çš„æ€æƒ³ï¼Œå¤§å¤§æé«˜è¿ç®—é€Ÿåº¦ã€‚</p><h1 id="å‘é‡åŒ–é€»è¾‘å›å½’vectorizing-logistic-regression">2.10 å‘é‡åŒ–é€»è¾‘å›å½’(Vectorizing Logistic Regression)</h1><p>æˆ‘ä»¬å‰é¢ä»‹ç»è¿‡ï¼Œæ•´ä¸ªè®­ç»ƒæ ·æœ¬æ„æˆçš„è¾“å…¥çŸ©é˜µXçš„ç»´åº¦æ˜¯ï¼ˆ<span class="math inline">\(n_{x}\)</span>ï¼Œmï¼‰ï¼Œæƒé‡çŸ©é˜µwçš„ç»´åº¦æ˜¯ï¼ˆ<span class="math inline">\(n_{x}\)</span>ï¼Œ1ï¼‰ï¼Œbæ˜¯ä¸€ä¸ªå¸¸æ•°å€¼ï¼Œè€Œæ•´ä¸ªè®­ç»ƒæ ·æœ¬æ„æˆçš„è¾“å‡ºçŸ©é˜µYçš„ç»´åº¦ä¸ºï¼ˆ1ï¼Œmï¼‰ã€‚</p><p>åˆ©ç”¨å‘é‡åŒ–çš„æ€æƒ³ï¼Œæ‰€æœ‰mä¸ªæ ·æœ¬çš„çº¿æ€§è¾“å‡ºZå¯ä»¥ç”¨çŸ©é˜µè¡¨ç¤ºï¼š <span class="math inline">\(Z=w^TX+b\)</span></p><p>åœ¨pythonçš„numpyåº“ä¸­å¯ä»¥å¦‚ä¸‹è¡¨ç¤ºï¼Œå…¶ä¸­ï¼Œw.Tè¡¨ç¤ºwçš„è½¬ç½®ã€‚</p><p><span class="math display">\[\begin{array}{rcl}Z&amp;=&amp;\text{np.dot(w. T, X)}&amp;+&amp;\text{b}\\\text{A}&amp;=&amp;\text{sigmoid(Z)}&amp;&amp;\end{array}\]</span> è¿™æ ·ï¼Œæˆ‘ä»¬å°±èƒ½å¤Ÿä½¿ç”¨å‘é‡åŒ–çŸ©é˜µè¿ç®—ä»£æ›¿forå¾ªç¯ï¼Œå¯¹æ‰€æœ‰mä¸ªæ ·æœ¬åŒæ—¶è¿ç®—ï¼Œå¤§å¤§æé«˜äº†è¿ç®—é€Ÿåº¦ã€‚</p><h1 id="å‘é‡åŒ–é€»è¾‘å›å½’çš„æ¢¯åº¦è®¡ç®—vectorizing-logistic-regressions-gradient">2.11 å‘é‡åŒ–é€»è¾‘å›å½’çš„æ¢¯åº¦è®¡ç®—ï¼ˆVectorizing Logistic Regression's Gradientï¼‰</h1><p>é€»è¾‘å›å½’ä¸­çš„æ¢¯åº¦ä¸‹é™ç®—æ³•å¦‚ä½•è½¬åŒ–ä¸ºå‘é‡åŒ–çš„çŸ©é˜µå½¢å¼ã€‚</p><p>å¯¹äºmä¸ªæ ·æœ¬ï¼Œ<span class="math inline">\(d_Z\)</span>çš„ç»´åº¦æ˜¯ (1, m), å¯è¡¨ç¤ºä¸ºï¼š</p><p><span class="math display">\[\begin{aligned}dZ=A-Y\end{aligned}\]</span></p><p><span class="math inline">\(d_b\)</span>å¯è¡¨ç¤ºä¸ºï¼š</p><p><span class="math display">\[db=\frac1m\sum_{i=1}^mdz^{(i)}\]</span></p><p><span class="math inline">\(d_w\)</span>å¯è¡¨ç¤ºä¸ºï¼š <span class="math display">\[dw=\frac1mX\cdot dZ^T\]</span> äºå•æ¬¡è¿­ä»£ï¼Œæ¢¯åº¦ä¸‹é™ç®—æ³•æµç¨‹å¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">Z = np. dot(w.T,X) + b<br>A = sigmoid (<span class="hljs-number">2</span>)<br>dZ =A - Y<br>dw = <span class="hljs-number">1</span>/m*np.dot(X,dZ.T) <br>db = <span class="hljs-number">1</span>/mç±³np. <span class="hljs-built_in">sum</span>(d2)<br><br>w = w - alpha*dw<br>b = b - alpha*db<br></code></pre></td></tr></table></figure><h1 id="å…³äº-pythonä¸numpyå‘é‡çš„ä½¿ç”¨æŠ€å·§a-note-on-python-or-numpy-vectors">2.12 å…³äº Pythonä¸numpyå‘é‡çš„ä½¿ç”¨æŠ€å·§ï¼ˆA note on python or numpy vectorsï¼‰</h1><p>pythonä¸­ï¼Œå¦‚æœæˆ‘ä»¬ç”¨ä¸‹åˆ—è¯­å¥æ¥å®šä¹‰ä¸€ä¸ªå‘é‡ï¼š <code>a = np.random.randn(5)</code></p><p>è¿™æ¡è¯­å¥ç”Ÿæˆçš„açš„ç»´åº¦æ˜¯(5ï¼Œ)ã€‚å®ƒæ—¢ä¸æ˜¯è¡Œå‘é‡ä¹Ÿä¸æ˜¯åˆ—å‘é‡ï¼Œæˆ‘ä»¬æŠŠaå«åšrankv1 arrayã€‚</p><p>è¿™ç§å®šä¹‰ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ã€‚ä¾‹å¦‚æˆ‘ä»¬å¯¹aè¿›è¡Œè½¬ç½®ï¼Œè¿˜æ˜¯ä¼šå¾—åˆ°aæœ¬èº«ã€‚</p><p>æ‰€ä»¥ï¼Œå¦‚æœæˆ‘ä»¬è¦å®šä¹‰(5,1)çš„åˆ—å‘é‡æˆ–è€…(1,5)çš„è¡Œå‘é‡ï¼Œæœ€å¥½ä½¿ç”¨ä¸‹æ¥æ ‡å‡†è¯­å¥ï¼Œé¿å…ä½¿ç”¨rank1 arrayã€‚</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-selector-tag">a</span> = np<span class="hljs-selector-class">.random</span><span class="hljs-selector-class">.randn</span>(<span class="hljs-number">5</span>,<span class="hljs-number">1</span>)<br><span class="hljs-selector-tag">b</span> = np<span class="hljs-selector-class">.random</span><span class="hljs-selector-class">.randn</span>(<span class="hljs-number">1</span>,<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure><p>é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨assertè¯­å¥å¯¹å‘é‡æˆ–æ•°ç»„çš„ç»´åº¦è¿›è¡Œåˆ¤æ–­ï¼Œä¾‹å¦‚ï¼š <code>assert(a.shape ==(5,1))</code></p><p>assertä¼šå¯¹å†…åµŒè¯­å¥è¿›è¡Œåˆ¤æ–­ï¼Œå³åˆ¤æ–­açš„ç»´åº¦æ˜¯ä¸æ˜¯(5,1)çš„ã€‚å¦‚æœä¸æ˜¯ï¼Œåˆ™ç¨‹åºåœ¨æ­¤å¤„åœæ­¢ã€‚</p><p>å¦å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨reshapeå‡½æ•°å¯¹æ•°ç»„è®¾å®šæ‰€éœ€çš„ç»´åº¦ï¼š <code>a.reshape((5,1))</code></p>]]></content>
    
    
    <categories>
      
      <category>æ·±åº¦å­¦ä¹ </category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
      <tag>æ·±åº¦å­¦ä¹ </tag>
      
      <tag>ç¥ç»ç½‘ç»œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æ·±åº¦å­¦ä¹ -Course1_Week1æ·±åº¦å­¦ä¹ å¼•è¨€</title>
    <link href="/2024/02/07/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-Course1-Week1%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%95%E8%A8%80/"/>
    <url>/2024/02/07/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0-Course1-Week1%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0%E5%BC%95%E8%A8%80/</url>
    
    <content type="html"><![CDATA[<p>ä¸»è¦ä»‹ç»ç¥ç»ç½‘ç»œçš„æ¦‚å¿µã€æ·±åº¦å­¦ä¹ å…´èµ·çš„åŸå› ã€è¯¾ç¨‹å†…å®¹ç­‰ï¼Œæ— ç¬”è®°å†…å®¹</p>]]></content>
    
    
    <categories>
      
      <category>æ·±åº¦å­¦ä¹ </category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
      <tag>æ·±åº¦å­¦ä¹ </tag>
      
      <tag>ç¥ç»ç½‘ç»œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å¤©çŒ«é‡å¤è´­ä¹°é¢„æµ‹-02æ•°æ®æ¢ç´¢</title>
    <link href="/2023/12/02/%E5%A4%A9%E7%8C%AB%E9%87%8D%E5%A4%8D%E8%B4%AD%E4%B9%B0%E9%A2%84%E6%B5%8B-02%E6%95%B0%E6%8D%AE%E6%8E%A2%E7%B4%A2/"/>
    <url>/2023/12/02/%E5%A4%A9%E7%8C%AB%E9%87%8D%E5%A4%8D%E8%B4%AD%E4%B9%B0%E9%A2%84%E6%B5%8B-02%E6%95%B0%E6%8D%AE%E6%8E%A2%E7%B4%A2/</url>
    
    <content type="html"><![CDATA[<h2 id="å·¥å…·å¯¼å…¥å’Œæ•°æ®è¯»å–">1 å·¥å…·å¯¼å…¥å’Œæ•°æ®è¯»å–</h2><h3 id="å·¥å…·å¯¼å…¥">å·¥å…·å¯¼å…¥</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats<br><br><span class="hljs-keyword">import</span> warnings<br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>)<br> <br>%matplotlib inline<br></code></pre></td></tr></table></figure><h3 id="æ•°æ®è¯»å–">æ•°æ®è¯»å–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-string">&quot;&quot;&quot;</span><br><span class="hljs-string">è¯»å–æ•°æ®é›†</span><br><span class="hljs-string">&quot;&quot;&quot;</span><br>test_data = pd.read_csv(<span class="hljs-string">&#x27;./data/data_format1/test_format1.csv&#x27;</span>)<br>train_data = pd.read_csv(<span class="hljs-string">&#x27;./data/data_format1/train_format1.csv&#x27;</span>)<br><br>user_info = pd.read_csv(<span class="hljs-string">&#x27;./data/data_format1/user_info_format1.csv&#x27;</span>)<br>user_log = pd.read_csv(<span class="hljs-string">&#x27;./data/data_format1/user_log_format1.csv&#x27;</span>)<br><br><span class="hljs-comment">#user_info = pd.read_csv(&#x27;./data_format1/user_info_format1.csv&#x27;).drop_duplicates()</span><br><span class="hljs-comment">#user_log = pd.read_csv(&#x27;./data_format1/user_log_format1.csv&#x27;).rename(columns=&#123;&quot;seller_id&quot;:&#x27;merchant_id&#x27;&#125;)</span><br><br></code></pre></td></tr></table></figure><h3 id="æ•°æ®é›†æ ·ä¾‹æŸ¥çœ‹">æ•°æ®é›†æ ·ä¾‹æŸ¥çœ‹</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">train_data.head(<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>user_id</th><th>merchant_id</th><th>label</th></tr></thead><tbody><tr><th>0</th><td>34176</td><td>3906</td><td>0</td></tr><tr><th>1</th><td>34176</td><td>121</td><td>0</td></tr><tr><th>2</th><td>34176</td><td>4356</td><td>1</td></tr><tr><th>3</th><td>34176</td><td>2217</td><td>0</td></tr><tr><th>4</th><td>230784</td><td>4818</td><td>0</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">test_data.head(<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>user_id</th><th>merchant_id</th><th>prob</th></tr></thead><tbody><tr><th>0</th><td>163968</td><td>4605</td><td>NaN</td></tr><tr><th>1</th><td>360576</td><td>1581</td><td>NaN</td></tr><tr><th>2</th><td>98688</td><td>1964</td><td>NaN</td></tr><tr><th>3</th><td>98688</td><td>3645</td><td>NaN</td></tr><tr><th>4</th><td>295296</td><td>3361</td><td>NaN</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">user_info.head(<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>user_id</th><th>age_range</th><th>gender</th></tr></thead><tbody><tr><th>0</th><td>376517</td><td>6.0</td><td>1.0</td></tr><tr><th>1</th><td>234512</td><td>5.0</td><td>0.0</td></tr><tr><th>2</th><td>344532</td><td>5.0</td><td>0.0</td></tr><tr><th>3</th><td>186135</td><td>5.0</td><td>0.0</td></tr><tr><th>4</th><td>30230</td><td>5.0</td><td>0.0</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">user_log.head(<span class="hljs-number">5</span>)<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>user_id</th><th>item_id</th><th>cat_id</th><th>seller_id</th><th>brand_id</th><th>time_stamp</th><th>action_type</th></tr></thead><tbody><tr><th>0</th><td>328862</td><td>323294</td><td>833</td><td>2882</td><td>2661.0</td><td>829</td><td>0</td></tr><tr><th>1</th><td>328862</td><td>844400</td><td>1271</td><td>2882</td><td>2661.0</td><td>829</td><td>0</td></tr><tr><th>2</th><td>328862</td><td>575153</td><td>1271</td><td>2882</td><td>2661.0</td><td>829</td><td>0</td></tr><tr><th>3</th><td>328862</td><td>996875</td><td>1271</td><td>2882</td><td>2661.0</td><td>829</td><td>0</td></tr><tr><th>4</th><td>328862</td><td>1086186</td><td>1271</td><td>1253</td><td>1049.0</td><td>829</td><td>0</td></tr></tbody></table></div><h2 id="å•å˜é‡æ•°æ®åˆ†æ">2 å•å˜é‡æ•°æ®åˆ†æ</h2><h3 id="æ•°æ®ç±»å‹å’Œæ•°æ®å¤§å°">2.1 æ•°æ®ç±»å‹å’Œæ•°æ®å¤§å°</h3><p><strong>ç”¨æˆ·ä¿¡æ¯æ•°æ®</strong></p><ol type="1"><li>æ•°æ®é›†ä¸­å…±æœ‰2ä¸ªfloat64ç±»å‹å’Œ1ä¸ªint64ç±»å‹çš„æ•°æ®</li><li>æ•°æ®å¤§å°9.7MB</li><li>æ•°æ®é›†å…±æœ‰424170æ¡æ•°æ®</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">user_info.info()<br></code></pre></td></tr></table></figure><pre><code class="hljs">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;RangeIndex: 424170 entries, 0 to 424169Data columns (total 3 columns): #   Column     Non-Null Count   Dtype  ---  ------     --------------   -----   0   user_id    424170 non-null  int64   1   age_range  421953 non-null  float64 2   gender     417734 non-null  float64dtypes: float64(2), int64(1)memory usage: 9.7 MB</code></pre><p><strong>ç”¨æˆ·è¡Œä¸ºæ•°æ®</strong></p><ol type="1"><li>æ•°æ®é›†ä¸­å…±æœ‰6ä¸ªint64ç±»å‹å’Œ1ä¸ªfloat64ç±»å‹çš„æ•°æ®</li><li>æ•°æ®å¤§å°2.9GB</li><li>æ•°æ®é›†å…±æœ‰54925330æ¡æ•°æ®</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">user_log.info()<br></code></pre></td></tr></table></figure><pre><code class="hljs">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;RangeIndex: 54925330 entries, 0 to 54925329Data columns (total 7 columns): #   Column       Dtype  ---  ------       -----   0   user_id      int64   1   item_id      int64   2   cat_id       int64   3   seller_id    int64   4   brand_id     float64 5   time_stamp   int64   6   action_type  int64  dtypes: float64(1), int64(6)memory usage: 2.9 GB</code></pre><p><strong>ç”¨æˆ·è´­ä¹°è®­ç»ƒæ•°æ®</strong></p><ol type="1"><li>æ•°æ®å‡ä¸ºint64ç±»å‹</li><li>æ•°æ®å¤§å°6MB</li><li>æ•°æ®é›†å…±æœ‰260864æ¡æ•°æ®</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">train_data.info()<br></code></pre></td></tr></table></figure><pre><code class="hljs">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;RangeIndex: 260864 entries, 0 to 260863Data columns (total 3 columns): #   Column       Non-Null Count   Dtype---  ------       --------------   ----- 0   user_id      260864 non-null  int64 1   merchant_id  260864 non-null  int64 2   label        260864 non-null  int64dtypes: int64(3)memory usage: 6.0 MB</code></pre><h3 id="ç¼ºå¤±å€¼æŸ¥çœ‹">2.2 ç¼ºå¤±å€¼æŸ¥çœ‹</h3><p>ä½¿ç”¨Pandasä¸­count()å‡½æ•°åŠshape()å‡½æ•°è¿›è¡Œç»Ÿè®¡ï¼šcount()å‡½æ•°å¯ä»¥ç»Ÿè®¡ä¸ä¸ºç©ºæ•°æ®çš„ä¸ªæ•°ï¼›shape()å‡½æ•°åˆ™å¯ä»¥ç»Ÿè®¡æ•°æ®æ ·æœ¬çš„ä¸ªæ•°ï¼›å°†shape()å‡½æ•°ä¸count()å‡½æ•°åšå·®å°±å¯ä»¥å¾—åˆ°æ•°æ®çš„ç¼ºå¤±ä¸ªæ•°ï¼Œå†ç”¨ç¼ºå¤±çš„ä¸ªæ•°é™¤ä»¥æ ·æœ¬çš„ä¸ªæ•°æ¥è®¡ç®—æ ·æœ¬ä¸­æ­¤å­—æ®µçš„ç¼ºå¤±ç‡ã€‚</p><p><strong>ï¼ˆ1ï¼‰ç”¨æˆ·ä¿¡æ¯æ•°æ®ç¼ºå¤±ï¼Œå¹´é¾„å€¼ç¼ºå¤±æƒ…å†µ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">(user_info.shape[<span class="hljs-number">0</span>]-user_info[<span class="hljs-string">&#x27;age_range&#x27;</span>].count())/user_info.shape[<span class="hljs-number">0</span>]<br></code></pre></td></tr></table></figure><pre><code class="hljs">0.005226677982884221</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">user_info[user_info[<span class="hljs-string">&#x27;age_range&#x27;</span>].isna() | (user_info[<span class="hljs-string">&#x27;age_range&#x27;</span>] == <span class="hljs-number">0</span>)].count()<br></code></pre></td></tr></table></figure><pre><code class="hljs">user_id      95131age_range    92914gender       90664dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">user_info.groupby([<span class="hljs-string">&#x27;age_range&#x27;</span>])[[<span class="hljs-string">&#x27;user_id&#x27;</span>]].count()<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>user_id</th></tr><tr><th>age_range</th><th></th></tr></thead><tbody><tr><th>0.0</th><td>92914</td></tr><tr><th>1.0</th><td>24</td></tr><tr><th>2.0</th><td>52871</td></tr><tr><th>3.0</th><td>111654</td></tr><tr><th>4.0</th><td>79991</td></tr><tr><th>5.0</th><td>40777</td></tr><tr><th>6.0</th><td>35464</td></tr><tr><th>7.0</th><td>6992</td></tr><tr><th>8.0</th><td>1266</td></tr></tbody></table></div><ol type="1"><li>å¹´é¾„å€¼ä¸ºç©ºçš„ç¼ºå¤±ç‡ä¸º0.5%</li><li>å¹´é¾„å€¼ç¼ºå¤±æˆ–è€…å¹´é¾„å€¼é»˜è®¤ä¸º0æ—¶ï¼Œå¯è®¤ä¸ºæ•°æ®ç¼ºå¤±</li><li>æœ‰ç¼ºå¤±å€¼çš„æ•°æ®å…±è®¡95131æ¡æ•°æ®</li></ol><p><strong>ï¼ˆ2ï¼‰æŸ¥çœ‹æ€§åˆ«ç¼ºå¤±æƒ…å†µ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">(user_info.shape[<span class="hljs-number">0</span>]-user_info[<span class="hljs-string">&#x27;gender&#x27;</span>].count())/user_info.shape[<span class="hljs-number">0</span>]<br></code></pre></td></tr></table></figure><pre><code class="hljs">0.01517316170403376</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">user_info[user_info[<span class="hljs-string">&#x27;gender&#x27;</span>].isna() | (user_info[<span class="hljs-string">&#x27;gender&#x27;</span>] == <span class="hljs-number">2</span>)].count()<br></code></pre></td></tr></table></figure><pre><code class="hljs">user_id      16862age_range    14664gender       10426dtype: int64</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">user_info.groupby([<span class="hljs-string">&#x27;gender&#x27;</span>])[[<span class="hljs-string">&#x27;user_id&#x27;</span>]].count()<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>user_id</th></tr><tr><th>gender</th><th></th></tr></thead><tbody><tr><th>0.0</th><td>285638</td></tr><tr><th>1.0</th><td>121670</td></tr><tr><th>2.0</th><td>10426</td></tr></tbody></table></div><ol type="1"><li><p>æ€§åˆ«å€¼ä¸ºç©ºçš„ç¼ºå¤±ç‡ 1.5%</p></li><li><p>å½“æ€§åˆ«å€¼ç¼ºå¤±æˆ–è€…æ€§åˆ«å€¼é»˜è®¤ä¸º2æ—¶ï¼Œå¯è®¤ä¸ºè¯¥æ•°æ®ç¼ºå¤±</p></li><li><p>æœ‰ç¼ºå¤±å€¼çš„æ•°æ®å…±è®¡16862æ¡æ•°æ®</p></li></ol><p><strong>ï¼ˆ3ï¼‰æŸ¥çœ‹å¹´é¾„æˆ–è€…æ€§åˆ«å…¶ä¸­æœ‰ä¸€ä¸ªæœ‰ç¼ºå¤±çš„æƒ…å†µ</strong></p><p>å…±è®¡106330æ¡æ•°æ®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">user_info[user_info[<span class="hljs-string">&#x27;age_range&#x27;</span>].isna() | (user_info[<span class="hljs-string">&#x27;age_range&#x27;</span>] == <span class="hljs-number">0</span>) | user_info[<span class="hljs-string">&#x27;gender&#x27;</span>].isna() | (user_info[<span class="hljs-string">&#x27;gender&#x27;</span>] == <span class="hljs-number">2</span>)].count()<br></code></pre></td></tr></table></figure><pre><code class="hljs">user_id      106330age_range    104113gender        99894dtype: int64</code></pre><p><strong>ï¼ˆ4ï¼‰ç”¨æˆ·è¡Œä¸ºæ—¥å¿—ä¿¡æ¯</strong></p><p>brand_idå­—æ®µæœ‰91015æ¡ç¼ºå¤±æ•°æ®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">user_log.isna().<span class="hljs-built_in">sum</span>()<br></code></pre></td></tr></table></figure><pre><code class="hljs">user_id            0item_id            0cat_id             0seller_id          0brand_id       91015time_stamp         0action_type        0dtype: int64</code></pre><h2 id="è§‚å¯Ÿæ•°æ®åˆ†å¸ƒ">3 è§‚å¯Ÿæ•°æ®åˆ†å¸ƒ</h2><h3 id="æ•´ä½“æ•°æ®ç»Ÿè®¡ä¿¡æ¯">3.1 æ•´ä½“æ•°æ®ç»Ÿè®¡ä¿¡æ¯</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">user_info.describe()<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>user_id</th><th>age_range</th><th>gender</th></tr></thead><tbody><tr><th>count</th><td>424170.000000</td><td>421953.000000</td><td>417734.000000</td></tr><tr><th>mean</th><td>212085.500000</td><td>2.930262</td><td>0.341179</td></tr><tr><th>std</th><td>122447.476178</td><td>1.942978</td><td>0.524112</td></tr><tr><th>min</th><td>1.000000</td><td>0.000000</td><td>0.000000</td></tr><tr><th>25%</th><td>106043.250000</td><td>2.000000</td><td>0.000000</td></tr><tr><th>50%</th><td>212085.500000</td><td>3.000000</td><td>0.000000</td></tr><tr><th>75%</th><td>318127.750000</td><td>4.000000</td><td>1.000000</td></tr><tr><th>max</th><td>424170.000000</td><td>8.000000</td><td>2.000000</td></tr></tbody></table></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">user_log.describe()<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>user_id</th><th>item_id</th><th>cat_id</th><th>seller_id</th><th>brand_id</th><th>time_stamp</th><th>action_type</th></tr></thead><tbody><tr><th>count</th><td>5.492533e+07</td><td>5.492533e+07</td><td>5.492533e+07</td><td>5.492533e+07</td><td>5.483432e+07</td><td>5.492533e+07</td><td>5.492533e+07</td></tr><tr><th>mean</th><td>2.121568e+05</td><td>5.538613e+05</td><td>8.770308e+02</td><td>2.470941e+03</td><td>4.153348e+03</td><td>9.230953e+02</td><td>2.854458e-01</td></tr><tr><th>std</th><td>1.222872e+05</td><td>3.221459e+05</td><td>4.486269e+02</td><td>1.473310e+03</td><td>2.397679e+03</td><td>1.954305e+02</td><td>8.075806e-01</td></tr><tr><th>min</th><td>1.000000e+00</td><td>1.000000e+00</td><td>1.000000e+00</td><td>1.000000e+00</td><td>1.000000e+00</td><td>5.110000e+02</td><td>0.000000e+00</td></tr><tr><th>25%</th><td>1.063360e+05</td><td>2.731680e+05</td><td>5.550000e+02</td><td>1.151000e+03</td><td>2.027000e+03</td><td>7.300000e+02</td><td>0.000000e+00</td></tr><tr><th>50%</th><td>2.126540e+05</td><td>5.555290e+05</td><td>8.210000e+02</td><td>2.459000e+03</td><td>4.065000e+03</td><td>1.010000e+03</td><td>0.000000e+00</td></tr><tr><th>75%</th><td>3.177500e+05</td><td>8.306890e+05</td><td>1.252000e+03</td><td>3.760000e+03</td><td>6.196000e+03</td><td>1.109000e+03</td><td>0.000000e+00</td></tr><tr><th>max</th><td>4.241700e+05</td><td>1.113166e+06</td><td>1.671000e+03</td><td>4.995000e+03</td><td>8.477000e+03</td><td>1.112000e+03</td><td>3.000000e+00</td></tr></tbody></table></div><h3 id="æŸ¥çœ‹æ­£è´Ÿæ ·æœ¬çš„åˆ†å¸ƒå¹¶å¯è§†åŒ–">3.2æŸ¥çœ‹æ­£è´Ÿæ ·æœ¬çš„åˆ†å¸ƒå¹¶å¯è§†åŒ–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">label_gp = train_data.groupby(<span class="hljs-string">&#x27;label&#x27;</span>)[<span class="hljs-string">&#x27;user_id&#x27;</span>].count()<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æ­£è´Ÿæ ·æœ¬çš„æ•°é‡ï¼š\n&#x27;</span>,label_gp)<br>_,axe = plt.subplots(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,figsize=(<span class="hljs-number">12</span>,<span class="hljs-number">6</span>))<br>train_data.label.value_counts().plot(kind=<span class="hljs-string">&#x27;pie&#x27;</span>,autopct=<span class="hljs-string">&#x27;%1.1f%%&#x27;</span>,shadow=<span class="hljs-literal">True</span>,explode=[<span class="hljs-number">0</span>,<span class="hljs-number">0.1</span>],ax=axe[<span class="hljs-number">0</span>])<br>sns.countplot(x=<span class="hljs-string">&#x27;label&#x27;</span>,data=train_data,ax=axe[<span class="hljs-number">1</span>],)<br></code></pre></td></tr></table></figure><pre><code class="hljs">æ­£è´Ÿæ ·æœ¬çš„æ•°é‡ï¼š label0    2449121     15952Name: user_id, dtype: int64&lt;AxesSubplot:xlabel=&#39;label&#39;, ylabel=&#39;count&#39;&gt;</code></pre><p><img src="/img/å¤©çŒ«é‡å¤è´­ä¹°é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_37_2.png" /></p><p>ä»ä¸Šå›¾å¯ä»¥çœ‹å‡ºï¼Œæ ·æœ¬çš„åˆ†å¸ƒä¸å‡è¡¡ï¼Œéœ€è¦é‡‡å–ä¸€å®šçš„æªæ–½å¤„ç†æ ·æœ¬ä¸å‡è¡¡çš„é—®é¢˜ï¼š</p><ul><li>ç±»ä¼¼æ¬ é‡‡æ ·,å°†ä¸€ä»½æ­£æ ·æœ¬å’Œå¤šåˆ†è´Ÿæ ·æœ¬ç»„åˆæˆå¤šåˆ†è®­ç»ƒé›†,è®­ç»ƒå¤šä¸ªæ¨¡å‹åæ±‚å¹³å‡</li><li>è°ƒæ•´æ¨¡å‹çš„æƒé‡</li></ul><h4 id="ä»£ç è§£é‡Š">ä»£ç è§£é‡Š</h4><ol type="1"><li><code>_, axe = plt.subplots(1, 2, figsize=(12, 6))</code>: åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå­å›¾çš„ç”»å¸ƒï¼Œå¹¶å°†å…¶è¿”å›ç»™ <code>_</code> å’Œ <code>axe</code>ã€‚è¿™é‡Œä½¿ç”¨äº† <code>plt.subplots()</code> æ–¹æ³•åˆ›å»ºç”»å¸ƒï¼Œå‚æ•° <code>1, 2</code> è¡¨ç¤ºå­å›¾çš„è¡Œæ•°å’Œåˆ—æ•°ï¼Œ<code>figsize=(12, 6)</code> è®¾ç½®äº†ç”»å¸ƒçš„å¤§å°ä¸º 12x6ã€‚</li></ol><p><code>plt.subplots()</code> æ–¹æ³•è¿”å›ä¸€ä¸ªåŒ…å«å­å›¾çš„ç”»å¸ƒå¯¹è±¡å’Œå­å›¾å¯¹è±¡çš„å…ƒç»„ã€‚<code>_</code> æ˜¯ç”¨æ¥å¿½ç•¥ç”»å¸ƒå¯¹è±¡çš„å˜é‡åï¼Œè€Œ <code>axe</code> æ˜¯ç”¨æ¥å­˜å‚¨å­å›¾å¯¹è±¡çš„å˜é‡åã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬åªå¯¹å­å›¾å¯¹è±¡è¿›è¡Œæ“ä½œå’Œå¼•ç”¨ï¼Œå› æ­¤å°†å…¶èµ‹å€¼ç»™ <code>axe</code> å˜é‡ä»¥ä¾¿åç»­ä½¿ç”¨ã€‚</p><ol start="2" type="1"><li><code>train_data.label.value_counts().plot(kind='pie', autopct='%1.1f%%', shadow=True, explode=[0, 0.1], ax=axe[0])</code>: é’ˆå¯¹ <code>train_data</code> æ•°æ®é›†ä¸­çš„ <code>label</code> åˆ—è¿›è¡Œè®¡æ•°ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªé¥¼å›¾ã€‚<code>value_counts()</code> æ–¹æ³•ç”¨äºè®¡ç®—æ¯ä¸ª label çš„å‡ºç°æ¬¡æ•°ï¼Œ<code>plot()</code> æ–¹æ³•ç”¨äºç»˜åˆ¶é¥¼å›¾ã€‚<code>kind='pie'</code> è®¾ç½®å›¾è¡¨ç±»å‹ä¸ºé¥¼å›¾ï¼Œ<code>autopct='%1.1f%%'</code> è®¾ç½®é¥¼å›¾ä¸­æ¯ä¸ªéƒ¨åˆ†çš„ç™¾åˆ†æ¯”æ˜¾ç¤ºæ ¼å¼ï¼Œ<code>shadow=True</code> æ·»åŠ é˜´å½±æ•ˆæœï¼Œ<code>explode=[0, 0.1]</code> è¡¨ç¤ºå°†ç¬¬äºŒä¸ª label åˆ†å‰²å‡ºæ¥ä»¥çªå‡ºæ˜¾ç¤ºï¼Œ<code>ax=axe[0]</code> æŒ‡å®šç»˜åˆ¶åœ¨ç¬¬ä¸€ä¸ªå­å›¾ä¸Šã€‚</li></ol><p><code>explode=[0, 0.1]</code> æ˜¯è®¾ç½®é¥¼å›¾ä¸­å„ä¸ªæ‰‡å½¢åˆ†ç¦»çš„ç¨‹åº¦çš„å‚æ•°ã€‚<code>explode</code> å‚æ•°æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ ä»£è¡¨å¯¹åº”æ‰‡å½¢ä¸åœ†å¿ƒçš„è·ç¦»ï¼ˆä»¥åŠå¾„ä¸ºå•ä½ï¼‰ã€‚å…·ä½“æ¥è¯´ï¼Œ<code>[0, 0.1]</code> è¡¨ç¤ºç¬¬ä¸€ä¸ªæ‰‡å½¢ä¸åˆ†ç¦»ï¼ˆä¸åœ†å¿ƒè·ç¦»ä¸º0ï¼‰ï¼Œè€Œç¬¬äºŒä¸ªæ‰‡å½¢ä¸åœ†å¿ƒåˆ†ç¦»å‡ºä¸€ä¸ªç›¸å¯¹åŠå¾„ä¸º0.1çš„è·ç¦»ã€‚é€šè¿‡è®¾ç½®ä¸åŒçš„ <code>explode</code> å‚æ•°ï¼Œå¯ä»¥å®ç°çªå‡ºæ˜¾ç¤ºæŸäº›æ‰‡å½¢çš„æ•ˆæœï¼Œä½¿å…¶å‡¸å‡ºæˆ–åˆ†ç¦»å‡ºæ¥ä»¥å¼ºè°ƒé‡è¦æ€§æˆ–åŒºåˆ†åº¦ã€‚åœ¨è¿™æ®µä»£ç ä¸­ï¼Œé€šè¿‡ <code>explode=[0, 0.1]</code> çš„è®¾å®šï¼Œä½¿å¾—é¥¼å›¾ä¸­çš„ç¬¬äºŒä¸ª label æ‰‡å½¢ç›¸å¯¹äºåœ†å¿ƒç¨å¾®åˆ†ç¦»å‡ºæ¥ã€‚</p><ol start="3" type="1"><li><code>sns.countplot('label', data=train_data, ax=axe[1])</code>: ä½¿ç”¨ seaborn åº“çš„ <code>countplot()</code> æ–¹æ³•ç»˜åˆ¶æŸ±çŠ¶å›¾ã€‚è¯¥æ–¹æ³•ç”¨äºæ˜¾ç¤ºæŸä¸ªå˜é‡ï¼ˆåœ¨è¿™é‡Œæ˜¯ <code>label</code> åˆ—ï¼‰çš„é¢‘æ•°ã€‚<code>'label'</code> æ˜¯æŒ‡å®šè¦ç»˜åˆ¶çš„å˜é‡åç§°ï¼Œ<code>data=train_data</code> æŒ‡å®šæ•°æ®æ¥æºä¸º <code>train_data</code> æ•°æ®é›†ï¼Œ<code>ax=axe[1]</code> æŒ‡å®šç»˜åˆ¶åœ¨ç¬¬äºŒä¸ªå­å›¾ä¸Šã€‚</li></ol><h2 id="æ¢æŸ¥å½±å“å¤è´­çš„å„ç§å› ç´ ">4 æ¢æŸ¥å½±å“å¤è´­çš„å„ç§å› ç´ </h2><p>æ¢æŸ¥åº—é“ºã€ç”¨æˆ·ã€æ€§åˆ«ä»¥åŠå¹´é¾„å¯¹å¤è´­çš„å½±å“</p><h3 id="å¯¹åº—é“ºåˆ†æ">4.1 å¯¹åº—é“ºåˆ†æ</h3><p><strong>ï¼ˆ1ï¼‰åˆ†æä¸åŒåº—é“ºä¸å¤è´­å…³ç³»ï¼Œå¹¶å¯è§†åŒ–å±•ç¤º</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;é€‰å–top5åº—é“º\nåº—é“º\tè´­ä¹°æ¬¡æ•°&#x27;</span>)<br><span class="hljs-built_in">print</span>(train_data.merchant_id.value_counts().head(<span class="hljs-number">5</span>))<br>train_data_merchant = train_data.copy()<br>train_data_merchant[<span class="hljs-string">&#x27;TOP5&#x27;</span>] = train_data_merchant[<span class="hljs-string">&#x27;merchant_id&#x27;</span>].<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> x <span class="hljs-keyword">in</span> [<span class="hljs-number">4044</span>,<span class="hljs-number">3828</span>,<span class="hljs-number">4173</span>,<span class="hljs-number">1102</span>,<span class="hljs-number">4976</span>] <span class="hljs-keyword">else</span> <span class="hljs-number">0</span>)<br>train_data_merchant = train_data_merchant[train_data_merchant[<span class="hljs-string">&#x27;TOP5&#x27;</span>]==<span class="hljs-number">1</span>]<br>plt.figure(figsize=(<span class="hljs-number">8</span>,<span class="hljs-number">6</span>))<br>plt.title(<span class="hljs-string">&#x27;Merchant VS Label&#x27;</span>)<br>ax = sns.countplot(x=<span class="hljs-string">&#x27;merchant_id&#x27;</span>,hue=<span class="hljs-string">&#x27;label&#x27;</span>,data=train_data_merchant)<br><span class="hljs-comment">#for p in ax.patches:</span><br>    <span class="hljs-comment">#height = p.get_height()</span><br></code></pre></td></tr></table></figure><pre><code class="hljs">é€‰å–top5åº—é“ºåº—é“º  è´­ä¹°æ¬¡æ•°4044    33793828    32544173    25421102    24834976    1925Name: merchant_id, dtype: int64</code></pre><p><img src="/img/å¤©çŒ«é‡å¤è´­ä¹°é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_43_1.png" /></p><p>ä»å›¾å¯ä»¥çœ‹å‡ºä¸åŒåº—é“ºæœ‰ä¸åŒå¤è´­ç‡ï¼Œå¯èƒ½ä¸ä¸åŒåº—é“ºå”®å–çš„å•†å“æœ‰å…³ï¼Œä»¥åŠåº—é“ºçš„è¿è¥æœ‰å…³ã€‚</p><h4 id="ä»£ç è§£é‡Š-1">ä»£ç è§£é‡Š</h4><p>1ã€</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">train_data_merchant[<span class="hljs-string">&#x27;TOP5&#x27;</span>] = train_data_merchant[<span class="hljs-string">&#x27;merchant_id&#x27;</span>].<span class="hljs-built_in">map</span>(<span class="hljs-keyword">lambda</span> x: <span class="hljs-number">1</span> <span class="hljs-keyword">if</span> x <span class="hljs-keyword">in</span> [<span class="hljs-number">4044</span>, <span class="hljs-number">3828</span>, <span class="hljs-number">4173</span>, <span class="hljs-number">1102</span>, <span class="hljs-number">4976</span>] <span class="hljs-keyword">else</span> <span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><ul><li><code>train_data_merchant['TOP5']</code>ï¼šä½¿ç”¨ <code>train_data_merchant</code> æ•°æ®é›†çš„ç´¢å¼•æ“ä½œç¬¦ <code>[]</code>ï¼Œé€‰æ‹© <code>train_data_merchant</code> æ•°æ®é›†çš„åˆ— <code>'TOP5'</code>ã€‚</li><li><code>train_data_merchant['merchant_id']</code>ï¼šé€‰æ‹© <code>train_data_merchant</code> æ•°æ®é›†ä¸­çš„ <code>'merchant_id'</code> åˆ—ã€‚</li><li><code>.map(lambda x: 1 if x in [4044, 3828, 4173, 1102, 4976] else 0)</code>ï¼šä½¿ç”¨ <code>map()</code> å‡½æ•°å¯¹ <code>'merchant_id'</code> åˆ—ä¸­çš„æ¯ä¸ªå€¼åº”ç”¨ lambda å‡½æ•°è¿›è¡Œæ˜ å°„ã€‚å¦‚æœè¯¥å€¼åœ¨ <code>[4044, 3828, 4173, 1102, 4976]</code> ä¸­ï¼Œåˆ™æ˜ å°„ä¸º 1ï¼Œå¦åˆ™ä¸º 0ã€‚</li><li>æœ€åï¼Œå°†å¾—åˆ°çš„æ˜ å°„ç»“æœèµ‹å€¼ç»™ <code>'TOP5'</code> åˆ—ï¼Œä»è€Œå®ç°äº†å¯¹ <code>train_data_merchant</code> æ•°æ®é›†çš„æ–°åˆ—çš„æ·»åŠ ã€‚</li></ul><p>2ã€<code>lambda</code></p><ol type="1"><li><p><code>lambda x:</code>ï¼šè¡¨ç¤ºåˆ›å»ºåŒ¿åå‡½æ•°ï¼Œè€Œ <code>x</code> æ˜¯åŒ¿åå‡½æ•°çš„å‚æ•°ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œ<code>x</code> ç”¨äºè¡¨ç¤º <code>merchant_id</code> åˆ—ä¸­çš„æ¯ä¸ªå€¼ã€‚</p></li><li><p><code>1 if x in [4044, 3828, 4173, 1102, 4976] else 0</code>ï¼šè¿™æ˜¯ä¸€ä¸ªæ¡ä»¶è¡¨è¾¾å¼ï¼Œå®ƒæ ¹æ® <code>x</code> æ˜¯å¦åœ¨ <code>[4044, 3828, 4173, 1102, 4976]</code> åˆ—è¡¨ä¸­è¿”å›ç›¸åº”çš„å€¼ã€‚</p><ul><li><p>å¦‚æœ <code>x</code> çš„å€¼åœ¨åˆ—è¡¨ <code>[4044, 3828, 4173, 1102, 4976]</code> ä¸­ï¼Œæ¡ä»¶æˆç«‹ï¼Œè¿”å›ç»“æœä¸º 1ã€‚</p></li><li><p>å¦‚æœ <code>x</code> çš„å€¼ä¸åœ¨åˆ—è¡¨ä¸­ï¼Œæ¡ä»¶ä¸æˆç«‹ï¼Œè¿”å›ç»“æœä¸º 0ã€‚</p></li></ul></li><li><p><code>train_data_merchant['merchant_id'].map(lambda x: 1 if x in [4044, 3828, 4173, 1102, 4976] else 0)</code>ï¼šè¿™è¡Œä»£ç å°† <code>lambda</code> å‡½æ•°åº”ç”¨äº <code>merchant_id</code> åˆ—ä¸­çš„æ¯ä¸ªå€¼ï¼Œå¹¶é€šè¿‡ <code>map()</code> å‡½æ•°å°†æ˜ å°„ç»“æœèµ‹å€¼ç»™ <code>TOP5</code> åˆ—ã€‚</p><ul><li><p>å¯¹äº <code>merchant_id</code> åˆ—ä¸­çš„æ¯ä¸ªå€¼ <code>x</code>ï¼Œ<code>lambda</code> å‡½æ•°æ ¹æ®æ¡ä»¶è¡¨è¾¾å¼è¿”å›ç›¸åº”ç»“æœã€‚</p></li><li><p>æœ€ç»ˆï¼Œ <code>TOP5</code> åˆ—å°†åŒ…å«ç›¸åº”çš„æ˜ å°„ç»“æœï¼Œ1 è¡¨ç¤º <code>merchant_id</code> å€¼åœ¨ <code>[4044, 3828, 4173, 1102, 4976]</code> ä¸­ï¼Œ0 è¡¨ç¤ºä¸åœ¨å…¶ä¸­ã€‚</p></li></ul></li></ol><p><strong>ï¼ˆ2ï¼‰æŸ¥çœ‹åº—é“ºå¤è´­æ¦‚ç‡åˆ†å¸ƒ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">merchant_repeat_buy = [ rate <span class="hljs-keyword">for</span> rate <span class="hljs-keyword">in</span> train_data.groupby([<span class="hljs-string">&#x27;merchant_id&#x27;</span>])[<span class="hljs-string">&#x27;label&#x27;</span>].mean() <span class="hljs-keyword">if</span> rate &lt;= <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> rate &gt; <span class="hljs-number">0</span>] <br><br>plt.figure(figsize=(<span class="hljs-number">8</span>,<span class="hljs-number">4</span>))<br>ax=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)<br>sns.distplot(merchant_repeat_buy, fit=stats.norm)<br>ax=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)<br>res = stats.probplot(merchant_repeat_buy, plot=plt)<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å¤©çŒ«é‡å¤è´­ä¹°é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_48_0.png" /> â€‹</p><p>è¿™ä¸¤å¹…å›¾åˆ†åˆ«æ˜¯æ¦‚ç‡å¯†åº¦å›¾å’Œæ¦‚ç‡å›¾ï¼Œåæ˜ äº†åº—é“ºçš„å¤è´­æ¦‚ç‡åˆ†å¸ƒæƒ…å†µã€‚å¯ä»¥çœ‹å‡ºä¸åŒåº—é“ºæœ‰ä¸åŒå¤è´­ç‡ï¼Œå¤§è‡´åœ¨0-0.3ä¹‹é—´</p><p>å…¶ä¸­ï¼Œæ¦‚ç‡å¯†åº¦å›¾åæ˜ äº†å¤è´­æ¦‚ç‡çš„åˆ†å¸ƒå½¢æ€ï¼Œä»¥åŠæ˜¯å¦æ»¡è¶³æ­£æ€åˆ†å¸ƒå‡è®¾ã€‚å¦‚æœæ¦‚ç‡å¯†åº¦å›¾æ¥è¿‘æ­£æ€åˆ†å¸ƒæ›²çº¿ï¼Œåˆ™è¯´æ˜å¤è´­æ¦‚ç‡åˆ†å¸ƒç¬¦åˆæ­£æ€åˆ†å¸ƒå‡è®¾ï¼Œå¦åˆ™è¯´æ˜åˆ†å¸ƒå½¢æ€å¯èƒ½å­˜åœ¨åå·®æˆ–è€…å¼‚å¸¸å€¼ã€‚</p><p>æ¦‚ç‡å›¾åˆ™åæ˜ äº†å¤è´­æ¦‚ç‡çš„æ•°å€¼èŒƒå›´å’Œåˆ†å¸ƒæƒ…å†µï¼ŒåŒ…æ‹¬å››åˆ†ä½æ•°ã€ä¸­ä½æ•°ã€æœ€å¤§å€¼ã€æœ€å°å€¼ç­‰ä¿¡æ¯ï¼Œå¯ä»¥å¸®åŠ©æˆ‘ä»¬æ›´ç›´è§‚åœ°äº†è§£åº—é“ºå¤è´­æ¦‚ç‡çš„æ•´ä½“æƒ…å†µå’Œåˆ†å¸ƒç‰¹å¾ã€‚åŒæ—¶ï¼Œé€šè¿‡æ¯”è¾ƒä¸åŒåº—é“ºçš„æ¦‚ç‡å›¾ï¼Œå¯ä»¥çœ‹å‡ºä¸åŒåº—é“ºçš„å¤è´­æ¦‚ç‡åˆ†å¸ƒæƒ…å†µæ˜¯å¦å­˜åœ¨æ˜æ˜¾å·®å¼‚ã€‚</p><h4 id="ä»£ç è§£é‡Š-2">ä»£ç è§£é‡Š</h4><p><code>train_data.groupby(['merchant_id'])['label'].mean()</code></p><p>è¿™è¡Œä»£ç å¯¹ <code>train_data</code> æ•°æ®é›†è¿›è¡Œäº†åˆ†ç»„æ“ä½œï¼Œå¹¶è®¡ç®—äº†æ¯ä¸ª <code>merchant_id</code> å¯¹åº”çš„ <code>label</code> åˆ—çš„å‡å€¼ã€‚</p><ol type="1"><li><p><code>train_data.groupby(['merchant_id'])</code>ï¼šè¿™éƒ¨åˆ†ä»£ç ä½¿ç”¨ <code>groupby()</code> å‡½æ•°å°†æ•°æ®é›†æŒ‰ç…§ <code>merchant_id</code> åˆ—è¿›è¡Œåˆ†ç»„ã€‚</p><ul><li><p><code>groupby()</code> ç”¨äºæŒ‰ç…§æŒ‡å®šçš„åˆ—å¯¹æ•°æ®è¿›è¡Œåˆ†ç»„ã€‚</p></li><li><p><code>['merchant_id']</code> å‚æ•°æŒ‡å®šæ ¹æ®å“ªä¸€åˆ—è¿›è¡Œåˆ†ç»„ã€‚</p></li></ul></li><li><p><code>['label'].mean()</code>ï¼šè¿™éƒ¨åˆ†ä»£ç åœ¨åˆ†ç»„åçš„ç»“æœä¸Šï¼Œé€‰æ‹©äº† <code>label</code> åˆ—ï¼Œå¹¶è°ƒç”¨ <code>mean()</code> æ–¹æ³•è®¡ç®—äº†å‡å€¼ã€‚</p><ul><li><p><code>['label']</code> è¡¨ç¤ºä»åˆ†ç»„ç»“æœä¸­é€‰æ‹©äº† <code>label</code> åˆ—ã€‚</p></li><li><p><code>.mean()</code> æ˜¯ pandas çš„ä¸€ä¸ªæ–¹æ³•ï¼Œè®¡ç®—äº†é€‰å®šåˆ—çš„å‡å€¼ã€‚</p></li></ul></li></ol><p>æœ€ç»ˆï¼Œè¿™è¡Œä»£ç å°†è¿”å›ä¸€ä¸ªä»¥ <code>merchant_id</code> ä¸ºç´¢å¼•çš„ Series å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«æ¯ä¸ª <code>merchant_id</code> å¯¹åº”çš„ <code>label</code> åˆ—çš„å‡å€¼ã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœæœ‰ä»¥ä¸‹æ•°æ®ï¼š</p><figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">merchant_id</span>   label<br>    <span class="hljs-attribute">M1</span>          <span class="hljs-number">1</span><br>    <span class="hljs-attribute">M1</span>          <span class="hljs-number">0</span><br>    <span class="hljs-attribute">M2</span>          <span class="hljs-number">0</span><br>    <span class="hljs-attribute">M2</span>          <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>é‚£ä¹ˆæ‰§è¡Œ <code>train_data.groupby(['merchant_id'])['label'].mean()</code> çš„ç»“æœå°†æ˜¯ï¼š</p><figure class="highlight erlang"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs erlang">merchant_id<br>    M1       <span class="hljs-number">0.5</span><br>    M2       <span class="hljs-number">0.5</span><br>    ...<br></code></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ<code>M1</code> å¯¹åº”çš„å‡å€¼ä¸º <code>0.5</code>ï¼Œ<code>M2</code> å¯¹åº”çš„å‡å€¼ä¹Ÿä¸º <code>0.5</code>ã€‚</p><h3 id="å¯¹ç”¨æˆ·åˆ†æ">4.2 å¯¹ç”¨æˆ·åˆ†æ</h3><p>æŸ¥çœ‹ç”¨æˆ·å¤è´­ç‡åˆ†å¸ƒ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">user_repeat_buy = [rate <span class="hljs-keyword">for</span> rate <span class="hljs-keyword">in</span> train_data.groupby([<span class="hljs-string">&#x27;user_id&#x27;</span>])[<span class="hljs-string">&#x27;label&#x27;</span>].mean() <span class="hljs-keyword">if</span> rate &lt;= <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> rate &gt; <span class="hljs-number">0</span>] <br><br>plt.figure(figsize=(<span class="hljs-number">8</span>,<span class="hljs-number">6</span>))<br>ax=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)<br>sns.distplot(user_repeat_buy, fit=stats.norm)<br>ax=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)<br>res = stats.probplot(user_repeat_buy, plot=plt)<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å¤©çŒ«é‡å¤è´­ä¹°é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_53_0.png" /> â€‹</p><p>å¯ä»¥çœ‹å‡ºè¿‘6ä¸ªæœˆï¼Œç”¨æˆ·å¤è´­ç‡å¾ˆå°ï¼ŒåŸºæœ¬ä¹°ä¸€æ¬¡ä¸ºä¸»</p><h3 id="å¯¹ç”¨æˆ·æ€§åˆ«åˆ†æ">4.3 å¯¹ç”¨æˆ·æ€§åˆ«åˆ†æ</h3><p><strong>ï¼ˆ1ï¼‰åˆ†æç”¨æˆ·æ€§åˆ«ä¸å¤è´­çš„å…³ç³»</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">train_data_user_info = train_data.merge(user_info,on=[<span class="hljs-string">&#x27;user_id&#x27;</span>],how=<span class="hljs-string">&#x27;left&#x27;</span>)<br><br>plt.figure(figsize=(<span class="hljs-number">8</span>,<span class="hljs-number">8</span>))<br>plt.title(<span class="hljs-string">&#x27;Gender VS Label&#x27;</span>)<br>ax = sns.countplot(x=<span class="hljs-string">&#x27;gender&#x27;</span>,hue=<span class="hljs-string">&#x27;label&#x27;</span>,data=train_data_user_info)<br><span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> ax.patches:<br>    height = p.get_height()<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å¤©çŒ«é‡å¤è´­ä¹°é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_57_0.png" /> â€‹</p><h4 id="ä»£ç è§£é‡Š-3">ä»£ç è§£é‡Š</h4><p><code>train_data_user_info = train_data.merge(user_info,on=['user_id'],how='left')</code></p><p>å°† <code>train_data</code> æ•°æ®é›†å’Œ <code>user_info</code> ç”¨æˆ·ä¿¡æ¯æ•°æ®é›†æŒ‰ç…§ <code>user_id</code> è¿›è¡Œå·¦è¿æ¥ï¼ˆleft joinï¼‰æ“ä½œï¼Œå°†ä¸¤ä¸ªæ•°æ®é›†ä¸­çš„æ‰€æœ‰è¡ŒæŒ‰ç…§ <code>user_id</code> è¿›è¡ŒåŒ¹é…ï¼Œå°†åŒ¹é…æˆåŠŸçš„è¡Œåˆå¹¶åˆ°ä¸€èµ·ã€‚</p><p>å…¶ä¸­ <code>train_data</code> å’Œ <code>user_info</code> åˆ†åˆ«è¡¨ç¤ºè¦è¿›è¡Œè¿æ¥çš„ä¸¤ä¸ªæ•°æ®é›†ï¼Œ<code>on=['user_id']</code> æŒ‡å®šè¿æ¥é”®ä¸º <code>user_id</code> åˆ—ï¼Œ<code>how='left'</code> æŒ‡å®šè¿æ¥æ–¹å¼ä¸ºå·¦è¿æ¥ï¼ˆå³ä»¥ <code>train_data</code> æ•°æ®é›†ä¸ºåŸºç¡€è¿›è¡Œè¿æ¥ï¼Œå°† <code>user_info</code> æ•°æ®é›†ä¸­åŒ¹é…ä¸ä¸Šçš„è¡Œå¡«å……ä¸ºç¼ºå¤±å€¼ï¼‰ã€‚æœ€ç»ˆï¼Œè¯¥ä»£ç å°†æ–°ç”Ÿæˆä¸€ä¸ªåŒ…å«ç”¨æˆ·ä¿¡æ¯çš„ <code>train_data_user_info</code> æ•°æ®é›†ã€‚</p><p><strong>(2)æŸ¥çœ‹ç”¨æˆ·æ€§åˆ«å¤è´­çš„åˆ†å¸ƒ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">repeat_buy = [rate <span class="hljs-keyword">for</span> rate <span class="hljs-keyword">in</span> train_data_user_info.groupby([<span class="hljs-string">&#x27;gender&#x27;</span>])[<span class="hljs-string">&#x27;label&#x27;</span>].mean()] <br><br>plt.figure(figsize=(<span class="hljs-number">8</span>,<span class="hljs-number">4</span>))<br><br>ax=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)<br>sns.distplot(repeat_buy, fit=stats.norm)<br>ax=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)<br>res = stats.probplot(repeat_buy, plot=plt)<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å¤©çŒ«é‡å¤è´­ä¹°é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_61_0.png" /> â€‹</p><p>å¯ä»¥çœ‹å‡ºç”·å¥³çš„å¤è´­ç‡ä¸ä¸€æ ·</p><p>â€‹</p><h3 id="å¯¹ç”¨æˆ·å¹´é¾„åˆ†æ">4.3 å¯¹ç”¨æˆ·å¹´é¾„åˆ†æ</h3><p><strong>ï¼ˆ1ï¼‰æŸ¥çœ‹ç”¨æˆ·å¹´é¾„ä¸å¤è´­çš„å…³ç³»</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.figure(figsize=(<span class="hljs-number">8</span>,<span class="hljs-number">8</span>))<br>plt.title(<span class="hljs-string">&#x27;Age VS Label&#x27;</span>)<br>ax = sns.countplot(x=<span class="hljs-string">&#x27;age_range&#x27;</span>,hue=<span class="hljs-string">&#x27;label&#x27;</span>,data=train_data_user_info)<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å¤©çŒ«é‡å¤è´­ä¹°é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_65_0.png" /> â€‹</p><p><strong>(2)æŸ¥çœ‹ç”¨æˆ·å¹´é¾„å¤è´­çš„åˆ†å¸ƒ</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">repeat_buy = [rate <span class="hljs-keyword">for</span> rate <span class="hljs-keyword">in</span> train_data_user_info.groupby([<span class="hljs-string">&#x27;age_range&#x27;</span>])[<span class="hljs-string">&#x27;label&#x27;</span>].mean()] <br><br>plt.figure(figsize=(<span class="hljs-number">8</span>,<span class="hljs-number">4</span>))<br><br>ax=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)<br>sns.distplot(repeat_buy, fit=stats.norm)<br>ax=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)<br>res = stats.probplot(repeat_buy, plot=plt)<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å¤©çŒ«é‡å¤è´­ä¹°é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_68_0.png" /> â€‹</p><p>å¯ä»¥çœ‹å‡ºä¸åŒå¹´é¾„æ®µï¼Œå¤è´­æ¦‚ç‡ä¸åŒ</p>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ å®æˆ˜å…¥é—¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å·¥ä¸šè’¸æ±½é¢„æµ‹-èµ›é¢˜å®Œæ•´ä»£ç åˆ†äº«</title>
    <link href="/2023/09/28/%E5%B7%A5%E4%B8%9A%E8%92%B8%E6%B1%BD%E9%A2%84%E6%B5%8B-%E8%B5%9B%E9%A2%98%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%E5%88%86%E4%BA%AB/"/>
    <url>/2023/09/28/%E5%B7%A5%E4%B8%9A%E8%92%B8%E6%B1%BD%E9%A2%84%E6%B5%8B-%E8%B5%9B%E9%A2%98%E5%AE%8C%E6%95%B4%E4%BB%A3%E7%A0%81%E5%88%86%E4%BA%AB/</url>
    
    <content type="html"><![CDATA[<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> warnings<br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>)<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br>plt.rcParams.update(&#123;<span class="hljs-string">&#x27;figure.max_open_warning&#x27;</span>: <span class="hljs-number">0</span>&#125;)<br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><br><span class="hljs-comment"># modelling</span><br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> GridSearchCV, RepeatedKFold, cross_val_score,cross_val_predict,KFold<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> make_scorer,mean_squared_error<br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LinearRegression, Lasso, Ridge, ElasticNet<br><span class="hljs-keyword">from</span> sklearn.svm <span class="hljs-keyword">import</span> LinearSVR, SVR<br><span class="hljs-keyword">from</span> sklearn.neighbors <span class="hljs-keyword">import</span> KNeighborsRegressor<br><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> RandomForestRegressor, GradientBoostingRegressor,AdaBoostRegressor<br><span class="hljs-keyword">from</span> xgboost <span class="hljs-keyword">import</span> XGBRegressor<br><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> PolynomialFeatures,MinMaxScaler,StandardScaler<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#load_dataset</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;/kaggle/input/industrial-steam/zhengqi_train.txt&quot;</span>)  <span class="hljs-keyword">as</span> fr: <span class="hljs-comment"># /kaggle/input/industrial-steam/zhengqi_train.txt</span><br>    data_train=pd.read_table(fr,sep=<span class="hljs-string">&quot;\t&quot;</span>)<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;/kaggle/input/industrial-steam/zhengqi_test.txt&quot;</span>) <span class="hljs-keyword">as</span> fr_test:<br>    data_test=pd.read_table(fr_test,sep=<span class="hljs-string">&quot;\t&quot;</span>)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#merge train_set and test_set</span><br>data_train[<span class="hljs-string">&quot;oringin&quot;</span>]=<span class="hljs-string">&quot;train&quot;</span><br>data_test[<span class="hljs-string">&quot;oringin&quot;</span>]=<span class="hljs-string">&quot;test&quot;</span><br>data_all=pd.concat([data_train,data_test],axis=<span class="hljs-number">0</span>,ignore_index=<span class="hljs-literal">True</span>)<br><span class="hljs-comment">#View data</span><br>data_all.head()<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Explore feature distibution </span><br><span class="hljs-comment">#fig = plt.figure(figsize=(6, 6))</span><br><span class="hljs-keyword">for</span> column <span class="hljs-keyword">in</span> data_all.columns[<span class="hljs-number">0</span>:-<span class="hljs-number">2</span>]:<br>    g = sns.kdeplot(data_all[column][(data_all[<span class="hljs-string">&quot;oringin&quot;</span>] == <span class="hljs-string">&quot;train&quot;</span>)], color=<span class="hljs-string">&quot;Red&quot;</span>, shade = <span class="hljs-literal">True</span>)<br>    g = sns.kdeplot(data_all[column][(data_all[<span class="hljs-string">&quot;oringin&quot;</span>] == <span class="hljs-string">&quot;test&quot;</span>)], ax =g, color=<span class="hljs-string">&quot;Blue&quot;</span>, shade= <span class="hljs-literal">True</span>)<br>    g.set_xlabel(column)<br>    g.set_ylabel(<span class="hljs-string">&quot;Frequency&quot;</span>)<br>    g = g.legend([<span class="hljs-string">&quot;train&quot;</span>,<span class="hljs-string">&quot;test&quot;</span>])<br>    plt.show()<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">fig = plt.figure(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">10</span>))<br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-built_in">len</span>(data_all.columns)-<span class="hljs-number">2</span>):<br>    g = sns.FacetGrid(data_all, col=<span class="hljs-string">&#x27;oringin&#x27;</span>)<br>    g = g.<span class="hljs-built_in">map</span>(sns.distplot, data_all.columns[i])<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#åˆ é™¤ç‰¹å¾&quot;V5&quot;,&quot;V9&quot;,&quot;V11&quot;,&quot;V17&quot;,&quot;V22&quot;,&quot;V28&quot;ï¼Œè®­ç»ƒé›†å’Œæµ‹è¯•é›†åˆ†å¸ƒä¸å‡</span><br><span class="hljs-keyword">for</span> column <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;V5&quot;</span>,<span class="hljs-string">&quot;V9&quot;</span>,<span class="hljs-string">&quot;V11&quot;</span>,<span class="hljs-string">&quot;V17&quot;</span>,<span class="hljs-string">&quot;V22&quot;</span>,<span class="hljs-string">&quot;V28&quot;</span>]:<br>    g = sns.kdeplot(data_all[column][(data_all[<span class="hljs-string">&quot;oringin&quot;</span>] == <span class="hljs-string">&quot;train&quot;</span>)], color=<span class="hljs-string">&quot;Red&quot;</span>, shade = <span class="hljs-literal">True</span>)<br>    g = sns.kdeplot(data_all[column][(data_all[<span class="hljs-string">&quot;oringin&quot;</span>] == <span class="hljs-string">&quot;test&quot;</span>)], ax =g, color=<span class="hljs-string">&quot;Blue&quot;</span>, shade= <span class="hljs-literal">True</span>)<br>    g.set_xlabel(column)<br>    g.set_ylabel(<span class="hljs-string">&quot;Frequency&quot;</span>)<br>    g = g.legend([<span class="hljs-string">&quot;train&quot;</span>,<span class="hljs-string">&quot;test&quot;</span>])<br>    plt.show()<br><br>data_all.drop([<span class="hljs-string">&quot;V5&quot;</span>,<span class="hljs-string">&quot;V9&quot;</span>,<span class="hljs-string">&quot;V11&quot;</span>,<span class="hljs-string">&quot;V17&quot;</span>,<span class="hljs-string">&quot;V22&quot;</span>,<span class="hljs-string">&quot;V28&quot;</span>],axis=<span class="hljs-number">1</span>,inplace=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># figure parameters</span><br>data_train1=data_all[data_all[<span class="hljs-string">&quot;oringin&quot;</span>]==<span class="hljs-string">&quot;train&quot;</span>].drop(<span class="hljs-string">&quot;oringin&quot;</span>,axis=<span class="hljs-number">1</span>)<br><br>fcols = <span class="hljs-number">2</span><br>frows = <span class="hljs-built_in">len</span>(data_train.columns)<br>plt.figure(figsize=(<span class="hljs-number">5</span>*fcols,<span class="hljs-number">4</span>*frows))<br><br>i=<span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> data_train1.columns:<br>    i+=<span class="hljs-number">1</span><br>    ax=plt.subplot(frows,fcols,i)<br>    sns.regplot(x=col, y=<span class="hljs-string">&#x27;target&#x27;</span>, data=data_train, ax=ax, <br>                scatter_kws=&#123;<span class="hljs-string">&#x27;marker&#x27;</span>:<span class="hljs-string">&#x27;.&#x27;</span>,<span class="hljs-string">&#x27;s&#x27;</span>:<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;alpha&#x27;</span>:<span class="hljs-number">0.3</span>&#125;,<br>                line_kws=&#123;<span class="hljs-string">&#x27;color&#x27;</span>:<span class="hljs-string">&#x27;k&#x27;</span>&#125;);<br>    plt.xlabel(col)<br>    plt.ylabel(<span class="hljs-string">&#x27;target&#x27;</span>)<br>    <br>    i+=<span class="hljs-number">1</span><br>    ax=plt.subplot(frows,fcols,i)<br>    sns.distplot(data_train[col].dropna() , fit=stats.norm)<br>    plt.xlabel(col)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ‰¾å‡ºç›¸å…³ç¨‹åº¦</span><br>plt.figure(figsize=(<span class="hljs-number">20</span>, <span class="hljs-number">16</span>))  <span class="hljs-comment"># æŒ‡å®šç»˜å›¾å¯¹è±¡å®½åº¦å’Œé«˜åº¦</span><br>colnm = data_train1.columns.tolist()  <span class="hljs-comment"># åˆ—è¡¨å¤´</span><br>mcorr = data_train1[colnm].corr(method=<span class="hljs-string">&quot;spearman&quot;</span>)  <span class="hljs-comment"># ç›¸å…³ç³»æ•°çŸ©é˜µï¼Œå³ç»™å‡ºäº†ä»»æ„ä¸¤ä¸ªå˜é‡ä¹‹é—´çš„ç›¸å…³ç³»æ•°</span><br>mask = np.zeros_like(mcorr, dtype=np.<span class="hljs-built_in">bool</span>)  <span class="hljs-comment"># æ„é€ ä¸mcorråŒç»´æ•°çŸ©é˜µ ä¸ºboolå‹</span><br>mask[np.triu_indices_from(mask)] = <span class="hljs-literal">True</span>  <span class="hljs-comment"># è§’åˆ†çº¿å³ä¾§ä¸ºTrue</span><br>cmap = sns.diverging_palette(<span class="hljs-number">220</span>, <span class="hljs-number">10</span>, as_cmap=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># è¿”å›matplotlib colormapå¯¹è±¡</span><br>g = sns.heatmap(mcorr, mask=mask, cmap=cmap, square=<span class="hljs-literal">True</span>, annot=<span class="hljs-literal">True</span>, fmt=<span class="hljs-string">&#x27;0.2f&#x27;</span>)  <span class="hljs-comment"># çƒ­åŠ›å›¾ï¼ˆçœ‹ä¸¤ä¸¤ç›¸ä¼¼åº¦ï¼‰</span><br>plt.show()<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Threshold for removing correlated variables</span><br>threshold = <span class="hljs-number">0.1</span><br><br><span class="hljs-comment"># Absolute value correlation matrix</span><br>corr_matrix = data_train1.corr().<span class="hljs-built_in">abs</span>()<br>drop_col=corr_matrix[corr_matrix[<span class="hljs-string">&quot;target&quot;</span>]&lt;threshold].index<br>data_all.drop(drop_col,axis=<span class="hljs-number">1</span>,inplace=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># normalise numeric columns</span><br>cols_numeric=<span class="hljs-built_in">list</span>(data_all.columns)<br>cols_numeric.remove(<span class="hljs-string">&quot;oringin&quot;</span>)<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">scale_minmax</span>(<span class="hljs-params">col</span>):<br>    <span class="hljs-keyword">return</span> (col-col.<span class="hljs-built_in">min</span>())/(col.<span class="hljs-built_in">max</span>()-col.<span class="hljs-built_in">min</span>())<br>scale_cols = [col <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> cols_numeric <span class="hljs-keyword">if</span> col!=<span class="hljs-string">&#x27;target&#x27;</span>]<br>data_all[scale_cols] = data_all[scale_cols].apply(scale_minmax,axis=<span class="hljs-number">0</span>)<br>data_all[scale_cols].describe()<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#Check effect of Box-Cox transforms on distributions of continuous variables</span><br><br>fcols = <span class="hljs-number">6</span><br>frows = <span class="hljs-built_in">len</span>(cols_numeric)-<span class="hljs-number">1</span><br>plt.figure(figsize=(<span class="hljs-number">4</span>*fcols,<span class="hljs-number">4</span>*frows))<br>i=<span class="hljs-number">0</span><br><br><span class="hljs-keyword">for</span> var <span class="hljs-keyword">in</span> cols_numeric:<br>    <span class="hljs-keyword">if</span> var!=<span class="hljs-string">&#x27;target&#x27;</span>:<br>        dat = data_all[[var, <span class="hljs-string">&#x27;target&#x27;</span>]].dropna()<br>        <br>        i+=<span class="hljs-number">1</span><br>        plt.subplot(frows,fcols,i)<br>        sns.distplot(dat[var] , fit=stats.norm);<br>        plt.title(var+<span class="hljs-string">&#x27; Original&#x27;</span>)<br>        plt.xlabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <br>        i+=<span class="hljs-number">1</span><br>        plt.subplot(frows,fcols,i)<br>        _=stats.probplot(dat[var], plot=plt)<br>        plt.title(<span class="hljs-string">&#x27;skew=&#x27;</span>+<span class="hljs-string">&#x27;&#123;:.4f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(stats.skew(dat[var])))<br>        plt.xlabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        plt.ylabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <br>        i+=<span class="hljs-number">1</span><br>        plt.subplot(frows,fcols,i)<br>        plt.plot(dat[var], dat[<span class="hljs-string">&#x27;target&#x27;</span>],<span class="hljs-string">&#x27;.&#x27;</span>,alpha=<span class="hljs-number">0.5</span>)<br>        plt.title(<span class="hljs-string">&#x27;corr=&#x27;</span>+<span class="hljs-string">&#x27;&#123;:.2f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(np.corrcoef(dat[var], dat[<span class="hljs-string">&#x27;target&#x27;</span>])[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]))<br> <br>        i+=<span class="hljs-number">1</span><br>        plt.subplot(frows,fcols,i)<br>        trans_var, lambda_var = stats.boxcox(dat[var].dropna()+<span class="hljs-number">1</span>)<br>        trans_var = scale_minmax(trans_var)      <br>        sns.distplot(trans_var , fit=stats.norm);<br>        plt.title(var+<span class="hljs-string">&#x27; Tramsformed&#x27;</span>)<br>        plt.xlabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <br>        i+=<span class="hljs-number">1</span><br>        plt.subplot(frows,fcols,i)<br>        _=stats.probplot(trans_var, plot=plt)<br>        plt.title(<span class="hljs-string">&#x27;skew=&#x27;</span>+<span class="hljs-string">&#x27;&#123;:.4f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(stats.skew(trans_var)))<br>        plt.xlabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        plt.ylabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <br>        i+=<span class="hljs-number">1</span><br>        plt.subplot(frows,fcols,i)<br>        plt.plot(trans_var, dat[<span class="hljs-string">&#x27;target&#x27;</span>],<span class="hljs-string">&#x27;.&#x27;</span>,alpha=<span class="hljs-number">0.5</span>)<br>        plt.title(<span class="hljs-string">&#x27;corr=&#x27;</span>+<span class="hljs-string">&#x27;&#123;:.2f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(np.corrcoef(trans_var,dat[<span class="hljs-string">&#x27;target&#x27;</span>])[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]))<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">cols_transform=data_all.columns[<span class="hljs-number">0</span>:-<span class="hljs-number">2</span>]<br><span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> cols_transform:   <br>    <span class="hljs-comment"># transform column</span><br>    data_all.loc[:,col], _ = stats.boxcox(data_all.loc[:,col]+<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(data_all.target.describe())<br><br>plt.figure(figsize=(<span class="hljs-number">12</span>,<span class="hljs-number">4</span>))<br>plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)<br>sns.distplot(data_all.target.dropna() , fit=stats.norm);<br>plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)<br>_=stats.probplot(data_all.target.dropna(), plot=plt)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#Log Transform SalePrice to improve normality</span><br>sp = data_train.target<br>data_train.target1 =np.power(<span class="hljs-number">1.5</span>,sp)<br><span class="hljs-built_in">print</span>(data_train.target1.describe())<br><br>plt.figure(figsize=(<span class="hljs-number">12</span>,<span class="hljs-number">4</span>))<br>plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)<br>sns.distplot(data_train.target1.dropna(),fit=stats.norm);<br>plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)<br>_=stats.probplot(data_train.target1.dropna(), plot=plt)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> column <span class="hljs-keyword">in</span> data_all.columns[<span class="hljs-number">0</span>:-<span class="hljs-number">2</span>]:<br>    g = sns.kdeplot(data_all[column][(data_all[<span class="hljs-string">&quot;oringin&quot;</span>] == <span class="hljs-string">&quot;train&quot;</span>)], color=<span class="hljs-string">&quot;Red&quot;</span>, shade = <span class="hljs-literal">True</span>)<br>    g = sns.kdeplot(data_all[column][(data_all[<span class="hljs-string">&quot;oringin&quot;</span>] == <span class="hljs-string">&quot;test&quot;</span>)], ax =g, color=<span class="hljs-string">&quot;Blue&quot;</span>, shade= <span class="hljs-literal">True</span>)<br>    g.set_xlabel(column)<br>    g.set_ylabel(<span class="hljs-string">&quot;Frequency&quot;</span>)<br>    g = g.legend([<span class="hljs-string">&quot;train&quot;</span>,<span class="hljs-string">&quot;test&quot;</span>])<br>    plt.show()<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># function to get training samples</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_training_data</span>():<br>    <span class="hljs-comment"># extract training samples</span><br>    <span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br>    df_train = data_all[data_all[<span class="hljs-string">&quot;oringin&quot;</span>]==<span class="hljs-string">&quot;train&quot;</span>]<br>    df_train[<span class="hljs-string">&quot;label&quot;</span>]=data_train.target1<br>    <span class="hljs-comment"># split SalePrice and features</span><br>    y = df_train.target<br>    X = df_train.drop([<span class="hljs-string">&quot;oringin&quot;</span>,<span class="hljs-string">&quot;target&quot;</span>,<span class="hljs-string">&quot;label&quot;</span>],axis=<span class="hljs-number">1</span>)<br>    X_train,X_valid,y_train,y_valid=train_test_split(X,y,test_size=<span class="hljs-number">0.3</span>,random_state=<span class="hljs-number">100</span>)<br>    <span class="hljs-keyword">return</span> X_train,X_valid,y_train,y_valid<br><br><span class="hljs-comment"># extract test data (without SalePrice)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_test_data</span>():<br>    df_test = data_all[data_all[<span class="hljs-string">&quot;oringin&quot;</span>]==<span class="hljs-string">&quot;test&quot;</span>].reset_index(drop=<span class="hljs-literal">True</span>)<br>    <span class="hljs-keyword">return</span> df_test.drop([<span class="hljs-string">&quot;oringin&quot;</span>,<span class="hljs-string">&quot;target&quot;</span>],axis=<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> make_scorer<br><span class="hljs-comment"># metric for evaluation</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">rmse</span>(<span class="hljs-params">y_true, y_pred</span>):<br>    diff = y_pred - y_true<br>    sum_sq = <span class="hljs-built_in">sum</span>(diff**<span class="hljs-number">2</span>)    <br>    n = <span class="hljs-built_in">len</span>(y_pred)   <br>    <br>    <span class="hljs-keyword">return</span> np.sqrt(sum_sq/n)<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">mse</span>(<span class="hljs-params">y_ture,y_pred</span>):<br>    <span class="hljs-keyword">return</span> mean_squared_error(y_ture,y_pred)<br><br><span class="hljs-comment"># scorer to be used in sklearn model fitting</span><br>rmse_scorer = make_scorer(rmse, greater_is_better=<span class="hljs-literal">False</span>)<br>mse_scorer = make_scorer(mse, greater_is_better=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># function to detect outliers based on the predictions of a model</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">find_outliers</span>(<span class="hljs-params">model, X, y, sigma=<span class="hljs-number">3</span></span>):<br><br>    <span class="hljs-comment"># predict y values using model</span><br>    <span class="hljs-keyword">try</span>:<br>        y_pred = pd.Series(model.predict(X), index=y.index)<br>    <span class="hljs-comment"># if predicting fails, try fitting the model first</span><br>    <span class="hljs-keyword">except</span>:<br>        model.fit(X,y)<br>        y_pred = pd.Series(model.predict(X), index=y.index)<br>        <br>    <span class="hljs-comment"># calculate residuals between the model prediction and true y values</span><br>    resid = y - y_pred<br>    mean_resid = resid.mean()<br>    std_resid = resid.std()<br><br>    <span class="hljs-comment"># calculate z statistic, define outliers to be where |z|&gt;sigma</span><br>    z = (resid - mean_resid)/std_resid    <br>    outliers = z[<span class="hljs-built_in">abs</span>(z)&gt;sigma].index<br>    <br>    <span class="hljs-comment"># print and plot the results</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;R2=&#x27;</span>,model.score(X,y))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;rmse=&#x27;</span>,rmse(y, y_pred))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;mse=&quot;</span>,mean_squared_error(y,y_pred))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;---------------------------------------&#x27;</span>)<br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;mean of residuals:&#x27;</span>,mean_resid)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;std of residuals:&#x27;</span>,std_resid)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;---------------------------------------&#x27;</span>)<br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(outliers),<span class="hljs-string">&#x27;outliers:&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(outliers.tolist())<br><br>    plt.figure(figsize=(<span class="hljs-number">15</span>,<span class="hljs-number">5</span>))<br>    ax_131 = plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>)<br>    plt.plot(y,y_pred,<span class="hljs-string">&#x27;.&#x27;</span>)<br>    plt.plot(y.loc[outliers],y_pred.loc[outliers],<span class="hljs-string">&#x27;ro&#x27;</span>)<br>    plt.legend([<span class="hljs-string">&#x27;Accepted&#x27;</span>,<span class="hljs-string">&#x27;Outlier&#x27;</span>])<br>    plt.xlabel(<span class="hljs-string">&#x27;y&#x27;</span>)<br>    plt.ylabel(<span class="hljs-string">&#x27;y_pred&#x27;</span>);<br><br>    ax_132=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>)<br>    plt.plot(y,y-y_pred,<span class="hljs-string">&#x27;.&#x27;</span>)<br>    plt.plot(y.loc[outliers],y.loc[outliers]-y_pred.loc[outliers],<span class="hljs-string">&#x27;ro&#x27;</span>)<br>    plt.legend([<span class="hljs-string">&#x27;Accepted&#x27;</span>,<span class="hljs-string">&#x27;Outlier&#x27;</span>])<br>    plt.xlabel(<span class="hljs-string">&#x27;y&#x27;</span>)<br>    plt.ylabel(<span class="hljs-string">&#x27;y - y_pred&#x27;</span>);<br><br>    ax_133=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>)<br>    z.plot.hist(bins=<span class="hljs-number">50</span>,ax=ax_133)<br>    z.loc[outliers].plot.hist(color=<span class="hljs-string">&#x27;r&#x27;</span>,bins=<span class="hljs-number">50</span>,ax=ax_133)<br>    plt.legend([<span class="hljs-string">&#x27;Accepted&#x27;</span>,<span class="hljs-string">&#x27;Outlier&#x27;</span>])<br>    plt.xlabel(<span class="hljs-string">&#x27;z&#x27;</span>)<br>    <br>    plt.savefig(<span class="hljs-string">&#x27;outliers.png&#x27;</span>)<br>    <br>    <span class="hljs-keyword">return</span> outliers<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># get training data</span><br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> Ridge<br>X_train, X_valid,y_train,y_valid = get_training_data()<br>test=get_test_data()<br><br><span class="hljs-comment"># find and remove outliers using a Ridge model</span><br>outliers = find_outliers(Ridge(), X_train, y_train)<br><br><span class="hljs-comment"># permanently remove these outliers from the data</span><br><span class="hljs-comment">#df_train = data_all[data_all[&quot;oringin&quot;]==&quot;train&quot;]</span><br><span class="hljs-comment">#df_train[&quot;label&quot;]=data_train.target1</span><br><span class="hljs-comment">#df_train=df_train.drop(outliers)</span><br>X_outliers=X_train.loc[outliers]<br>y_outliers=y_train.loc[outliers]<br>X_t=X_train.drop(outliers)<br>y_t=y_train.drop(outliers)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_trainning_data_omitoutliers</span>():<br>    y1=y_t.copy()<br>    X1=X_t.copy()<br>    <span class="hljs-keyword">return</span> X1,y1<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> StandardScaler<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">train_model</span>(<span class="hljs-params">model, param_grid=[], X=[], y=[], </span><br><span class="hljs-params">                splits=<span class="hljs-number">5</span>, repeats=<span class="hljs-number">5</span></span>):<br><br>    <span class="hljs-comment"># get unmodified training data, unless data to use already specified</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(y)==<span class="hljs-number">0</span>:<br>        X,y = get_trainning_data_omitoutliers()<br>        <span class="hljs-comment">#poly_trans=PolynomialFeatures(degree=2)</span><br>        <span class="hljs-comment">#X=poly_trans.fit_transform(X)</span><br>        <span class="hljs-comment">#X=MinMaxScaler().fit_transform(X)</span><br>    <br>    <span class="hljs-comment"># create cross-validation method</span><br>    rkfold = RepeatedKFold(n_splits=splits, n_repeats=repeats)<br>    <br>    <span class="hljs-comment"># perform a grid search if param_grid given</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(param_grid)&gt;<span class="hljs-number">0</span>:<br>        <span class="hljs-comment"># setup grid search parameters</span><br>        gsearch = GridSearchCV(model, param_grid, cv=rkfold,<br>                               scoring=<span class="hljs-string">&quot;neg_mean_squared_error&quot;</span>,<br>                               verbose=<span class="hljs-number">1</span>, return_train_score=<span class="hljs-literal">True</span>)<br><br>        <span class="hljs-comment"># search the grid</span><br>        gsearch.fit(X,y)<br><br>        <span class="hljs-comment"># extract best model from the grid</span><br>        model = gsearch.best_estimator_        <br>        best_idx = gsearch.best_index_<br><br>        <span class="hljs-comment"># get cv-scores for best model</span><br>        grid_results = pd.DataFrame(gsearch.cv_results_)       <br>        cv_mean = <span class="hljs-built_in">abs</span>(grid_results.loc[best_idx,<span class="hljs-string">&#x27;mean_test_score&#x27;</span>])<br>        cv_std = grid_results.loc[best_idx,<span class="hljs-string">&#x27;std_test_score&#x27;</span>]<br><br>    <span class="hljs-comment"># no grid search, just cross-val score for given model    </span><br>    <span class="hljs-keyword">else</span>:<br>        grid_results = []<br>        cv_results = cross_val_score(model, X, y, scoring=<span class="hljs-string">&quot;neg_mean_squared_error&quot;</span>, cv=rkfold)<br>        cv_mean = <span class="hljs-built_in">abs</span>(np.mean(cv_results))<br>        cv_std = np.std(cv_results)<br>    <br>    <span class="hljs-comment"># combine mean and std cv-score in to a pandas series</span><br>    cv_score = pd.Series(&#123;<span class="hljs-string">&#x27;mean&#x27;</span>:cv_mean,<span class="hljs-string">&#x27;std&#x27;</span>:cv_std&#125;)<br><br>    <span class="hljs-comment"># predict y using the fitted model</span><br>    y_pred = model.predict(X)<br>    <br>    <span class="hljs-comment"># print stats on model performance         </span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;----------------------&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(model)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;----------------------&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;score=&#x27;</span>,model.score(X,y))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;rmse=&#x27;</span>,rmse(y, y_pred))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;mse=&#x27;</span>,mse(y, y_pred))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;cross_val: mean=&#x27;</span>,cv_mean,<span class="hljs-string">&#x27;, std=&#x27;</span>,cv_std)<br>    <br>    <span class="hljs-comment"># residual plots</span><br>    y_pred = pd.Series(y_pred,index=y.index)<br>    resid = y - y_pred<br>    mean_resid = resid.mean()<br>    std_resid = resid.std()<br>    z = (resid - mean_resid)/std_resid    <br>    n_outliers = <span class="hljs-built_in">sum</span>(<span class="hljs-built_in">abs</span>(z)&gt;<span class="hljs-number">3</span>)<br>    <br>    plt.figure(figsize=(<span class="hljs-number">15</span>,<span class="hljs-number">5</span>))<br>    ax_131 = plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>)<br>    plt.plot(y,y_pred,<span class="hljs-string">&#x27;.&#x27;</span>)<br>    plt.xlabel(<span class="hljs-string">&#x27;y&#x27;</span>)<br>    plt.ylabel(<span class="hljs-string">&#x27;y_pred&#x27;</span>);<br>    plt.title(<span class="hljs-string">&#x27;corr = &#123;:.3f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(np.corrcoef(y,y_pred)[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]))<br>    ax_132=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>)<br>    plt.plot(y,y-y_pred,<span class="hljs-string">&#x27;.&#x27;</span>)<br>    plt.xlabel(<span class="hljs-string">&#x27;y&#x27;</span>)<br>    plt.ylabel(<span class="hljs-string">&#x27;y - y_pred&#x27;</span>);<br>    plt.title(<span class="hljs-string">&#x27;std resid = &#123;:.3f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(std_resid))<br>    <br>    ax_133=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>)<br>    z.plot.hist(bins=<span class="hljs-number">50</span>,ax=ax_133)<br>    plt.xlabel(<span class="hljs-string">&#x27;z&#x27;</span>)<br>    plt.title(<span class="hljs-string">&#x27;&#123;:.0f&#125; samples with z&gt;3&#x27;</span>.<span class="hljs-built_in">format</span>(n_outliers))<br><br>    <span class="hljs-keyword">return</span> model, cv_score, grid_results<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># places to store optimal models and scores</span><br>opt_models = <span class="hljs-built_in">dict</span>()<br>score_models = pd.DataFrame(columns=[<span class="hljs-string">&#x27;mean&#x27;</span>,<span class="hljs-string">&#x27;std&#x27;</span>])<br><br><span class="hljs-comment"># no. k-fold splits</span><br>splits=<span class="hljs-number">5</span><br><span class="hljs-comment"># no. k-fold iterations</span><br>repeats=<span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python">model = <span class="hljs-string">&#x27;Ridge&#x27;</span><br><br>opt_models[model] = Ridge()<br>alph_range = np.arange(<span class="hljs-number">0.25</span>,<span class="hljs-number">6</span>,<span class="hljs-number">0.25</span>)<br>param_grid = &#123;<span class="hljs-string">&#x27;alpha&#x27;</span>: alph_range&#125;<br><br>opt_models[model],cv_score,grid_results = train_model(opt_models[model], param_grid=param_grid, <br>                                              splits=splits, repeats=repeats)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br><br>plt.figure()<br>plt.errorbar(alph_range, <span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;mean_test_score&#x27;</span>]),<br>             <span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;std_test_score&#x27;</span>])/np.sqrt(splits*repeats))<br>plt.xlabel(<span class="hljs-string">&#x27;alpha&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;score&#x27;</span>)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python">model = <span class="hljs-string">&#x27;Lasso&#x27;</span><br><br>opt_models[model] = Lasso()<br>alph_range = np.arange(<span class="hljs-number">1e-4</span>,<span class="hljs-number">1e-3</span>,<span class="hljs-number">4e-5</span>)<br>param_grid = &#123;<span class="hljs-string">&#x27;alpha&#x27;</span>: alph_range&#125;<br><br>opt_models[model], cv_score, grid_results = train_model(opt_models[model], param_grid=param_grid, <br>                                              splits=splits, repeats=repeats)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br><br>plt.figure()<br>plt.errorbar(alph_range, <span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;mean_test_score&#x27;</span>]),<span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;std_test_score&#x27;</span>])/np.sqrt(splits*repeats))<br>plt.xlabel(<span class="hljs-string">&#x27;alpha&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;score&#x27;</span>)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">model =<span class="hljs-string">&#x27;ElasticNet&#x27;</span><br>opt_models[model] = ElasticNet()<br><br>param_grid = &#123;<span class="hljs-string">&#x27;alpha&#x27;</span>: np.arange(<span class="hljs-number">1e-4</span>,<span class="hljs-number">1e-3</span>,<span class="hljs-number">1e-4</span>),<br>              <span class="hljs-string">&#x27;l1_ratio&#x27;</span>: np.arange(<span class="hljs-number">0.1</span>,<span class="hljs-number">1.0</span>,<span class="hljs-number">0.1</span>),<br>              <span class="hljs-string">&#x27;max_iter&#x27;</span>:[<span class="hljs-number">100000</span>]&#125;<br><br>opt_models[model], cv_score, grid_results = train_model(opt_models[model], param_grid=param_grid, <br>                                              splits=splits, repeats=<span class="hljs-number">1</span>)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python">model=<span class="hljs-string">&#x27;LinearSVR&#x27;</span><br>opt_models[model] = LinearSVR()<br><br>crange = np.arange(<span class="hljs-number">0.1</span>,<span class="hljs-number">1.0</span>,<span class="hljs-number">0.1</span>)<br>param_grid = &#123;<span class="hljs-string">&#x27;C&#x27;</span>:crange,<br>             <span class="hljs-string">&#x27;max_iter&#x27;</span>:[<span class="hljs-number">1000</span>]&#125;<br><br>opt_models[model], cv_score, grid_results = train_model(opt_models[model], param_grid=param_grid, <br>                                              splits=splits, repeats=repeats)<br><br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br><br>plt.figure()<br>plt.errorbar(crange, <span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;mean_test_score&#x27;</span>]),<span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;std_test_score&#x27;</span>])/np.sqrt(splits*repeats))<br>plt.xlabel(<span class="hljs-string">&#x27;C&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;score&#x27;</span>)<br><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python">model = <span class="hljs-string">&#x27;KNeighbors&#x27;</span><br>opt_models[model] = KNeighborsRegressor()<br><br>param_grid = &#123;<span class="hljs-string">&#x27;n_neighbors&#x27;</span>:np.arange(<span class="hljs-number">3</span>,<span class="hljs-number">11</span>,<span class="hljs-number">1</span>)&#125;<br><br>opt_models[model], cv_score, grid_results = train_model(opt_models[model], param_grid=param_grid, <br>                                              splits=splits, repeats=<span class="hljs-number">1</span>)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br><br>plt.figure()<br>plt.errorbar(np.arange(<span class="hljs-number">3</span>,<span class="hljs-number">11</span>,<span class="hljs-number">1</span>), <span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;mean_test_score&#x27;</span>]),<span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;std_test_score&#x27;</span>])/np.sqrt(splits*<span class="hljs-number">1</span>))<br>plt.xlabel(<span class="hljs-string">&#x27;n_neighbors&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;score&#x27;</span>)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">model = <span class="hljs-string">&#x27;GradientBoosting&#x27;</span><br>opt_models[model] = GradientBoostingRegressor()<br><br>param_grid = &#123;<span class="hljs-string">&#x27;n_estimators&#x27;</span>:[<span class="hljs-number">150</span>,<span class="hljs-number">250</span>,<span class="hljs-number">350</span>],<br>              <span class="hljs-string">&#x27;max_depth&#x27;</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],<br>              <span class="hljs-string">&#x27;min_samples_split&#x27;</span>:[<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>]&#125;<br><br>opt_models[model], cv_score, grid_results = train_model(opt_models[model], param_grid=param_grid, <br>                                              splits=splits, repeats=<span class="hljs-number">1</span>)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">model = <span class="hljs-string">&#x27;XGB&#x27;</span><br>opt_models[model] = XGBRegressor()<br><br>param_grid = &#123;<span class="hljs-string">&#x27;n_estimators&#x27;</span>:[<span class="hljs-number">100</span>,<span class="hljs-number">200</span>,<span class="hljs-number">300</span>,<span class="hljs-number">400</span>,<span class="hljs-number">500</span>],<br>              <span class="hljs-string">&#x27;max_depth&#x27;</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],<br>             &#125;<br><br>opt_models[model], cv_score,grid_results = train_model(opt_models[model], param_grid=param_grid, <br>                                              splits=splits, repeats=<span class="hljs-number">1</span>)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">model = <span class="hljs-string">&#x27;RandomForest&#x27;</span><br>opt_models[model] = RandomForestRegressor()<br><br>param_grid = &#123;<span class="hljs-string">&#x27;n_estimators&#x27;</span>:[<span class="hljs-number">100</span>,<span class="hljs-number">150</span>,<span class="hljs-number">200</span>],<br>              <span class="hljs-string">&#x27;max_features&#x27;</span>:[<span class="hljs-number">8</span>,<span class="hljs-number">12</span>,<span class="hljs-number">16</span>,<span class="hljs-number">20</span>,<span class="hljs-number">24</span>],<br>              <span class="hljs-string">&#x27;min_samples_split&#x27;</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">6</span>]&#125;<br><br>opt_models[model], cv_score, grid_results = train_model(opt_models[model], param_grid=param_grid, <br>                                              splits=<span class="hljs-number">5</span>, repeats=<span class="hljs-number">1</span>)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">model_predict</span>(<span class="hljs-params">test_data,test_y=[],stack=<span class="hljs-literal">False</span></span>):<br>    <span class="hljs-comment">#poly_trans=PolynomialFeatures(degree=2)</span><br>    <span class="hljs-comment">#test_data1=poly_trans.fit_transform(test_data)</span><br>    <span class="hljs-comment">#test_data=MinMaxScaler().fit_transform(test_data)</span><br>    i=<span class="hljs-number">0</span><br>    y_predict_total=np.zeros((test_data.shape[<span class="hljs-number">0</span>],))<br>    <span class="hljs-keyword">if</span> stack:<br>        <span class="hljs-keyword">for</span> model <span class="hljs-keyword">in</span> metal_models.keys():<br>            y_predict=metal_models[model].predict(test_data)<br>            y_predict_total+=y_predict<br>            i+=<span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(test_y)&gt;<span class="hljs-number">0</span>:<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&#123;&#125;_mse:&quot;</span>.<span class="hljs-built_in">format</span>(model),mean_squared_error(y_predict,test_y))<br>        y_predict_mean=np.<span class="hljs-built_in">round</span>(y_predict_total/i,<span class="hljs-number">3</span>)  <br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(test_y)&gt;<span class="hljs-number">0</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;mean_mse:&quot;</span>,mean_squared_error(y_predict_mean,test_y))<br>        <span class="hljs-keyword">else</span>:<br>            y_metal_mean=pd.Series(y_predict_mean)<br>            <span class="hljs-keyword">return</span> y_metal_mean <br>    <span class="hljs-keyword">else</span>:<br>        <span class="hljs-keyword">for</span> model <span class="hljs-keyword">in</span> opt_models.keys():<br>            <span class="hljs-keyword">if</span> model!=<span class="hljs-string">&quot;LinearSVR&quot;</span> <span class="hljs-keyword">and</span> model!=<span class="hljs-string">&quot;KNeighbors&quot;</span>:<br>                y_predict=opt_models[model].predict(test_data)<br>                y_predict_total+=y_predict<br>                i+=<span class="hljs-number">1</span><br>            <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(test_y)&gt;<span class="hljs-number">0</span>:<br>                <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&#123;&#125;_mse:&quot;</span>.<span class="hljs-built_in">format</span>(model),mean_squared_error(y_predict,test_y))<br>        y_predict_mean=np.<span class="hljs-built_in">round</span>(y_predict_total/i,<span class="hljs-number">3</span>)<br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(test_y)&gt;<span class="hljs-number">0</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;mean_mse:&quot;</span>,mean_squared_error(y_predict_mean,test_y))<br>        <span class="hljs-keyword">else</span>:<br>            y_predict_mean=pd.Series(y_predict_mean)<br>            <span class="hljs-keyword">return</span> y_predict_mean<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">model_predict(X_valid,y_valid)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">create_stack_features</span>(<span class="hljs-params">test_data</span>):<br>    features=&#123;&#125;<br>    columns=[]<br>    <span class="hljs-keyword">for</span> model <span class="hljs-keyword">in</span> opt_models.keys():<br>        columns.append(model)<br>        features[model]=opt_models[model].predict(test_data)<br>    stack_feature=pd.DataFrame(features,columns=columns)<br>    <span class="hljs-keyword">return</span> stack_feature<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#load metal data</span><br>metal_x_train=create_stack_features(X_t)<br>metal_y_train=pd.Series(y_t.values)<br>metal_x_valid=create_stack_features(X_valid)<br>metal_y_valid=pd.Series(y_valid.values)<br>metal_x_test=create_stack_features(test)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># places to store metal models and scores</span><br>metal_models = <span class="hljs-built_in">dict</span>()<br>score_models = pd.DataFrame(columns=[<span class="hljs-string">&#x27;mean&#x27;</span>,<span class="hljs-string">&#x27;std&#x27;</span>])<br><br><span class="hljs-comment"># no. k-fold splits</span><br>splits=<span class="hljs-number">5</span><br><span class="hljs-comment"># no. k-fold iterations</span><br>repeats=<span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python">model = <span class="hljs-string">&#x27;Ridge&#x27;</span><br><br>metal_models[model] = Ridge()<br>alph_range = np.arange(<span class="hljs-number">0.25</span>,<span class="hljs-number">6</span>,<span class="hljs-number">0.25</span>)<br>param_grid = &#123;<span class="hljs-string">&#x27;alpha&#x27;</span>: alph_range&#125;<br><br>metal_models[model],cv_score,grid_results = train_model(metal_models[model], param_grid=param_grid, X=metal_x_train,y=metal_y_train,<br>                                              splits=splits, repeats=repeats)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br><br>plt.figure()<br>plt.errorbar(alph_range, <span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;mean_test_score&#x27;</span>]),<br>             <span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;std_test_score&#x27;</span>])/np.sqrt(splits*repeats))<br>plt.xlabel(<span class="hljs-string">&#x27;alpha&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;score&#x27;</span>)<br></code></pre></td></tr></table></figure><p>è‹¥æŠ¥é”™ï¼šAttributeError: 'DataFrame' object has no attribute 'append'</p><p>è§£å†³æ–¹æ¡ˆï¼š</p><p>pandasç‰ˆæœ¬è¾ƒæ–°ï¼Œæ–°ç‰ˆæœ¬å°†appendæ”¹ä¸ºäº†_append</p><p><code>dataframe = dataframe._append()</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python">model = <span class="hljs-string">&#x27;Lasso&#x27;</span><br><br>metal_models[model] = Lasso()<br>alph_range = np.arange(<span class="hljs-number">1e-4</span>,<span class="hljs-number">1e-3</span>,<span class="hljs-number">4e-5</span>)<br>param_grid = &#123;<span class="hljs-string">&#x27;alpha&#x27;</span>: alph_range&#125;<br><br>metal_models[model], cv_score, grid_results = train_model(metal_models[model], param_grid=param_grid, X=metal_x_train,y=metal_y_train,<br>                                              splits=splits, repeats=repeats)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br><br>plt.figure()<br>plt.errorbar(alph_range, <span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;mean_test_score&#x27;</span>]),<span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;std_test_score&#x27;</span>])/np.sqrt(splits*repeats))<br>plt.xlabel(<span class="hljs-string">&#x27;alpha&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;score&#x27;</span>)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">model =<span class="hljs-string">&#x27;ElasticNet&#x27;</span><br>metal_models[model] = ElasticNet()<br><br>param_grid = &#123;<span class="hljs-string">&#x27;alpha&#x27;</span>: np.arange(<span class="hljs-number">1e-4</span>,<span class="hljs-number">1e-3</span>,<span class="hljs-number">1e-4</span>),<br>              <span class="hljs-string">&#x27;l1_ratio&#x27;</span>: np.arange(<span class="hljs-number">0.1</span>,<span class="hljs-number">1.0</span>,<span class="hljs-number">0.1</span>),<br>              <span class="hljs-string">&#x27;max_iter&#x27;</span>:[<span class="hljs-number">100000</span>]&#125;<br><br>metal_models[model], cv_score, grid_results = train_model(metal_models[model], param_grid=param_grid, X=metal_x_train,y=metal_y_train,<br>                                              splits=splits, repeats=<span class="hljs-number">1</span>)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">model = <span class="hljs-string">&#x27;XGB&#x27;</span><br>metal_models[model] = XGBRegressor()<br><br>param_grid = &#123;<span class="hljs-string">&#x27;n_estimators&#x27;</span>:[<span class="hljs-number">100</span>,<span class="hljs-number">200</span>,<span class="hljs-number">300</span>,<span class="hljs-number">400</span>,<span class="hljs-number">500</span>],<br>              <span class="hljs-string">&#x27;max_depth&#x27;</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],<br>             &#125;<br><br>metal_models[model], cv_score,grid_results = train_model(metal_models[model], param_grid=param_grid, X=metal_x_train,y=metal_train_y_train,<br>                                              splits=splits, repeats=<span class="hljs-number">1</span>)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">model = <span class="hljs-string">&#x27;GradientBoosting&#x27;</span><br>metal_models[model] = GradientBoostingRegressor()<br><br>param_grid = &#123;<span class="hljs-string">&#x27;n_estimators&#x27;</span>:[<span class="hljs-number">150</span>,<span class="hljs-number">250</span>,<span class="hljs-number">350</span>],<br>              <span class="hljs-string">&#x27;max_depth&#x27;</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],<br>              <span class="hljs-string">&#x27;min_samples_split&#x27;</span>:[<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>]&#125;<br><br>metal_models[model], cv_score, grid_results = train_model(metal_models[model], param_grid=param_grid, X=metal_x_train,y=metal_y_train,<br>                                              splits=splits, repeats=<span class="hljs-number">1</span>)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">model = <span class="hljs-string">&#x27;RandomForest&#x27;</span><br>metal_models[model] = RandomForestRegressor()<br><br>param_grid = &#123;<span class="hljs-string">&#x27;n_estimators&#x27;</span>:[<span class="hljs-number">100</span>,<span class="hljs-number">150</span>,<span class="hljs-number">200</span>],<br>              <span class="hljs-string">&#x27;max_features&#x27;</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>],<br>              <span class="hljs-string">&#x27;min_samples_split&#x27;</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">6</span>]&#125;<br><br>metal_models[model], cv_score, grid_results = train_model(metal_models[model], param_grid=param_grid,  X=metal_x_train,y=metal_y_train,<br>                                              splits=<span class="hljs-number">5</span>, repeats=<span class="hljs-number">1</span>)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">model_predict(metal_x_valid,metal_y_valid,stack=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ å®æˆ˜å…¥é—¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å·¥ä¸šè’¸æ±½é¢„æµ‹-07æ¨¡å‹èåˆ</title>
    <link href="/2023/09/19/%E5%B7%A5%E4%B8%9A%E8%92%B8%E6%B1%BD%E9%A2%84%E6%B5%8B-07%E6%A8%A1%E5%9E%8B%E8%9E%8D%E5%90%88/"/>
    <url>/2023/09/19/%E5%B7%A5%E4%B8%9A%E8%92%B8%E6%B1%BD%E9%A2%84%E6%B5%8B-07%E6%A8%A1%E5%9E%8B%E8%9E%8D%E5%90%88/</url>
    
    <content type="html"><![CDATA[<h1 id="åŸºç¡€æ­¥éª¤">1 åŸºç¡€æ­¥éª¤</h1><h2 id="å¯¼åŒ…">1.1 å¯¼åŒ…</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> warnings<br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>)<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br>plt.rcParams.update(&#123;<span class="hljs-string">&#x27;figure.max_open_warning&#x27;</span>: <span class="hljs-number">0</span>&#125;)<br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><br><span class="hljs-comment"># modelling</span><br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> GridSearchCV, RepeatedKFold, cross_val_score,cross_val_predict,KFold<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> make_scorer,mean_squared_error<br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LinearRegression, Lasso, Ridge, ElasticNet<br><span class="hljs-keyword">from</span> sklearn.svm <span class="hljs-keyword">import</span> LinearSVR, SVR<br><span class="hljs-keyword">from</span> sklearn.neighbors <span class="hljs-keyword">import</span> KNeighborsRegressor<br><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> RandomForestRegressor, GradientBoostingRegressor,AdaBoostRegressor<br><span class="hljs-keyword">from</span> xgboost <span class="hljs-keyword">import</span> XGBRegressor<br><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> PolynomialFeatures,MinMaxScaler,StandardScaler<br></code></pre></td></tr></table></figure><h2 id="å¯¼å…¥æ•°æ®">1.2 å¯¼å…¥æ•°æ®</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#load_dataset</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./data/zhengqi_train.txt&quot;</span>)  <span class="hljs-keyword">as</span> fr:<br>    data_train=pd.read_table(fr,sep=<span class="hljs-string">&quot;\t&quot;</span>)<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./data/zhengqi_test.txt&quot;</span>) <span class="hljs-keyword">as</span> fr_test:<br>    data_test=pd.read_table(fr_test,sep=<span class="hljs-string">&quot;\t&quot;</span>)<br></code></pre></td></tr></table></figure><h2 id="åˆå¹¶æ•°æ®">1.3 åˆå¹¶æ•°æ®</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#merge train_set and test_set</span><br>data_train[<span class="hljs-string">&quot;oringin&quot;</span>]=<span class="hljs-string">&quot;train&quot;</span><br>data_test[<span class="hljs-string">&quot;oringin&quot;</span>]=<span class="hljs-string">&quot;test&quot;</span><br>data_all=pd.concat([data_train,data_test],axis=<span class="hljs-number">0</span>,ignore_index=<span class="hljs-literal">True</span>)<br>data_all<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>V0</th><th>V1</th><th>V2</th><th>V3</th><th>V4</th><th>V5</th><th>V6</th><th>V7</th><th>V8</th><th>V9</th><th>...</th><th>V30</th><th>V31</th><th>V32</th><th>V33</th><th>V34</th><th>V35</th><th>V36</th><th>V37</th><th>target</th><th>oringin</th></tr></thead><tbody><tr><th>0</th><td>0.566</td><td>0.016</td><td>-0.143</td><td>0.407</td><td>0.452</td><td>-0.901</td><td>-1.812</td><td>-2.360</td><td>-0.436</td><td>-2.114</td><td>...</td><td>0.109</td><td>-0.615</td><td>0.327</td><td>-4.627</td><td>-4.789</td><td>-5.101</td><td>-2.608</td><td>-3.508</td><td>0.175</td><td>train</td></tr><tr><th>1</th><td>0.968</td><td>0.437</td><td>0.066</td><td>0.566</td><td>0.194</td><td>-0.893</td><td>-1.566</td><td>-2.360</td><td>0.332</td><td>-2.114</td><td>...</td><td>0.124</td><td>0.032</td><td>0.600</td><td>-0.843</td><td>0.160</td><td>0.364</td><td>-0.335</td><td>-0.730</td><td>0.676</td><td>train</td></tr><tr><th>2</th><td>1.013</td><td>0.568</td><td>0.235</td><td>0.370</td><td>0.112</td><td>-0.797</td><td>-1.367</td><td>-2.360</td><td>0.396</td><td>-2.114</td><td>...</td><td>0.361</td><td>0.277</td><td>-0.116</td><td>-0.843</td><td>0.160</td><td>0.364</td><td>0.765</td><td>-0.589</td><td>0.633</td><td>train</td></tr><tr><th>3</th><td>0.733</td><td>0.368</td><td>0.283</td><td>0.165</td><td>0.599</td><td>-0.679</td><td>-1.200</td><td>-2.086</td><td>0.403</td><td>-2.114</td><td>...</td><td>0.417</td><td>0.279</td><td>0.603</td><td>-0.843</td><td>-0.065</td><td>0.364</td><td>0.333</td><td>-0.112</td><td>0.206</td><td>train</td></tr><tr><th>4</th><td>0.684</td><td>0.638</td><td>0.260</td><td>0.209</td><td>0.337</td><td>-0.454</td><td>-1.073</td><td>-2.086</td><td>0.314</td><td>-2.114</td><td>...</td><td>1.078</td><td>0.328</td><td>0.418</td><td>-0.843</td><td>-0.215</td><td>0.364</td><td>-0.280</td><td>-0.028</td><td>0.384</td><td>train</td></tr><tr><th>...</th><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td><td>...</td></tr><tr><th>4808</th><td>-1.362</td><td>-1.553</td><td>-3.096</td><td>-0.444</td><td>0.381</td><td>1.375</td><td>-4.854</td><td>-5.331</td><td>-4.074</td><td>-3.838</td><td>...</td><td>-4.488</td><td>-5.793</td><td>-4.050</td><td>-1.187</td><td>-0.852</td><td>-2.131</td><td>-2.564</td><td>0.597</td><td>NaN</td><td>test</td></tr><tr><th>4809</th><td>-2.698</td><td>-3.452</td><td>-3.620</td><td>-1.066</td><td>-1.385</td><td>1.378</td><td>-4.927</td><td>-5.103</td><td>-4.393</td><td>-1.683</td><td>...</td><td>-0.613</td><td>-7.698</td><td>-0.674</td><td>-1.187</td><td>-0.852</td><td>-2.131</td><td>-2.564</td><td>1.215</td><td>NaN</td><td>test</td></tr><tr><th>4810</th><td>-2.615</td><td>-3.564</td><td>-3.402</td><td>-0.422</td><td>-1.272</td><td>1.121</td><td>-4.223</td><td>-4.315</td><td>-5.196</td><td>-3.407</td><td>...</td><td>0.125</td><td>-6.111</td><td>0.275</td><td>-1.851</td><td>-1.548</td><td>-1.537</td><td>-2.544</td><td>1.612</td><td>NaN</td><td>test</td></tr><tr><th>4811</th><td>-2.661</td><td>-3.646</td><td>-3.271</td><td>-0.699</td><td>-1.270</td><td>1.116</td><td>-3.716</td><td>-3.809</td><td>-4.735</td><td>-2.976</td><td>...</td><td>1.086</td><td>-5.268</td><td>0.683</td><td>-1.645</td><td>-1.471</td><td>-1.537</td><td>-2.549</td><td>1.431</td><td>NaN</td><td>test</td></tr><tr><th>4812</th><td>-2.321</td><td>-3.037</td><td>-3.214</td><td>-1.594</td><td>-0.910</td><td>1.259</td><td>-3.616</td><td>-3.747</td><td>-4.368</td><td>-2.976</td><td>...</td><td>-0.774</td><td>-5.211</td><td>1.618</td><td>-1.703</td><td>-1.471</td><td>-1.537</td><td>-1.123</td><td>1.988</td><td>NaN</td><td>test</td></tr></tbody></table><p>4813 rows Ã— 40 columns</p></div><h2 id="åˆ é™¤ç›¸å…³ç‰¹å¾">1.4 åˆ é™¤ç›¸å…³ç‰¹å¾</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">data_all.drop([<span class="hljs-string">&quot;V5&quot;</span>,<span class="hljs-string">&quot;V9&quot;</span>,<span class="hljs-string">&quot;V11&quot;</span>,<span class="hljs-string">&quot;V17&quot;</span>,<span class="hljs-string">&quot;V22&quot;</span>,<span class="hljs-string">&quot;V28&quot;</span>],axis=<span class="hljs-number">1</span>,inplace=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><h2 id="æ•°æ®å½’ä¸€åŒ–">1.5 æ•°æ®å½’ä¸€åŒ–</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># normalise numeric columns</span><br>cols_numeric=<span class="hljs-built_in">list</span>(data_all.columns)<br>cols_numeric.remove(<span class="hljs-string">&quot;oringin&quot;</span>)<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">scale_minmax</span>(<span class="hljs-params">col</span>):<br>    <span class="hljs-keyword">return</span> (col-col.<span class="hljs-built_in">min</span>())/(col.<span class="hljs-built_in">max</span>()-col.<span class="hljs-built_in">min</span>())<br>scale_cols = [col <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> cols_numeric <span class="hljs-keyword">if</span> col!=<span class="hljs-string">&#x27;target&#x27;</span>]<br>data_all[scale_cols] = data_all[scale_cols].apply(scale_minmax,axis=<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><h2 id="ç”»å›¾æ¢æŸ¥ç‰¹å¾å’Œæ ‡ç­¾ç›¸å…³ä¿¡æ¯">1.6 ç”»å›¾ï¼šæ¢æŸ¥ç‰¹å¾å’Œæ ‡ç­¾ç›¸å…³ä¿¡æ¯</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#Check effect of Box-Cox transforms on distributions of continuous variables</span><br><br>fcols = <span class="hljs-number">6</span><br>frows = <span class="hljs-built_in">len</span>(cols_numeric)-<span class="hljs-number">1</span><br>plt.figure(figsize=(<span class="hljs-number">4</span>*fcols,<span class="hljs-number">4</span>*frows))<br>i=<span class="hljs-number">0</span><br><br><span class="hljs-keyword">for</span> var <span class="hljs-keyword">in</span> cols_numeric:<br>    <span class="hljs-keyword">if</span> var!=<span class="hljs-string">&#x27;target&#x27;</span>:<br>        dat = data_all[[var, <span class="hljs-string">&#x27;target&#x27;</span>]].dropna() <span class="hljs-comment"># è·å–varåˆ—å’Œtargetåˆ—ã€‚åŒé‡æ–¹æ‹¬å·[[  ]]ç”¨äºé€‰æ‹©å¤šä¸ªåˆ—ã€‚</span><br>        <br>        i+=<span class="hljs-number">1</span><br>        plt.subplot(frows,fcols,i)<br>        sns.distplot(dat[var] , fit=stats.norm);<br>        plt.title(var+<span class="hljs-string">&#x27; Original&#x27;</span>)<br>        plt.xlabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <br>        i+=<span class="hljs-number">1</span><br>        plt.subplot(frows,fcols,i)<br>        _=stats.probplot(dat[var], plot=plt)<br>        plt.title(<span class="hljs-string">&#x27;skew=&#x27;</span>+<span class="hljs-string">&#x27;&#123;:.4f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(stats.skew(dat[var])))<br>        plt.xlabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        plt.ylabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <br>        i+=<span class="hljs-number">1</span><br>        plt.subplot(frows,fcols,i)<br>        plt.plot(dat[var], dat[<span class="hljs-string">&#x27;target&#x27;</span>],<span class="hljs-string">&#x27;.&#x27;</span>,alpha=<span class="hljs-number">0.5</span>)<br>        plt.title(<span class="hljs-string">&#x27;corr=&#x27;</span>+<span class="hljs-string">&#x27;&#123;:.2f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(np.corrcoef(dat[var], dat[<span class="hljs-string">&#x27;target&#x27;</span>])[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]))<br> <br>        i+=<span class="hljs-number">1</span><br>        plt.subplot(frows,fcols,i)<br>        trans_var, lambda_var = stats.boxcox(dat[var].dropna()+<span class="hljs-number">1</span>)<br>        trans_var = scale_minmax(trans_var)      <br>        sns.distplot(trans_var , fit=stats.norm);<br>        plt.title(var+<span class="hljs-string">&#x27; Tramsformed&#x27;</span>)<br>        plt.xlabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <br>        i+=<span class="hljs-number">1</span><br>        plt.subplot(frows,fcols,i)<br>        _=stats.probplot(trans_var, plot=plt)<br>        plt.title(<span class="hljs-string">&#x27;skew=&#x27;</span>+<span class="hljs-string">&#x27;&#123;:.4f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(stats.skew(trans_var)))<br>        plt.xlabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        plt.ylabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <br>        i+=<span class="hljs-number">1</span><br>        plt.subplot(frows,fcols,i)<br>        plt.plot(trans_var, dat[<span class="hljs-string">&#x27;target&#x27;</span>],<span class="hljs-string">&#x27;.&#x27;</span>,alpha=<span class="hljs-number">0.5</span>)<br>        plt.title(<span class="hljs-string">&#x27;corr=&#x27;</span>+<span class="hljs-string">&#x27;&#123;:.2f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(np.corrcoef(trans_var,dat[<span class="hljs-string">&#x27;target&#x27;</span>])[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]))<br></code></pre></td></tr></table></figure><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-07æ¨¡å‹èåˆ/output_11_0.png" /></p><h2 id="box-coxå˜æ¢">1.7 Box-Coxå˜æ¢</h2><p>å¯¹ç‰¹å¾è¿›è¡ŒBox-Coxå˜æ¢ï¼Œä½¿å…¶æ»¡è¶³æ­£æ€æ€§</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">cols_transform=data_all.columns[<span class="hljs-number">0</span>:-<span class="hljs-number">2</span>]<br><span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> cols_transform:   <br>    <span class="hljs-comment"># transform column</span><br>    data_all.loc[:,col], _ = stats.boxcox(data_all.loc[:,col]+<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><h4 id="ä»£ç è§£é‡Š">ä»£ç è§£é‡Š</h4><ol type="1"><li><p><code>cols_transform = data_all.columns[0:-2]</code>ï¼šè·å–<code>data_all</code>æ•°æ®é›†ä¸­çš„æ‰€æœ‰åˆ—åï¼Œå¹¶ä½¿ç”¨åˆ‡ç‰‡æ“ä½œ<code>[0:-2]</code>é€‰æ‹©ä»ç¬¬ä¸€åˆ—åˆ°å€’æ•°ç¬¬ä¸‰åˆ—çš„æ‰€æœ‰åˆ—ã€‚</p></li><li><p><code>data_all.loc[:, col], _ = stats.boxcox(data_all.loc[:, col] + 1)</code>ï¼šåº”ç”¨äº†Box-Coxå˜æ¢æ¥è½¬æ¢æŒ‡å®šçš„åˆ—<code>col</code>ã€‚<code>data_all.loc[:, col]</code>ç”¨äºé€‰æ‹©DataFrameä¸­çš„ç‰¹å®šåˆ—ã€‚<code>stats.boxcox()</code>æ¥å—ä¸€ä¸ªä¸€ç»´æ•°ç»„ä½œä¸ºè¾“å…¥ï¼Œå¹¶è¿”å›Box-Coxå˜æ¢åçš„ç»“æœå’Œå˜æ¢å‚æ•°ã€‚åœ¨è¿™é‡Œï¼ŒåŸå§‹åˆ—çš„å€¼ä¼šå…ˆåŠ 1ï¼ˆé¿å…é›¶å€¼ï¼‰ï¼Œç„¶ååº”ç”¨Box-Coxå˜æ¢ã€‚è½¬æ¢åçš„ç»“æœä¼šæ›´æ–°åˆ°<code>data_all</code>ä¸­çš„ç›¸åº”åˆ—ï¼Œè€Œä¸‹åˆ’çº¿<code>_</code>è¡¨ç¤ºä¸éœ€è¦ä½¿ç”¨çš„å˜æ¢å‚æ•°åˆ™è¢«å¿½ç•¥ã€‚</p></li></ol><h2 id="åˆ†ä½æ•°è®¡ç®—å’Œç»˜å›¾">1.8 åˆ†ä½æ•°è®¡ç®—å’Œç»˜å›¾</h2><p>æ ‡ç­¾æ•°æ®ç»Ÿè®¡è½¬æ¢åçš„æ•°æ®ï¼Œè®¡ç®—åˆ†ä½æ•°ç”»å›¾å±•ç¤ºï¼ˆåŸºäºæ­£æ€åˆ†å¸ƒï¼‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">print</span>(data_all.target.describe())<br><br>plt.figure(figsize=(<span class="hljs-number">12</span>,<span class="hljs-number">4</span>))<br>plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)<br>sns.distplot(data_all.target.dropna() , fit=stats.norm);<br>plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)<br>_=stats.probplot(data_all.target.dropna(), plot=plt)<br></code></pre></td></tr></table></figure><pre><code class="hljs">count    2888.000000mean        0.126353std         0.983966min        -3.04400025%        -0.35025050%         0.31300075%         0.793250max         2.538000Name: target, dtype: float64</code></pre><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-07æ¨¡å‹èåˆ/output_17_1-169517575505519.png" /></p><h2 id="æ ‡ç­¾æ•°æ®å¯¹æ•°å˜æ¢">1.9 æ ‡ç­¾æ•°æ®å¯¹æ•°å˜æ¢</h2><p>æ ‡ç­¾æ•°æ®å¯¹æ•°å˜æ¢æ•°æ®ï¼Œä½¿æ•°æ®æ›´ç¬¦åˆæ­£æ€</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#Log Transform SalePrice to improve normality</span><br>sp = data_train.target<br>data_train.target1 =np.power(<span class="hljs-number">1.5</span>,sp)<br><span class="hljs-built_in">print</span>(data_train.target1.describe())<br><br>plt.figure(figsize=(<span class="hljs-number">12</span>,<span class="hljs-number">4</span>))<br>plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)<br>sns.distplot(data_train.target1.dropna(),fit=stats.norm);<br>plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)<br>_=stats.probplot(data_train.target1.dropna(), plot=plt)<br></code></pre></td></tr></table></figure><pre><code class="hljs">count    2888.000000mean        1.129957std         0.394110min         0.29105725%         0.86760950%         1.13531575%         1.379382max         2.798463Name: target, dtype: float64</code></pre><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-07æ¨¡å‹èåˆ/output_19_1-169517575505520.png" /></p><h4 id="ä»£ç è§£é‡Š-1">ä»£ç è§£é‡Š</h4><ol type="1"><li><p><code>sp = data_train.target</code>ï¼šå°†<code>data_train</code>ä¸­çš„ç›®æ ‡å˜é‡åˆ—èµ‹å€¼ç»™å˜é‡<code>sp</code>ã€‚</p></li><li><p><code>data_train.target1 = np.power(1.5, sp)</code>ï¼šå°†å¯¹æ•°å˜æ¢åº”ç”¨äºç›®æ ‡å˜é‡<code>sp</code>ï¼Œä½¿ç”¨äº†<code>np.power()</code>å‡½æ•°æ¥è®¡ç®—1.5çš„<code>sp</code>æ¬¡æ–¹ï¼Œä¹Ÿå°±æ˜¯å¯¹ç›®æ ‡å˜é‡è¿›è¡Œäº†ä¸€ä¸ªæŒ‡æ•°è½¬æ¢ã€‚è½¬æ¢åçš„ç»“æœå­˜å‚¨åœ¨<code>data_train</code>æ•°æ®é›†ä¸­ä¸€ä¸ªåä¸º<code>target1</code>çš„æ–°åˆ—ä¸­ã€‚</p></li><li><p><code>print(data_train.target1.describe())</code>ï¼šæ‰“å°è½¬æ¢åçš„ç›®æ ‡å˜é‡<code>target1</code>çš„æè¿°ç»Ÿè®¡ä¿¡æ¯ï¼ŒåŒ…æ‹¬å‡å€¼ã€æ ‡å‡†å·®å’Œåˆ†ä½æ•°ç­‰ã€‚</p></li><li><p><code>plt.figure(figsize=(12,4))</code>ï¼šåˆ›å»ºä¸€ä¸ªå›¾å½¢çª—å£ï¼Œè®¾ç½®å¤§å°ä¸ºï¼ˆ12,4ï¼‰ã€‚</p></li><li><p><code>plt.subplot(1,2,1)</code>ï¼šåœ¨å›¾å½¢çª—å£ä¸­åˆ›å»ºä¸€ä¸ªå­å›¾ï¼Œæ€»å…±æœ‰1è¡Œ2åˆ—ï¼Œå½“å‰å­å›¾ä½äºç¬¬1ä¸ªä½ç½®ã€‚</p></li><li><p><code>sns.distplot(data_train.target1.dropna(), fit=stats.norm)</code>ï¼šç»˜åˆ¶ç›´æ–¹å›¾å’Œæ ¸å¯†åº¦ä¼°è®¡å›¾ï¼Œå…¶ä¸­<code>data_train.target1.dropna()</code>æ˜¯è½¬æ¢åçš„ç›®æ ‡å˜é‡æ•°æ®ï¼Œ<code>fit=stats.norm</code>è¡¨ç¤ºé€šè¿‡æ­£æ€åˆ†å¸ƒæ‹Ÿåˆæ›²çº¿æ¥æ¯”è¾ƒæ•°æ®çš„åˆ†å¸ƒæƒ…å†µã€‚</p></li><li><p><code>plt.subplot(1,2,2)</code>ï¼šåœ¨å›¾å½¢çª—å£ä¸­åˆ›å»ºä¸€ä¸ªå­å›¾ï¼Œæ€»å…±æœ‰1è¡Œ2åˆ—ï¼Œå½“å‰å­å›¾ä½äºç¬¬2ä¸ªä½ç½®ã€‚</p></li><li><p><code>_=stats.probplot(data_train.target1.dropna(), plot=plt)</code>ï¼šä½¿ç”¨<code>stats.probplot()</code>å‡½æ•°ç»˜åˆ¶Q-Qå›¾ï¼Œç”¨äºæ£€éªŒæ•°æ®æ˜¯å¦æœä»æ­£æ€åˆ†å¸ƒã€‚<code>data_train.target1.dropna()</code>æ˜¯è½¬æ¢åçš„ç›®æ ‡å˜é‡æ•°æ®ï¼Œ<code>plot=plt</code>è¡¨ç¤ºå°†Q-Qå›¾ç»˜åˆ¶åœ¨æŒ‡å®šçš„å­å›¾ä¸Šã€‚</p></li></ol><h1 id="è·å–è®­ç»ƒå’Œæµ‹è¯•æ•°æ®">2 è·å–è®­ç»ƒå’Œæµ‹è¯•æ•°æ®</h1><p>åŸå…ˆå°†è®­ç»ƒé›†å’Œæµ‹è¯•é›†è¿›è¡Œåˆå¹¶å¤„ç†ï¼Œç°åœ¨è¿›è¡Œæ‹†åˆ†ã€‚ä½¿ç”¨ç®€å•äº¤å‰éªŒè¯æ–¹æ³•å¯¹æ¨¡å‹è¿›è¡ŒéªŒè¯ï¼Œåˆ’ä¸ºè®­ç»ƒæ•°æ®ä¸º70%ï¼ŒéªŒè¯æ•°æ®ä¸º30%</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># function to get training samples</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_training_data</span>():<br>    <span class="hljs-comment"># extract training samples</span><br>    <span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br>    df_train = data_all[data_all[<span class="hljs-string">&quot;oringin&quot;</span>]==<span class="hljs-string">&quot;train&quot;</span>]<br>    df_train[<span class="hljs-string">&quot;label&quot;</span>]=data_train.target1<br>    <span class="hljs-comment"># split SalePrice and features</span><br>    y = df_train.target<br>    X = df_train.drop([<span class="hljs-string">&quot;oringin&quot;</span>,<span class="hljs-string">&quot;target&quot;</span>,<span class="hljs-string">&quot;label&quot;</span>],axis=<span class="hljs-number">1</span>)<br>    X_train,X_valid,y_train,y_valid=train_test_split(X,y,test_size=<span class="hljs-number">0.3</span>,random_state=<span class="hljs-number">100</span>)<br>    <span class="hljs-keyword">return</span> X_train,X_valid,y_train,y_valid<br><br><span class="hljs-comment"># extract test data (without SalePrice)</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_test_data</span>():<br>    df_test = data_all[data_all[<span class="hljs-string">&quot;oringin&quot;</span>]==<span class="hljs-string">&quot;test&quot;</span>].reset_index(drop=<span class="hljs-literal">True</span>)<br>    <span class="hljs-keyword">return</span> df_test.drop([<span class="hljs-string">&quot;oringin&quot;</span>,<span class="hljs-string">&quot;target&quot;</span>],axis=<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><h1 id="æ¨¡å‹è¯„ä»·å‡½æ•°">3 æ¨¡å‹è¯„ä»·å‡½æ•°</h1><p>å°†RMSEå’ŒMSEä½œä¸ºæ¨¡å‹æ€§èƒ½çš„è¯„ä»·æŒ‡æ ‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> make_scorer<br><span class="hljs-comment"># metric for evaluation è‡ªå®šä¹‰</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">rmse</span>(<span class="hljs-params">y_true, y_pred</span>):<br>    diff = y_pred - y_true<br>    sum_sq = <span class="hljs-built_in">sum</span>(diff**<span class="hljs-number">2</span>)    <br>    n = <span class="hljs-built_in">len</span>(y_pred)   <br>    <span class="hljs-keyword">return</span> np.sqrt(sum_sq/n)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">mse</span>(<span class="hljs-params">y_ture,y_pred</span>):<br>    <span class="hljs-keyword">return</span> mean_squared_error(y_ture,y_pred)<br><br><span class="hljs-comment"># scorer to be used in sklearn model fitting</span><br>rmse_scorer = make_scorer(rmse, greater_is_better=<span class="hljs-literal">False</span>) <span class="hljs-comment"># greater_is_better=False æ„å‘³ç€rmseè¶Šå°è¶Šå¥½</span><br>mse_scorer = make_scorer(mse, greater_is_better=<span class="hljs-literal">False</span>)<br></code></pre></td></tr></table></figure><h1 id="å¤„ç†å¼‚å¸¸æ•°æ®">4 å¤„ç†å¼‚å¸¸æ•°æ®</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># function to detect outliers based on the predictions of a model</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">find_outliers</span>(<span class="hljs-params">model, X, y, sigma=<span class="hljs-number">3</span></span>):<br><br>    <span class="hljs-comment"># predict y values using model</span><br>    <span class="hljs-keyword">try</span>:<br>        y_pred = pd.Series(model.predict(X), index=y.index)<br>    <span class="hljs-comment"># if predicting fails, try fitting the model first</span><br>    <span class="hljs-keyword">except</span>:<br>        model.fit(X,y)<br>        y_pred = pd.Series(model.predict(X), index=y.index)<br>        <br>    <span class="hljs-comment"># calculate residuals between the model prediction and true y values</span><br>    resid = y - y_pred<br>    mean_resid = resid.mean()<br>    std_resid = resid.std()<br><br>    <span class="hljs-comment"># calculate z statistic, define outliers to be where |z|&gt;sigma</span><br>    z = (resid - mean_resid)/std_resid    <br>    outliers = z[<span class="hljs-built_in">abs</span>(z)&gt;sigma].index<br>    <br>    <span class="hljs-comment"># print and plot the results</span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;R2=&#x27;</span>,model.score(X,y))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;rmse=&#x27;</span>,rmse(y, y_pred))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;mse=&quot;</span>,mean_squared_error(y,y_pred))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;---------------------------------------&#x27;</span>)<br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;mean of residuals:&#x27;</span>,mean_resid)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;std of residuals:&#x27;</span>,std_resid)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;---------------------------------------&#x27;</span>)<br><br>    <span class="hljs-built_in">print</span>(<span class="hljs-built_in">len</span>(outliers),<span class="hljs-string">&#x27;outliers:&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(outliers.tolist())<br><br>    plt.figure(figsize=(<span class="hljs-number">15</span>,<span class="hljs-number">5</span>))<br>    ax_131 = plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>)<br>    plt.plot(y,y_pred,<span class="hljs-string">&#x27;.&#x27;</span>)<br>    plt.plot(y.loc[outliers],y_pred.loc[outliers],<span class="hljs-string">&#x27;ro&#x27;</span>)<br>    plt.legend([<span class="hljs-string">&#x27;Accepted&#x27;</span>,<span class="hljs-string">&#x27;Outlier&#x27;</span>])<br>    plt.xlabel(<span class="hljs-string">&#x27;y&#x27;</span>)<br>    plt.ylabel(<span class="hljs-string">&#x27;y_pred&#x27;</span>);<br><br>    ax_132=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>)<br>    plt.plot(y,y-y_pred,<span class="hljs-string">&#x27;.&#x27;</span>)<br>    plt.plot(y.loc[outliers],y.loc[outliers]-y_pred.loc[outliers],<span class="hljs-string">&#x27;ro&#x27;</span>)<br>    plt.legend([<span class="hljs-string">&#x27;Accepted&#x27;</span>,<span class="hljs-string">&#x27;Outlier&#x27;</span>])<br>    plt.xlabel(<span class="hljs-string">&#x27;y&#x27;</span>)<br>    plt.ylabel(<span class="hljs-string">&#x27;y - y_pred&#x27;</span>);<br><br>    ax_133=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>)<br>    z.plot.hist(bins=<span class="hljs-number">50</span>,ax=ax_133)<br>    z.loc[outliers].plot.hist(color=<span class="hljs-string">&#x27;r&#x27;</span>,bins=<span class="hljs-number">50</span>,ax=ax_133)<br>    plt.legend([<span class="hljs-string">&#x27;Accepted&#x27;</span>,<span class="hljs-string">&#x27;Outlier&#x27;</span>])<br>    plt.xlabel(<span class="hljs-string">&#x27;z&#x27;</span>)<br>    <br>    plt.savefig(<span class="hljs-string">&#x27;outliers.png&#x27;</span>)<br>    <br>    <span class="hljs-keyword">return</span> outliers<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># get training data</span><br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> Ridge<br>X_train, X_valid,y_train,y_valid = get_training_data()<br>test=get_test_data()<br><br><span class="hljs-comment"># find and remove outliers using a Ridge model</span><br>outliers = find_outliers(Ridge(), X_train, y_train)<br><br><span class="hljs-comment"># permanently remove these outliers from the data</span><br><span class="hljs-comment">#df_train = data_all[data_all[&quot;oringin&quot;]==&quot;train&quot;]</span><br><span class="hljs-comment">#df_train[&quot;label&quot;]=data_train.target1</span><br><span class="hljs-comment">#df_train=df_train.drop(outliers)</span><br>X_outliers=X_train.loc[outliers]<br>y_outliers=y_train.loc[outliers]<br>X_t=X_train.drop(outliers)<br>y_t=y_train.drop(outliers)<br></code></pre></td></tr></table></figure><pre><code class="hljs">R2= 0.8794138468263233rmse= 0.34510338853546346mse= 0.11909634877865903---------------------------------------mean of residuals: -2.96425702171071e-16std of residuals: 0.3451887995969211---------------------------------------23 outliers:[2655, 2159, 1164, 2863, 1145, 2697, 2528, 2645, 691, 1085, 1874, 2647, 776, 2625, 884, 2696, 2668, 1310, 1901, 2769, 2002, 2669, 1040]</code></pre><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-07æ¨¡å‹èåˆ/output_27_1-169517575505521.png" /></p><h1 id="ç½‘æ ¼æœç´¢è®­ç»ƒæ¨¡å‹">5 ç½‘æ ¼æœç´¢è®­ç»ƒæ¨¡å‹</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">get_trainning_data_omitoutliers</span>():<br>    y1=y_t.copy()<br>    X1=X_t.copy()<br>    <span class="hljs-keyword">return</span> X1,y1<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨ç½‘æ ¼æœç´¢è®­ç»ƒæ¨¡å‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> StandardScaler<br><span class="hljs-keyword">def</span> <span class="hljs-title function_">train_model</span>(<span class="hljs-params">model, param_grid=[], X=[], y=[], </span><br><span class="hljs-params">                splits=<span class="hljs-number">5</span>, repeats=<span class="hljs-number">5</span></span>):<br><br>    <span class="hljs-comment"># get unmodified training data, unless data to use already specified </span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(y)==<span class="hljs-number">0</span>:<br>        X,y = get_trainning_data_omitoutliers()<br>        <span class="hljs-comment">#poly_trans=PolynomialFeatures(degree=2)</span><br>        <span class="hljs-comment">#X=poly_trans.fit_transform(X)</span><br>        <span class="hljs-comment">#X=MinMaxScaler().fit_transform(X)</span><br>    <br>    <span class="hljs-comment"># create cross-validation method</span><br>    rkfold = RepeatedKFold(n_splits=splits, n_repeats=repeats)<br>    <br>    <span class="hljs-comment"># perform a grid search if param_grid given</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(param_grid)&gt;<span class="hljs-number">0</span>:<br>        <span class="hljs-comment"># setup grid search parameters</span><br>        gsearch = GridSearchCV(model, param_grid, cv=rkfold,<br>                               scoring=<span class="hljs-string">&quot;neg_mean_squared_error&quot;</span>,<br>                               verbose=<span class="hljs-number">1</span>, return_train_score=<span class="hljs-literal">True</span>)<br><br>        <span class="hljs-comment"># search the grid</span><br>        gsearch.fit(X,y)<br><br>        <span class="hljs-comment"># extract best model from the grid</span><br>        model = gsearch.best_estimator_        <br>        best_idx = gsearch.best_index_ <span class="hljs-comment"># è·å–æœ€ä½³æ¨¡å‹çš„ç´¢å¼•</span><br> <br>        <span class="hljs-comment"># get cv-scores for best model</span><br>        grid_results = pd.DataFrame(gsearch.cv_results_) <span class="hljs-comment"># .cv_results_ æ¯ä¸ªå‚æ•°ç»„åˆçš„å¾—åˆ†ã€æ ‡å‡†å·®ç­‰ä¿¡æ¯       </span><br>        cv_mean = <span class="hljs-built_in">abs</span>(grid_results.loc[best_idx,<span class="hljs-string">&#x27;mean_test_score&#x27;</span>])<br>        cv_std = grid_results.loc[best_idx,<span class="hljs-string">&#x27;std_test_score&#x27;</span>]<br><br>    <span class="hljs-comment"># no grid search, just cross-val score for given model    </span><br>    <span class="hljs-keyword">else</span>:<br>        grid_results = []<br>        cv_results = cross_val_score(model, X, y, scoring=<span class="hljs-string">&quot;neg_mean_squared_error&quot;</span>, cv=rkfold)<br>        cv_mean = <span class="hljs-built_in">abs</span>(np.mean(cv_results))<br>        cv_std = np.std(cv_results)<br>    <br>    <span class="hljs-comment"># combine mean and std cv-score in to a pandas series</span><br>    cv_score = pd.Series(&#123;<span class="hljs-string">&#x27;mean&#x27;</span>:cv_mean,<span class="hljs-string">&#x27;std&#x27;</span>:cv_std&#125;)<br><br>    <span class="hljs-comment"># predict y using the fitted model</span><br>    y_pred = model.predict(X)<br>    <br>    <span class="hljs-comment"># print stats on model performance         </span><br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;----------------------&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(model)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;----------------------&#x27;</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;score=&#x27;</span>,model.score(X,y))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;rmse=&#x27;</span>,rmse(y, y_pred))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;mse=&#x27;</span>,mse(y, y_pred))<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;cross_val: mean=&#x27;</span>,cv_mean,<span class="hljs-string">&#x27;, std=&#x27;</span>,cv_std)<br>    <br>    <span class="hljs-comment"># residual plots</span><br>    y_pred = pd.Series(y_pred,index=y.index)<br>    resid = y - y_pred<br>    mean_resid = resid.mean()<br>    std_resid = resid.std()<br>    z = (resid - mean_resid)/std_resid    <br>    n_outliers = <span class="hljs-built_in">sum</span>(<span class="hljs-built_in">abs</span>(z)&gt;<span class="hljs-number">3</span>)<br>    <br>    plt.figure(figsize=(<span class="hljs-number">15</span>,<span class="hljs-number">5</span>))<br>    ax_131 = plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">1</span>)<br>    plt.plot(y,y_pred,<span class="hljs-string">&#x27;.&#x27;</span>)<br>    plt.xlabel(<span class="hljs-string">&#x27;y&#x27;</span>)<br>    plt.ylabel(<span class="hljs-string">&#x27;y_pred&#x27;</span>);<br>    plt.title(<span class="hljs-string">&#x27;corr = &#123;:.3f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(np.corrcoef(y,y_pred)[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]))<br>    ax_132=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">2</span>)<br>    plt.plot(y,y-y_pred,<span class="hljs-string">&#x27;.&#x27;</span>)<br>    plt.xlabel(<span class="hljs-string">&#x27;y&#x27;</span>)<br>    plt.ylabel(<span class="hljs-string">&#x27;y - y_pred&#x27;</span>);<br>    plt.title(<span class="hljs-string">&#x27;std resid = &#123;:.3f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(std_resid))<br>    <br>    ax_133=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>)<br>    z.plot.hist(bins=<span class="hljs-number">50</span>,ax=ax_133)<br>    plt.xlabel(<span class="hljs-string">&#x27;z&#x27;</span>)<br>    plt.title(<span class="hljs-string">&#x27;&#123;:.0f&#125; samples with z&gt;3&#x27;</span>.<span class="hljs-built_in">format</span>(n_outliers))<br><br>    <span class="hljs-keyword">return</span> model, cv_score, grid_results<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># places to store optimal models and scores</span><br>opt_models = <span class="hljs-built_in">dict</span>()<br>score_models = pd.DataFrame(columns=[<span class="hljs-string">&#x27;mean&#x27;</span>,<span class="hljs-string">&#x27;std&#x27;</span>])<br><br><span class="hljs-comment"># no. k-fold splits</span><br>splits=<span class="hljs-number">5</span><br><span class="hljs-comment"># no. k-fold iterations</span><br>repeats=<span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><h1 id="å•ä¸€æ¨¡å‹è®­ç»ƒ">6 å•ä¸€æ¨¡å‹è®­ç»ƒ</h1><h2 id="å²­å›å½’">6.1 å²­å›å½’</h2><p>ä½¿ç”¨å²­å›å½’æ¨¡å‹å¯¹æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œé‡‡ç”¨RMSE,MSEç­‰æŒ‡æ ‡å¯¹æ¨¡å‹æ€§èƒ½è¿›è¡Œè¯„ä»·</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python">model = <span class="hljs-string">&#x27;Ridge&#x27;</span><br><br>opt_models[model] = Ridge()<br>alph_range = np.arange(<span class="hljs-number">0.25</span>,<span class="hljs-number">6</span>,<span class="hljs-number">0.25</span>)<br>param_grid = &#123;<span class="hljs-string">&#x27;alpha&#x27;</span>: alph_range&#125;<br><br>opt_models[model],cv_score,grid_results = train_model(opt_models[model], param_grid=param_grid, <br>                                              splits=splits, repeats=repeats)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br><br>plt.figure()<br>plt.errorbar(alph_range, <span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;mean_test_score&#x27;</span>]),<br>             <span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;std_test_score&#x27;</span>])/np.sqrt(splits*repeats))<br>plt.xlabel(<span class="hljs-string">&#x27;alpha&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;score&#x27;</span>)<br></code></pre></td></tr></table></figure><pre><code class="hljs">Fitting 25 folds for each of 23 candidates, totalling 575 fits----------------------Ridge(alpha=0.25)----------------------score= 0.8963563380306225rmse= 0.31899649233050603mse= 0.1017587621191668cross_val: mean= 0.10644934256965052 , std= 0.005302313654798051Text(0, 0.5, &#39;score&#39;)</code></pre><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-07æ¨¡å‹èåˆ/output_34_2.png" /> â€‹</p><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-07æ¨¡å‹èåˆ/output_34_3-169517575505523.png" /></p><p>ä¸Šé¢çš„å›¾å½¢ä¸»è¦åæ˜ äº†æ¨¡å‹é¢„æµ‹çš„å‡†ç¡®åº¦åŠæ‹Ÿåˆæƒ…å†µï¼Œåé¢çš„æ¨¡å‹ä¹Ÿå°†è¿›è¡Œç±»ä¼¼çš„å¯è§†åŒ–åˆ†æã€‚è¿™é‡Œå¯¹å›¾å½¢å±•ç¤ºçš„ä¿¡æ¯è¿›è¡Œä»‹ç»ï¼Œä»å·¦è‡³å³ä¾æ¬¡å¦‚ä¸‹ï¼š</p><pre><code class="hljs">(1)çœŸå®å€¼ï¼ˆæ¨ªè½´ï¼šy)ä¸æ¨¡å‹é¢„æµ‹å€¼ï¼ˆç«–è½´ï¼šy pred)çš„æ•£ç‚¹å›¾ï¼Œå›¾å½¢ä¸Šæ–¹æ˜¾ç¤ºäº†ç›¸å…³æ€§æ•°å€¼ï¼Œå…¶è¶Šæ¥è¿‘1è¶Šå¥½ã€‚å¯¹äºå²­å›å½’æ¨¡å‹ï¼Œç›¸å…³æ€§æ•°å€¼ä¸º0.947ï¼Œé¢„æµ‹å€¼ä¸çœŸå®å€¼æ¯”è¾ƒä¸€è‡´ã€‚(2)å…¶ä¸ºåœ¨äº¤å‰éªŒè¯è®­ç»ƒæ¨¡å‹æ—¶ï¼ŒçœŸå®å€¼ï¼ˆæ¨ªè½´ï¼šy)ä¸æ¨¡å‹é¢„æµ‹å€¼å’ŒçœŸå®å€¼çš„æ®‹å·®ï¼ˆç«–è½´ï¼šy-y_pred)çš„æ•£ç‚¹å›¾ï¼Œå›¾å½¢ä¸Šæ–¹æ˜¾ç¤ºäº†æ–¹å·®ï¼Œå…¶è¶Šå°è¯´æ˜æ¨¡å‹è¶Šç¨³å®šã€‚å¯ä»¥çœ‹åˆ°ï¼Œå¯¹äºå²­å›å½’æ¨¡å‹ï¼Œåœ¨çœŸå®å€¼y=-3é™„è¿‘çš„é¢„æµ‹å€¼æœ‰è¾ƒå¤§çš„åå·®ï¼ŒåŒæ—¶ï¼Œæ–¹å·®ä¸º0.319ï¼Œè¾ƒä¸ºç¨³å®šã€‚(3)å›¾æ˜¯ç”±æ¨¡å‹é¢„æµ‹å€¼å’ŒçœŸå®å€¼çš„æ®‹å·®ï¼ˆæ¨ªè½´ï¼šz=(resid-mean resid)/std resid)ä¸è½åœ¨æŒ‰zè½´åˆ’åˆ†åŒºé—´çš„é¢‘ç‡ï¼ˆç«–è½´ï¼šé¢‘æ•°ï¼‰æ‰€ç”»çš„ç›´æ–¹å›¾ï¼Œå›¾å½¢ä¸Šæ–¹æ˜¾ç¤ºäº†é¢„æµ‹å€¼ä¸çœŸå®å€¼çš„æ®‹å·®å¤§äºä¸‰å€æ ‡å‡†å·®çš„æ•°ï¼Œå…¶è¶Šå°è¶Šå¥½ï¼Œè¶Šå¤§è¯´æ˜é¢„æµ‹ä¸­æœ‰äº›æ ·æœ¬çš„åå·®å¾ˆå¤§ã€‚å¯¹äºå²­å›å½’æ¨¡å‹ï¼Œé¢„æµ‹å€¼ä¸çœŸå®å€¼çš„æ®‹å·®å¤§äºä¸‰å€æ ‡å‡†å·®çš„æ•°ä¸º5ä¸ªï¼Œæ¨¡å‹å¯¹åå·®å¤§çš„æ•°æ®æœ‰è¾ƒå¥½çš„åŒ…å®¹æ€§ã€‚(4)å²­å›å½’æ¨¡å‹çš„å‚æ•°ï¼ˆæ¨ªè½´ï¼šalpha)ä¸æ¨¡å‹çš„è¯„ä»·æŒ‡æ ‡MSE(ç«–è½´ï¼šscore)çš„è¯¯å·®æ£’å›¾ã€‚å¯ä»¥çœ‹å‡ºï¼Œå¯¹äºå²­å›å½’æ¨¡å‹ï¼Œéšç€alphaçš„å¢å¤§ï¼Œè¯„ä»·æŒ‡æ ‡MSEçš„æ•°å€¼ä¹Ÿè¶Šæ¥è¶Šå¤§ï¼Œå…¶æ¨¡å‹çš„æ–¹å·®ä¹Ÿé€æ¸å¢å¤§ã€‚</code></pre><p>â€‹</p><h4 id="ä»£ç è§£é‡Š-2">ä»£ç è§£é‡Š</h4><ol type="1"><li></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">cv_score.name = model<br>score_models = score_models.append(cv_score)<br>````<br><br>```python<br><span class="hljs-built_in">print</span>(cv_score.name)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;-------&quot;</span>)<br><span class="hljs-built_in">print</span>(score_models)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ç»“æœ</span><br>Ridge<br>-------<br>           mean       std<br>Ridge  <span class="hljs-number">0.106211</span>  <span class="hljs-number">0.007446</span><br></code></pre></td></tr></table></figure><hr /><ol start="2" type="1"><li></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.errorbar(alph_range, <span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;mean_test_score&#x27;</span>]),<br>             <span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;std_test_score&#x27;</span>])/np.sqrt(splits*repeats))<br></code></pre></td></tr></table></figure><p>ä»£ç æ ¹æ®ç»™å®šçš„æ•°æ®ç‚¹é›†åˆåœ¨å›¾è¡¨ä¸Šç»˜åˆ¶æ¡å½¢å›¾ï¼Œå¹¶æ·»åŠ ä»¥æ ‡å‡†è¯¯å·®ä¸ºé«˜åº¦çš„è¯¯å·®çº¿ã€‚</p><ul><li><code>errorbar()</code> ç”¨äºç»˜åˆ¶å¸¦æœ‰è¯¯å·®çº¿çš„æ¡å½¢å›¾ã€‚</li></ul><p>å‚æ•°è§£é‡Š:</p><ul><li><code>alph_range</code> æ˜¯ x è½´ä¸Šçš„æ•°æ®ç‚¹é›†åˆï¼Œå®ƒè¡¨ç¤ºè‡ªå˜é‡çš„å–å€¼èŒƒå›´ã€‚</li><li><code>abs(grid_results['mean_test_score'])</code> æ˜¯ y è½´ä¸Šçš„æ•°æ®ç‚¹é›†åˆï¼Œå®ƒè¡¨ç¤ºä¸åŒè‡ªå˜é‡å–å€¼ä¸‹çš„å¹³å‡æµ‹è¯•åˆ†æ•°çš„ç»å¯¹å€¼ã€‚</li><li><code>abs(grid_results['std_test_score'])/np.sqrt(splits*repeats)</code> æ˜¯è¯¯å·®æ¡çš„é«˜åº¦ã€‚<code>grid_results['std_test_score']</code> è¡¨ç¤ºæµ‹è¯•åˆ†æ•°çš„æ ‡å‡†å·®ï¼Œè€Œ <code>splits</code> å’Œ <code>repeats</code> æ˜¯è¿›è¡Œäº¤å‰éªŒè¯æ—¶åˆ’åˆ†æ•°æ®é›†çš„æŠ˜æ•°å’Œé‡å¤æ¬¡æ•°ï¼Œé€šè¿‡é™¤ä»¥sqrt(splits*repeats) æ¥å°†æ ‡å‡†å·®è½¬æ¢ä¸ºæ ‡å‡†è¯¯å·®ã€‚</li></ul><p>â€‹</p><h2 id="lassoå›å½’">6.2 Lassoå›å½’</h2><p>ä½¿ç”¨Lassoå›å½’æ¨¡å‹å¯¹æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œé‡‡ç”¨RMSE,MSEç­‰æŒ‡æ ‡å¯¹æ¨¡å‹æ€§èƒ½è¿›è¡Œè¯„ä»·</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python">model = <span class="hljs-string">&#x27;Lasso&#x27;</span><br><br>opt_models[model] = Lasso()<br>alph_range = np.arange(<span class="hljs-number">1e-4</span>,<span class="hljs-number">1e-3</span>,<span class="hljs-number">4e-5</span>)<br>param_grid = &#123;<span class="hljs-string">&#x27;alpha&#x27;</span>: alph_range&#125;<br><br>opt_models[model], cv_score, grid_results = train_model(opt_models[model], param_grid=param_grid, <br>                                              splits=splits, repeats=repeats)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br><br>plt.figure()<br>plt.errorbar(alph_range, <span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;mean_test_score&#x27;</span>]),<span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;std_test_score&#x27;</span>])/np.sqrt(splits*repeats))<br>plt.xlabel(<span class="hljs-string">&#x27;alpha&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;score&#x27;</span>)<br></code></pre></td></tr></table></figure><pre><code class="hljs">Fitting 25 folds for each of 23 candidates, totalling 575 fits----------------------Lasso(alpha=0.0001)----------------------score= 0.8965376022911505rmse= 0.3187174209135977mse= 0.10158079439381539cross_val: mean= 0.1062923603647315 , std= 0.007051871077111589Text(0, 0.5, &#39;score&#39;)</code></pre><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-07æ¨¡å‹èåˆ/output_40_2.png" /> â€‹</p><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-07æ¨¡å‹èåˆ/output_40_3-169517575505525.png" /></p><h2 id="elasticnet-å›å½’">6.3 ElasticNet å›å½’</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">model =<span class="hljs-string">&#x27;ElasticNet&#x27;</span><br>opt_models[model] = ElasticNet()<br><br>param_grid = &#123;<span class="hljs-string">&#x27;alpha&#x27;</span>: np.arange(<span class="hljs-number">1e-4</span>,<span class="hljs-number">1e-3</span>,<span class="hljs-number">1e-4</span>),<br>              <span class="hljs-string">&#x27;l1_ratio&#x27;</span>: np.arange(<span class="hljs-number">0.1</span>,<span class="hljs-number">1.0</span>,<span class="hljs-number">0.1</span>),<br>              <span class="hljs-string">&#x27;max_iter&#x27;</span>:[<span class="hljs-number">100000</span>]&#125;<br><br>opt_models[model], cv_score, grid_results = train_model(opt_models[model], param_grid=param_grid, <br>                                              splits=splits, repeats=<span class="hljs-number">1</span>)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br></code></pre></td></tr></table></figure><pre><code class="hljs">Fitting 5 folds for each of 81 candidates, totalling 405 fits----------------------ElasticNet(alpha=0.0001, l1_ratio=0.9, max_iter=100000)----------------------score= 0.8965268226984906rmse= 0.3187340238271355mse= 0.10159137794503677cross_val: mean= 0.10558612445735098 , std= 0.006931804612280223</code></pre><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-07æ¨¡å‹èåˆ/output_42_1-169517575505526.png" /></p><h2 id="svrå›å½’">6.4 SVRå›å½’</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python">model=<span class="hljs-string">&#x27;LinearSVR&#x27;</span><br>opt_models[model] = LinearSVR()<br><br>crange = np.arange(<span class="hljs-number">0.1</span>,<span class="hljs-number">1.0</span>,<span class="hljs-number">0.1</span>)<br>param_grid = &#123;<span class="hljs-string">&#x27;C&#x27;</span>:crange,<br>             <span class="hljs-string">&#x27;max_iter&#x27;</span>:[<span class="hljs-number">1000</span>]&#125;<br><br>opt_models[model], cv_score, grid_results = train_model(opt_models[model], param_grid=param_grid, <br>                                              splits=splits, repeats=repeats)<br><br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br><br>plt.figure()<br>plt.errorbar(crange, <span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;mean_test_score&#x27;</span>]),<span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;std_test_score&#x27;</span>])/np.sqrt(splits*repeats))<br>plt.xlabel(<span class="hljs-string">&#x27;C&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;score&#x27;</span>)<br><br></code></pre></td></tr></table></figure><pre><code class="hljs">Fitting 25 folds for each of 9 candidates, totalling 225 fits----------------------LinearSVR(C=0.4)----------------------score= 0.30645151350483657rmse= 0.8251880824335185mse= 0.680935371390307cross_val: mean= 0.9136545268818084 , std= 0.5904526473477509Text(0, 0.5, &#39;score&#39;)</code></pre><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-07æ¨¡å‹èåˆ/output_44_2.png" /> â€‹</p><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-07æ¨¡å‹èåˆ/output_44_3-169517575505529.png" /></p><h2 id="kè¿‘é‚»">6.5 Kè¿‘é‚»</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python">model = <span class="hljs-string">&#x27;KNeighbors&#x27;</span><br>opt_models[model] = KNeighborsRegressor()<br><br>param_grid = &#123;<span class="hljs-string">&#x27;n_neighbors&#x27;</span>:np.arange(<span class="hljs-number">3</span>,<span class="hljs-number">11</span>,<span class="hljs-number">1</span>)&#125;<br><br>opt_models[model], cv_score, grid_results = train_model(opt_models[model], param_grid=param_grid, <br>                                              splits=splits, repeats=<span class="hljs-number">1</span>)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br><br>plt.figure()<br>plt.errorbar(np.arange(<span class="hljs-number">3</span>,<span class="hljs-number">11</span>,<span class="hljs-number">1</span>), <span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;mean_test_score&#x27;</span>]),<span class="hljs-built_in">abs</span>(grid_results[<span class="hljs-string">&#x27;std_test_score&#x27;</span>])/np.sqrt(splits*<span class="hljs-number">1</span>))<br>plt.xlabel(<span class="hljs-string">&#x27;n_neighbors&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;score&#x27;</span>)<br></code></pre></td></tr></table></figure><pre><code class="hljs">Fitting 5 folds for each of 8 candidates, totalling 40 fits----------------------KNeighborsRegressor(n_neighbors=10)----------------------score= 0.7188007679386812rmse= 0.5254381453364182mse= 0.27608524457457456cross_val: mean= 0.35006829225711783 , std= 0.04461643597140863Text(0, 0.5, &#39;score&#39;)</code></pre><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-07æ¨¡å‹èåˆ/output_46_2.png" /> â€‹</p><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-07æ¨¡å‹èåˆ/output_46_3-169517575505530.png" /></p><h1 id="æ¨¡å‹èåˆ-boostingæ–¹æ³•">7 æ¨¡å‹èåˆ Boostingæ–¹æ³•</h1><p>æŠŠnä¸ªæ¯”è¾ƒå¼±çš„æ¨¡å‹ï¼Œç»„åˆæˆä¸€ä¸ªæ¯”è¾ƒå¼ºçš„æ¨¡å‹ã€‚ç±»ä¼¼äºéšæœºæ£®æ—ã€‚</p><h2 id="gbdt-æ¨¡å‹">7.1 GBDT æ¨¡å‹</h2><p>ä½¿ç”¨ Gradient Boostingæ¨¡å‹å¯¹æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œé‡‡ç”¨RMSE,MSEç­‰æŒ‡æ ‡å¯¹æ¨¡å‹æ€§èƒ½è¿›è¡Œè¯„ä»·</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">model = <span class="hljs-string">&#x27;GradientBoosting&#x27;</span><br>opt_models[model] = GradientBoostingRegressor()<br><br>param_grid = &#123;<span class="hljs-string">&#x27;n_estimators&#x27;</span>:[<span class="hljs-number">150</span>,<span class="hljs-number">250</span>,<span class="hljs-number">350</span>],<br>              <span class="hljs-string">&#x27;max_depth&#x27;</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],<br>              <span class="hljs-string">&#x27;min_samples_split&#x27;</span>:[<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>]&#125;<br><br>opt_models[model], cv_score, grid_results = train_model(opt_models[model], param_grid=param_grid, <br>                                              splits=splits, repeats=<span class="hljs-number">1</span>)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br></code></pre></td></tr></table></figure><pre><code class="hljs">Fitting 5 folds for each of 27 candidates, totalling 135 fits----------------------GradientBoostingRegressor(min_samples_split=6, n_estimators=250)----------------------score= 0.9677208586746097rmse= 0.17802275580033733mse= 0.03169210158274656cross_val: mean= 0.09849105444854306 , std= 0.014499755846113458</code></pre><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-07æ¨¡å‹èåˆ/output_48_1.png" /></p><h2 id="xgboostæ¨¡å‹">7.2 XGBoostæ¨¡å‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">model = <span class="hljs-string">&#x27;XGB&#x27;</span><br>opt_models[model] = XGBRegressor()<br><br>param_grid = &#123;<span class="hljs-string">&#x27;n_estimators&#x27;</span>:[<span class="hljs-number">100</span>,<span class="hljs-number">200</span>,<span class="hljs-number">300</span>,<span class="hljs-number">400</span>,<span class="hljs-number">500</span>],<br>              <span class="hljs-string">&#x27;max_depth&#x27;</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>],<br>             &#125;<br><br>opt_models[model], cv_score,grid_results = train_model(opt_models[model], param_grid=param_grid, <br>                                              splits=splits, repeats=<span class="hljs-number">1</span>)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br></code></pre></td></tr></table></figure><pre><code class="hljs">Fitting 5 folds for each of 15 candidates, totalling 75 fits----------------------XGBRegressor(base_score=0.5, booster=&#39;gbtree&#39;, callbacks=None,             colsample_bylevel=1, colsample_bynode=1, colsample_bytree=1,             early_stopping_rounds=None, enable_categorical=False,             eval_metric=None, gamma=0, gpu_id=-1, grow_policy=&#39;depthwise&#39;,             importance_type=None, interaction_constraints=&#39;&#39;,             learning_rate=0.300000012, max_bin=256, max_cat_to_onehot=4,             max_delta_step=0, max_depth=3, max_leaves=0, min_child_weight=1,             missing=nan, monotone_constraints=&#39;()&#39;, n_estimators=100, n_jobs=0,             num_parallel_tree=1, predictor=&#39;auto&#39;, random_state=0, reg_alpha=0,             reg_lambda=1, ...)----------------------score= 0.9702586237542838rmse= 0.1708815062712164mse= 0.029200489185519693cross_val: mean= 0.10472580078722642 , std= 0.006953064644267524</code></pre><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-07æ¨¡å‹èåˆ/output_50_1.png" /></p><h2 id="éšæœºæ£®æ—æ¨¡å‹">7.3 éšæœºæ£®æ—æ¨¡å‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python">model = <span class="hljs-string">&#x27;RandomForest&#x27;</span><br>opt_models[model] = RandomForestRegressor()<br><br>param_grid = &#123;<span class="hljs-string">&#x27;n_estimators&#x27;</span>:[<span class="hljs-number">100</span>,<span class="hljs-number">150</span>,<span class="hljs-number">200</span>],<br>              <span class="hljs-string">&#x27;max_features&#x27;</span>:[<span class="hljs-number">8</span>,<span class="hljs-number">12</span>,<span class="hljs-number">16</span>,<span class="hljs-number">20</span>,<span class="hljs-number">24</span>],<br>              <span class="hljs-string">&#x27;min_samples_split&#x27;</span>:[<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">6</span>]&#125;<br><br>opt_models[model], cv_score, grid_results = train_model(opt_models[model], param_grid=param_grid, <br>                                              splits=<span class="hljs-number">5</span>, repeats=<span class="hljs-number">1</span>)<br><br>cv_score.name = model<br>score_models = score_models.append(cv_score)<br></code></pre></td></tr></table></figure><pre><code class="hljs">Fitting 5 folds for each of 45 candidates, totalling 225 fits----------------------RandomForestRegressor(max_features=16, n_estimators=150)----------------------score= 0.9856162598758819rmse= 0.11883666269492393mse= 0.01412215240046713cross_val: mean= 0.10239417326207083 , std= 0.006602546408163406</code></pre><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-07æ¨¡å‹èåˆ/output_52_1.png" /></p><h1 id="å¤šæ¨¡å‹é¢„æµ‹-baggingæ–¹æ³•">8 å¤šæ¨¡å‹é¢„æµ‹ Baggingæ–¹æ³•</h1><p>Bagging é€šå¸¸å¯¹åˆ†ç±»ä»»åŠ¡ä½¿ç”¨ç®€å•æŠ•ç¥¨æ³•ï¼Œå¯¹å›å½’ä»»åŠ¡ä½¿ç”¨ç®€å•å¹³å‡æ³•.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">model_predict</span>(<span class="hljs-params">test_data,test_y=[],stack=<span class="hljs-literal">False</span></span>):<br>    <span class="hljs-comment">#poly_trans=PolynomialFeatures(degree=2)</span><br>    <span class="hljs-comment">#test_data1=poly_trans.fit_transform(test_data)</span><br>    <span class="hljs-comment">#test_data=MinMaxScaler().fit_transform(test_data)</span><br>    i=<span class="hljs-number">0</span><br>    y_predict_total=np.zeros((test_data.shape[<span class="hljs-number">0</span>],))<br>    <span class="hljs-keyword">for</span> model <span class="hljs-keyword">in</span> opt_models.keys():<br>        <span class="hljs-keyword">if</span> model!=<span class="hljs-string">&quot;LinearSVR&quot;</span> <span class="hljs-keyword">and</span> model!=<span class="hljs-string">&quot;KNeighbors&quot;</span>:<br>            y_predict=opt_models[model].predict(test_data)<br>            y_predict_total+=y_predict<br>            i+=<span class="hljs-number">1</span><br>        <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(test_y)&gt;<span class="hljs-number">0</span>:<br>            <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&#123;&#125;_mse:&quot;</span>.<span class="hljs-built_in">format</span>(model),mean_squared_error(y_predict,test_y))<br>    y_predict_mean=np.<span class="hljs-built_in">round</span>(y_predict_total/i,<span class="hljs-number">3</span>) <span class="hljs-comment"># æ¨¡å‹èåˆçš„mean</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(test_y)&gt;<span class="hljs-number">0</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;mean_mse:&quot;</span>,mean_squared_error(y_predict_mean,test_y))<br>    <span class="hljs-keyword">else</span>:<br>        y_predict_mean=pd.Series(y_predict_mean)<br>        <span class="hljs-keyword">return</span> y_predict_mean<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">model_predict(X_valid,y_valid)<br></code></pre></td></tr></table></figure><pre><code class="hljs">Ridge_mse: 0.137671879096647Lasso_mse: 0.13786142881850508ElasticNet_mse: 0.1378268557408619LinearSVR_mse: 0.1378268557408619KNeighbors_mse: 0.1378268557408619GradientBoosting_mse: 0.1345410925334943XGB_mse: 0.14010339249433112RandomForest_mse: 0.13880263283624247mean_mse: 0.12569497923875433</code></pre><h4 id="ä»£ç è§£é‡Š-3">ä»£ç è§£é‡Š</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">model_predict</span>(<span class="hljs-params">test_data, test_y=[], stack=<span class="hljs-literal">False</span></span>):<br>    i = <span class="hljs-number">0</span><br>    y_predict_total = np.zeros((test_data.shape[<span class="hljs-number">0</span>],))<br></code></pre></td></tr></table></figure><p>è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªåä¸º <code>model_predict</code> çš„å‡½æ•°ï¼Œå®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼š<code>test_data</code>ï¼ˆå¾…é¢„æµ‹çš„æµ‹è¯•æ•°æ®ï¼‰ï¼Œ<code>test_y</code>ï¼ˆå¯é€‰çš„çœŸå®æ ‡ç­¾ï¼‰ï¼Œ<code>stack</code>ï¼ˆæ˜¯å¦è¿›è¡Œå †å ï¼‰ã€‚å‡½æ•°ä¸­åˆå§‹åŒ–äº†å˜é‡ <code>i</code> å’Œ <code>y_predict_total</code>ï¼Œå…¶ä¸­ <code>i</code> ç”¨äºè®¡ç®—å‚ä¸é¢„æµ‹çš„æ¨¡å‹æ•°é‡ï¼Œ<code>y_predict_total</code> æ˜¯ä¸€ä¸ªå½¢çŠ¶ä¸ <code>test_data</code> è¡Œæ•°ç›¸åŒçš„å…¨é›¶æ•°ç»„ï¼Œç”¨äºç´¯åŠ æ¯ä¸ªæ¨¡å‹çš„é¢„æµ‹ç»“æœã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">for</span> model <span class="hljs-keyword">in</span> opt_models.keys():<br>    <span class="hljs-keyword">if</span> model != <span class="hljs-string">&quot;LinearSVR&quot;</span> <span class="hljs-keyword">and</span> model != <span class="hljs-string">&quot;KNeighbors&quot;</span>:<br>        y_predict = opt_models[model].predict(test_data)<br>        y_predict_total += y_predict<br>        i += <span class="hljs-number">1</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(test_y) &gt; <span class="hljs-number">0</span>:<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;&#123;&#125;_mse:&quot;</span>.<span class="hljs-built_in">format</span>(model), mean_squared_error(y_predict, test_y))<br></code></pre></td></tr></table></figure><p>è¿™éƒ¨åˆ†ä½¿ç”¨ <code>for</code> å¾ªç¯éå† <code>opt_models</code> å­—å…¸çš„é”®ã€‚è¿™ä¸ªå­—å…¸å­˜å‚¨äº†ä¼˜åŒ–åçš„æ¨¡å‹ã€‚åœ¨å¾ªç¯ä¸­ï¼Œæ ¹æ®ç‰¹å®šçš„æ¡ä»¶åˆ¤æ–­ï¼Œè·³è¿‡äº†ç‰¹å®šçš„ä¸¤ä¸ªæ¨¡å‹ï¼ˆ"LinearSVR" å’Œ "KNeighbors"ï¼‰ã€‚ç„¶åï¼Œä½¿ç”¨å¯¹åº”æ¨¡å‹ <code>model</code> å¯¹æµ‹è¯•æ•°æ® <code>test_data</code> è¿›è¡Œé¢„æµ‹ï¼Œå¹¶å°†é¢„æµ‹ç»“æœç´¯åŠ åˆ° <code>y_predict_total</code> ä¸­ã€‚åŒæ—¶ï¼Œæ›´æ–° <code>i</code> çš„å€¼ã€‚å¦‚æœæä¾›äº†çœŸå®æ ‡ç­¾ <code>test_y</code>ï¼Œåˆ™è®¡ç®—å¹¶è¾“å‡ºè¯¥æ¨¡å‹çš„å‡æ–¹è¯¯å·®ï¼ˆMSEï¼‰ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">y_predict_mean = np.<span class="hljs-built_in">round</span>(y_predict_total / i, <span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure><p>è¿™é‡Œè®¡ç®—äº†å¹³å‡é¢„æµ‹ç»“æœ <code>y_predict_mean</code>ï¼Œé€šè¿‡å°† <code>y_predict_total</code> é™¤ä»¥ <code>i</code> å¾—åˆ°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">if</span> <span class="hljs-built_in">len</span>(test_y) &gt; <span class="hljs-number">0</span>:<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;mean_mse:&quot;</span>, mean_squared_error(y_predict_mean, test_y))<br><span class="hljs-keyword">else</span>:<br>    y_predict_mean = pd.Series(y_predict_mean)<br>    <span class="hljs-keyword">return</span> y_predict_mean<br></code></pre></td></tr></table></figure><p>è¿™éƒ¨åˆ†é¦–å…ˆåˆ¤æ–­æ˜¯å¦æä¾›äº†çœŸå®æ ‡ç­¾ <code>test_y</code>ã€‚å¦‚æœæä¾›äº†ï¼Œè®¡ç®—å¹¶è¾“å‡ºå¹³å‡é¢„æµ‹ç»“æœ <code>y_predict_mean</code> å’ŒçœŸå®æ ‡ç­¾ä¹‹é—´çš„å‡æ–¹è¯¯å·®ï¼ˆMSEï¼‰ã€‚å¦‚æœæ²¡æœ‰æä¾›çœŸå®æ ‡ç­¾ï¼Œåˆ™å°† <code>y_predict_mean</code> è½¬æ¢ä¸º Pandas Series å¯¹è±¡å¹¶è¿”å›ã€‚</p><p>ä»£ç çš„æ•´ä½“æ€è·¯æ˜¯ï¼š</p><ul><li>éå†å­˜å‚¨äº†ä¼˜åŒ–åæ¨¡å‹çš„å­—å…¸ <code>opt_models</code> çš„é”®ã€‚</li><li>å¯¹äºæ¯ä¸ªæ¨¡å‹ï¼Œæ ¹æ®ç‰¹å®šæ¡ä»¶è¿›è¡Œé¢„æµ‹ï¼Œç„¶åå°†é¢„æµ‹ç»“æœç´¯åŠ åˆ° <code>y_predict_total</code> ä¸­ã€‚</li><li>è®¡ç®—å¹³å‡é¢„æµ‹ç»“æœå¹¶è¿”å›æˆ–è¾“å‡ºä¸çœŸå®æ ‡ç­¾çš„å‡æ–¹è¯¯å·®ï¼ˆå¦‚æœæä¾›äº†çœŸå®æ ‡ç­¾ï¼‰ã€‚</li></ul><p>ç›®çš„æ˜¯å¯¹ä¸€ç»„æ¨¡å‹è¿›è¡Œé¢„æµ‹ï¼Œå¹¶è®¡ç®—å®ƒä»¬çš„å¹³å‡é¢„æµ‹ç»“æœæˆ–ä¸çœŸå®æ ‡ç­¾çš„å‡æ–¹è¯¯å·®ã€‚å¦‚æœæ²¡æœ‰æä¾›çœŸå®æ ‡ç­¾ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªåŒ…å«å¹³å‡é¢„æµ‹ç»“æœçš„ Pandas Series å¯¹è±¡ã€‚</p><p>å¯ä»¥çœ‹åˆ°ï¼Œæ¨¡å‹èåˆé¢„æµ‹çš„MSEæœ€å°ï¼Œé¢„æµ‹æ€§èƒ½æœ€ä¼˜ã€‚</p><h1 id="å¤šæ¨¡å‹èåˆ-stackingæ–¹æ³•">9 å¤šæ¨¡å‹èåˆ Stackingæ–¹æ³•</h1><p>https://blog.csdn.net/m0_47256162/article/details/119979540</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> matplotlib.gridspec <span class="hljs-keyword">as</span> gridspec <span class="hljs-comment"># åˆ›å»ºå¤šç»´å­å›¾ç½‘æ ¼çš„æ¨¡å—</span><br><span class="hljs-keyword">import</span> itertools<br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LogisticRegression<br><span class="hljs-keyword">from</span> sklearn.svm <span class="hljs-keyword">import</span> SVC<br><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> RandomForestClassifier<br><br><span class="hljs-comment">##ä¸»è¦ä½¿ç”¨pip install mlxtendå®‰è£…mlxtend</span><br><span class="hljs-keyword">from</span> mlxtend.classifier <span class="hljs-keyword">import</span> EnsembleVoteClassifier<br><span class="hljs-keyword">from</span> mlxtend.data <span class="hljs-keyword">import</span> iris_data<br><span class="hljs-keyword">from</span> mlxtend.plotting <span class="hljs-keyword">import</span> plot_decision_regions<br>%matplotlib inline<br><br><span class="hljs-comment"># Initializing Classifiers</span><br>clf1 = LogisticRegression(random_state=<span class="hljs-number">0</span>)<br>clf2 = RandomForestClassifier(random_state=<span class="hljs-number">0</span>)<br>clf3 = SVC(random_state=<span class="hljs-number">0</span>, probability=<span class="hljs-literal">True</span>)<br>eclf = EnsembleVoteClassifier(clfs=[clf1, clf2, clf3], weights=[<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>], voting=<span class="hljs-string">&#x27;soft&#x27;</span>)<br><br><span class="hljs-comment"># Loading some example data</span><br>X, y = iris_data()<br>X = X[:,[<span class="hljs-number">0</span>, <span class="hljs-number">2</span>]]<br><br><span class="hljs-comment"># Plotting Decision Regions</span><br>gs = gridspec.GridSpec(<span class="hljs-number">2</span>, <span class="hljs-number">2</span>)<br>fig = plt.figure(figsize=(<span class="hljs-number">10</span>, <span class="hljs-number">8</span>))<br><br><span class="hljs-keyword">for</span> clf, lab, grd <span class="hljs-keyword">in</span> <span class="hljs-built_in">zip</span>([clf1, clf2, clf3, eclf],<br>                         [<span class="hljs-string">&#x27;Logistic Regression&#x27;</span>, <span class="hljs-string">&#x27;Random Forest&#x27;</span>, <span class="hljs-string">&#x27;RBF kernel SVM&#x27;</span>, <span class="hljs-string">&#x27;Ensemble&#x27;</span>],<br>                         itertools.product([<span class="hljs-number">0</span>, <span class="hljs-number">1</span>], repeat=<span class="hljs-number">2</span>)):<br>    clf.fit(X, y)<br>    ax = plt.subplot(gs[grd[<span class="hljs-number">0</span>], grd[<span class="hljs-number">1</span>]])<br>    fig = plot_decision_regions(X=X, y=y, clf=clf, legend=<span class="hljs-number">2</span>)<br>    plt.title(lab)<br>plt.show()<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-07æ¨¡å‹èåˆ/output_59_0.png" /> â€‹</p><h4 id="ä»£ç è§£é‡Š-4">ä»£ç è§£é‡Š</h4><p><code>EnsembleVoteClassifier()</code></p><p>ç”¨äºåˆ›å»ºé›†æˆæŠ•ç¥¨åˆ†ç±»å™¨ã€‚å®ƒå¯ä»¥å°†å¤šä¸ªåŸºåˆ†ç±»å™¨çš„é¢„æµ‹ç»“æœè¿›è¡ŒæŠ•ç¥¨ï¼Œä»è€Œå¾—åˆ°é›†æˆåˆ†ç±»å™¨çš„æœ€ç»ˆé¢„æµ‹ç»“æœã€‚</p><p>å‚æ•°åŒ…æ‹¬ï¼š</p><ul><li><code>clfs</code>ï¼šä¸€ä¸ªåˆ—è¡¨ï¼ŒåŒ…å«è¦é›†æˆçš„åŸºåˆ†ç±»å™¨å¯¹è±¡ã€‚</li><li><code>voting</code>ï¼šè®¾ç½®æŠ•ç¥¨æ–¹å¼ï¼Œå¯é€‰çš„å–å€¼ä¸º<code>'hard'</code>æˆ–<code>'soft'</code>ï¼Œåˆ†åˆ«è¡¨ç¤ºç¡¬æŠ•ç¥¨å’Œè½¯æŠ•ç¥¨ã€‚ç¡¬æŠ•ç¥¨æ˜¯æŒ‡æ ¹æ®å°‘æ•°æœä»å¤šæ•°çš„åŸåˆ™é€‰æ‹©æœ€å¤šæ•°é‡çš„ç±»åˆ«ä½œä¸ºé¢„æµ‹ç»“æœï¼Œè€Œè½¯æŠ•ç¥¨åˆ™æ˜¯æ ¹æ®åˆ†ç±»å™¨é¢„æµ‹çš„æ¦‚ç‡è¿›è¡ŒåŠ æƒè®¡ç®—ï¼Œå¹¶é€‰æ‹©æ¦‚ç‡åŠ æƒæ€»å’Œæœ€å¤§çš„ç±»åˆ«ä½œä¸ºé¢„æµ‹ç»“æœã€‚</li><li><code>weights</code>ï¼šä¸€ä¸ªå¯é€‰çš„åˆ—è¡¨ï¼Œç”¨äºæŒ‡å®šæ¯ä¸ªåŸºåˆ†ç±»å™¨çš„æƒé‡ã€‚å¦‚æœæœªæŒ‡å®šï¼Œåˆ™é»˜è®¤æ‰€æœ‰åˆ†ç±»å™¨çš„æƒé‡ç›¸ç­‰ã€‚</li></ul><hr /><ol type="1"><li><p><code>for clf, lab, grd in zip([clf1, clf2, clf3, eclf], ['Logistic Regression', 'Random Forest', 'RBF kernel SVM', 'Ensemble'], itertools.product([0, 1], repeat=2)):</code>ï¼š</p><ul><li><code>zip([clf1, clf2, clf3, eclf], ['Logistic Regression', 'Random Forest', 'RBF kernel SVM', 'Ensemble'], itertools.product([0, 1], repeat=2))</code>å°†åˆ†ç±»å™¨åˆ—è¡¨ã€æ ‡ç­¾åˆ—è¡¨å’Œç½‘æ ¼åæ ‡çš„ç¬›å¡å°”ç§¯æ‰“åŒ…åœ¨ä¸€èµ·ï¼Œè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ã€‚æ¯æ¬¡è¿­ä»£è¿”å›ä¸€ä¸ªå…ƒç»„<code>(clf, lab, grd)</code>ï¼Œå…¶ä¸­<code>clf</code>è¡¨ç¤ºåˆ†ç±»å™¨å¯¹è±¡ï¼Œ<code>lab</code>è¡¨ç¤ºæ ‡ç­¾ï¼Œ<code>grd</code>è¡¨ç¤ºç½‘æ ¼åæ ‡ã€‚</li><li><code>for clf, lab, grd in ...:</code>éå†è¿­ä»£å™¨ä¸­çš„æ¯ä¸ªå…ƒç»„ï¼Œä¾æ¬¡èµ‹å€¼ç»™å˜é‡<code>clf</code>ã€<code>lab</code>å’Œ<code>grd</code>ã€‚</li></ul></li><li><p><code>clf.fit(X, y)</code>ï¼šä½¿ç”¨å½“å‰åˆ†ç±»å™¨<code>clf</code>æ‹Ÿåˆæ•°æ®é›†<code>X</code>å’Œç›®æ ‡å˜é‡<code>y</code>ï¼Œå³è¿›è¡Œè®­ç»ƒã€‚</p></li><li><p><code>ax = plt.subplot(gs[grd[0], grd[1]])</code>ï¼šåœ¨ç½‘æ ¼è§„åˆ™å¯¹è±¡<code>gs</code>ä¸Šåˆ›å»ºä¸€ä¸ªå­å›¾å¯¹è±¡ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™å˜é‡<code>ax</code>ã€‚é€šè¿‡ç´¢å¼•<code>grd[0]</code>å’Œ<code>grd[1]</code>ï¼Œé€‰æ‹©ç½‘æ ¼è§„åˆ™ä¸­çš„åæ ‡ä½ç½®ã€‚</p></li><li><p><code>fig = plot_decision_regions(X=X, y=y, clf=clf, legend=2)</code>ï¼šä½¿ç”¨<code>mlxtend.plotting</code>æ¨¡å—çš„<code>plot_decision_regions</code>å‡½æ•°ï¼Œåœ¨å½“å‰å­å›¾ä¸Šç»˜åˆ¶å†³ç­–è¾¹ç•Œã€‚ä¼ å…¥å‚æ•°åŒ…æ‹¬è¾“å…¥æ•°æ®é›†<code>X</code>ã€ç›®æ ‡å˜é‡<code>y</code>ã€å½“å‰åˆ†ç±»å™¨<code>clf</code>ï¼Œä»¥åŠå°†å›¾ä¾‹æ”¾ç½®çš„ä½ç½®<code>legend=2</code>ã€‚ç»˜åˆ¶ç»“æœä¼šè¿”å›ä¸€ä¸ªå›¾å½¢å¯¹è±¡ï¼Œå°†å…¶èµ‹å€¼ç»™å˜é‡<code>fig</code>ã€‚</p></li><li><p><code>plt.title(lab)</code>ï¼šè®¾ç½®å½“å‰å­å›¾çš„æ ‡é¢˜ä¸ºç›¸åº”çš„æ ‡ç­¾<code>lab</code>ã€‚</p></li><li><p>æœ€åä¸€è¡Œ<code>plt.show()</code>ï¼šæ˜¾ç¤ºæ•´ä¸ªå›¾å½¢ï¼ŒåŒ…å«æ‰€æœ‰å­å›¾å’Œå†³ç­–è¾¹ç•Œã€‚</p></li></ol><p>é€šè¿‡è¿™æ®µä»£ç ï¼Œå¯ä»¥å®ç°å¯¹æ¯ä¸ªåˆ†ç±»å™¨çš„è®­ç»ƒå’Œå†³ç­–è¾¹ç•Œçš„ç»˜åˆ¶ï¼Œå¹¶åœ¨åŒä¸€ä¸ªå›¾å½¢ä¸­è¿›è¡Œæ¯”è¾ƒå’Œå±•ç¤ºã€‚æ¯ä¸ªåˆ†ç±»å™¨éƒ½ä¼šæœ‰ä¸€ä¸ªç‹¬ç«‹çš„å­å›¾ï¼Œæ˜¾ç¤ºç›¸åº”çš„å†³ç­–è¾¹ç•Œå’Œæ ‡ç­¾ã€‚æœ€åï¼Œé€šè¿‡<code>plt.show()</code>å°†æ•´ä¸ªå›¾å½¢æ˜¾ç¤ºå‡ºæ¥ã€‚</p><h1 id="å·¥ä¸šè’¸æ±½èµ›é¢˜å¤šæ¨¡å‹èåˆ-stackingæ–¹æ³•">10å·¥ä¸šè’¸æ±½èµ›é¢˜å¤šæ¨¡å‹èåˆ stackingæ–¹æ³•</h1><h2 id="åŸºç¡€ä»£ç ">10.1 åŸºç¡€ä»£ç </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> sparse<br><span class="hljs-keyword">import</span> xgboost<br><span class="hljs-keyword">import</span> lightgbm<br><br><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> RandomForestRegressor,AdaBoostRegressor,GradientBoostingRegressor,ExtraTreesRegressor<br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LinearRegression<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> mean_squared_error<br><br><br><span class="hljs-comment"># é’ˆå¯¹äºä¸€ä¸ªæ¨¡å‹è¿›è¡ŒKæŠ˜äº¤å‰éªŒè¯çš„å‡½æ•°</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">stacking_reg</span>(<span class="hljs-params">clf,train_x,train_y,test_x,clf_name,kf,label_split=<span class="hljs-literal">None</span></span>):<br>    train=np.zeros((train_x.shape[<span class="hljs-number">0</span>],<span class="hljs-number">1</span>))<br>    test=np.zeros((test_x.shape[<span class="hljs-number">0</span>],<span class="hljs-number">1</span>))<br>    test_pre=np.empty((folds,test_x.shape[<span class="hljs-number">0</span>],<span class="hljs-number">1</span>)) <span class="hljs-comment"># å¯¹è¯è¯¦è§£</span><br>    cv_scores=[]<br>    <span class="hljs-keyword">for</span> i,(train_index,test_index) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(kf.split(train_x,label_split)):       <br>        tr_x=train_x[train_index]<br>        tr_y=train_y[train_index]<br>        te_x=train_x[test_index]<br>        te_y = train_y[test_index]<br>        <span class="hljs-keyword">if</span> clf_name <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;rf&quot;</span>,<span class="hljs-string">&quot;ada&quot;</span>,<span class="hljs-string">&quot;gb&quot;</span>,<span class="hljs-string">&quot;et&quot;</span>,<span class="hljs-string">&quot;lr&quot;</span>,<span class="hljs-string">&quot;lsvc&quot;</span>,<span class="hljs-string">&quot;knn&quot;</span>]:<br>            clf.fit(tr_x,tr_y)<br>            pre=clf.predict(te_x).reshape(-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>) <span class="hljs-comment"># å¯¹è¯è¯¦è§£</span><br>            train[test_index]=pre<br>            test_pre[i,:]=clf.predict(test_x).reshape(-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)<br>            cv_scores.append(mean_squared_error(te_y, pre))<br>        <span class="hljs-keyword">elif</span> clf_name <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;xgb&quot;</span>]:<br>            train_matrix = clf.DMatrix(tr_x, label=tr_y, missing=-<span class="hljs-number">1</span>) <span class="hljs-comment"># å¯¹è¯è¯¦è§£</span><br>            test_matrix = clf.DMatrix(te_x, label=te_y, missing=-<span class="hljs-number">1</span>)<br>            z = clf.DMatrix(test_x, label=te_y, missing=-<span class="hljs-number">1</span>)<br>            params = &#123;<span class="hljs-string">&#x27;booster&#x27;</span>: <span class="hljs-string">&#x27;gbtree&#x27;</span>,<br>                      <span class="hljs-string">&#x27;eval_metric&#x27;</span>: <span class="hljs-string">&#x27;rmse&#x27;</span>,<br>                      <span class="hljs-string">&#x27;gamma&#x27;</span>: <span class="hljs-number">1</span>,<br>                      <span class="hljs-string">&#x27;min_child_weight&#x27;</span>: <span class="hljs-number">1.5</span>,<br>                      <span class="hljs-string">&#x27;max_depth&#x27;</span>: <span class="hljs-number">5</span>,<br>                      <span class="hljs-string">&#x27;lambda&#x27;</span>: <span class="hljs-number">10</span>,<br>                      <span class="hljs-string">&#x27;subsample&#x27;</span>: <span class="hljs-number">0.7</span>,<br>                      <span class="hljs-string">&#x27;colsample_bytree&#x27;</span>: <span class="hljs-number">0.7</span>,<br>                      <span class="hljs-string">&#x27;colsample_bylevel&#x27;</span>: <span class="hljs-number">0.7</span>,<br>                      <span class="hljs-string">&#x27;eta&#x27;</span>: <span class="hljs-number">0.03</span>,<br>                      <span class="hljs-string">&#x27;tree_method&#x27;</span>: <span class="hljs-string">&#x27;exact&#x27;</span>,<br>                      <span class="hljs-string">&#x27;seed&#x27;</span>: <span class="hljs-number">2017</span>,<br>                      <span class="hljs-string">&#x27;nthread&#x27;</span>: <span class="hljs-number">12</span><br>                      &#125;<br>            num_round = <span class="hljs-number">10000</span><br>            early_stopping_rounds = <span class="hljs-number">100</span><br>            watchlist = [(train_matrix, <span class="hljs-string">&#x27;train&#x27;</span>),<br>                         (test_matrix, <span class="hljs-string">&#x27;eval&#x27;</span>)<br>                         ]<br>            <span class="hljs-keyword">if</span> test_matrix:<br>                model = clf.train(params, train_matrix, num_boost_round=num_round,evals=watchlist,<br>                                  early_stopping_rounds=early_stopping_rounds<br>                                  )<br>                pre= model.predict(test_matrix,ntree_limit=model.best_ntree_limit).reshape(-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)<br>                train[test_index]=pre<br>                test_pre[i, :]= model.predict(z, ntree_limit=model.best_ntree_limit).reshape(-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)<br>                cv_scores.append(mean_squared_error(te_y, pre))<br><br>        <span class="hljs-keyword">elif</span> clf_name <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;lgb&quot;</span>]:<br>            train_matrix = clf.Dataset(tr_x, label=tr_y)<br>            test_matrix = clf.Dataset(te_x, label=te_y)<br>            <span class="hljs-comment">#z = clf.Dataset(test_x, label=te_y)</span><br>            <span class="hljs-comment">#z=test_x</span><br>            params = &#123;<br>                      <span class="hljs-string">&#x27;boosting_type&#x27;</span>: <span class="hljs-string">&#x27;gbdt&#x27;</span>,<br>                      <span class="hljs-string">&#x27;objective&#x27;</span>: <span class="hljs-string">&#x27;regression_l2&#x27;</span>,<br>                      <span class="hljs-string">&#x27;metric&#x27;</span>: <span class="hljs-string">&#x27;mse&#x27;</span>,<br>                      <span class="hljs-string">&#x27;min_child_weight&#x27;</span>: <span class="hljs-number">1.5</span>,<br>                      <span class="hljs-string">&#x27;num_leaves&#x27;</span>: <span class="hljs-number">2</span>**<span class="hljs-number">5</span>,<br>                      <span class="hljs-string">&#x27;lambda_l2&#x27;</span>: <span class="hljs-number">10</span>,<br>                      <span class="hljs-string">&#x27;subsample&#x27;</span>: <span class="hljs-number">0.7</span>,<br>                      <span class="hljs-string">&#x27;colsample_bytree&#x27;</span>: <span class="hljs-number">0.7</span>,<br>                      <span class="hljs-string">&#x27;colsample_bylevel&#x27;</span>: <span class="hljs-number">0.7</span>,<br>                      <span class="hljs-string">&#x27;learning_rate&#x27;</span>: <span class="hljs-number">0.03</span>,<br>                      <span class="hljs-string">&#x27;tree_method&#x27;</span>: <span class="hljs-string">&#x27;exact&#x27;</span>,<br>                      <span class="hljs-string">&#x27;seed&#x27;</span>: <span class="hljs-number">2017</span>,<br>                      <span class="hljs-string">&#x27;nthread&#x27;</span>: <span class="hljs-number">12</span>,<br>                      <span class="hljs-string">&#x27;silent&#x27;</span>: <span class="hljs-literal">True</span>,<br>                      &#125;<br>            num_round = <span class="hljs-number">10000</span><br>            callbacks=[lightgbm.log_evaluation(period=<span class="hljs-number">100</span>), lightgbm.early_stopping(stopping_rounds=<span class="hljs-number">100</span>)]<br>            <span class="hljs-keyword">if</span> test_matrix:<br>                model = clf.train(params, train_matrix,num_round,valid_sets=test_matrix,<br>                                  callbacks = callbacks<br>                                  )<br>                pre= model.predict(te_x,num_iteration=model.best_iteration).reshape(-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)<br>                train[test_index]=pre<br>                test_pre[i, :]= model.predict(test_x, num_iteration=model.best_iteration).reshape(-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)<br>                cv_scores.append(mean_squared_error(te_y, pre))<br>        <span class="hljs-keyword">else</span>:<br>            <span class="hljs-keyword">raise</span> IOError(<span class="hljs-string">&quot;Please add new clf.&quot;</span>)<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;%s now score is:&quot;</span>%clf_name,cv_scores)<br>    test[:]=test_pre.mean(axis=<span class="hljs-number">0</span>)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;%s_score_list:&quot;</span>%clf_name,cv_scores)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;%s_score_mean:&quot;</span>%clf_name,np.mean(cv_scores))<br>    <span class="hljs-keyword">return</span> train.reshape(-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>),test.reshape(-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)<br><br><br></code></pre></td></tr></table></figure><h4 id="ä»£ç è¯¦è§£">ä»£ç è¯¦è§£</h4><p>è¿™æ®µä»£ç æ˜¯ä¸€ä¸ªç”¨äºå †å ï¼ˆstackingï¼‰å›å½’æ¨¡å‹çš„å‡½æ•°ã€‚ä¸‹é¢æ˜¯å¯¹æ¯ä¸€è¡Œä»£ç çš„é€è¡Œè§£é‡Šï¼š</p><ol type="1"><li><p><code>def stacking_reg(clf,train_x,train_y,test_x,clf_name,kf,label_split=None):</code> è¿™ä¸ªå‡½æ•°å®šä¹‰äº†ä¸€ä¸ªå †å å›å½’æ¨¡å‹çš„å‡½æ•°ï¼Œå®ƒæ¥å—ä»¥ä¸‹å‚æ•°ï¼š</p><ul><li><code>clf</code>: ä½¿ç”¨çš„åŸºç¡€å›å½’æ¨¡å‹</li><li><code>train_x</code>: è®­ç»ƒé›†çš„ç‰¹å¾æ•°æ®</li><li><code>train_y</code>: è®­ç»ƒé›†çš„ç›®æ ‡æ•°æ®</li><li><code>test_x</code>: æµ‹è¯•é›†çš„ç‰¹å¾æ•°æ®</li><li><code>clf_name</code>: åŸºç¡€å›å½’æ¨¡å‹çš„åç§°</li><li><code>kf</code>: äº¤å‰éªŒè¯çš„è¿­ä»£å™¨</li><li><code>label_split</code>ï¼ˆå¯é€‰ï¼‰: æ ‡ç­¾çš„åˆ†å‰²æ–¹å¼</li></ul></li><li><p><code>train=np.zeros((train_x.shape[0],1))</code> åˆ›å»ºä¸€ä¸ªå½¢çŠ¶ä¸º<code>(è®­ç»ƒé›†æ ·æœ¬æ•°, 1)</code>çš„å…¨é›¶æ•°ç»„ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™å˜é‡<code>train</code>ã€‚è¿™ä¸ªæ•°ç»„ç”¨äºå­˜å‚¨è®­ç»ƒé›†åœ¨åŸºç¡€æ¨¡å‹ä¸Šçš„é¢„æµ‹ç»“æœã€‚</p></li><li><p><code>test=np.zeros((test_x.shape[0],1))</code> åˆ›å»ºä¸€ä¸ªå½¢çŠ¶ä¸º<code>(æµ‹è¯•é›†æ ·æœ¬æ•°, 1)</code>çš„å…¨é›¶æ•°ç»„ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™å˜é‡<code>test</code>ã€‚è¿™ä¸ªæ•°ç»„ç”¨äºå­˜å‚¨æµ‹è¯•é›†åœ¨åŸºç¡€æ¨¡å‹ä¸Šçš„é¢„æµ‹ç»“æœã€‚</p></li><li><p><code>test_pre=np.empty((folds,test_x.shape[0],1))</code> åˆ›å»ºä¸€ä¸ªå½¢çŠ¶ä¸º<code>(folds, æµ‹è¯•é›†æ ·æœ¬æ•°, 1)</code>çš„ç©ºæ•°ç»„ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™å˜é‡<code>test_pre</code>ã€‚è¿™ä¸ªæ•°ç»„ç”¨äºå­˜å‚¨æ¯æ¬¡äº¤å‰éªŒè¯ä¸­æµ‹è¯•é›†åœ¨åŸºç¡€æ¨¡å‹ä¸Šçš„é¢„æµ‹ç»“æœã€‚</p></li><li><p><code>cv_scores=[]</code> åˆ›å»ºä¸€ä¸ªç©ºåˆ—è¡¨ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™å˜é‡<code>cv_scores</code>ã€‚è¿™ä¸ªåˆ—è¡¨ç”¨äºå­˜å‚¨æ¯æ¬¡äº¤å‰éªŒè¯çš„å‡æ–¹è¯¯å·®ï¼ˆMSEï¼‰ã€‚</p></li><li><p><code>for i,(train_index,test_index) in enumerate(kf.split(train_x,label_split)):</code><br />éå†äº¤å‰éªŒè¯è¿­ä»£å™¨<code>kf</code>ç”Ÿæˆçš„è®­ç»ƒé›†å’ŒéªŒè¯é›†çš„ç´¢å¼•ã€‚æ¯æ¬¡è¿­ä»£ä¸­ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªè®­ç»ƒé›†çš„ç´¢å¼•å’Œä¸€ä¸ªéªŒè¯é›†çš„ç´¢å¼•ã€‚</p></li><li><p><code>tr_x=train_x[train_index]</code> æ ¹æ®ç´¢å¼•ä»è®­ç»ƒé›†ä¸­è·å–ç›¸åº”çš„ç‰¹å¾æ•°æ®ï¼Œå¹¶èµ‹å€¼ç»™å˜é‡<code>tr_x</code>ã€‚</p></li><li><p><code>tr_y=train_y[train_index]</code> æ ¹æ®ç´¢å¼•ä»è®­ç»ƒé›†ä¸­è·å–ç›¸åº”çš„ç›®æ ‡æ•°æ®ï¼Œå¹¶èµ‹å€¼ç»™å˜é‡<code>tr_y</code>ã€‚</p></li><li><p><code>te_x=train_x[test_index]</code> æ ¹æ®ç´¢å¼•ä»è®­ç»ƒé›†ä¸­è·å–ç›¸åº”çš„ç‰¹å¾æ•°æ®ï¼Œå¹¶èµ‹å€¼ç»™å˜é‡<code>te_x</code>ã€‚</p></li><li><p><code>te_y=train_y[test_index]</code> æ ¹æ®ç´¢å¼•ä»è®­ç»ƒé›†ä¸­è·å–ç›¸åº”çš„ç›®æ ‡æ•°æ®ï¼Œå¹¶èµ‹å€¼ç»™å˜é‡<code>te_y</code>ã€‚</p></li></ol><p>15-62. åŸºäºä¸åŒçš„åŸºç¡€å›å½’æ¨¡å‹è¿›è¡Œè®­ç»ƒå’Œé¢„æµ‹ï¼Œå¹¶è®¡ç®—å‡æ–¹è¯¯å·®ï¼ˆMSEï¼‰ï¼š</p><ul><li>å¦‚æœ<code>clf_name</code>åœ¨<code>["rf","ada","gb","et","lr","lsvc","knn"]</code>ä¸­ï¼Œä½¿ç”¨<code>clf.fit()</code>æ–¹æ³•è¿›è¡Œè®­ç»ƒï¼Œç„¶åä½¿ç”¨<code>clf.predict()</code>æ–¹æ³•è¿›è¡Œé¢„æµ‹ï¼Œå¹¶å°†é¢„æµ‹ç»“æœå­˜å‚¨åœ¨ç›¸åº”çš„å˜é‡ä¸­ã€‚</li><li>å¦‚æœ<code>clf_name</code>æ˜¯<code>"xgb"</code>ï¼Œåˆ™ä½¿ç”¨XGBooståº“è¿›è¡Œè®­ç»ƒå’Œé¢„æµ‹ã€‚å…·ä½“çš„å‚æ•°è®¾ç½®å’Œè®­ç»ƒè¿‡ç¨‹ä¸XGBoostç›¸å…³ã€‚</li><li>å¦‚æœ<code>clf_name</code>æ˜¯<code>"lgb"</code>ï¼Œåˆ™ä½¿ç”¨LightGBMåº“è¿›è¡Œè®­ç»ƒå’Œé¢„æµ‹ã€‚å…·ä½“çš„å‚æ•°è®¾ç½®å’Œè®­ç»ƒè¿‡ç¨‹ä¸LightGBMç›¸å…³ã€‚</li></ul><ol start="64" type="1"><li><p><code>raise IOError("Please add new clf.")</code> å¦‚æœ<code>clf_name</code>ä¸å±äºä»»ä½•å·²å®šä¹‰çš„æ¨¡å‹åç§°ï¼Œåˆ™æŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚</p></li><li><p><code>print("%s now score is:"%clf_name,cv_scores)</code> æ‰“å°å½“å‰åŸºç¡€å›å½’æ¨¡å‹çš„å‡æ–¹è¯¯å·®ã€‚</p></li><li><p><code>test[:]=test_pre.mean(axis=0)</code> è®¡ç®—æ‰€æœ‰äº¤å‰éªŒè¯æ¨¡å‹çš„é¢„æµ‹ç»“æœçš„å¹³å‡å€¼ï¼Œå¹¶å°†ç»“æœèµ‹å€¼ç»™<code>test</code>å˜é‡ã€‚</p></li></ol><p>70-71. åˆ†åˆ«æ‰“å°åŸºç¡€å›å½’æ¨¡å‹çš„å‡æ–¹è¯¯å·®åˆ—è¡¨å’Œå‡å€¼ã€‚</p><ol start="73" type="1"><li><code>return train.reshape(-1,1),test.reshape(-1,1)</code> è¿”å›è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„é¢„æµ‹ç»“æœï¼Œå…¶ä¸­é¢„æµ‹ç»“æœçš„å½¢çŠ¶ä¸º<code>(æ ·æœ¬æ•°, 1)</code>ã€‚</li></ol><hr /><p>15-62.ä»£ç æ˜¯ä¸€ä¸ªç”¨äºè®­ç»ƒå’Œè¯„ä¼°XGBoostæˆ–LightGBMæ¨¡å‹çš„é€»è¾‘ã€‚æˆ‘å°†é€è¡Œè§£é‡Šä»£ç çš„åŠŸèƒ½ï¼š</p><ol type="1"><li><p><code>train_matrix = clf.DMatrix(tr_x, label=tr_y, missing=-1)</code>: ä½¿ç”¨XGBooståº“çš„<code>DMatrix</code>æ–¹æ³•åˆ›å»ºè®­ç»ƒæ•°æ®çŸ©é˜µï¼Œå…¶ä¸­<code>tr_x</code>æ˜¯ç‰¹å¾æ•°æ®ï¼Œ<code>tr_y</code>æ˜¯ç›®æ ‡æ•°æ®ï¼Œ<code>missing=-1</code>è¡¨ç¤ºç¼ºå¤±å€¼çš„è¡¨ç¤ºæ–¹å¼ã€‚</p></li><li><p><code>test_matrix = clf.DMatrix(te_x, label=te_y, missing=-1)</code>: ä½¿ç”¨XGBooståº“çš„<code>DMatrix</code>æ–¹æ³•åˆ›å»ºæµ‹è¯•æ•°æ®çŸ©é˜µï¼Œå…¶ä¸­<code>te_x</code>æ˜¯ç‰¹å¾æ•°æ®ï¼Œ<code>te_y</code>æ˜¯ç›®æ ‡æ•°æ®ï¼Œ<code>missing=-1</code>è¡¨ç¤ºç¼ºå¤±å€¼çš„è¡¨ç¤ºæ–¹å¼ã€‚</p></li><li><p><code>z = clf.DMatrix(test_x, label=te_y, missing=-1)</code>: ä½¿ç”¨XGBooståº“çš„<code>DMatrix</code>æ–¹æ³•åˆ›å»ºç”¨äºé¢„æµ‹çš„æ•°æ®çŸ©é˜µï¼Œå…¶ä¸­<code>test_x</code>æ˜¯ç‰¹å¾æ•°æ®ï¼Œ<code>te_y</code>æ˜¯ç›®æ ‡æ•°æ®ï¼Œ<code>missing=-1</code>è¡¨ç¤ºç¼ºå¤±å€¼çš„è¡¨ç¤ºæ–¹å¼ã€‚</p></li><li><p><code>params = &#123;...&#125;</code>: è®¾ç½®XGBoostæ¨¡å‹çš„å‚æ•°ï¼ŒåŒ…æ‹¬æ ‘çš„æ·±åº¦ã€å­¦ä¹ ç‡ã€æ­£åˆ™åŒ–ç­‰ã€‚</p></li><li><p><code>num_round = 10000</code>: è®¾ç½®è¿­ä»£è½®æ•°ã€‚</p></li><li><p><code>early_stopping_rounds = 100</code>: è®¾ç½®åœ¨éªŒè¯é›†ä¸Šæ—©åœçš„è½®æ•°ã€‚</p></li><li><p><code>watchlist = [(train_matrix, 'train'), (test_matrix, 'eval')]</code>: åˆ›å»ºç›‘æ§åˆ—è¡¨ç”¨äºè·Ÿè¸ªè®­ç»ƒå’Œæµ‹è¯•é›†ä¸Šçš„æ€§èƒ½ã€‚</p></li><li><p><code>model = clf.train(params, train_matrix, num_boost_round=num_round,evals=watchlist,early_stopping_rounds=early_stopping_rounds)</code>: ä½¿ç”¨XGBooståº“çš„<code>train</code>æ–¹æ³•è®­ç»ƒæ¨¡å‹ï¼Œå…¶ä¸­<code>params</code>æ˜¯æ¨¡å‹å‚æ•°ï¼Œ<code>train_matrix</code>æ˜¯è®­ç»ƒæ•°æ®çŸ©é˜µï¼Œ<code>num_boost_round</code>æ˜¯è¿­ä»£è½®æ•°ï¼Œ<code>evals</code>æ˜¯ç›‘æ§åˆ—è¡¨ï¼Œ<code>early_stopping_rounds</code>æ˜¯æ—©åœçš„è½®æ•°ã€‚</p></li><li><p><code>pre = model.predict(test_matrix,ntree_limit=model.best_ntree_limit).reshape(-1,1)</code>: å¯¹æµ‹è¯•æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œå¹¶å°†ç»“æœé‡å¡‘ä¸ºä¸€åˆ—ã€‚</p></li><li><p><code>train[test_index] = pre</code>: å°†å¯¹æµ‹è¯•é›†çš„é¢„æµ‹ç»“æœä¿å­˜åœ¨è®­ç»ƒé›†çš„ç›¸åº”ä½ç½®ã€‚</p></li><li><p><code>test_pre[i, :] = model.predict(z, ntree_limit=model.best_ntree_limit).reshape(-1,1)</code>: å¯¹é¢„æµ‹æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œå¹¶å°†ç»“æœä¿å­˜åœ¨<code>test_pre</code>æ•°ç»„çš„ç¬¬iè¡Œã€‚</p></li><li><p><code>cv_scores.append(mean_squared_error(te_y, pre))</code>: å°†å¹³å‡å‡æ–¹è¯¯å·®ï¼ˆMSEï¼‰æ·»åŠ åˆ°äº¤å‰éªŒè¯åˆ†æ•°åˆ—è¡¨ä¸­ã€‚</p></li><li><p><code>train_matrix = clf.Dataset(tr_x, label=tr_y)</code>: ä½¿ç”¨LightGBMåº“çš„<code>Dataset</code>æ–¹æ³•åˆ›å»ºè®­ç»ƒæ•°æ®é›†ã€‚</p></li><li><p><code>test_matrix = clf.Dataset(te_x, label=te_y)</code>: ä½¿ç”¨LightGBMåº“çš„<code>Dataset</code>æ–¹æ³•åˆ›å»ºæµ‹è¯•æ•°æ®é›†ã€‚</p></li><li><p><code>params = &#123;...&#125;</code>: è®¾ç½®LightGBMæ¨¡å‹çš„å‚æ•°ï¼ŒåŒ…æ‹¬æ ‘çš„æ·±åº¦ã€å­¦ä¹ ç‡ã€æ­£åˆ™åŒ–ç­‰ã€‚</p></li><li><p><code>model = clf.train(params, train_matrix,num_round,valid_sets=test_matrix,early_stopping_rounds=early_stopping_rounds)</code>: ä½¿ç”¨LightGBMåº“çš„<code>train</code>æ–¹æ³•è®­ç»ƒæ¨¡å‹ï¼Œå…¶ä¸­<code>params</code>æ˜¯æ¨¡å‹å‚æ•°ï¼Œ<code>train_matrix</code>æ˜¯è®­ç»ƒæ•°æ®é›†ï¼Œ<code>num_round</code>æ˜¯è¿­ä»£è½®æ•°ï¼Œ<code>valid_sets</code>æ˜¯ç”¨äºéªŒè¯çš„æ•°æ®é›†ï¼Œ<code>early_stopping_rounds</code>æ˜¯æ—©åœçš„è½®æ•°ã€‚</p></li><li><p><code>pre = model.predict(te_x,num_iteration=model.best_iteration).reshape(-1,1)</code>: å¯¹æµ‹è¯•æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œå¹¶å°†ç»“æœé‡å¡‘ä¸ºä¸€åˆ—ã€‚</p></li><li><p><code>train[test_index] = pre</code>: å°†å¯¹æµ‹è¯•é›†çš„é¢„æµ‹ç»“æœä¿å­˜åœ¨è®­ç»ƒé›†çš„ç›¸åº”ä½ç½®ã€‚</p></li><li><p><code>test_pre[i, :] = model.predict(test_x, num_iteration=model.best_iteration).reshape(-1,1)</code>: å¯¹é¢„æµ‹æ•°æ®è¿›è¡Œé¢„æµ‹ï¼Œå¹¶å°†ç»“æœä¿å­˜åœ¨<code>test_pre</code>æ•°ç»„çš„ç¬¬iè¡Œã€‚</p></li><li><p><code>cv_scores.append(mean_squared_error(te_y, pre))</code>: å°†å¹³å‡å‡æ–¹è¯¯å·®ï¼ˆMSEï¼‰æ·»åŠ åˆ°äº¤å‰éªŒè¯åˆ†æ•°åˆ—è¡¨ä¸­ã€‚</p></li></ol><h4 id="ä»£ç æ•´ä½“æ€è·¯">ä»£ç æ•´ä½“æ€è·¯</h4><ol type="1"><li><p>åˆ›å»ºä¸€äº›ç©ºæ•°ç»„å’Œå˜é‡ï¼ŒåŒ…æ‹¬<code>train</code>ï¼ˆè®­ç»ƒé›†é¢„æµ‹ç»“æœï¼‰ã€<code>test</code>ï¼ˆæµ‹è¯•é›†é¢„æµ‹ç»“æœï¼‰ã€<code>test_pre</code>ï¼ˆæµ‹è¯•é›†åœ¨å„æŠ˜äº¤å‰éªŒè¯ä¸‹çš„é¢„æµ‹ç»“æœï¼‰å’Œ<code>cv_scores</code>ï¼ˆäº¤å‰éªŒè¯å¾—åˆ†åˆ—è¡¨ï¼‰ã€‚</p></li><li><p>å¯¹äºäº¤å‰éªŒè¯çš„æ¯ä¸€æŠ˜ï¼Œè¿›è¡Œä»¥ä¸‹æ“ä½œï¼š</p><ul><li>æ ¹æ®å½“å‰æŠ˜çš„ç´¢å¼•ï¼Œè·å–è®­ç»ƒé›†çš„ç´¢å¼•å’Œæµ‹è¯•é›†çš„ç´¢å¼•ã€‚</li><li>æ ¹æ®ç´¢å¼•ä»è®­ç»ƒé›†å’Œæ ‡ç­¾ä¸­æŠ½å–å¯¹åº”çš„æ ·æœ¬å’Œæ ‡ç­¾ã€‚</li><li>å¦‚æœåˆ†ç±»å™¨åç§°åœ¨['rf'ã€'ada'ã€'gb'ã€'et'ã€'lr'ã€'lsvc'ã€'knn']ä¸­ï¼Œåˆ™ä½¿ç”¨åˆ†ç±»å™¨è®­ç»ƒæ¨¡å‹ï¼Œè¿›è¡Œé¢„æµ‹ï¼Œå¹¶å°†é¢„æµ‹ç»“æœå­˜å‚¨åœ¨ç›¸åº”çš„æ•°ç»„ä¸­ã€‚</li><li>å¦‚æœåˆ†ç±»å™¨åç§°ä¸º'xgb'ï¼Œåˆ™ä½¿ç”¨XGBoostè®­ç»ƒæ¨¡å‹ï¼Œè¿›è¡Œé¢„æµ‹ï¼Œå¹¶å°†é¢„æµ‹ç»“æœå­˜å‚¨åœ¨ç›¸åº”çš„æ•°ç»„ä¸­ã€‚</li><li>å¦‚æœåˆ†ç±»å™¨åç§°ä¸º'lgb'ï¼Œåˆ™ä½¿ç”¨LightGBMè®­ç»ƒæ¨¡å‹ï¼Œè¿›è¡Œé¢„æµ‹ï¼Œå¹¶å°†é¢„æµ‹ç»“æœå­˜å‚¨åœ¨ç›¸åº”çš„æ•°ç»„ä¸­ã€‚</li><li>è®¡ç®—å½“å‰æŠ˜çš„å‡æ–¹è¯¯å·®å¾—åˆ†ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°cv_scoresåˆ—è¡¨ä¸­ã€‚</li></ul></li><li><p>è®¡ç®—æ‰€æœ‰æŠ˜çš„å¹³å‡é¢„æµ‹ç»“æœï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨testæ•°ç»„ä¸­ã€‚</p></li><li><p>æ‰“å°åˆ†ç±»å™¨åç§°ã€äº¤å‰éªŒè¯å¾—åˆ†åˆ—è¡¨å’Œå¹³å‡å¾—åˆ†ã€‚</p></li><li><p>å°†trainå’Œtestæ•°ç»„é‡æ–°æ•´å½¢ä¸ºåˆ—å‘é‡ï¼Œå¹¶è¿”å›å®ƒä»¬ä½œä¸ºå‡½æ•°çš„è¾“å‡ºã€‚</p></li></ol><h2 id="æ¨¡å‹èåˆstackingåŸºå­¦ä¹ å™¨">10.2 æ¨¡å‹èåˆstackingåŸºå­¦ä¹ å™¨</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">rf_reg</span>(<span class="hljs-params">x_train, y_train, x_valid, kf, label_split=<span class="hljs-literal">None</span></span>):<br>    randomforest = RandomForestRegressor(n_estimators=<span class="hljs-number">600</span>, max_depth=<span class="hljs-number">20</span>, n_jobs=-<span class="hljs-number">1</span>, random_state=<span class="hljs-number">2017</span>, max_features=<span class="hljs-string">&quot;auto&quot;</span>,verbose=<span class="hljs-number">1</span>)<br>    rf_train, rf_test = stacking_reg(randomforest, x_train, y_train, x_valid, <span class="hljs-string">&quot;rf&quot;</span>, kf, label_split=label_split)<br>    <span class="hljs-keyword">return</span> rf_train, rf_test,<span class="hljs-string">&quot;rf_reg&quot;</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">ada_reg</span>(<span class="hljs-params">x_train, y_train, x_valid, kf, label_split=<span class="hljs-literal">None</span></span>):<br>    adaboost = AdaBoostRegressor(n_estimators=<span class="hljs-number">30</span>, random_state=<span class="hljs-number">2017</span>, learning_rate=<span class="hljs-number">0.01</span>)<br>    ada_train, ada_test = stacking_reg(adaboost, x_train, y_train, x_valid, <span class="hljs-string">&quot;ada&quot;</span>, kf, label_split=label_split)<br>    <span class="hljs-keyword">return</span> ada_train, ada_test,<span class="hljs-string">&quot;ada_reg&quot;</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">gb_reg</span>(<span class="hljs-params">x_train, y_train, x_valid, kf, label_split=<span class="hljs-literal">None</span></span>):<br>    gbdt = GradientBoostingRegressor(learning_rate=<span class="hljs-number">0.04</span>, n_estimators=<span class="hljs-number">100</span>, subsample=<span class="hljs-number">0.8</span>, random_state=<span class="hljs-number">2017</span>,max_depth=<span class="hljs-number">5</span>,verbose=<span class="hljs-number">1</span>)<br>    gbdt_train, gbdt_test = stacking_reg(gbdt, x_train, y_train, x_valid, <span class="hljs-string">&quot;gb&quot;</span>, kf, label_split=label_split)<br>    <span class="hljs-keyword">return</span> gbdt_train, gbdt_test,<span class="hljs-string">&quot;gb_reg&quot;</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">et_reg</span>(<span class="hljs-params">x_train, y_train, x_valid, kf, label_split=<span class="hljs-literal">None</span></span>):<br>    extratree = ExtraTreesRegressor(n_estimators=<span class="hljs-number">600</span>, max_depth=<span class="hljs-number">35</span>, max_features=<span class="hljs-string">&quot;auto&quot;</span>, n_jobs=-<span class="hljs-number">1</span>, random_state=<span class="hljs-number">2017</span>,verbose=<span class="hljs-number">1</span>)<br>    et_train, et_test = stacking_reg(extratree, x_train, y_train, x_valid, <span class="hljs-string">&quot;et&quot;</span>, kf, label_split=label_split)<br>    <span class="hljs-keyword">return</span> et_train, et_test,<span class="hljs-string">&quot;et_reg&quot;</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">lr_reg</span>(<span class="hljs-params">x_train, y_train, x_valid, kf, label_split=<span class="hljs-literal">None</span></span>):<br>    lr_reg=LinearRegression(n_jobs=-<span class="hljs-number">1</span>)<br>    lr_train, lr_test = stacking_reg(lr_reg, x_train, y_train, x_valid, <span class="hljs-string">&quot;lr&quot;</span>, kf, label_split=label_split)<br>    <span class="hljs-keyword">return</span> lr_train, lr_test, <span class="hljs-string">&quot;lr_reg&quot;</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">xgb_reg</span>(<span class="hljs-params">x_train, y_train, x_valid, kf, label_split=<span class="hljs-literal">None</span></span>):<br>    xgb_train, xgb_test = stacking_reg(xgboost, x_train, y_train, x_valid, <span class="hljs-string">&quot;xgb&quot;</span>, kf, label_split=label_split)<br>    <span class="hljs-keyword">return</span> xgb_train, xgb_test,<span class="hljs-string">&quot;xgb_reg&quot;</span><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">lgb_reg</span>(<span class="hljs-params">x_train, y_train, x_valid, kf, label_split=<span class="hljs-literal">None</span></span>):<br>    lgb_train, lgb_test = stacking_reg(lightgbm, x_train, y_train, x_valid, <span class="hljs-string">&quot;lgb&quot;</span>, kf, label_split=label_split)<br>    <span class="hljs-keyword">return</span> lgb_train, lgb_test,<span class="hljs-string">&quot;lgb_reg&quot;</span><br></code></pre></td></tr></table></figure><h4 id="ä»£ç è§£é‡Š-5">ä»£ç è§£é‡Š</h4><ol type="1"><li><p><code>rf_reg</code> å‡½æ•°ï¼š</p><ul><li>é¦–å…ˆï¼Œä½¿ç”¨éšæœºæ£®æ—å›å½’å™¨ <code>RandomForestRegressor</code> åˆ›å»ºä¸€ä¸ªéšæœºæ£®æ—æ¨¡å‹ã€‚è®¾ç½®äº†ä¸€äº›å‚æ•°ï¼Œå¦‚æ ‘çš„æ•°é‡(<code>n_estimators</code>)ã€æœ€å¤§æ·±åº¦(<code>max_depth</code>)ã€å¹¶è¡Œè¿ç®—çš„CPUæ ¸æ•°(<code>n_jobs</code>)ç­‰ã€‚</li><li>æ¥ä¸‹æ¥ï¼Œè°ƒç”¨ <code>stacking_reg</code> å‡½æ•°ï¼Œå°†åˆ›å»ºçš„éšæœºæ£®æ—æ¨¡å‹ä½œä¸ºåŸºå­¦ä¹ å™¨è¿›è¡Œå †å é›†æˆå­¦ä¹ ã€‚è¯¥å‡½æ•°çš„ä½œç”¨æ˜¯å¯¹è®­ç»ƒæ•°æ® <code>x_train</code> è¿›è¡Œ K æŠ˜äº¤å‰éªŒè¯ï¼Œå¹¶è¿”å›åŸºå­¦ä¹ å™¨åœ¨è®­ç»ƒé›†å’ŒéªŒè¯é›†ä¸Šçš„é¢„æµ‹ç»“æœã€‚</li><li>æœ€åï¼Œè¿”å›è®­ç»ƒé›†çš„é¢„æµ‹ç»“æœ <code>rf_train</code>ã€éªŒè¯é›†çš„é¢„æµ‹ç»“æœ <code>rf_test</code> å’Œæ ‡è¯†ç¬¦å­—ç¬¦ä¸² <code>"rf_reg"</code>ã€‚</li></ul></li><li><p><code>ada_reg</code> å‡½æ•°ï¼š</p><ul><li>é¦–å…ˆï¼Œä½¿ç”¨ AdaBoost å›å½’å™¨ <code>AdaBoostRegressor</code> åˆ›å»ºä¸€ä¸ª AdaBoost æ¨¡å‹ã€‚è®¾ç½®äº†ä¸€äº›å‚æ•°ï¼Œå¦‚åŸºå­¦ä¹ å™¨çš„æ•°é‡(<code>n_estimators</code>)ã€å­¦ä¹ ç‡(<code>learning_rate</code>)ç­‰ã€‚</li><li>æ¥ä¸‹æ¥ï¼Œè°ƒç”¨ <code>stacking_reg</code> å‡½æ•°ï¼Œå°†åˆ›å»ºçš„ AdaBoost æ¨¡å‹ä½œä¸ºåŸºå­¦ä¹ å™¨è¿›è¡Œå †å é›†æˆå­¦ä¹ ã€‚è¯¥å‡½æ•°çš„ä½œç”¨å’Œä¸Šè¿°ç›¸åŒï¼Œå¯¹è®­ç»ƒæ•°æ® <code>x_train</code> è¿›è¡Œ K æŠ˜äº¤å‰éªŒè¯ï¼Œå¹¶è¿”å›åŸºå­¦ä¹ å™¨åœ¨è®­ç»ƒé›†å’ŒéªŒè¯é›†ä¸Šçš„é¢„æµ‹ç»“æœã€‚</li><li>æœ€åï¼Œè¿”å›è®­ç»ƒé›†çš„é¢„æµ‹ç»“æœ <code>ada_train</code>ã€éªŒè¯é›†çš„é¢„æµ‹ç»“æœ <code>ada_test</code> å’Œæ ‡è¯†ç¬¦å­—ç¬¦ä¸² <code>"ada_reg"</code>ã€‚</li></ul></li></ol><p>Â·Â·Â·Â·Â·Â·</p><p>ä»£ç çš„ç›®çš„æ˜¯åˆ›å»ºä¸åŒçš„åŸºå­¦ä¹ å™¨ï¼Œå¹¶å°†å…¶ä½œä¸ºåŸºç¡€æ¨¡å‹è¿›è¡Œå †å é›†æˆå­¦ä¹ ã€‚é€šè¿‡å †å é›†æˆå­¦ä¹ ï¼Œå¯ä»¥åˆ©ç”¨å„ä¸ªåŸºå­¦ä¹ å™¨çš„ä¼˜åŠ¿ï¼Œæé«˜æ•´ä½“æ¨¡å‹çš„é¢„æµ‹æ€§èƒ½ã€‚æœ€åï¼Œè¿”å›è®­ç»ƒé›†å’ŒéªŒè¯é›†ä¸Šçš„é¢„æµ‹ç»“æœä»¥åŠæ ‡è¯†ç¬¦å­—ç¬¦ä¸²ã€‚</p><h2 id="å®šä¹‰æ¨¡å‹èåˆstackingé¢„æµ‹å‡½æ•°">10.3 å®šä¹‰æ¨¡å‹èåˆstackingé¢„æµ‹å‡½æ•°</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">stacking_pred</span>(<span class="hljs-params">x_train, y_train, x_valid, kf, clf_list, label_split=<span class="hljs-literal">None</span>, clf_fin=<span class="hljs-string">&quot;lgb&quot;</span>, if_concat_origin=<span class="hljs-literal">True</span></span>):<br>    <span class="hljs-comment"># ç¬¬ä¸€å±‚-ç»“æœä¸ºtrain test</span><br>    <span class="hljs-keyword">for</span> k, clf_list <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(clf_list):<br>        clf_list = [clf_list]<br>        column_list = []<br>        train_data_list=[]<br>        test_data_list=[]<br>        <span class="hljs-keyword">for</span> clf <span class="hljs-keyword">in</span> clf_list:<br>            train_data,test_data,clf_name=clf(x_train, y_train, x_valid, kf, label_split=label_split)<br>            train_data_list.append(train_data)<br>            test_data_list.append(test_data)<br>            column_list.append(<span class="hljs-string">&quot;clf_%s&quot;</span> % (clf_name))<br>    train = np.concatenate(train_data_list, axis=<span class="hljs-number">1</span>)<br>    test = np.concatenate(test_data_list, axis=<span class="hljs-number">1</span>)<br>     <br>    <span class="hljs-comment"># æ˜¯å¦é€‰æ‹©åŸå§‹ç‰¹å¾æ‹¼æ¥</span><br>    <span class="hljs-keyword">if</span> if_concat_origin:<br>        train = np.concatenate([x_train, train], axis=<span class="hljs-number">1</span>)<br>        test = np.concatenate([x_valid, test], axis=<span class="hljs-number">1</span>)<br>    <span class="hljs-built_in">print</span>(x_train.shape)<br>    <span class="hljs-built_in">print</span>(train.shape)<br>    <span class="hljs-built_in">print</span>(clf_name)<br>    <span class="hljs-built_in">print</span>(clf_name <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;lgb&quot;</span>])<br>    <span class="hljs-comment"># ç¬¬äºŒå±‚</span><br>    <span class="hljs-keyword">if</span> clf_fin <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;rf&quot;</span>,<span class="hljs-string">&quot;ada&quot;</span>,<span class="hljs-string">&quot;gb&quot;</span>,<span class="hljs-string">&quot;et&quot;</span>,<span class="hljs-string">&quot;lr&quot;</span>,<span class="hljs-string">&quot;lsvc&quot;</span>,<span class="hljs-string">&quot;knn&quot;</span>]:<br>        <span class="hljs-keyword">if</span> clf_fin <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;rf&quot;</span>]:<br>            clf = RandomForestRegressor(n_estimators=<span class="hljs-number">600</span>, max_depth=<span class="hljs-number">20</span>, n_jobs=-<span class="hljs-number">1</span>, random_state=<span class="hljs-number">2017</span>, max_features=<span class="hljs-string">&quot;auto&quot;</span>,verbose=<span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">elif</span> clf_fin <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;ada&quot;</span>]:<br>            clf = AdaBoostRegressor(n_estimators=<span class="hljs-number">30</span>, random_state=<span class="hljs-number">2017</span>, learning_rate=<span class="hljs-number">0.01</span>)<br>        <span class="hljs-keyword">elif</span> clf_fin <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;gb&quot;</span>]:<br>            clf = GradientBoostingRegressor(learning_rate=<span class="hljs-number">0.04</span>, n_estimators=<span class="hljs-number">100</span>, subsample=<span class="hljs-number">0.8</span>, random_state=<span class="hljs-number">2017</span>,max_depth=<span class="hljs-number">5</span>,verbose=<span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">elif</span> clf_fin <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;et&quot;</span>]:<br>            clf = ExtraTreesRegressor(n_estimators=<span class="hljs-number">600</span>, max_depth=<span class="hljs-number">35</span>, max_features=<span class="hljs-string">&quot;auto&quot;</span>, n_jobs=-<span class="hljs-number">1</span>, random_state=<span class="hljs-number">2017</span>,verbose=<span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">elif</span> clf_fin <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;lr&quot;</span>]:<br>            clf = LinearRegression(n_jobs=-<span class="hljs-number">1</span>)<br>        clf.fit(train, y_train)<br>        pre = clf.predict(test).reshape(-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> pred<br>    <span class="hljs-keyword">elif</span> clf_fin <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;xgb&quot;</span>]:<br>        clf = xgboost<br>        train_matrix = clf.DMatrix(train, label=y_train, missing=-<span class="hljs-number">1</span>)<br>        test_matrix = clf.DMatrix(train, label=y_train, missing=-<span class="hljs-number">1</span>)<br>        params = &#123;<span class="hljs-string">&#x27;booster&#x27;</span>: <span class="hljs-string">&#x27;gbtree&#x27;</span>,<br>                  <span class="hljs-string">&#x27;eval_metric&#x27;</span>: <span class="hljs-string">&#x27;rmse&#x27;</span>,<br>                  <span class="hljs-string">&#x27;gamma&#x27;</span>: <span class="hljs-number">1</span>,<br>                  <span class="hljs-string">&#x27;min_child_weight&#x27;</span>: <span class="hljs-number">1.5</span>,<br>                  <span class="hljs-string">&#x27;max_depth&#x27;</span>: <span class="hljs-number">5</span>,<br>                  <span class="hljs-string">&#x27;lambda&#x27;</span>: <span class="hljs-number">10</span>,<br>                  <span class="hljs-string">&#x27;subsample&#x27;</span>: <span class="hljs-number">0.7</span>,<br>                  <span class="hljs-string">&#x27;colsample_bytree&#x27;</span>: <span class="hljs-number">0.7</span>,<br>                  <span class="hljs-string">&#x27;colsample_bylevel&#x27;</span>: <span class="hljs-number">0.7</span>,<br>                  <span class="hljs-string">&#x27;eta&#x27;</span>: <span class="hljs-number">0.03</span>,<br>                  <span class="hljs-string">&#x27;tree_method&#x27;</span>: <span class="hljs-string">&#x27;exact&#x27;</span>,<br>                  <span class="hljs-string">&#x27;seed&#x27;</span>: <span class="hljs-number">2017</span>,<br>                  <span class="hljs-string">&#x27;nthread&#x27;</span>: <span class="hljs-number">12</span><br>                  &#125;<br>        num_round = <span class="hljs-number">10000</span><br>        <span class="hljs-comment">#early_stopping_rounds = 100</span><br>        callbacks=[lightgbm.log_evaluation(period=<span class="hljs-number">100</span>), lightgbm.early_stopping(stopping_rounds=<span class="hljs-number">100</span>)]<br>        watchlist = [(train_matrix, <span class="hljs-string">&#x27;train&#x27;</span>),<br>                     (test_matrix, <span class="hljs-string">&#x27;eval&#x27;</span>)<br>                     ]<br>        model = clf.train(params, train_matrix, num_boost_round=num_round,evals=watchlist,<br>                          <span class="hljs-comment">#early_stopping_rounds=early_stopping_rounds</span><br>                          callbacks=callbacks<br>                          )<br>        pre = model.predict(test,ntree_limit=model.best_ntree_limit).reshape(-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)<br>        <span class="hljs-keyword">return</span> pre<br>    <span class="hljs-keyword">elif</span> clf_fin <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;lgb&quot;</span>]:<br>        <span class="hljs-built_in">print</span>(clf_name)<br>        clf = lightgbm<br>        train_matrix = clf.Dataset(train, label=y_train)<br>        test_matrix = clf.Dataset(train, label=y_train)<br>        params = &#123;<br>                  <span class="hljs-string">&#x27;boosting_type&#x27;</span>: <span class="hljs-string">&#x27;gbdt&#x27;</span>,<br>                  <span class="hljs-string">&#x27;objective&#x27;</span>: <span class="hljs-string">&#x27;regression_l2&#x27;</span>,<br>                  <span class="hljs-string">&#x27;metric&#x27;</span>: <span class="hljs-string">&#x27;mse&#x27;</span>,<br>                  <span class="hljs-string">&#x27;min_child_weight&#x27;</span>: <span class="hljs-number">1.5</span>,<br>                  <span class="hljs-string">&#x27;num_leaves&#x27;</span>: <span class="hljs-number">2</span>**<span class="hljs-number">5</span>,<br>                  <span class="hljs-string">&#x27;lambda_l2&#x27;</span>: <span class="hljs-number">10</span>,<br>                  <span class="hljs-string">&#x27;subsample&#x27;</span>: <span class="hljs-number">0.7</span>,<br>                  <span class="hljs-string">&#x27;colsample_bytree&#x27;</span>: <span class="hljs-number">0.7</span>,<br>                  <span class="hljs-string">&#x27;colsample_bylevel&#x27;</span>: <span class="hljs-number">0.7</span>,<br>                  <span class="hljs-string">&#x27;learning_rate&#x27;</span>: <span class="hljs-number">0.03</span>,<br>                  <span class="hljs-string">&#x27;tree_method&#x27;</span>: <span class="hljs-string">&#x27;exact&#x27;</span>,<br>                  <span class="hljs-string">&#x27;seed&#x27;</span>: <span class="hljs-number">2017</span>,<br>                  <span class="hljs-string">&#x27;nthread&#x27;</span>: <span class="hljs-number">12</span>,<br>                  <span class="hljs-string">&#x27;silent&#x27;</span>: <span class="hljs-literal">True</span>,<br>                  &#125;<br>        num_round = <span class="hljs-number">10000</span><br>        <span class="hljs-comment">#early_stopping_rounds = 100</span><br>        callbacks=[lightgbm.log_evaluation(period=<span class="hljs-number">100</span>), lightgbm.early_stopping(stopping_rounds=<span class="hljs-number">100</span>)]<br>        model = clf.train(params, train_matrix,num_round,valid_sets=test_matrix,<br>                          <span class="hljs-comment">#early_stopping_rounds=early_stopping_rounds</span><br>                          callbacks=callbacks<br>                          )<br>        <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;pred&#x27;</span>)<br>        pre = model.predict(test,num_iteration=model.best_iteration).reshape(-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>)<br>        <span class="hljs-built_in">print</span>(pre)<br>        <span class="hljs-keyword">return</span> pre<br></code></pre></td></tr></table></figure><h2 id="ä½¿ç”¨lr_regå’Œlgb_regè¿›è¡Œèåˆé¢„æµ‹">10.4 ä½¿ç”¨lr_regå’Œlgb_regè¿›è¡Œèåˆé¢„æµ‹</h2><p>åŠ è½½æ•°æ®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># load_dataset</span><br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./data/zhengqi_train.txt&quot;</span>)  <span class="hljs-keyword">as</span> fr:<br>    data_train=pd.read_table(fr,sep=<span class="hljs-string">&quot;\t&quot;</span>)<br><span class="hljs-keyword">with</span> <span class="hljs-built_in">open</span>(<span class="hljs-string">&quot;./data/zhengqi_test.txt&quot;</span>) <span class="hljs-keyword">as</span> fr_test:<br>    data_test=pd.read_table(fr_test,sep=<span class="hljs-string">&quot;\t&quot;</span>)<br>    <br></code></pre></td></tr></table></figure><p>KæŠ˜äº¤å‰éªŒè¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># KæŠ˜äº¤å‰éªŒè¯</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> StratifiedKFold, KFold<br><br>folds = <span class="hljs-number">5</span><br>seed = <span class="hljs-number">1</span><br>kf = KFold(n_splits=<span class="hljs-number">5</span>, shuffle=<span class="hljs-literal">True</span>, random_state=<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><p>è®­ç»ƒé›†å’Œæµ‹è¯•é›†æ•°æ®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è®­ç»ƒé›†</span><br>x_train = data_train[data_test.columns].values<br>y_train = data_train[<span class="hljs-string">&#x27;target&#x27;</span>].values<br><span class="hljs-comment"># æµ‹è¯•é›†</span><br>x_valid = data_test[data_test.columns].values<br></code></pre></td></tr></table></figure><p>ä½¿ç”¨lr_regå’Œlgb_regè¿›è¡Œèåˆé¢„æµ‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">clf_list = [lr_reg, lgb_reg]<br><br><span class="hljs-comment">##å¾ˆå®¹æ˜“è¿‡æ‹Ÿåˆ</span><br>pred = stacking_pred(x_train, y_train, x_valid, kf, clf_list, label_split=<span class="hljs-literal">None</span>, clf_fin=<span class="hljs-string">&quot;lgb&quot;</span>, if_concat_origin=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><p>é¢„æµ‹ç»“æœ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">pred<br></code></pre></td></tr></table></figure><pre><code class="hljs">array([[ 0.41700189],       [ 0.37101204],       [ 0.1479981 ],       ...,       [-2.48570445],       [-2.4264629 ],       [-2.48367665]])</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å°†predè½¬æ¢ä¸ºä¸€ç»´æ•°ç»„</span><br>pred_flat = pred.flatten()<br><br><span class="hljs-comment"># ä¿å­˜ä¸ºæ–‡æœ¬æ–‡ä»¶</span><br>np.savetxt(<span class="hljs-string">&#x27;pred.txt&#x27;</span>, pred_flat)<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ å®æˆ˜å…¥é—¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å·¥ä¸šè’¸æ±½é¢„æµ‹-06ç‰¹å¾ä¼˜åŒ–</title>
    <link href="/2023/09/15/%E5%B7%A5%E4%B8%9A%E8%92%B8%E6%B1%BD%E9%A2%84%E6%B5%8B-06%E7%89%B9%E5%BE%81%E4%BC%98%E5%8C%96/"/>
    <url>/2023/09/15/%E5%B7%A5%E4%B8%9A%E8%92%B8%E6%B1%BD%E9%A2%84%E6%B5%8B-06%E7%89%B9%E5%BE%81%E4%BC%98%E5%8C%96/</url>
    
    <content type="html"><![CDATA[<h1 id="èµ›é¢˜ç‰¹å¾ä¼˜åŒ–">èµ›é¢˜ç‰¹å¾ä¼˜åŒ–</h1><h1 id="å¯¼å…¥æ•°æ®">1 å¯¼å…¥æ•°æ®</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><br>train_data_file = <span class="hljs-string">&quot;./data/zhengqi_train.txt&quot;</span><br>test_data_file =  <span class="hljs-string">&quot;./data/zhengqi_test.txt&quot;</span><br><br>train_data = pd.read_csv(train_data_file, sep=<span class="hljs-string">&#x27;\t&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>test_data = pd.read_csv(test_data_file, sep=<span class="hljs-string">&#x27;\t&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br></code></pre></td></tr></table></figure><h1 id="å®šä¹‰ç‰¹å¾æ„é€ æ–¹æ³•">2 å®šä¹‰ç‰¹å¾æ„é€ æ–¹æ³•</h1><p>å®šä¹‰ç‰¹å¾æ„é€ æ–¹æ³•</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">epsilon=<span class="hljs-number">1e-5</span><br><br><span class="hljs-comment">#ç»„äº¤å‰ç‰¹å¾ï¼Œå¯ä»¥è‡ªè¡Œå®šä¹‰ï¼Œå¦‚å¢åŠ ï¼š x*x/y, log(x)/y ç­‰ç­‰ã€‚</span><br>func_dict = &#123;<br>            <span class="hljs-string">&#x27;add&#x27;</span>: <span class="hljs-keyword">lambda</span> x,y: x+y,<br>            <span class="hljs-string">&#x27;mins&#x27;</span>: <span class="hljs-keyword">lambda</span> x,y: x-y,<br>            <span class="hljs-string">&#x27;div&#x27;</span>: <span class="hljs-keyword">lambda</span> x,y: x/(y+epsilon),<br>            <span class="hljs-string">&#x27;multi&#x27;</span>: <span class="hljs-keyword">lambda</span> x,y: x*y<br>            &#125;<br></code></pre></td></tr></table></figure><h4 id="ä»£ç è§£é‡Š">ä»£ç è§£é‡Š</h4><p><code>epsilon</code> ç»å¸¸ç”¨ä½œä¸€ä¸ªéå¸¸å°çš„æ­£æ•°ï¼Œç”¨äºé¿å…åœ¨è®¡ç®—ä¸­å‡ºç°é™¤ä»¥é›¶çš„æƒ…å†µã€‚</p><p>è¯¥ä»£ç ä¸­çš„ <code>epsilon</code> è¢«ç”¨ä½œåˆ†æ¯åœ¨é™¤æ³•è¿ç®—ä¸­çš„ä¿®æ­£å› å­ã€‚å½“åˆ†æ¯æ¥è¿‘é›¶æ—¶ï¼ŒåŠ ä¸Šä¸€ä¸ªéå¸¸å°çš„æ­£æ•° <code>epsilon</code> å¯ä»¥ç¡®ä¿é¿å…å‡ºç°é™¤ä»¥é›¶çš„é”™è¯¯ï¼ŒåŒæ—¶ä¿æŒæ•°å€¼è®¡ç®—çš„å‡†ç¡®æ€§ã€‚</p><p><code>epsilon</code> è¢«å®šä¹‰ä¸º <code>1e-5</code>ï¼Œå³ 0.00001ã€‚åœ¨æ‰§è¡Œè¯¸å¦‚ <code>div</code> å‡½æ•°çš„é™¤æ³•è¿ç®—æ—¶ï¼Œåˆ†æ¯ä¼šåŠ ä¸Š <code>epsilon</code>ï¼Œä»è€Œé¿å…é™¤ä»¥é›¶çš„æƒ…å†µã€‚è¿™æ ·å¯ä»¥ç¡®ä¿åœ¨è¿›è¡Œç»„äº¤å‰ç‰¹å¾è®¡ç®—æ—¶ï¼Œä¸ä¼šå‡ºç°é™¤ä»¥é›¶çš„é”™è¯¯ï¼Œå¹¶ä¿æŒè®¡ç®—çš„ç¨³å®šæ€§å’Œå‡†ç¡®æ€§ã€‚</p><h1 id="å®šä¹‰ç‰¹å¾æ„é€ å‡½æ•°">3 å®šä¹‰ç‰¹å¾æ„é€ å‡½æ•°</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">def</span> <span class="hljs-title function_">auto_features_make</span>(<span class="hljs-params">train_data,test_data,func_dict,col_list</span>):<br>    train_data, test_data = train_data.copy(), test_data.copy()<br>    <br>    <span class="hljs-keyword">for</span> col_i <span class="hljs-keyword">in</span> col_list:<br>        <span class="hljs-keyword">for</span> col_j <span class="hljs-keyword">in</span> col_list:<br>            <span class="hljs-keyword">for</span> func_name, func <span class="hljs-keyword">in</span> func_dict.items():<br>                <span class="hljs-keyword">for</span> data <span class="hljs-keyword">in</span> [train_data,test_data]:<br>                    func_features = func(data[col_i],data[col_j])<br>                    col_func_features = <span class="hljs-string">&#x27;-&#x27;</span>.join([col_i,func_name,col_j])<br>                    data[col_func_features] = func_features<br>                    <br>    <span class="hljs-keyword">return</span> train_data,test_data<br><br></code></pre></td></tr></table></figure><h4 id="ä»£ç è§£é‡Š-1">ä»£ç è§£é‡Š</h4><p>å‡½æ•°çš„ä½œç”¨æ˜¯åœ¨ç»™å®šçš„æ•°æ®é›† <code>train_data</code> å’Œ <code>test_data</code> ä¸Šç”Ÿæˆè‡ªåŠ¨ç‰¹å¾ã€‚</p><ol type="1"><li><p>æ‹·è´ <code>train_data</code> å’Œ <code>test_data</code> æ•°æ®é›†ã€‚</p></li><li><p>ä½¿ç”¨åµŒå¥—çš„å¾ªç¯<code>for col_i in col_list:</code> å’Œ <code>for col_j in col_list:</code> éå† <code>col_list</code> ä¸­çš„æ¯ä¸€å¯¹åˆ—å <code>col_i</code> å’Œ <code>col_j</code>,ä¾‹å¦‚<code>[V1 V0    ]</code>ï¼Œ<code>[V1 V1]</code>ã€‚</p></li><li><p>åœ¨å†…éƒ¨çš„å¾ªç¯ä¸­ï¼Œéå† <code>func_dict</code> ä¸­çš„æ¯ä¸ªå‡½æ•°ï¼Œè¿™äº›å‡½æ•°ä»¥å‡½æ•°å <code>func_name</code> å’Œå¯¹åº”çš„å‡½æ•°å¯¹è±¡ <code>func</code> è¡¨ç¤ºã€‚</p></li><li><p>å¯¹äºæ¯ä¸ªæ•°æ®é›†ï¼ˆ<code>train_data</code> å’Œ <code>test_data</code>ï¼‰ï¼Œå°† <code>col_i</code> å’Œ <code>col_j</code> åˆ—çš„å€¼ä½œä¸ºå‚æ•°ä¼ é€’ç»™å½“å‰è¿­ä»£çš„å‡½æ•° <code>func</code>ï¼Œå¹¶è®¡ç®—å¾—åˆ°æ–°çš„ç‰¹å¾å€¼ <code>func_features</code>ã€‚</p></li><li><p>åˆ›å»ºä¸€ä¸ªæ–°çš„ç‰¹å¾åˆ—å <code>col_func_features</code>ï¼Œä½¿ç”¨ <code>-</code> è¿æ¥ <code>col_i</code>ã€<code>func_name</code> å’Œ <code>col_j</code>ã€‚</p></li><li><p>å°†è®¡ç®—å¾—åˆ°çš„æ–°ç‰¹å¾å€¼ <code>func_features</code> å­˜å‚¨åœ¨å¯¹åº”çš„ç‰¹å¾åˆ— <code>col_func_features</code> ä¸­ã€‚</p></li><li><p>é‡å¤æ­¥éª¤ 4-6ï¼Œç›´åˆ°éå†å®Œæ‰€æœ‰çš„åˆ—å’Œå‡½æ•°ç»„åˆã€‚</p></li><li><p>æœ€åï¼Œè¿”å›ç”Ÿæˆæ–°ç‰¹å¾åçš„ <code>train_data</code> å’Œ <code>test_data</code>ã€‚</p></li></ol><h2 id="å¯¹è®­ç»ƒé›†å’Œæµ‹è¯•é›†æ•°æ®è¿›è¡Œç‰¹å¾æ„é€ ">å¯¹è®­ç»ƒé›†å’Œæµ‹è¯•é›†æ•°æ®è¿›è¡Œç‰¹å¾æ„é€ </h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">train_data2, test_data2 = auto_features_make(train_data,test_data,func_dict,col_list=test_data.columns)<br></code></pre></td></tr></table></figure><pre><code class="hljs">D:\Development\anaconda3\envs\ml\lib\site-packages\ipykernel_launcher.py:10: PerformanceWarning: DataFrame is highly fragmented.  This is usually the result of calling `frame.insert` many times, which has poor performance.  Consider joining all columns at once using pd.concat(axis=1) instead.  To get a de-fragmented frame, use `newframe = frame.copy()`  # Remove the CWD from sys.path while we load stuff.</code></pre><h4 id="ä»£ç è§£é‡Š-2">ä»£ç è§£é‡Š</h4><p>è­¦å‘Šæç¤ºæ•°æ®é›†å¯èƒ½å­˜åœ¨ä¸¥é‡çš„ç¢ç‰‡åŒ–é—®é¢˜ï¼Œå³å†…å­˜ä¸­çš„ DataFrame å¯¹è±¡éå¸¸åˆ†æ•£ã€‚è¿™é€šå¸¸æ˜¯ç”±äºå¤šæ¬¡è°ƒç”¨ DataFrame.insert æ–¹æ³•å¯¼è‡´çš„ï¼Œè€Œ insert æ–¹æ³•çš„æ€§èƒ½è¾ƒå·®ã€‚</p><h1 id="ç‰¹å¾é™ç»´å¤„ç†">4 ç‰¹å¾é™ç»´å¤„ç†</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.decomposition <span class="hljs-keyword">import</span> PCA   <span class="hljs-comment">#ä¸»æˆåˆ†åˆ†ææ³•</span><br><br><span class="hljs-comment">#PCAæ–¹æ³•é™ç»´</span><br>pca = PCA(n_components=<span class="hljs-number">500</span>)<br><span class="hljs-comment"># train_data2_pca = pca.fit_transform(train_data2.iloc[:,0:-1]) # æœ‰è¯¯ targetåˆ—å¹¶ä¸åœ¨æœ€åä¸€åˆ—</span><br>train_data2_pca = pca.fit_transform(train_data2.drop([<span class="hljs-string">&#x27;target&#x27;</span>], axis=<span class="hljs-number">1</span>)) <span class="hljs-comment"># æå–ç‰¹å¾åˆ—</span><br>test_data2_pca = pca.transform(test_data2)<br><br>train_data2_pca = pd.DataFrame(train_data2_pca)<br>test_data2_pca = pd.DataFrame(test_data2_pca)<br><br>train_data2_pca[<span class="hljs-string">&#x27;target&#x27;</span>] = train_data2[<span class="hljs-string">&#x27;target&#x27;</span>]<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">X_train2 = train_data2[test_data2.columns].values<br>y_train = train_data2[<span class="hljs-string">&#x27;target&#x27;</span>]<br></code></pre></td></tr></table></figure><h1 id="æ¨¡å‹è®­ç»ƒå’Œè¯„ä¼°">5 æ¨¡å‹è®­ç»ƒå’Œè¯„ä¼°</h1><p>ä½¿ç”¨lightgbmæ¨¡å‹å¯¹æ–°æ„é€ çš„ç‰¹å¾è¿›è¡Œæ¨¡å‹è®­ç»ƒå’Œè¯„ä¼°ã€‚æ³¨æ„è¿è¡Œæ—¶é—´é•¿ äºŒåå¤šåˆ†é’Ÿã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ls_validation i</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> KFold<br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> mean_squared_error<br><span class="hljs-keyword">import</span> lightgbm <span class="hljs-keyword">as</span> lgb<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><span class="hljs-comment"># 5æŠ˜äº¤å‰éªŒè¯</span><br>Folds=<span class="hljs-number">5</span><br>kf = KFold(n_splits=Folds, random_state=<span class="hljs-number">2019</span>, shuffle=<span class="hljs-literal">True</span>)<br><span class="hljs-comment"># è®°å½•è®­ç»ƒå’Œé¢„æµ‹MSE</span><br>MSE_DICT = &#123;<br>    <span class="hljs-string">&#x27;train_mse&#x27;</span>:[],<br>    <span class="hljs-string">&#x27;test_mse&#x27;</span>:[]<br>&#125;<br><br><span class="hljs-comment"># çº¿ä¸‹è®­ç»ƒé¢„æµ‹</span><br><span class="hljs-keyword">for</span> i, (train_index, test_index) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(kf.split(X_train2)):<br>    <span class="hljs-comment"># lgbæ ‘æ¨¡å‹</span><br>    lgb_reg = lgb.LGBMRegressor(<br>        learning_rate=<span class="hljs-number">0.01</span>,<br>        max_depth=-<span class="hljs-number">1</span>,<br>        n_estimators=<span class="hljs-number">5000</span>,<br>        boosting_type=<span class="hljs-string">&#x27;gbdt&#x27;</span>,<br>        random_state=<span class="hljs-number">2019</span>,<br>        objective=<span class="hljs-string">&#x27;regression&#x27;</span>,<br>    )<br>   <br>    <span class="hljs-comment"># åˆ‡åˆ†è®­ç»ƒé›†å’Œé¢„æµ‹é›†</span><br>    X_train_KFold, X_test_KFold = X_train2[train_index], X_train2[test_index]<br>    y_train_KFold, y_test_KFold = y_train[train_index], y_train[test_index]<br>    <br>    <span class="hljs-comment"># è®­ç»ƒæ¨¡å‹</span><br>    lgb_reg.fit(<br>            X=X_train_KFold,y=y_train_KFold,<br>            eval_set=[(X_train_KFold, y_train_KFold),(X_test_KFold, y_test_KFold)],<br>            eval_names=[<span class="hljs-string">&#x27;Train&#x27;</span>,<span class="hljs-string">&#x27;Test&#x27;</span>],<br>            <span class="hljs-comment"># early_stopping_rounds=100,# å·²å¼ƒç”¨</span><br>            eval_metric=<span class="hljs-string">&#x27;MSE&#x27;</span>,<br>            <span class="hljs-comment"># verbose=50 # å·²å¼ƒç”¨</span><br>        callbacks=[lgb.log_evaluation(period=<span class="hljs-number">100</span>), lgb.early_stopping(stopping_rounds=<span class="hljs-number">100</span>)]<br>        )<br><br><br>    <span class="hljs-comment"># è®­ç»ƒé›†é¢„æµ‹ æµ‹è¯•é›†é¢„æµ‹</span><br>    y_train_KFold_predict = lgb_reg.predict(X_train_KFold,num_iteration=lgb_reg.best_iteration_)<br>    y_test_KFold_predict = lgb_reg.predict(X_test_KFold,num_iteration=lgb_reg.best_iteration_) <br>    <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;ç¬¬&#123;&#125;æŠ˜ è®­ç»ƒå’Œé¢„æµ‹ è®­ç»ƒMSE é¢„æµ‹MSE&#x27;</span>.<span class="hljs-built_in">format</span>(i))<br>    train_mse = mean_squared_error(y_train_KFold_predict, y_train_KFold)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;------\n&#x27;</span>, <span class="hljs-string">&#x27;è®­ç»ƒMSE\n&#x27;</span>, train_mse, <span class="hljs-string">&#x27;\n------&#x27;</span>)<br>    test_mse = mean_squared_error(y_test_KFold_predict, y_test_KFold)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;------\n&#x27;</span>, <span class="hljs-string">&#x27;é¢„æµ‹MSE\n&#x27;</span>, test_mse, <span class="hljs-string">&#x27;\n------\n&#x27;</span>)<br>    <br>    MSE_DICT[<span class="hljs-string">&#x27;train_mse&#x27;</span>].append(train_mse)<br>    MSE_DICT[<span class="hljs-string">&#x27;test_mse&#x27;</span>].append(test_mse)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;------\n&#x27;</span>, <span class="hljs-string">&#x27;è®­ç»ƒMSE\n&#x27;</span>, MSE_DICT[<span class="hljs-string">&#x27;train_mse&#x27;</span>], <span class="hljs-string">&#x27;\n&#x27;</span>, np.mean(MSE_DICT[<span class="hljs-string">&#x27;train_mse&#x27;</span>]), <span class="hljs-string">&#x27;\n------&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;------\n&#x27;</span>, <span class="hljs-string">&#x27;é¢„æµ‹MSE\n&#x27;</span>, MSE_DICT[<span class="hljs-string">&#x27;test_mse&#x27;</span>], <span class="hljs-string">&#x27;\n&#x27;</span>, np.mean(MSE_DICT[<span class="hljs-string">&#x27;test_mse&#x27;</span>]), <span class="hljs-string">&#x27;\n------&#x27;</span>)<br></code></pre></td></tr></table></figure><p>å°†ä»£ç è¿è¡Œå¾—åˆ°çš„5æŠ˜äº¤å‰éªŒè¯çš„å„æŠ˜å è®­ç»ƒMSEã€é¢„æµ‹MSEåŠå¹³å‡MSE,ä¸ä¸Šä¸€èŠ‚ä¸­æœªåšç‰¹å¾ä¼˜åŒ–çš„ç»“æœå¯¹æ¯”ï¼Œå¯ä»¥å‘ç°MSEå¾—åˆ°è¿›ä¸€æ­¥é™ä½ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ å®æˆ˜å…¥é—¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cè¯­è¨€10-è‡ªå®šä¹‰æ•°æ®ç±»å‹-ç»“æ„ä½“123</title>
    <link href="/2023/09/14/C%E8%AF%AD%E8%A8%8010-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-%E7%BB%93%E6%9E%84%E4%BD%93123/"/>
    <url>/2023/09/14/C%E8%AF%AD%E8%A8%8010-%E8%87%AA%E5%AE%9A%E4%B9%89%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B-%E7%BB%93%E6%9E%84%E4%BD%93123/</url>
    
    <content type="html"><![CDATA[<p>æœ¬ç« é‡ç‚¹ 1. ç»“æ„ä½“ 2. ç»“æ„ä½“ç±»å‹çš„å£°æ˜ 3. ç»“æ„çš„è‡ªå¼•ç”¨ 4. ç»“æ„ä½“å˜é‡çš„å®šä¹‰å’Œåˆå§‹åŒ– 5. ç»“æ„ä½“å†…å­˜å¯¹é½ 6. ç»“æ„ä½“ä¼ å‚</p><h1 id="ç»“æ„çš„åŸºç¡€çŸ¥è¯†">1 ç»“æ„çš„åŸºç¡€çŸ¥è¯†</h1><p>ç»“æ„æ˜¯ä¸€äº›å€¼çš„é›†åˆï¼Œè¿™äº›å€¼ç§°ä¸ºæˆå‘˜å˜é‡ã€‚ç»“æ„çš„æ¯ä¸ªæˆå‘˜å¯ä»¥æ˜¯ä¸åŒç±»å‹çš„å˜é‡ã€‚ # 2 ç»“æ„çš„å£°æ˜ ä¾‹å¦‚æè¿°ä¸€ä¸ªå­¦ç”Ÿï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">tag</span></span><br><span class="hljs-class">&#123;</span><br>member-<span class="hljs-built_in">list</span>;<br>&#125;variable-<span class="hljs-built_in">list</span>;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">char</span> name[<span class="hljs-number">20</span>];<span class="hljs-comment">//åå­—</span><br><span class="hljs-type">int</span> age;<span class="hljs-comment">//å¹´é¾„</span><br><span class="hljs-type">char</span> sex[<span class="hljs-number">5</span>];<span class="hljs-comment">//æ€§åˆ«</span><br><span class="hljs-type">char</span> id[<span class="hljs-number">20</span>];<span class="hljs-comment">//å­¦å·</span><br>&#125;; <span class="hljs-comment">//åˆ†å·ä¸èƒ½ä¸¢</span><br></code></pre></td></tr></table></figure></p><h1 id="ç‰¹æ®Šçš„å£°æ˜">3 ç‰¹æ®Šçš„å£°æ˜</h1><p>åœ¨å£°æ˜ç»“æ„çš„æ—¶å€™ï¼Œå¯ä»¥ä¸å®Œå…¨çš„å£°æ˜ã€‚ <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">int</span> a;<br><span class="hljs-type">char</span> b;<br><span class="hljs-type">float</span> c;<br>&#125;x;<br><span class="hljs-class"><span class="hljs-keyword">struct</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">int</span> a;<br><span class="hljs-type">char</span> b;<br><span class="hljs-type">float</span> c;<br>&#125;*p;<br></code></pre></td></tr></table></figure> ä¸Šé¢çš„ä¸¤ä¸ªç»“æ„åœ¨å£°æ˜çš„æ—¶å€™çœç•¥æ‰äº†ç»“æ„ä½“æ ‡ç­¾ï¼ˆtagï¼‰ã€‚ä½†æ˜¯ <code>p = &amp;x;</code> æ˜¯éæ³•çš„ï¼Œç¼–è¯‘å™¨ä¼šæŠŠä¸Šé¢çš„ä¸¤ä¸ªå£°æ˜å½“æˆå®Œå…¨ä¸åŒçš„ä¸¤ä¸ªç±»å‹ã€‚</p><h1 id="ç»“æ„çš„è‡ªå¼•ç”¨">4 ç»“æ„çš„è‡ªå¼•ç”¨</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//ä»£ç 1</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">int</span> data;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span> <span class="hljs-title">next</span>;</span><br>&#125;;<br><span class="hljs-comment">// å¯ä»¥è¿™æ ·è‡ªå¼•ç”¨å—ï¼Ÿ</span><br><span class="hljs-comment">// å¦‚æœå¯ä»¥ï¼Œé‚£sizeof(struct Node)æ˜¯å¤šå°‘ï¼Ÿ</span><br></code></pre></td></tr></table></figure><p>æ­£ç¡®çš„è‡ªå¼•ç”¨æ–¹å¼ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//ä»£ç 2</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">int</span> data;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span>* <span class="hljs-title">next</span>;</span><br>&#125;;<br></code></pre></td></tr></table></figure></p><p>æ³¨æ„ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//ä»£ç 3</span><br><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">int</span> data;<br>Node* next;<br>&#125;Node;<br><span class="hljs-comment">//è¿™æ ·å†™ä»£ç å¯ä»¥å—ï¼Ÿ</span><br></code></pre></td></tr></table></figure></p><p>ä¸å£°æ˜æ ‡ç­¾è‡ªå¼•ç”¨æ˜¯é”™è¯¯çš„ï¼Œæ­£ç¡®çš„å¼•ç”¨æ–¹æ³•ä¸ºï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">int</span> data;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span>* <span class="hljs-title">next</span>;</span><br>&#125;Node;<br></code></pre></td></tr></table></figure></p><h1 id="ç»“æ„ä½“å˜é‡çš„å®šä¹‰å’Œåˆå§‹åŒ–">5 ç»“æ„ä½“å˜é‡çš„å®šä¹‰å’Œåˆå§‹åŒ–</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Point</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">int</span> x;<br><span class="hljs-type">int</span> y;<br>&#125;p1; <span class="hljs-comment">//å£°æ˜ç±»å‹çš„åŒæ—¶å®šä¹‰å˜é‡p1</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Point</span> <span class="hljs-title">p2</span>;</span> <span class="hljs-comment">//å®šä¹‰ç»“æ„ä½“å˜é‡p2</span><br><br><span class="hljs-comment">//åˆå§‹åŒ–ï¼šå®šä¹‰å˜é‡çš„åŒæ—¶èµ‹åˆå€¼ã€‚</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Point</span> <span class="hljs-title">p3</span> =</span> &#123; <span class="hljs-number">1</span>, <span class="hljs-number">2</span> &#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span> //ç±»å‹å£°æ˜</span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">char</span> name[<span class="hljs-number">15</span>];<span class="hljs-comment">//åå­—</span><br><span class="hljs-type">int</span> age; <span class="hljs-comment">//å¹´é¾„</span><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span> <span class="hljs-title">s</span> =</span> &#123; <span class="hljs-string">&quot;zhangsan&quot;</span>, <span class="hljs-number">20</span> &#125;;<span class="hljs-comment">//åˆå§‹åŒ–</span><br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">int</span> data;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Point</span> <span class="hljs-title">p</span>;</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span>* <span class="hljs-title">next</span>;</span><br>&#125;n1 = &#123; <span class="hljs-number">10</span>, &#123;<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;, <span class="hljs-literal">NULL</span> &#125;; <span class="hljs-comment">//ç»“æ„ä½“åµŒå¥—åˆå§‹åŒ–</span><br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span> <span class="hljs-title">n2</span> =</span> &#123; <span class="hljs-number">20</span>, &#123;<span class="hljs-number">5</span>, <span class="hljs-number">6</span>&#125;, <span class="hljs-literal">NULL</span> &#125;;<span class="hljs-comment">//ç»“æ„ä½“åµŒå¥—åˆå§‹åŒ–</span><br></code></pre></td></tr></table></figure><h1 id="ç»“æ„ä½“å†…å­˜å¯¹é½">6 ç»“æ„ä½“å†…å­˜å¯¹é½</h1><p>è®¡ç®—ç»“æ„ä½“çš„å¤§å°ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">S1</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">char</span> c1;<br><span class="hljs-type">int</span> i;<br><span class="hljs-type">char</span> c2;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">S2</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">char</span> c1;<br><span class="hljs-type">char</span> c2;<br><span class="hljs-type">int</span> i;<br>&#125;;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">struct</span> S2)); <span class="hljs-comment">// 8</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">struct</span> S1)); <span class="hljs-comment">// 12</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p><p><strong>å¦‚ä½•è®¡ç®—å¤§å°ï¼Ÿ</strong> é¦–å…ˆå¾—æŒæ¡ç»“æ„ä½“çš„å¯¹é½è§„åˆ™ï¼š 1. ç¬¬ä¸€ä¸ªæˆå‘˜åœ¨ä¸ç»“æ„ä½“å˜é‡åç§»é‡ä¸º0çš„åœ°å€å¤„ã€‚</p><ol start="2" type="1"><li><p>å…¶ä»–æˆå‘˜å˜é‡è¦å¯¹é½åˆ°å¯¹é½æ•°çš„æ•´æ•°å€çš„åœ°å€å¤„ã€‚å¯¹é½æ•° = ç¼–è¯‘å™¨é»˜è®¤çš„ä¸€ä¸ªå¯¹é½æ•° ä¸ è¯¥æˆå‘˜å¤§å°çš„è¾ƒå°å€¼ã€‚</p><ul><li>VSä¸­é»˜è®¤çš„å€¼ä¸º8</li><li>Linuxä¸­æ²¡æœ‰é»˜è®¤å¯¹é½æ•°ï¼Œå¯¹é½æ•°å°±æ˜¯æˆå‘˜è‡ªèº«çš„å¤§å°</li></ul></li><li><p>ç»“æ„ä½“æ€»å¤§å°ä¸ºæœ€å¤§å¯¹é½æ•°ï¼ˆæ¯ä¸ªæˆå‘˜å˜é‡éƒ½æœ‰ä¸€ä¸ªå¯¹é½æ•°ï¼‰çš„æ•´æ•°å€ã€‚</p></li><li><p>å¦‚æœåµŒå¥—äº†ç»“æ„ä½“çš„æƒ…å†µï¼ŒåµŒå¥—çš„ç»“æ„ä½“å¯¹é½åˆ°è‡ªå·±çš„æœ€å¤§å¯¹é½æ•°çš„æ•´æ•°å€å¤„ï¼Œç»“æ„ä½“çš„æ•´ä½“å¤§å°å°±æ˜¯æ‰€æœ‰æœ€å¤§å¯¹é½æ•°ï¼ˆå«åµŒå¥—ç»“æ„ä½“çš„å¯¹é½æ•°ï¼‰çš„æ•´æ•°å€ã€‚</p><p><strong>ä¸ºä»€ä¹ˆå­˜åœ¨å†…å­˜å¯¹é½?</strong></p><ol type="1"><li>å¹³å°åŸå› (ç§»æ¤åŸå› )ï¼š ä¸æ˜¯æ‰€æœ‰çš„ç¡¬ä»¶å¹³å°éƒ½èƒ½è®¿é—®ä»»æ„åœ°å€ä¸Šçš„ä»»æ„æ•°æ®çš„ï¼›æŸäº›ç¡¬ä»¶å¹³å°åªèƒ½åœ¨æŸäº›åœ°å€å¤„å–æŸäº›ç‰¹å®šç±»å‹çš„æ•°æ®ï¼Œå¦åˆ™æŠ›å‡ºç¡¬ä»¶å¼‚å¸¸ã€‚</li></ol></li><li><p>æ€§èƒ½åŸå› ï¼š æ•°æ®ç»“æ„(å°¤å…¶æ˜¯æ ˆ)åº”è¯¥å°½å¯èƒ½åœ°åœ¨è‡ªç„¶è¾¹ç•Œä¸Šå¯¹é½ã€‚ åŸå› åœ¨äºï¼Œä¸ºäº†è®¿é—®æœªå¯¹é½çš„å†…å­˜ï¼Œå¤„ç†å™¨éœ€è¦ä½œä¸¤æ¬¡å†…å­˜è®¿é—®ï¼›è€Œå¯¹é½çš„å†…å­˜è®¿é—®ä»…éœ€è¦ä¸€æ¬¡è®¿é—®ã€‚</p></li></ol><p><strong>ç»“æ„ä½“çš„å†…å­˜å¯¹é½æ˜¯æ‹¿ç©ºé—´æ¥æ¢å–æ—¶é—´çš„åšæ³•ã€‚</strong></p><p>æˆ‘ä»¬æ—¢è¦æ»¡è¶³å¯¹é½ï¼Œåˆè¦èŠ‚çœç©ºé—´ï¼Œé‚£åœ¨è®¾è®©å ç”¨ç©ºé—´å°çš„æˆå‘˜å°½é‡é›†ä¸­åœ¨ä¸€èµ·ã€‚ <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//ä¾‹å¦‚ï¼š</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">S1</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">char</span> c1;<br><span class="hljs-type">int</span> i;<br><span class="hljs-type">char</span> c2;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">S2</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">char</span> c1;<br><span class="hljs-type">char</span> c2;<br><span class="hljs-type">int</span> i;<br>&#125;;<br></code></pre></td></tr></table></figure></p><h1 id="ä¿®æ”¹é»˜è®¤å¯¹é½æ•°">7 ä¿®æ”¹é»˜è®¤å¯¹é½æ•°</h1><p>ä½¿ç”¨<code>#pragma</code> è¿™ä¸ªé¢„å¤„ç†æŒ‡ä»¤ï¼Œå¯ä»¥æ”¹å˜é»˜è®¤å¯¹é½æ•°ã€‚ <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> pack(8)<span class="hljs-comment">//è®¾ç½®é»˜è®¤å¯¹é½æ•°ä¸º8</span></span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">S1</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">char</span> c1;<br><span class="hljs-type">int</span> i;<br><span class="hljs-type">char</span> c2;<br>&#125;;<br><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> pack()<span class="hljs-comment">//å–æ¶ˆè®¾ç½®çš„é»˜è®¤å¯¹é½æ•°ï¼Œè¿˜åŸä¸ºé»˜è®¤</span></span><br><br><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> pack(1)<span class="hljs-comment">//è®¾ç½®é»˜è®¤å¯¹é½æ•°ä¸º1</span></span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">S2</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">char</span> c1;<br><span class="hljs-type">int</span> i;<br><span class="hljs-type">char</span> c2;<br>&#125;;<br><span class="hljs-meta">#<span class="hljs-keyword">pragma</span> pack()<span class="hljs-comment">//å–æ¶ˆè®¾ç½®çš„é»˜è®¤å¯¹é½æ•°ï¼Œè¿˜åŸä¸ºé»˜è®¤</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">struct</span> S1)); <span class="hljs-comment">// 12</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">struct</span> S2)); <span class="hljs-comment">// 6</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure> &gt; ç»“æ„åœ¨å¯¹é½æ–¹å¼ä¸åˆé€‚çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯ä»¥è‡ªå·±æ›´æ”¹é»˜è®¤å¯¹é½æ•°ã€‚</p><h1 id="ç»“æ„ä½“ä¼ å‚">8 ç»“æ„ä½“ä¼ å‚</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">S</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">int</span> data[<span class="hljs-number">1000</span>];<br><span class="hljs-type">int</span> num;<br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">S</span> <span class="hljs-title">s</span> =</span> &#123;&#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>&#125;, <span class="hljs-number">1000</span>&#125;;<br><span class="hljs-comment">//ç»“æ„ä½“ä¼ å‚</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">print1</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> S s)</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, s.num);<br>&#125;<br><span class="hljs-comment">//ç»“æ„ä½“åœ°å€ä¼ å‚</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">print2</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> S* ps)</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ps-&gt;num);<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>print1(s); <span class="hljs-comment">//ä¼ ç»“æ„ä½“</span><br>print2(&amp;s); <span class="hljs-comment">//ä¼ åœ°å€</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>é¦–é€‰print2å‡½æ•°ã€‚</p><p>å‡½æ•°ä¼ å‚çš„æ—¶å€™ï¼Œå‚æ•°æ˜¯éœ€è¦å‹æ ˆï¼Œä¼šæœ‰æ—¶é—´å’Œç©ºé—´ä¸Šçš„ç³»ç»Ÿå¼€é”€ã€‚ å¦‚æœä¼ é€’ä¸€ä¸ªç»“æ„ä½“å¯¹è±¡çš„æ—¶å€™ï¼Œç»“æ„ä½“è¿‡å¤§ï¼Œå‚æ•°å‹æ ˆçš„çš„ç³»ç»Ÿå¼€é”€æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´æ€§èƒ½çš„ä¸‹é™ã€‚</p><p>ä½†æ˜¯ä½¿ç”¨print2å‡½æ•°åœ¨å¯èƒ½ä¼šè¯¯ä¿®æ”¹ç»“æ„ä½“ä¸­çš„å€¼ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ <code>const</code> æ¥ä¿®é¥° <code>struct S* ps</code> ï¼Œä½¿ä¹‹ä¸å¯ä¿®æ”¹ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Cè¯­è¨€åŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C/C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cè¯­è¨€09-æŒ‡é’ˆè¯¦è§£1</title>
    <link href="/2023/09/14/C%E8%AF%AD%E8%A8%8009-%E6%8C%87%E9%92%88%E8%AF%A6%E8%A7%A31/"/>
    <url>/2023/09/14/C%E8%AF%AD%E8%A8%8009-%E6%8C%87%E9%92%88%E8%AF%A6%E8%A7%A31/</url>
    
    <content type="html"><![CDATA[<p>åœ¨åˆå§‹æŒ‡é’ˆä¸­å­¦åˆ°ï¼š 1. æŒ‡é’ˆå°±æ˜¯ä¸ªå˜é‡ï¼Œç”¨æ¥å­˜æ”¾åœ°å€ï¼Œåœ°å€å”¯ä¸€æ ‡è¯†ä¸€å—å†…å­˜ç©ºé—´ã€‚ 2. æŒ‡é’ˆçš„å¤§å°æ˜¯å›ºå®šçš„4/8ä¸ªå­—èŠ‚ï¼ˆ32ä½å¹³å°/64ä½å¹³å°ï¼‰ã€‚ 3. æŒ‡é’ˆæ˜¯æœ‰ç±»å‹ï¼ŒæŒ‡é’ˆçš„ç±»å‹å†³å®šäº†æŒ‡é’ˆçš„+-æ•´æ•°çš„æ­¥é•¿ï¼ŒæŒ‡é’ˆè§£å¼•ç”¨æ“ä½œçš„æ—¶å€™çš„æƒé™ã€‚ 4. æŒ‡é’ˆçš„è¿ç®—ã€‚</p><h1 id="å­—ç¬¦æŒ‡é’ˆ">1 å­—ç¬¦æŒ‡é’ˆ</h1><p>å­—ç¬¦æŒ‡é’ˆ<code>char*</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">const</span> <span class="hljs-type">char</span>* pstr = <span class="hljs-string">&quot;hello world&quot;</span>;<span class="hljs-comment">//è¿™é‡Œæ˜¯æŠŠä¸€ä¸ªå­—ç¬¦ä¸²æ”¾åˆ°pstræŒ‡é’ˆå˜é‡é‡Œäº†å—ï¼Ÿ</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, pstr);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æŠŠå­—ç¬¦ä¸²<code>hello world</code> é¦–å­—ç¬¦çš„åœ°å€æ”¾åˆ°äº†psträ¸­ã€‚å³æŠŠä¸€ä¸ªå¸¸é‡å­—ç¬¦ä¸²çš„é¦–å­—ç¬¦<code>h</code>çš„åœ°å€å­˜æ”¾åˆ°æŒ‡é’ˆå˜é‡<code>pstr</code> ä¸­ã€‚</p><p>é¢è¯•é¢˜ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">char</span> str1[] = <span class="hljs-string">&quot;abcdef&quot;</span>;<br><span class="hljs-type">char</span> str2[] = <span class="hljs-string">&quot;abcdef&quot;</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">char</span>* str3 = <span class="hljs-string">&quot;abcdef&quot;</span>;<br><span class="hljs-type">const</span> <span class="hljs-type">char</span>* str4 = <span class="hljs-string">&quot;abcdef&quot;</span>;<br><span class="hljs-keyword">if</span> (str1 == str2)<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;str1 and str2 are same\n&quot;</span>);<br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;str1 and str2 are not same\n&quot;</span>);<br><span class="hljs-keyword">if</span> (str3 == str4)<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;str3 and str4 are same\n&quot;</span>);<br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;str3 and str4 are not same\n&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure> ç»“æœä¸ºï¼š <img src="/img/Cè¯­è¨€09-æŒ‡é’ˆè¯¦è§£1/Cè¯­è¨€09-æŒ‡é’ˆè¯¦è§£1.png" /> è¿™é‡Œstr3å’Œstr4æŒ‡å‘çš„æ˜¯ä¸€ä¸ªåŒä¸€ä¸ªå¸¸é‡å­—ç¬¦ä¸²ã€‚C/C++ä¼šæŠŠå¸¸é‡å­—ç¬¦ä¸²å­˜å‚¨åˆ°å•ç‹¬çš„ä¸€ä¸ªå†…å­˜åŒºåŸŸï¼Œå½“å‡ ä¸ªæŒ‡é’ˆ æŒ‡å‘åŒä¸€ä¸ªå­—ç¬¦ä¸²çš„æ—¶å€™ï¼Œä»–ä»¬å®é™…ä¼šæŒ‡å‘åŒä¸€å—å†…å­˜ã€‚ä½†æ˜¯ç”¨ç›¸åŒçš„å¸¸é‡å­—ç¬¦ä¸²å»åˆå§‹åŒ–ä¸åŒçš„æ•°ç»„çš„æ—¶å€™å°±ä¼š å¼€è¾Ÿå‡ºä¸åŒçš„å†…å­˜å—ã€‚æ‰€ä»¥str1å’Œstr2ä¸åŒï¼Œstr3å’Œstr4ç›¸åŒã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Cè¯­è¨€åŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C/C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cè¯­è¨€08-æ•°æ®çš„å­˜å‚¨</title>
    <link href="/2023/09/14/C%E8%AF%AD%E8%A8%8008-%E6%95%B0%E6%8D%AE%E7%9A%84%E5%AD%98%E5%82%A8/"/>
    <url>/2023/09/14/C%E8%AF%AD%E8%A8%8008-%E6%95%B0%E6%8D%AE%E7%9A%84%E5%AD%98%E5%82%A8/</url>
    
    <content type="html"><![CDATA[<p>æœ¬ç« é‡ç‚¹ 1. æ•°æ®ç±»å‹è¯¦ç»†ä»‹ç» 2. æ•´å½¢åœ¨å†…å­˜ä¸­çš„å­˜å‚¨ï¼šåŸç ã€åç ã€è¡¥ç  3. å¤§å°ç«¯å­—èŠ‚åºä»‹ç»åŠåˆ¤æ–­ 4. æµ®ç‚¹å‹åœ¨å†…å­˜ä¸­çš„å­˜å‚¨è§£æ</p><h1 id="æ•°æ®ç±»å‹ä»‹ç»">1 æ•°æ®ç±»å‹ä»‹ç»</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// åŸºæœ¬çš„å†…ç½®ç±»å‹ï¼š</span><br><span class="hljs-type">char</span> <span class="hljs-comment">//å­—ç¬¦æ•°æ®ç±»å‹</span><br><span class="hljs-type">short</span> <span class="hljs-comment">//çŸ­æ•´å‹</span><br><span class="hljs-type">int</span> <span class="hljs-comment">//æ•´å½¢</span><br><span class="hljs-type">long</span> <span class="hljs-comment">//é•¿æ•´å‹</span><br><span class="hljs-type">long</span> <span class="hljs-type">long</span> <span class="hljs-comment">//æ›´é•¿çš„æ•´å½¢</span><br><span class="hljs-type">float</span> <span class="hljs-comment">//å•ç²¾åº¦æµ®ç‚¹æ•°</span><br><span class="hljs-type">double</span> <span class="hljs-comment">//åŒç²¾åº¦æµ®ç‚¹æ•°</span><br></code></pre></td></tr></table></figure><p><strong>ç±»å‹çš„æ„ä¹‰ï¼š</strong> 1. ä½¿ç”¨è¿™ä¸ªç±»å‹å¼€è¾Ÿå†…å­˜ç©ºé—´çš„å¤§å°ï¼ˆå¤§å°å†³å®šäº†ä½¿ç”¨èŒƒå›´ï¼‰ã€‚ 2. å¦‚ä½•çœ‹å¾…å†…å­˜ç©ºé—´çš„è§†è§’ã€‚</p><h2 id="ç±»å‹çš„åŸºæœ¬å½’ç±»">1.1 ç±»å‹çš„åŸºæœ¬å½’ç±»</h2><p><strong>æ•´å½¢ï¼š</strong> <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span><br><span class="hljs-type">signed</span> <span class="hljs-type">char</span><br><span class="hljs-type">short</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">short</span> [<span class="hljs-type">int</span>]<br><span class="hljs-type">signed</span> <span class="hljs-type">short</span> [<span class="hljs-type">int</span>]<br><span class="hljs-type">int</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span><br><span class="hljs-type">signed</span> <span class="hljs-type">int</span><br><span class="hljs-type">long</span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">long</span> [<span class="hljs-type">int</span>]<br><span class="hljs-type">signed</span> <span class="hljs-type">long</span> [<span class="hljs-type">int</span>]<br></code></pre></td></tr></table></figure></p><p><strong>æµ®ç‚¹æ•°:</strong> <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">float</span><br><span class="hljs-type">double</span><br></code></pre></td></tr></table></figure></p><p><strong>æ„é€ ç±»å‹ï¼š</strong> <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c">&gt; æ•°ç»„ç±»å‹<br>&gt; ç»“æ„ä½“ç±»å‹ <span class="hljs-class"><span class="hljs-keyword">struct</span></span><br><span class="hljs-class">&gt;</span> æšä¸¾ç±»å‹ <span class="hljs-class"><span class="hljs-keyword">enum</span></span><br><span class="hljs-class">&gt;</span> è”åˆç±»å‹ <span class="hljs-class"><span class="hljs-keyword">union</span></span><br></code></pre></td></tr></table></figure></p><p><strong>æŒ‡é’ˆç±»å‹:</strong> <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> *pi;<br><span class="hljs-type">char</span> *pc;<br><span class="hljs-type">float</span>* pf;<br><span class="hljs-type">void</span>* pv;<br></code></pre></td></tr></table></figure></p><p><strong>ç©ºç±»å‹ï¼š</strong> <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> è¡¨ç¤ºç©ºç±»å‹ï¼ˆæ— ç±»å‹ï¼‰<br>é€šå¸¸åº”ç”¨äºå‡½æ•°çš„è¿”å›ç±»å‹ã€å‡½æ•°çš„å‚æ•°ã€æŒ‡é’ˆç±»å‹ã€‚<br></code></pre></td></tr></table></figure></p><h1 id="æ•´å½¢åœ¨å†…å­˜ä¸­çš„å­˜å‚¨">2 æ•´å½¢åœ¨å†…å­˜ä¸­çš„å­˜å‚¨</h1><h2 id="åŸç åç è¡¥ç ">2.1 åŸç ã€åç ã€è¡¥ç </h2><p>è®¡ç®—æœºä¸­çš„æ•´æ•°æœ‰ä¸‰ç§2è¿›åˆ¶è¡¨ç¤ºæ–¹æ³•ï¼Œå³åŸç ã€åç å’Œè¡¥ç ã€‚ ä¸‰ç§è¡¨ç¤ºæ–¹æ³•å‡æœ‰ç¬¦å·ä½å’Œæ•°å€¼ä½ä¸¤éƒ¨åˆ†ï¼Œç¬¦å·ä½éƒ½æ˜¯ç”¨0è¡¨ç¤ºâ€œæ­£â€ï¼Œç”¨1è¡¨ç¤ºâ€œè´Ÿâ€ã€‚ å¯¹äºæ•°å€¼ä½æ­£æ•°å’Œè´Ÿæ•°çš„è¡¨ç¤ºä¸åŒï¼š</p><p><strong>æ­£æ•°</strong> ï¼š åŸã€åã€è¡¥ç éƒ½ç›¸åŒã€‚</p><p><strong>è´Ÿæ•´æ•°çš„ä¸‰ç§è¡¨ç¤ºæ–¹æ³•å„ä¸ç›¸åŒï¼š</strong> &gt; <strong>åŸç </strong> &gt; ç›´æ¥å°†æ•°å€¼æŒ‰ç…§æ­£è´Ÿæ•°çš„å½¢å¼ç¿»è¯‘æˆäºŒè¿›åˆ¶å°±å¯ä»¥å¾—åˆ°åŸç ã€‚</p><blockquote><p><strong>åç </strong> å°†åŸç çš„ç¬¦å·ä½ä¸å˜ï¼Œå…¶ä»–ä½ä¾æ¬¡æŒ‰ä½å–åå°±å¯ä»¥å¾—åˆ°åç ã€‚</p></blockquote><blockquote><p><strong>è¡¥ç </strong> åç +1å°±å¾—åˆ°è¡¥ç ã€‚</p></blockquote><p><strong>å¯¹äºæ•´å½¢æ¥è¯´ï¼šæ•°æ®å­˜æ”¾å†…å­˜ä¸­å…¶å®å­˜æ”¾çš„æ˜¯è¡¥ç ã€‚</strong></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> a = <span class="hljs-number">20</span>;<br><span class="hljs-comment">//00000000 00000000 00000000 00010100 - è¡¥ç </span><br><span class="hljs-comment">//0x00 00 00 14 - 16è¿›åˆ¶ </span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/img/Cè¯­è¨€08-æ•°æ®çš„å­˜å‚¨/Cè¯­è¨€08-æ•°æ®çš„å­˜å‚¨.png" /> æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¯¹äºaå’Œbåˆ†åˆ«å­˜å‚¨çš„æ˜¯è¡¥ç ã€‚ä½†æ˜¯æˆ‘ä»¬å‘ç°é¡ºåºæœ‰ç‚¹ä¸å¯¹ã€‚ è¿™æ˜¯åˆä¸ºä»€ä¹ˆï¼Ÿ</p><h2 id="å¤§å°ç«¯ä»‹ç»">2.2 å¤§å°ç«¯ä»‹ç»</h2><p><strong>ä»€ä¹ˆå¤§ç«¯å°ç«¯ï¼š</strong> &gt; å¤§ç«¯ï¼ˆå­˜å‚¨ï¼‰æ¨¡å¼ï¼Œæ˜¯æŒ‡æ•°æ®çš„ä½ä½ä¿å­˜åœ¨å†…å­˜çš„é«˜åœ°å€ä¸­ï¼Œè€Œæ•°æ®çš„é«˜ä½ï¼Œä¿å­˜åœ¨å†…å­˜çš„ä½åœ°å€ä¸­ï¼› &gt; &gt; <strong>å°ç«¯</strong>ï¼ˆå­˜å‚¨ï¼‰æ¨¡å¼ï¼Œæ˜¯æŒ‡æ•°æ®çš„<strong>ä½ä½</strong>ä¿å­˜åœ¨å†…å­˜çš„<strong>ä½åœ°å€</strong>ä¸­ï¼Œè€Œæ•°æ®çš„<strong>é«˜ä½</strong>,ï¼Œä¿å­˜åœ¨å†…å­˜çš„<strong>é«˜åœ°å€</strong>ä¸­ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a = <span class="hljs-number">20</span>;<br><br><span class="hljs-comment">// å°ç«¯</span><br><span class="hljs-comment">// 14 00 00 00</span><br><br><span class="hljs-comment">// å¤§ç«¯</span><br><span class="hljs-comment">// 00 00 00 14</span><br></code></pre></td></tr></table></figure><p><strong>ä¸ºä»€ä¹ˆæœ‰å¤§ç«¯å’Œå°ç«¯ï¼š</strong> è¿™æ˜¯å› ä¸ºåœ¨è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œæˆ‘ä»¬æ˜¯ä»¥å­—èŠ‚ä¸ºå•ä½çš„ï¼Œæ¯ä¸ªåœ°å€å•å…ƒéƒ½å¯¹åº”ç€ä¸€ä¸ªå­—èŠ‚ï¼Œä¸€ä¸ªå­—èŠ‚ä¸º8 bitã€‚ä½†æ˜¯åœ¨Cè¯­è¨€ä¸­é™¤äº†8 bitçš„charä¹‹å¤–ï¼Œè¿˜æœ‰16 bitçš„shortå‹ï¼Œ32 bitçš„longå‹ï¼ˆè¦çœ‹å…·ä½“çš„ç¼–è¯‘å™¨ï¼‰ï¼Œå¦å¤–ï¼Œå¯¹äºä½æ•°å¤§äº8ä½çš„å¤„ç†å™¨ï¼Œä¾‹å¦‚16ä½æˆ–è€…32ä½çš„å¤„ç†å™¨ï¼Œç”±äºå¯„å­˜å™¨å®½åº¦å¤§äºä¸€ä¸ªå­—èŠ‚ï¼Œé‚£ä¹ˆå¿…ç„¶å­˜åœ¨ç€ä¸€ä¸ªå¦‚ä½•å°†å¤šä¸ªå­—èŠ‚å®‰æ’çš„é—®é¢˜ã€‚å› æ­¤å°±å¯¼è‡´äº†å¤§ç«¯å­˜å‚¨æ¨¡å¼å’Œå°ç«¯å­˜å‚¨æ¨¡å¼ã€‚</p><h3 id="ç»ƒä¹ 1">ç»ƒä¹ 1</h3><blockquote><p>è¯·ç®€è¿°å¤§ç«¯å­—èŠ‚åºå’Œå°ç«¯å­—èŠ‚åºçš„æ¦‚å¿µï¼Œè®¾è®¡ä¸€ä¸ªå°ç¨‹åºæ¥åˆ¤æ–­å½“å‰æœºå™¨çš„å­—èŠ‚åºã€‚</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">check_sys</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> a = <span class="hljs-number">1</span>;<br><span class="hljs-type">char</span>* p = (<span class="hljs-type">char</span>*)&amp;a;<br><span class="hljs-keyword">if</span> (*p ==<span class="hljs-number">1</span>)<br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br><span class="hljs-keyword">else</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> ret = check_sys();<br><span class="hljs-comment">//è¿”å›1ï¼Œå°ç«¯</span><br><span class="hljs-comment">//è¿”å›0ï¼Œå¤§ç«¯</span><br><span class="hljs-keyword">if</span>(ret == <span class="hljs-number">1</span>)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;å°ç«¯\n&quot;</span>);<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;å¤§ç«¯\n&quot;</span>);<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä¼˜åŒ–ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">check_sys</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;<br><span class="hljs-type">char</span>* p = (<span class="hljs-type">char</span>*)&amp;a;<br><span class="hljs-comment">//è¿”å›1ï¼Œå°ç«¯</span><br><span class="hljs-comment">//è¿”å›0ï¼Œå¤§ç«¯</span><br><span class="hljs-keyword">return</span> *p;<br>&#125;<br></code></pre></td></tr></table></figure></p><p>å†ä¼˜åŒ–ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><br><span class="hljs-type">int</span> <span class="hljs-title function_">check_sys</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> a = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">return</span> (*(<span class="hljs-type">char</span>*)&amp;a);<br>&#125;<br></code></pre></td></tr></table></figure></p><h3 id="ç»ƒä¹ 2">ç»ƒä¹ 2</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//è¾“å‡ºä»€ä¹ˆï¼Ÿ</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">char</span> a= <span class="hljs-number">-1</span>;<br><span class="hljs-type">signed</span> <span class="hljs-type">char</span> b=<span class="hljs-number">-1</span>;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> c=<span class="hljs-number">-1</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a=%d,b=%d,c=%d&quot;</span>,a,b,c);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š-1 -1 255</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs txt">char a = -1;<br>10000000 00000000 00000000 00000001 - åŸç <br>11111111 11111111 11111111 11111110 - åç <br>11111111 11111111 11111111 11111111 - è¡¥ç <br><br>å› ä¸ºcharæ˜¯1å­—èŠ‚ï¼Œæ‰€ä»¥åªèƒ½å­˜8bitï¼š<br>11111111<br><br>è¦æ±‚æ‰“å°çš„ç±»å‹ä¸ºintç±»å‹ï¼ˆ%dï¼‰ï¼Œæ‰€ä»¥éœ€è¦æ•´å½¢æå‡ï¼š<br>11111111 11111111 11111111 11111111 - åç <br><br>æ¥ç€è½¬æ¢æˆåŸç æ‰“å°ï¼š<br>10000000 00000000 00000000 00000001 - åŸç <br><br>æ‰€ä»¥ï¼Œæœ€ç»ˆç»“æœä¸º-1<br></code></pre></td></tr></table></figure><p>åŒç†ï¼Œå¯¹äº<code>a</code> å’Œ<code>b</code> ä¸ºæœ‰ç¬¦å·ä½æ•´å½¢æå‡,é«˜ä½è¡¥å……ç¬¦å·ä½ã€‚<code>c</code> æ— ç¬¦å·æ•´å½¢æå‡ï¼Œé«˜ä½è¡¥0ã€‚</p><h3 id="ç»ƒä¹ 3">ç»ƒä¹ 3</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// ä»£ç 1</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">char</span> a = <span class="hljs-number">-128</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%u\n&quot;</span>,a);<br><span class="hljs-comment">//%d-æ‰“å°åè¿›åˆ¶çš„æœ‰ç¬¦å·æ•°å­—</span><br><span class="hljs-comment">//%u-æ‰“å°åè¿›åˆ¶çš„æ— ç¬¦å·æ•°å­—</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">// ä»£ç 2</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">char</span> a = <span class="hljs-number">128</span>; <span class="hljs-comment">// = 127+1 = -128</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%u\n&quot;</span>,a);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»£ç 1å’Œä»£ç 2ç»“æœç›¸åŒã€‚ <img src="/img/Cè¯­è¨€08-æ•°æ®çš„å­˜å‚¨/Cè¯­è¨€08-æ•°æ®çš„å­˜å‚¨_D01.png" /></p><p><img src="/img/Cè¯­è¨€08-æ•°æ®çš„å­˜å‚¨/Cè¯­è¨€08-æ•°æ®çš„å­˜å‚¨_D02.png" /></p><h3 id="ç»ƒä¹ 4">ç»ƒä¹ 4</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> i= <span class="hljs-number">-20</span>;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> j = <span class="hljs-number">10</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, i+j); <span class="hljs-comment">// -10</span><br><span class="hljs-comment">//æŒ‰ç…§è¡¥ç çš„å½¢å¼è¿›è¡Œè¿ç®—ï¼Œæœ€åæ ¼å¼åŒ–æˆä¸ºæœ‰ç¬¦å·æ•´æ•°</span><br></code></pre></td></tr></table></figure><h3 id="ç»ƒä¹ 5">ç»ƒä¹ 5</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> i;<br><span class="hljs-keyword">for</span>(i = <span class="hljs-number">9</span>; i &gt;= <span class="hljs-number">0</span>; i--)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%u\n&quot;</span>,i);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ­»å¾ªç¯ï¼Œå› ä¸ºiä¸ºæ— ç¬¦å·æ•´å½¢ï¼Œæ°¸è¿œå¤§äºç­‰äº0ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">char</span> a[<span class="hljs-number">1000</span>];<br><span class="hljs-type">int</span> i;<br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">1000</span>; i++)<br>&#123;<br>a[i] = <span class="hljs-number">-1</span>-i;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>,<span class="hljs-built_in">strlen</span>(a));<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š255 charå–å€¼èŒƒå›´ä¸º-128åˆ°127ï¼Œæ‰€ä»¥ <code>char a[1000]</code> ä¸­å­˜çš„ä¸º <code>-1 -2 -3 Â·Â·Â· -128 127 126 Â·Â·Â· 1 0</code> ,åˆå› ä¸º <code>strlen()</code> æ±‚å¾—æ˜¯<code>0</code> å‰è¾¹çš„é•¿åº¦ï¼Œæ‰€ä»¥ç»“æœä¸º255</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">unsigned</span> <span class="hljs-type">char</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-keyword">for</span>(i = <span class="hljs-number">0</span>;i&lt;=<span class="hljs-number">255</span>;i++)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;hello world\n&quot;</span>);<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ­»å¾ªç¯ã€‚å› ä¸º <code>unsigned char</code> å–å€¼èŒƒå›´ä¸º0-255ï¼Œæ°¸è¿œå°äºç­‰äº255ã€‚</p><h1 id="æµ®ç‚¹å‹åœ¨å†…å­˜ä¸­çš„å­˜å‚¨">3 æµ®ç‚¹å‹åœ¨å†…å­˜ä¸­çš„å­˜å‚¨</h1><h2 id="ç¤ºä¾‹">3.1 ç¤ºä¾‹</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> n = <span class="hljs-number">9</span>;<br><span class="hljs-type">float</span> *pFloat = (<span class="hljs-type">float</span> *)&amp;n;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;nçš„å€¼ä¸ºï¼š%d\n&quot;</span>,n);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;*pFloatçš„å€¼ä¸ºï¼š%f\n&quot;</span>,*pFloat);<br>*pFloat = <span class="hljs-number">9.0</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;numçš„å€¼ä¸ºï¼š%d\n&quot;</span>,n);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;*pFloatçš„å€¼ä¸ºï¼š%f\n&quot;</span>,*pFloat);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœä¸ºï¼š <img src="/img/Cè¯­è¨€08-æ•°æ®çš„å­˜å‚¨/Cè¯­è¨€08-æ•°æ®çš„å­˜å‚¨_1.png" /></p><p><code>num</code> å’Œ<code>*pFloat</code> åœ¨å†…å­˜ä¸­æ˜æ˜æ˜¯åŒä¸€ä¸ªæ•°ï¼Œä¸ºä»€ä¹ˆæµ®ç‚¹æ•°å’Œæ•´æ•°çš„è§£è¯»ç»“æœä¼šå·®åˆ«è¿™ä¹ˆå¤§ï¼Ÿ</p><h2 id="æµ®ç‚¹æ•°å­˜å‚¨è§„åˆ™">3.2 æµ®ç‚¹æ•°å­˜å‚¨è§„åˆ™</h2><p>æ ¹æ®å›½é™…æ ‡å‡†IEEEï¼ˆç”µæ°”å’Œç”µå­å·¥ç¨‹åä¼šï¼‰ 754ï¼Œä»»æ„ä¸€ä¸ªäºŒè¿›åˆ¶æµ®ç‚¹æ•°Vå¯ä»¥è¡¨ç¤ºæˆä¸‹é¢çš„å½¢å¼ï¼š - (-1)^S * M * 2^E - (-1)^Sè¡¨ç¤ºç¬¦å·ä½ï¼Œå½“S=0ï¼ŒVä¸ºæ­£æ•°ï¼›å½“S=1ï¼ŒVä¸ºè´Ÿæ•°ã€‚ - Mè¡¨ç¤ºæœ‰æ•ˆæ•°å­—ï¼Œå¤§äºç­‰äº1ï¼Œå°äº2ã€‚ - 2^Eè¡¨ç¤ºæŒ‡æ•°ä½ã€‚ <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-number">9.0</span><br><span class="hljs-number">1001.0</span><br>(<span class="hljs-number">-1</span>)^<span class="hljs-number">0</span> * <span class="hljs-number">1.001</span> * <span class="hljs-number">2</span>^<span class="hljs-number">3</span><br>(<span class="hljs-number">-1</span>)^s * M     * <span class="hljs-number">2</span>^E<br><br>S<span class="hljs-number">-0</span><br>M<span class="hljs-number">-1.001</span><br>E<span class="hljs-number">-3</span><br></code></pre></td></tr></table></figure></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-number">-5.0</span><br><span class="hljs-number">-101.0</span><br>(<span class="hljs-number">-1</span>)^<span class="hljs-number">1</span> * <span class="hljs-number">1.01</span> * <span class="hljs-number">2</span>^<span class="hljs-number">2</span><br><br>S=<span class="hljs-number">1</span><br>M=<span class="hljs-number">1.01</span><br>E=<span class="hljs-number">2</span>ã€‚<br></code></pre></td></tr></table></figure><p><strong>IEEE 754è§„å®šï¼š</strong> å¯¹äº32ä½çš„æµ®ç‚¹æ•°ï¼Œæœ€é«˜çš„1ä½æ˜¯ç¬¦å·ä½Sï¼Œæ¥ç€çš„8ä½æ˜¯æŒ‡æ•°Eï¼Œå‰©ä¸‹çš„23ä½ä¸ºæœ‰æ•ˆæ•°å­—Mã€‚ <img src="/img/Cè¯­è¨€08-æ•°æ®çš„å­˜å‚¨/Cè¯­è¨€08-æ•°æ®çš„å­˜å‚¨_2.png" /></p><p>å¯¹äº64ä½çš„æµ®ç‚¹æ•°ï¼Œæœ€é«˜çš„1ä½æ˜¯ç¬¦å·ä½Sï¼Œæ¥ç€çš„11ä½æ˜¯æŒ‡æ•°Eï¼Œå‰©ä¸‹çš„52ä½ä¸ºæœ‰æ•ˆæ•°å­—Mã€‚ <img src="/img/Cè¯­è¨€08-æ•°æ®çš„å­˜å‚¨/Cè¯­è¨€08-æ•°æ®çš„å­˜å‚¨_3.png" /></p><p><strong>IEEE 754å¯¹æœ‰æ•ˆæ•°å­—Må’ŒæŒ‡æ•°Eï¼Œè¿˜æœ‰ä¸€äº›ç‰¹åˆ«è§„å®šã€‚</strong></p><p><strong>å¯¹äºMï¼š</strong> å‰é¢è¯´è¿‡ï¼Œ <code>1â‰¤M&lt;2</code> ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒMå¯ä»¥å†™æˆ<code>1.xxxxxx</code> çš„å½¢å¼ï¼Œå…¶ä¸­<code>xxxxxx</code>è¡¨ç¤ºå°æ•°éƒ¨åˆ†ã€‚</p><p>IEEE 754è§„å®šï¼Œåœ¨è®¡ç®—æœºå†…éƒ¨ä¿å­˜Mæ—¶ï¼Œé»˜è®¤è¿™ä¸ªæ•°çš„ç¬¬ä¸€ä½æ€»æ˜¯1ï¼Œå› æ­¤å¯ä»¥è¢«èˆå»ï¼Œåªä¿å­˜åé¢çš„<code>xxxxxx</code>éƒ¨åˆ†ã€‚æ¯”å¦‚ä¿å­˜<code>1.01</code>çš„æ—¶å€™ï¼Œåªä¿å­˜<code>01</code>ï¼Œç­‰åˆ°è¯»å–çš„æ—¶å€™ï¼Œå†æŠŠç¬¬ä¸€ä½çš„1åŠ ä¸Šå»ã€‚</p><p>è¿™æ ·åšçš„ç›®çš„ï¼Œæ˜¯èŠ‚çœ1ä½æœ‰æ•ˆæ•°å­—ã€‚ä»¥32ä½æµ®ç‚¹æ•°ä¸ºä¾‹ï¼Œç•™ç»™Måªæœ‰23ä½ï¼Œå°†ç¬¬ä¸€ä½çš„1èˆå»ä»¥åï¼Œç­‰äºå¯ä»¥ä¿å­˜24ä½æœ‰æ•ˆå­—ã€‚</p><p><strong>å¯¹äºE:</strong> <strong>é¦–å…ˆï¼ŒEä¸ºä¸€ä¸ªæ— ç¬¦å·æ•´æ•°ï¼ˆunsigned intï¼‰</strong> è¿™æ„å‘³ç€ï¼Œå¦‚æœEä¸º8ä½ï¼Œå®ƒçš„å–å€¼èŒƒå›´ä¸º0<sub>255ï¼›å¦‚æœEä¸º11ä½ï¼Œå®ƒçš„å–å€¼èŒƒå›´ä¸º0</sub>2047ã€‚</p><p>ä½†æ˜¯ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œç§‘å­¦è®¡æ•°æ³•ä¸­çš„Eæ˜¯å¯ä»¥å‡ºç°è´Ÿæ•°çš„ï¼Œæ‰€ä»¥IEEE 754è§„å®šï¼Œå­˜å…¥å†…å­˜æ—¶Eçš„çœŸå®å€¼å¿…é¡»å†åŠ ä¸Šä¸€ä¸ªä¸­é—´æ•°ï¼Œå¯¹äº8ä½çš„Eï¼Œè¿™ä¸ªä¸­é—´æ•°æ˜¯127ï¼›å¯¹äº11ä½çš„Eï¼Œè¿™ä¸ªä¸­é—´æ•°æ˜¯1023ã€‚</p><p>æ¯”å¦‚ï¼Œ2^10çš„Eæ˜¯10ï¼Œæ‰€ä»¥ä¿å­˜æˆ32ä½æµ®ç‚¹æ•°æ—¶ï¼Œå¿…é¡»ä¿å­˜æˆ10+127=137ï¼Œå³<code>10001001</code>ã€‚</p><p>ç„¶åï¼ŒæŒ‡æ•°Eä»å†…å­˜ä¸­å–å‡ºè¿˜å¯ä»¥å†åˆ†æˆä¸‰ç§æƒ…å†µï¼š</p><p><strong>Eä¸å…¨ä¸º0æˆ–ä¸å…¨ä¸º1</strong> &gt; æŒ‡æ•°Eçš„è®¡ç®—å€¼å‡å»127ï¼ˆæˆ–1023ï¼‰ï¼Œå¾—åˆ°çœŸå®å€¼ï¼Œå†å°†æœ‰æ•ˆæ•°å­—Må‰åŠ ä¸Šç¬¬ä¸€ä½çš„1ã€‚</p><p>æ¯”å¦‚ï¼š <code>0.5ï¼ˆ1/2ï¼‰</code>çš„äºŒè¿›åˆ¶å½¢å¼ä¸º0.1ï¼Œç”±äºè§„å®šæ­£æ•°éƒ¨åˆ†å¿…é¡»ä¸º1ï¼Œå³å°†å°æ•°ç‚¹å³ç§»1ä½ï¼Œåˆ™ä¸º<code>1.0*2^(-1)</code>ï¼Œå…¶é˜¶ç ä¸º<code>-1+127=126</code>ï¼Œè¡¨ç¤ºä¸º<code>01111110</code>ï¼Œè€Œå°¾æ•°1.0å»æ‰æ•´æ•°éƒ¨åˆ†ä¸º0ï¼Œè¡¥é½0åˆ°23ä½<code>00000000000000000000000</code>ï¼Œåˆ™å…¶äºŒè¿›åˆ¶è¡¨ç¤ºå½¢å¼ä¸º: <code>0 01111110 00000000000000000000000</code></p><p><strong>Eå…¨ä¸º0</strong> &gt; è¿™æ—¶ï¼Œæµ®ç‚¹æ•°çš„æŒ‡æ•°Eç­‰äº1-127ï¼ˆæˆ–è€…1-1023ï¼‰å³ä¸ºçœŸå®å€¼ï¼Œæœ‰æ•ˆæ•°å­—Mä¸å†åŠ ä¸Šç¬¬ä¸€ä½çš„1ï¼Œè€Œæ˜¯è¿˜åŸä¸º0.xxxxxxçš„å°æ•°ã€‚è¿™æ ·åšæ˜¯ä¸ºäº†è¡¨ç¤ºÂ±0ï¼Œä»¥åŠæ¥è¿‘äº0çš„å¾ˆå°çš„æ•°å­—ã€‚</p><p><strong>Eå…¨ä¸º1</strong> &gt; è¿™æ—¶ï¼Œå¦‚æœæœ‰æ•ˆæ•°å­—Må…¨ä¸º0ï¼Œè¡¨ç¤ºÂ±æ— ç©·å¤§ï¼ˆæ­£è´Ÿå–å†³äºç¬¦å·ä½sï¼‰</p>]]></content>
    
    
    <categories>
      
      <category>Cè¯­è¨€åŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C/C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cè¯­è¨€07-åˆè¯†ç»“æ„ä½“</title>
    <link href="/2023/09/12/C%E8%AF%AD%E8%A8%8007-%E5%88%9D%E8%AF%86%E7%BB%93%E6%9E%84%E4%BD%93/"/>
    <url>/2023/09/12/C%E8%AF%AD%E8%A8%8007-%E5%88%9D%E8%AF%86%E7%BB%93%E6%9E%84%E4%BD%93/</url>
    
    <content type="html"><![CDATA[<p>æœ¬ç« é‡ç‚¹ï¼š</p><ul><li>ç»“æ„ä½“ç±»å‹çš„å£°æ˜</li><li>ç»“æ„ä½“åˆå§‹åŒ–</li><li>ç»“æ„ä½“æˆå‘˜è®¿é—®</li><li>ç»“æ„ä½“ä¼ å‚</li></ul><h1 id="ç»“æ„ä½“çš„å£°æ˜">1 ç»“æ„ä½“çš„å£°æ˜</h1><p>ç»“æ„æ˜¯ä¸€äº›å€¼çš„é›†åˆï¼Œè¿™äº›å€¼ç§°ä¸ºæˆå‘˜å˜é‡ã€‚ç»“æ„çš„æ¯ä¸ªæˆå‘˜å¯ä»¥æ˜¯ä¸åŒç±»å‹çš„å˜é‡ã€‚</p><h2 id="ç»“æ„ä½“çš„å£°æ˜-1">1.1 ç»“æ„ä½“çš„å£°æ˜</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">tag</span></span><br><span class="hljs-class">&#123;</span><br>member-<span class="hljs-built_in">list</span>;<br>&#125;variable-<span class="hljs-built_in">list</span>;<br></code></pre></td></tr></table></figure><p>ä¾‹å¦‚æè¿°ä¸€ä¸ªå­¦ç”Ÿï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">char</span> name[<span class="hljs-number">20</span>];<span class="hljs-comment">//åå­—</span><br><span class="hljs-type">int</span> age;<span class="hljs-comment">//å¹´é¾„</span><br><span class="hljs-type">char</span> sex[<span class="hljs-number">5</span>];<span class="hljs-comment">//æ€§åˆ«</span><br><span class="hljs-type">char</span> id[<span class="hljs-number">20</span>];<span class="hljs-comment">//å­¦å·</span><br>&#125;;<span class="hljs-comment">//åˆ†å·ä¸èƒ½ä¸¢</span><br></code></pre></td></tr></table></figure></p><p>å¯ä»¥å°† struct Stu é‡å‘½åä¸ºStu <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">char</span> name[<span class="hljs-number">20</span>];<span class="hljs-comment">//åå­—</span><br><span class="hljs-type">int</span> age;<span class="hljs-comment">//å¹´é¾„</span><br><span class="hljs-type">char</span> sex[<span class="hljs-number">5</span>];<span class="hljs-comment">//æ€§åˆ«</span><br><span class="hljs-type">char</span> id[<span class="hljs-number">20</span>];<span class="hljs-comment">//å­¦å·</span><br>&#125;Stuï¼›<span class="hljs-comment">//åˆ†å·ä¸èƒ½ä¸¢</span><br></code></pre></td></tr></table></figure></p><p>ç»“æ„çš„æˆå‘˜å¯ä»¥æ˜¯æ ‡é‡ã€æ•°ç»„ã€æŒ‡é’ˆï¼Œç”šè‡³æ˜¯å…¶ä»–ç»“æ„ä½“ã€‚</p><h2 id="ç»“æ„ä½“å˜é‡çš„å®šä¹‰å’Œåˆå§‹åŒ–">1.2 ç»“æ„ä½“å˜é‡çš„å®šä¹‰å’Œåˆå§‹åŒ–</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Point</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">int</span> x;<br><span class="hljs-type">int</span> y;<br>&#125;p1; <span class="hljs-comment">//å£°æ˜ç±»å‹çš„åŒæ—¶å®šä¹‰å˜é‡p1</span><br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Point</span> <span class="hljs-title">p2</span>;</span> <span class="hljs-comment">//å®šä¹‰ç»“æ„ä½“å˜é‡p2</span><br><br><span class="hljs-comment">//åˆå§‹åŒ–ï¼šå®šä¹‰å˜é‡çš„åŒæ—¶èµ‹åˆå€¼ã€‚</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Point</span> <span class="hljs-title">p3</span> =</span> &#123;x, y&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span> //ç±»å‹å£°æ˜</span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">char</span> name[<span class="hljs-number">15</span>];<span class="hljs-comment">//åå­—</span><br><span class="hljs-type">int</span> age; <span class="hljs-comment">//å¹´é¾„</span><br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span> <span class="hljs-title">s</span> =</span> &#123;<span class="hljs-string">&quot;zhangsan&quot;</span>, <span class="hljs-number">20</span>&#125;;<span class="hljs-comment">//åˆå§‹åŒ–</span><br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">int</span> data;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Point</span> <span class="hljs-title">p</span>;</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span>* <span class="hljs-title">next</span>;</span><br>&#125;n1 = &#123;<span class="hljs-number">10</span>, &#123;<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;, <span class="hljs-literal">NULL</span>&#125;; <span class="hljs-comment">//ç»“æ„ä½“åµŒå¥—åˆå§‹åŒ–</span><br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Node</span> <span class="hljs-title">n2</span> =</span> &#123;<span class="hljs-number">20</span>, &#123;<span class="hljs-number">5</span>, <span class="hljs-number">6</span>&#125;, <span class="hljs-literal">NULL</span>&#125;;<span class="hljs-comment">//ç»“æ„ä½“åµŒå¥—åˆå§‹åŒ–</span><br></code></pre></td></tr></table></figure><h1 id="ç»“æ„ä½“æˆå‘˜çš„è®¿é—®">2 ç»“æ„ä½“æˆå‘˜çš„è®¿é—®</h1><h2 id="ç»“æ„ä½“å˜é‡è®¿é—®æˆå‘˜">2.1 ç»“æ„ä½“å˜é‡è®¿é—®æˆå‘˜</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">char</span> name[<span class="hljs-number">20</span>];<br><span class="hljs-type">int</span> age;<br>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">S</span> <span class="hljs-title">s</span> =</span> &#123;<span class="hljs-string">&quot;zhangsan&quot;</span>,<span class="hljs-number">20</span>&#125;;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>,s.name)<br></code></pre></td></tr></table></figure><h2 id="ç»“æ„ä½“æŒ‡é’ˆè®¿é—®æŒ‡å‘å˜é‡çš„æˆå‘˜">2.2 ç»“æ„ä½“æŒ‡é’ˆè®¿é—®æŒ‡å‘å˜é‡çš„æˆå‘˜</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">print</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> Stu* ps)</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;name = %s age = %d\n&quot;</span>, (*ps).name, (*ps).age);<br><span class="hljs-comment">//ä½¿ç”¨ç»“æ„ä½“æŒ‡é’ˆè®¿é—®æŒ‡å‘å¯¹è±¡çš„æˆå‘˜</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;name = %s age = %d\n&quot;</span>, ps-&gt;name, ps-&gt;age);<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span> <span class="hljs-title">s</span> =</span> &#123;<span class="hljs-string">&quot;zhangsan&quot;</span>, <span class="hljs-number">20</span>&#125;;<br>print(&amp;s);<span class="hljs-comment">//ç»“æ„ä½“åœ°å€ä¼ å‚</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ç»“æ„ä½“ä¼ å‚">3 ç»“æ„ä½“ä¼ å‚</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">S</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">int</span> data[<span class="hljs-number">1000</span>];<br><span class="hljs-type">int</span> num;<br>&#125;;<br><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">S</span> <span class="hljs-title">s</span> =</span> &#123;&#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>&#125;, <span class="hljs-number">1000</span>&#125;;<br><br><span class="hljs-comment">//ç»“æ„ä½“ä¼ å‚</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">print1</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> S s)</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, s.num);<br>&#125;<br><br><span class="hljs-comment">//ç»“æ„ä½“åœ°å€ä¼ å‚</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">print2</span><span class="hljs-params">(<span class="hljs-keyword">struct</span> S* ps)</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, ps-&gt;num);<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>print1(s); <span class="hljs-comment">//ä¼ ç»“æ„ä½“</span><br>print2(&amp;s); <span class="hljs-comment">//ä¼ åœ°å€</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>é¦–é€‰<code>print2</code>å‡½æ•°ã€‚å› ä¸ºï¼Œå‡½æ•°ä¼ å‚çš„æ—¶å€™ï¼Œå‚æ•°æ˜¯éœ€è¦å‹æ ˆçš„ã€‚å¦‚æœä¼ é€’ä¸€ä¸ªç»“æ„ä½“å¯¹è±¡çš„æ—¶å€™ï¼Œç»“æ„ä½“è¿‡å¤§ï¼Œå‚æ•°å‹æ ˆçš„çš„ç³»ç»Ÿå¼€é”€æ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´æ€§èƒ½çš„ä¸‹é™ã€‚</p><p><strong>ç»“è®ºï¼š</strong> ç»“æ„ä½“ä¼ å‚çš„æ—¶å€™ï¼Œè¦ä¼ ç»“æ„ä½“çš„åœ°å€ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Cè¯­è¨€åŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C/C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cè¯­è¨€06-åˆè¯†æŒ‡é’ˆ12</title>
    <link href="/2023/09/12/C%E8%AF%AD%E8%A8%8006-%E5%88%9D%E8%AF%86%E6%8C%87%E9%92%8812/"/>
    <url>/2023/09/12/C%E8%AF%AD%E8%A8%8006-%E5%88%9D%E8%AF%86%E6%8C%87%E9%92%8812/</url>
    
    <content type="html"><![CDATA[<p>æœ¬ç« é‡ç‚¹ï¼š 1. æŒ‡é’ˆæ˜¯ä»€ä¹ˆ 2. æŒ‡é’ˆå’ŒæŒ‡é’ˆç±»å‹ 3. é‡æŒ‡é’ˆ 4. æŒ‡é’ˆè¿ç®— 5. æŒ‡é’ˆå’Œæ•°ç»„ 6. äºŒçº§æŒ‡é’ˆ 7. æŒ‡é’ˆæ•°ç»„ # 1 æŒ‡é’ˆæ˜¯ä»€ä¹ˆï¼Ÿ æŒ‡é’ˆæ˜¯å˜é‡ï¼Œå˜é‡é‡Œå­˜æ”¾çš„æ˜¯åœ°å€ï¼Œå³æŒ‡é’ˆå°±æ˜¯åœ°å€ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<span class="hljs-comment">//åœ¨å†…å­˜ä¸­å¼€è¾Ÿä¸€å—ç©ºé—´</span><br><span class="hljs-type">int</span> *p = &amp;a;<span class="hljs-comment">//è¿™é‡Œæˆ‘ä»¬å¯¹å˜é‡aï¼Œå–å‡ºå®ƒçš„åœ°å€ï¼Œå¯ä»¥ä½¿ç”¨&amp;æ“ä½œç¬¦ã€‚</span><br><span class="hljs-comment">//aå˜é‡å ç”¨4ä¸ªå­—èŠ‚çš„ç©ºé—´ï¼Œè¿™é‡Œæ˜¯å°†açš„4ä¸ªå­—èŠ‚çš„ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åœ°å€å­˜æ”¾åœ¨på˜é‡ä¸­ï¼Œpå°±æ˜¯ä¸€ä¸ªä¹‹æŒ‡é’ˆå˜é‡ã€‚</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“ï¼š</strong> - æŒ‡é’ˆå˜é‡æ˜¯ç”¨æ¥å­˜æ”¾åœ°å€çš„ï¼Œåœ°å€æ˜¯å”¯ä¸€æ ‡ç¤ºä¸€ä¸ªå†…å­˜å•å…ƒçš„ã€‚ - æŒ‡é’ˆçš„å¤§å°åœ¨32ä½å¹³å°æ˜¯4ä¸ªå­—èŠ‚ï¼Œåœ¨64ä½å¹³å°æ˜¯8ä¸ªå­—èŠ‚ã€‚</p><h1 id="æŒ‡é’ˆå’ŒæŒ‡é’ˆç±»å‹">2 æŒ‡é’ˆå’ŒæŒ‡é’ˆç±»å‹</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> *pc = <span class="hljs-literal">NULL</span>;<br><span class="hljs-type">int</span> *pi = <span class="hljs-literal">NULL</span>;<br><span class="hljs-type">short</span> *ps = <span class="hljs-literal">NULL</span>;<br><span class="hljs-type">long</span> *pl = <span class="hljs-literal">NULL</span>;<br><span class="hljs-type">float</span> *pf = <span class="hljs-literal">NULL</span>;<br><span class="hljs-type">double</span> *pd = <span class="hljs-literal">NULL</span>;<br></code></pre></td></tr></table></figure><p><code>char*</code> ç±»å‹çš„æŒ‡é’ˆæ˜¯ä¸ºäº†å­˜æ”¾ <code>char</code> ç±»å‹å˜é‡çš„åœ°å€ã€‚ <code>short*</code> ç±»å‹çš„æŒ‡é’ˆæ˜¯ä¸ºäº†å­˜æ”¾ <code>short</code> ç±»å‹å˜é‡çš„åœ°å€ã€‚ <code>int*</code> ç±»å‹çš„æŒ‡é’ˆæ˜¯ä¸ºäº†å­˜æ”¾ <code>int</code> ç±»å‹å˜é‡çš„åœ°å€ã€‚</p><p>æŒ‡é’ˆçš„å¤§å°éƒ½æ˜¯4å­—èŠ‚ï¼Œæˆ–è€…8å­—èŠ‚ï¼Œå¤§å°éƒ½ä¸€æ ·ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆè¦åˆ†ä¸åŒçš„ç±»å‹ï¼Œé‚£æŒ‡é’ˆç±»å‹çš„æ„ä¹‰æ˜¯ä»€ä¹ˆï¼Ÿ</p><h2 id="æŒ‡é’ˆçš„è§£å¼•ç”¨">2.1 æŒ‡é’ˆçš„è§£å¼•ç”¨</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> n = <span class="hljs-number">0x11223344</span>;<br><span class="hljs-type">char</span> *pc = &amp;n;<br><span class="hljs-type">int</span> *pi = &amp;n;<br>*pc = <span class="hljs-number">0</span>; <span class="hljs-comment">//åœ¨è°ƒè¯•çš„è¿‡ç¨‹ä¸­è§‚å¯Ÿå†…å­˜çš„å˜åŒ–ã€‚</span><br>*pi = <span class="hljs-number">0</span>; <span class="hljs-comment">//åœ¨è°ƒè¯•çš„è¿‡ç¨‹ä¸­è§‚å¯Ÿå†…å­˜çš„å˜åŒ–ã€‚</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“ï¼š</strong> æŒ‡é’ˆçš„ç±»å‹å†³å®šäº†ï¼Œå¯¹æŒ‡é’ˆè§£å¼•ç”¨çš„æ—¶å€™æœ‰å¤šå¤§çš„æƒé™ï¼ˆèƒ½æ“ä½œå‡ ä¸ªå­—èŠ‚ï¼‰ã€‚ æ¯”å¦‚ï¼š <code>char*</code>çš„æŒ‡é’ˆè§£å¼•ç”¨å°±åªèƒ½è®¿é—®ä¸€ä¸ªå­—èŠ‚ï¼Œè€Œ<code>int*</code> çš„æŒ‡é’ˆçš„è§£å¼•ç”¨å°±èƒ½è®¿é—®å››ä¸ªå­—èŠ‚ã€‚</p><h2 id="æŒ‡é’ˆ-æ•´æ•°">2.2 æŒ‡é’ˆ+-æ•´æ•°</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> n = <span class="hljs-number">10</span>;<br><span class="hljs-type">char</span> *pc = &amp;n;<br><span class="hljs-type">int</span> *pi = &amp;n;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%p\n&quot;</span>, &amp;n);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%p\n&quot;</span>, pc);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%p\n&quot;</span>, pc+<span class="hljs-number">1</span>);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%p\n&quot;</span>, pi);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%p\n&quot;</span>, pi+<span class="hljs-number">1</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ€»ç»“ï¼š</strong> æŒ‡é’ˆçš„ç±»å‹å†³å®šäº†æŒ‡é’ˆå‘å‰æˆ–è€…å‘åèµ°ä¸€æ­¥æœ‰å¤šå¤§ï¼ˆè·ç¦»ï¼‰ã€‚</p><h1 id="é‡æŒ‡é’ˆ">3 é‡æŒ‡é’ˆ</h1><blockquote><p>é‡æŒ‡é’ˆå°±æ˜¯æŒ‡é’ˆæŒ‡å‘çš„ä½ç½®æ˜¯ä¸å¯çŸ¥çš„ï¼ˆéšæœºçš„ã€ä¸æ­£ç¡®çš„ã€æ²¡æœ‰æ˜ç¡®é™åˆ¶çš„ï¼‰</p></blockquote><h2 id="é‡æŒ‡é’ˆæˆå› ">3.1 é‡æŒ‡é’ˆæˆå› </h2><ol type="1"><li><p>æŒ‡é’ˆæœªåˆå§‹åŒ– <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> *p;<span class="hljs-comment">//å±€éƒ¨å˜é‡æŒ‡é’ˆæœªåˆå§‹åŒ–ï¼Œé»˜è®¤ä¸ºéšæœºå€¼</span><br>*p = <span class="hljs-number">20</span>;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p></li><li><p>æŒ‡é’ˆè¶Šç•Œè®¿é—® <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> arr[<span class="hljs-number">10</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br><span class="hljs-type">int</span> *p = arr;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>; i&lt;=<span class="hljs-number">11</span>; i++)<br>&#123;<br><span class="hljs-comment">//å½“æŒ‡é’ˆæŒ‡å‘çš„èŒƒå›´è¶…å‡ºæ•°ç»„arrçš„èŒƒå›´æ—¶ï¼Œpå°±æ˜¯é‡æŒ‡é’ˆ</span><br>*p = i;<br>p++;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p></li><li><p>æŒ‡é’ˆæŒ‡å‘çš„ç©ºé—´é‡Šæ”¾ <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span>* <span class="hljs-title function_">test</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> a <span class="hljs-number">10</span>;<br><span class="hljs-keyword">return</span> &amp;a;<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span>* p =  test();<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,*p);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br></code></pre></td></tr></table></figure></p></li></ol><h2 id="å¦‚ä½•è§„é¿é‡æŒ‡é’ˆ">3.2 å¦‚ä½•è§„é¿é‡æŒ‡é’ˆ</h2><ol type="1"><li>æŒ‡é’ˆåˆå§‹åŒ–</li><li>å°å¿ƒæŒ‡é’ˆè¶Šç•Œ</li><li>æŒ‡é’ˆæŒ‡å‘ç©ºé—´é‡Šæ”¾ï¼ŒåŠæ—¶ç½®NULL</li><li>é¿å…è¿”å›å±€éƒ¨å˜é‡çš„åœ°å€</li><li>æŒ‡é’ˆä½¿ç”¨ä¹‹å‰æ£€æŸ¥æœ‰æ•ˆæ€§</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> *p = <span class="hljs-literal">NULL</span>;<br><span class="hljs-comment">//....</span><br><span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br>p = &amp;a;<br><span class="hljs-keyword">if</span>(p != <span class="hljs-literal">NULL</span>)<br>&#123;<br>*p = <span class="hljs-number">20</span>;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="æŒ‡é’ˆçš„è¿ç®—">4 æŒ‡é’ˆçš„è¿ç®—</h1><ul><li>æŒ‡é’ˆ+- æ•´æ•°</li><li>æŒ‡é’ˆ-æŒ‡é’ˆ</li><li>æŒ‡é’ˆçš„å…³ç³»è¿ç®—</li></ul><h2 id="æŒ‡é’ˆ--æ•´æ•°">4.1 æŒ‡é’ˆ+- æ•´æ•°</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> N_VALUES 5</span><br><span class="hljs-type">float</span> values[N_VALUES];<br><span class="hljs-type">float</span> *vp;<br><span class="hljs-comment">//æŒ‡é’ˆ+-æ•´æ•°ï¼›æŒ‡é’ˆçš„å…³ç³»è¿ç®—</span><br><span class="hljs-keyword">for</span> (vp = &amp;values[<span class="hljs-number">0</span>]; vp &lt; &amp;values[N_VALUES];)<br>&#123;<br>*vp++ = <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æŒ‡é’ˆ-æŒ‡é’ˆ">4.2 æŒ‡é’ˆ-æŒ‡é’ˆ</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">my_strlen</span><span class="hljs-params">(<span class="hljs-type">char</span>* str)</span><br>&#123;<br><span class="hljs-type">char</span>* start = str;<br><span class="hljs-type">char</span>* end = str;<br><span class="hljs-keyword">while</span>(*end != <span class="hljs-string">&#x27;\0&#x27;</span> )<br>&#123;<br>end++;<br>&#125;<br><span class="hljs-keyword">return</span> end-str;<br>&#125;<br></code></pre></td></tr></table></figure><p>æŒ‡é’ˆï¼æŒ‡é’ˆè¡¨ç¤ºçš„æ˜¯é•¿åº¦</p><h2 id="æŒ‡é’ˆçš„å…³ç³»è¿ç®—">4.3 æŒ‡é’ˆçš„å…³ç³»è¿ç®—</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">for</span>(vp = &amp;values[N_VALUES]; vp &gt; &amp;values[<span class="hljs-number">0</span>];)<br>&#123;<br>*--vp = <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼šå…è®¸æŒ‡å‘æ•°ç»„å…ƒç´ çš„æŒ‡é’ˆä¸æŒ‡å‘æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ åé¢çš„é‚£ä¸ªå†…å­˜ä½ç½®çš„æŒ‡é’ˆæ¯”è¾ƒï¼Œä½†æ˜¯ä¸å…è®¸ä¸æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ ä¹‹å‰çš„é‚£ä¸ªå†…å­˜ä½ç½®çš„æŒ‡é’ˆè¿›è¡Œæ¯”è¾ƒã€‚</p><h1 id="æŒ‡é’ˆå’Œæ•°ç»„">5 æŒ‡é’ˆå’Œæ•°ç»„</h1><p>é€šè¿‡æŒ‡é’ˆæ¥è®¿é—®æ•°ç»„ <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> arr[<span class="hljs-number">10</span>] = &#123; <span class="hljs-number">0</span> &#125;;<br><span class="hljs-type">int</span>* p = arr;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++)<br>&#123;<br>*(p + i) = i;<br>&#125;<br><br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, *(p + i));<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p><h1 id="äºŒçº§æ•°ç»„">6 äºŒçº§æ•°ç»„</h1><p>æŒ‡é’ˆå˜é‡ä¹Ÿæ˜¯å˜é‡ï¼Œæ˜¯å˜é‡å°±æœ‰åœ°å€ï¼Œé‚£æŒ‡é’ˆå˜é‡çš„åœ°å€å­˜æ”¾åœ¨çš„åœ°æ–¹å°±æ˜¯äºŒçº§æŒ‡é’ˆã€‚ <img src="/img/Cè¯­è¨€06-åˆå§‹æŒ‡é’ˆ/Cè¯­è¨€06-åˆå§‹æŒ‡é’ˆ_D01.png" /></p><p><code>int**</code> æœ€å³è¾¹<code>*</code> ä»£è¡¨ <code>ppa</code> æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œå·¦éƒ¨åˆ†<code>int*</code> è¡¨ç¤º <code>ppa</code> æŒ‡å‘çš„å¯¹è±¡æ˜¯ä¸€ä¸ªæŒ‡é’ˆã€‚</p><h1 id="æŒ‡é’ˆæ•°ç»„">7 æŒ‡é’ˆæ•°ç»„</h1><p>æŒ‡é’ˆæ•°ç»„æ˜¯æ•°ç»„ï¼Œæ˜¯å­˜æ”¾æŒ‡é’ˆçš„æ•°ç»„ã€‚ <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> b = <span class="hljs-number">20</span>;<br><span class="hljs-type">int</span> c = <span class="hljs-number">30</span>;<br><br><span class="hljs-type">int</span>* arr[<span class="hljs-number">3</span>] = &#123;&amp;a,&amp;b,&amp;c&#125;;<span class="hljs-comment">// æŒ‡é’ˆæ•°ç»„</span><br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">3</span>;i++)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>,*(arr[i]));<br>&#125;<br></code></pre></td></tr></table></figure></p>]]></content>
    
    
    <categories>
      
      <category>Cè¯­è¨€åŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C/C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cè¯­è¨€05-æ“ä½œç¬¦12</title>
    <link href="/2023/09/10/C%E8%AF%AD%E8%A8%8005-%E6%93%8D%E4%BD%9C%E7%AC%A612/"/>
    <url>/2023/09/10/C%E8%AF%AD%E8%A8%8005-%E6%93%8D%E4%BD%9C%E7%AC%A612/</url>
    
    <content type="html"><![CDATA[<h1 id="ç§»ä½æ“ä½œç¬¦">1 ç§»ä½æ“ä½œç¬¦</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c">&lt;&lt; å·¦ç§»æ“ä½œç¬¦<br>&gt;&gt; å³ç§»æ“ä½œç¬¦<br>æ³¨ï¼šç§»ä½æ“ä½œç¬¦çš„æ“ä½œæ•°åªèƒ½æ˜¯æ•´æ•°<br></code></pre></td></tr></table></figure><h2 id="å·¦ç§»æ“ä½œç¬¦">1.1 å·¦ç§»æ“ä½œç¬¦</h2><blockquote><p>å·¦è¾¹æŠ›å¼ƒã€å³è¾¹è¡¥0 <img src="/img/Cè¯­è¨€05-æ“ä½œç¬¦12/Cè¯­è¨€05-æ“ä½œç¬¦12.png" /> ## 1.2 å³ç§»æ“ä½œç¬¦ 1. é€»è¾‘ç§»ä½ å·¦è¾¹ç”¨0å¡«å……ï¼Œå³è¾¹ä¸¢å¼ƒ 2. ç®—æœ¯ç§»ä½ï¼ˆå¸¸ç”¨ï¼‰ å·¦è¾¹ç”¨åŸè¯¥å€¼çš„ç¬¦å·ä½å¡«å……ï¼Œå³è¾¹ä¸¢å¼ƒ <img src="/img/Cè¯­è¨€05-æ“ä½œç¬¦12/Cè¯­è¨€05-æ“ä½œç¬¦12_1.png" /> # 2 ä½æ“ä½œ</p></blockquote><table><thead><tr class="header"><th>ç¬¦å·</th><th>æè¿°</th><th>è¿ç®—è§„åˆ™</th></tr></thead><tbody><tr class="odd"><td>&amp;</td><td>æŒ‰ä½ä¸</td><td>ä¸¤ä¸ªä½éƒ½ä¸º1æ—¶ï¼Œç»“æœæ‰ä¸º1</td></tr><tr class="even"><td>|</td><td>æŒ‰ä½æˆ–</td><td>ä¸¤ä¸ªä½éƒ½ä¸º0æ—¶ï¼Œç»“æœæ‰ä¸º0</td></tr><tr class="odd"><td>^</td><td>æŒ‰ä½å¼‚æˆ–</td><td>ä¸¤ä¸ªä½ç›¸åŒä¸º0ï¼Œç›¸å¼‚ä¸º1</td></tr><tr class="even"><td>æ³¨ï¼šä»–ä»¬çš„æ“ä½œæ•°å¿…é¡»æ˜¯æ•´æ•°ã€‚</td><td></td><td></td></tr></tbody></table><h2 id="ç»ƒä¹ 1">ç»ƒä¹ 1</h2><blockquote><p>ä¸èƒ½åˆ›å»ºä¸´æ—¶å˜é‡ï¼ˆç¬¬ä¸‰ä¸ªå˜é‡ï¼‰ï¼Œå®ç°ä¸¤ä¸ªæ•°çš„äº¤æ¢ã€‚ <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> b = <span class="hljs-number">20</span>;<br>a = a^b;<br>b = a^b;<br>a = a^b;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %d b = %d\n&quot;</span>, a, b);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p></blockquote><h2 id="ç»ƒä¹ 2">ç»ƒä¹ 2</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> num = <span class="hljs-number">-1</span>;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<span class="hljs-comment">//è®¡æ•°</span><br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">32</span>; i++)<br>&#123;<br><span class="hljs-keyword">if</span>( <span class="hljs-number">1</span>==((num&gt;&gt;i)&amp;<span class="hljs-number">1</span>) )<br>count++;<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;äºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•° = %d\n&quot;</span>,count);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="å•ç›®æ“ä½œç¬¦">3 å•ç›®æ“ä½œç¬¦</h1><p><code>sizeof</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(a));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">int</span>));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, <span class="hljs-keyword">sizeof</span> a);<span class="hljs-comment">//å¯ä»¥</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, <span class="hljs-keyword">sizeof</span> <span class="hljs-type">int</span>);<span class="hljs-comment">//ä¸å¯ä»¥</span><br></code></pre></td></tr></table></figure><p><code>sizeof</code> åé¢æ˜¯ç±»å‹æ—¶ä¸å¯ä»¥çœç•¥æ‹¬å·ã€‚</p><p><code>~</code> <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a = <span class="hljs-number">11</span>;<br><span class="hljs-comment">// 00000000 00000000 00000000 00001011</span><br><span class="hljs-comment">// å°†å€’æ•°ç¬¬ä¸‰ä½æ”¹æˆ1ï¼šæˆ–1ä¸Šå»</span><br><span class="hljs-comment">// 00000000 00000000 00000000 00000100</span><br><span class="hljs-comment">// 00000000 00000000 00000000 00001111</span><br><br><span class="hljs-comment">// 00000000 00000000 00000000 00000100 å¯ä»¥æ˜¯1å‘å·¦ç§»åŠ¨ä¸¤ä½ï¼ˆ1&lt;&lt;2ï¼‰</span><br>a = a|(<span class="hljs-number">1</span>&lt;&lt;<span class="hljs-number">2</span>); <span class="hljs-comment">//15</span><br><br><br><span class="hljs-comment">// 00000000 00000000 00000000 00001111 </span><br><span class="hljs-comment">// å°†åˆ°æ—¶ç¬¬ä¸‰ä½å˜æˆ0ï¼šæŒ‰ä½ä¸0</span><br><span class="hljs-comment">// 11111111 11111111 11111111 11111011</span><br><span class="hljs-comment">// 00000000 00000000 00000000 00001011</span><br><br><span class="hljs-comment">// 11111111 11111111 11111111 11111011å¯ä»¥æ˜¯00000000 00000000 00000000 00000100 æŒ‰ä½å–åå¾—åˆ°ï¼Œ00000000 00000000 00000000 00000100 å¯ä»¥æ˜¯1å‘å·¦ç§»åŠ¨ä¸¤ä½ï¼ˆ1&lt;&lt;2ï¼‰</span><br><br>a = a&amp;(~(<span class="hljs-number">1</span>&lt;&lt;<span class="hljs-number">2</span>)); <span class="hljs-comment">//11</span><br></code></pre></td></tr></table></figure></p><h1 id="é€»è¾‘æ“ä½œç¬¦">4 é€»è¾‘æ“ä½œç¬¦</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c">&amp;&amp; é€»è¾‘ä¸<br>|| é€»è¾‘æˆ–<br></code></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>,a=<span class="hljs-number">0</span>,b=<span class="hljs-number">2</span>,c =<span class="hljs-number">3</span>,d=<span class="hljs-number">4</span>;<br>i = a++ &amp;&amp; ++b &amp;&amp; d++;<br><span class="hljs-comment">//i = a++||++b||d++;</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %d\n b = %d\n c = %d\nd = %d\n&quot;</span>, a, b, c, d);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š 1 2 3 4 <code>a++</code> å…ˆè¯•ç”¨ååŠ åŠ ï¼Œæ‰€ä»¥ <code>a++ &amp;&amp; ++b &amp;&amp; d++</code> ä¸­ <code>a++</code> ä¸º0ï¼Œ<code>&amp;&amp;</code> å·¦è¾¹ä¸º0 å³è¾¹ä¸ç®¡ä»€ä¹ˆæ•°éƒ½ä¸ºå‡ï¼Œä¸ç®—äº† ï¼Œæ‰€ä»¥<code>++b</code> å’Œ <code>d++</code> éƒ½æ²¡æœ‰è¿ç®—ã€‚<code>a++</code> è‡ªå¢åå˜ä¸º1ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>,a=<span class="hljs-number">1</span>,b=<span class="hljs-number">2</span>,c =<span class="hljs-number">3</span>,d=<span class="hljs-number">4</span>;<br>i = a++||++b||d++;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a = %d\n b = %d\n c = %d\nd = %d\n&quot;</span>, a, b, c, d);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœ 2 2 3 4</p><h1 id="é€—å·è¡¨è¾¾å¼">5 é€—å·è¡¨è¾¾å¼</h1><figure class="highlight smali"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs smali">exp1, exp2, exp3, â€¦expN<br></code></pre></td></tr></table></figure><p>é€—å·è¡¨è¾¾å¼ï¼Œä»å·¦å‘å³ä¾æ¬¡æ‰§è¡Œã€‚æ•´ä¸ªè¡¨è¾¾å¼çš„ç»“æœæ˜¯æœ€åä¸€ä¸ªè¡¨è¾¾å¼çš„ç»“æœã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a = <span class="hljs-number">1</span>;<br><span class="hljs-type">int</span> b = <span class="hljs-number">2</span>;<br><span class="hljs-type">int</span> c = (a&gt;b, a=b+<span class="hljs-number">10</span>, a, b=a+<span class="hljs-number">1</span>);<span class="hljs-comment">//é€—å·è¡¨è¾¾å¼</span><br></code></pre></td></tr></table></figure><p>ç»“æœ 13</p><h1 id="å‡½æ•°è°ƒç”¨æ“ä½œç¬¦">6 å‡½æ•°è°ƒç”¨æ“ä½œç¬¦( )</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">get_max</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y)</span><br>&#123;<br><span class="hljs-keyword">return</span> x&gt;y?x:y;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> a =<span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> b =<span class="hljs-number">20</span>;<br><span class="hljs-type">int</span> max = get_max(a,b);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>è°ƒç”¨</strong>å‡½æ•°æ—¶å€™çš„ <code>()</code> å°±æ˜¯å‡½æ•°è°ƒç”¨æ“ä½œç¬¦,è¯¥å‡½æ•°æ“ä½œæ•°æœ‰ä¸‰ä¸ªï¼Œä¸º<code>get_max</code> <code>a</code> <code>b</code></p><h1 id="è®¿é—®ä¸€ä¸ªç»“æ„çš„æˆå‘˜">7 è®¿é—®ä¸€ä¸ªç»“æ„çš„æˆå‘˜</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c">. ç»“æ„ä½“.æˆå‘˜å<br>-&gt; ç»“æ„ä½“æŒ‡é’ˆ-&gt;æˆå‘˜å<br></code></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span></span><br><span class="hljs-class">&#123;</span><br><span class="hljs-type">char</span> name[<span class="hljs-number">10</span>];<br><span class="hljs-type">int</span> age;<br><span class="hljs-type">char</span> id[<span class="hljs-number">20</span>];<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-comment">//ä½¿ç”¨struct Stuè¿™ä¸ªç±»å‹åˆ›å»ºäº†ä¸€ä¸ªå­¦ç”Ÿå¯¹è±¡stu,å¹¶åˆå§‹åŒ–</span><br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span> <span class="hljs-title">stu</span> =</span> &#123;<span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>,<span class="hljs-number">20</span>,<span class="hljs-string">&quot;20210304&quot;</span>&#125;;<br><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Stu</span>* <span class="hljs-title">ps</span> =</span> &amp;stu;<span class="hljs-comment">//ç»“æ„æˆå‘˜è®¿é—®</span><br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>,stu.name);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>,ps-&gt;name);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>,(*ps).name); <span class="hljs-comment">// ä¸ps-&gt;nameç›¸åŒ</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Cè¯­è¨€åŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C/C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cè¯­è¨€04-æ•°ç»„12</title>
    <link href="/2023/09/09/C%E8%AF%AD%E8%A8%8004-%E6%95%B0%E7%BB%8412/"/>
    <url>/2023/09/09/C%E8%AF%AD%E8%A8%8004-%E6%95%B0%E7%BB%8412/</url>
    
    <content type="html"><![CDATA[<h1 id="ä¸€ç»´æ•°ç»„">1 ä¸€ç»´æ•°ç»„</h1><h2 id="æ•°ç»„çš„åˆ›å»º">1.1 æ•°ç»„çš„åˆ›å»º</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">type_t</span> arr_name [const_n];<br><span class="hljs-comment">//type_t æ˜¯æŒ‡æ•°ç»„çš„å…ƒç´ ç±»å‹</span><br><span class="hljs-comment">//const_n æ˜¯ä¸€ä¸ªå¸¸é‡è¡¨è¾¾å¼ï¼Œç”¨æ¥æŒ‡å®šæ•°ç»„çš„å¤§å°</span><br></code></pre></td></tr></table></figure><h2 id="æ•°ç»„çš„åˆå§‹åŒ–">1.2 æ•°ç»„çš„åˆå§‹åŒ–</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> arr1[<span class="hljs-number">10</span>] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;; <span class="hljs-comment">// ä¸å®Œå…¨åˆå§‹åŒ–ï¼Œå‰©ä¸‹çš„å…ƒç´ é»˜è®¤ä¸º0</span><br><span class="hljs-type">int</span> arr2[] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>&#125;;<br><span class="hljs-type">int</span> arr3[<span class="hljs-number">5</span>] = &#123;<span class="hljs-number">1</span>ï¼Œ<span class="hljs-number">2</span>ï¼Œ<span class="hljs-number">3</span>ï¼Œ<span class="hljs-number">4</span>ï¼Œ<span class="hljs-number">5</span>&#125;ï¼›<br><br><span class="hljs-type">char</span> arr4[<span class="hljs-number">3</span>] = &#123;<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-number">98</span>, <span class="hljs-string">&#x27;c&#x27;</span>&#125;;<br><span class="hljs-type">char</span> arr5[] = &#123;<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>&#125;;<br><span class="hljs-type">char</span> arr6[] = <span class="hljs-string">&quot;abcdef&quot;</span>;<br></code></pre></td></tr></table></figure><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> arr1[] = <span class="hljs-string">&quot;abc&quot;</span>;<br><span class="hljs-type">char</span> arr2[] = &#123;<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>&#125;;<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,<span class="hljs-keyword">sizeof</span>(arr1)); <span class="hljs-comment">// 4</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,<span class="hljs-keyword">sizeof</span>(arr2)); <span class="hljs-comment">// 3</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,<span class="hljs-built_in">strlen</span>(arr1)); <span class="hljs-comment">// 3</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,<span class="hljs-built_in">strlen</span>(arr2)); <span class="hljs-comment">// éšæœºå€¼</span><br></code></pre></td></tr></table></figure><p><img src="/img/Cè¯­è¨€04-æ•°ç»„12/Cè¯­è¨€04-æ•°ç»„12_D1.png" /> <code>sizeof</code> è®¡ç®—å¤§å°ï¼›<code>strlen</code> æ±‚å­—ç¬¦ä¸²å¯¹çš„é•¿åº¦ï¼Œé‡åˆ°<code>\0</code> æ‰åœæ­¢ï¼Œæ±‚å¾—æ˜¯ <code>\0</code> å‰çš„é•¿åº¦ã€‚</p><h2 id="ä¸€ç»´æ•°ç»„çš„ä½¿ç”¨">1.3 ä¸€ç»´æ•°ç»„çš„ä½¿ç”¨</h2><p>ä½¿ç”¨ä¸‹æ ‡è®¿é—® <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">char</span> arr[] = <span class="hljs-string">&quot;abcdef&quot;</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c\n&quot;</span>,arr[<span class="hljs-number">3</span>]); <span class="hljs-comment">//c</span><br></code></pre></td></tr></table></figure> ## 1.4 ä¸€ç»´æ•°ç»„çš„å­˜å‚¨ ==æ•°ç»„åœ¨å†…å­˜ä¸­æ˜¯è¿ç»­å­˜æ”¾çš„== <img src="/img/Cè¯­è¨€04-æ•°ç»„12/Cè¯­è¨€04-æ•°ç»„12_D2.png" /></p><h1 id="äºŒç»´æ•°ç»„">2 äºŒç»´æ•°ç»„</h1><h2 id="äºŒç»´æ•°ç»„çš„åˆ›å»º">2.1 äºŒç»´æ•°ç»„çš„åˆ›å»º</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> arr[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>]; <span class="hljs-comment">// 3è¡Œ4åˆ—</span><br></code></pre></td></tr></table></figure><h2 id="äºŒç»´æ•°ç»„çš„åˆå§‹åŒ–">2.2 äºŒç»´æ•°ç»„çš„åˆå§‹åŒ–</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> arr[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>&#125;;<br><span class="hljs-type">int</span> arr[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>] = &#123;&#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>&#125;,&#123;<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;&#125;;<br><span class="hljs-type">int</span> arr[][<span class="hljs-number">4</span>] = &#123;&#123;<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;,&#123;<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;&#125;;<span class="hljs-comment">//äºŒç»´æ•°ç»„å¦‚æœæœ‰åˆå§‹åŒ–ï¼Œè¡Œå¯ä»¥çœç•¥ï¼Œåˆ—ä¸èƒ½çœç•¥</span><br></code></pre></td></tr></table></figure><h2 id="äºŒç»´æ•°ç»„çš„ä½¿ç”¨">2.3 äºŒç»´æ•°ç»„çš„ä½¿ç”¨</h2><p>ä½¿ç”¨ä¸‹æ ‡è®¿é—® <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> arr[<span class="hljs-number">3</span>][<span class="hljs-number">4</span>] = &#123; &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;,&#123;<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>&#125; &#125;;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>;i &lt; <span class="hljs-number">3</span>; i++)<br>&#123;<br><span class="hljs-type">int</span> b = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (b = <span class="hljs-number">0</span>; b &lt; <span class="hljs-number">4</span>; b++) &#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, arr[i][b]);<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;\n&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure></p><h2 id="äºŒç»´æ•°ç»„çš„å­˜å‚¨">2.4 äºŒç»´æ•°ç»„çš„å­˜å‚¨</h2><p><img src="/img/Cè¯­è¨€04-æ•°ç»„12/Cè¯­è¨€04-æ•°ç»„12_D3.png" /></p><h1 id="æ•°ç»„ä½œä¸ºå‡½æ•°å‚æ•°">3 æ•°ç»„ä½œä¸ºå‡½æ•°å‚æ•°</h1><p>å½“æ•°ç»„ä¼ å‚çš„æ—¶å€™ï¼Œå®é™…ä¸Šåªæ˜¯æŠŠæ•°ç»„çš„é¦–å…ƒç´ çš„åœ°å€ä¼ é€’è¿‡å»äº†ã€‚ æ‰€ä»¥å³ä½¿åœ¨å‡½æ•°å‚æ•°éƒ¨åˆ†å†™æˆæ•°ç»„çš„å½¢å¼ï¼š<code>int arr[]</code> è¡¨ç¤ºçš„ä¾ç„¶æ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼š<code>int *arr</code> ã€‚ <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// å†’æ³¡æ’åº</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">bubble_sort</span><span class="hljs-params">(<span class="hljs-type">int</span> arr[], <span class="hljs-type">int</span> sz)</span><span class="hljs-comment">//å‚æ•°æ¥æ”¶æ•°ç»„å…ƒç´ ä¸ªæ•°</span><br>&#123;<br><br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; sz - <span class="hljs-number">1</span>; i++)<br>&#123;<br><span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (j = <span class="hljs-number">0</span>; j &lt; sz - i - <span class="hljs-number">1</span>; j++)<br>&#123;<br><span class="hljs-keyword">if</span> (arr[j] &gt; arr[j + <span class="hljs-number">1</span>])<br>&#123;<br><span class="hljs-type">int</span> tmp = arr[j];<br>arr[j] = arr[j + <span class="hljs-number">1</span>];<br>arr[j + <span class="hljs-number">1</span>] = tmp;<br>&#125;<br>&#125;<br>&#125;<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> arr[] = &#123; <span class="hljs-number">3</span>,<span class="hljs-number">1</span>,<span class="hljs-number">7</span>,<span class="hljs-number">5</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">6</span> &#125;;<br><span class="hljs-type">int</span> sz = <span class="hljs-keyword">sizeof</span>(arr) / <span class="hljs-keyword">sizeof</span>(arr[<span class="hljs-number">0</span>]);<br>bubble_sort(arr, sz);<span class="hljs-comment">//æ˜¯å¦å¯ä»¥æ­£å¸¸æ’åºï¼Ÿ</span><br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; sz; i++)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, arr[i]);<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p><p>å½“æ•°ç»„æœ¬æ¥å°±æ˜¯æŒ‰å‡åºçš„é¡ºåºï¼Œä½†æ˜¯ç¨‹åºè¿˜æ˜¯ä¼šä¸€ä¸ªä¸€ä¸ªæ¯”è¾ƒï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿä½¿ç”¨æ ‡ç­¾åˆ¤æ–­æ•°ç»„æ˜¯å¦ä¸ºå‡åºå¾—é¡ºåºã€‚ <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">void</span> <span class="hljs-title function_">bubble_sort</span><span class="hljs-params">(<span class="hljs-type">int</span> arr[], <span class="hljs-type">int</span> sz)</span><span class="hljs-comment">//å‚æ•°æ¥æ”¶æ•°ç»„å…ƒç´ ä¸ªæ•°</span><br>&#123;<br><br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; sz - <span class="hljs-number">1</span>; i++)<br>&#123;<br><span class="hljs-type">int</span> flag = <span class="hljs-number">1</span>; <span class="hljs-comment">// å‡è®¾è¿™ä¸€è¶Ÿè¦æ’åºçš„æ•°æ®å·²ç»æœ‰åº</span><br><span class="hljs-type">int</span> j = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (j = <span class="hljs-number">0</span>; j &lt; sz - i - <span class="hljs-number">1</span>; j++)<br>&#123;<br><span class="hljs-keyword">if</span> (arr[j] &gt; arr[j + <span class="hljs-number">1</span>])<br>&#123;<br><span class="hljs-type">int</span> tmp = arr[j];<br>arr[j] = arr[j + <span class="hljs-number">1</span>];<br>arr[j + <span class="hljs-number">1</span>] = tmp;<br>flag = <span class="hljs-number">0</span>; <span class="hljs-comment">// æœ¬è¶Ÿæ’åºçš„æ•°æ®å…¶å®ä¸å®Œå…¨æœ‰åº</span><br>&#125;<br>&#125;<br><span class="hljs-keyword">if</span>(flag==<span class="hljs-number">1</span>)<br>&#123;<br><span class="hljs-keyword">break</span>;<br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure></p><h1 id="æ•°ç»„åæ˜¯ä»€ä¹ˆ">4 æ•°ç»„åæ˜¯ä»€ä¹ˆ</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> arr[<span class="hljs-number">10</span>] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>ï¼Œ<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%p\n&quot;</span>, arr);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%p\n&quot;</span>, &amp;arr[<span class="hljs-number">0</span>]);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, *arr);<br><span class="hljs-comment">//è¾“å‡ºç»“æœç›¸åŒ</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ•°ç»„åæ˜¯æ•°ç»„é¦–å…ƒç´ çš„åœ°å€ã€‚ä½†æœ‰ä¸¤ä¸ªä¾‹å¤–</p><ol type="1"><li>sizeof(æ•°ç»„å)ï¼Œè®¡ç®—æ•´ä¸ªæ•°ç»„çš„å¤§å°ï¼Œsizeofå†…éƒ¨å•ç‹¬æ”¾ä¸€ä¸ªæ•°ç»„åï¼Œæ•°ç»„åè¡¨ç¤ºæ•´ä¸ªæ•°ç»„ã€‚</li><li>&amp;æ•°ç»„åï¼Œå–å‡ºçš„æ˜¯æ•´ä¸ªæ•°ç»„çš„åœ°å€ã€‚&amp;æ•°ç»„åï¼Œæ•°ç»„åè¡¨ç¤ºæ•´ä¸ªæ•°ç»„ã€‚ é™¤æ­¤1,2ä¸¤ç§æƒ…å†µä¹‹å¤–ï¼Œæ‰€æœ‰çš„æ•°ç»„åéƒ½è¡¨ç¤ºæ•°ç»„é¦–å…ƒç´ çš„åœ°å€ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>Cè¯­è¨€åŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C/C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å·¥ä¸šè’¸æ±½é¢„æµ‹-05-2èµ›é¢˜æ¨¡å‹éªŒè¯</title>
    <link href="/2023/09/04/%E5%B7%A5%E4%B8%9A%E8%92%B8%E6%B1%BD%E9%A2%84%E6%B5%8B-05-2%E8%B5%9B%E9%A2%98%E6%A8%A1%E5%9E%8B%E9%AA%8C%E8%AF%81/"/>
    <url>/2023/09/04/%E5%B7%A5%E4%B8%9A%E8%92%B8%E6%B1%BD%E9%A2%84%E6%B5%8B-05-2%E8%B5%9B%E9%A2%98%E6%A8%A1%E5%9E%8B%E9%AA%8C%E8%AF%81/</url>
    
    <content type="html"><![CDATA[<h1 id="1-æ¨¡å‹è¿‡æ‹Ÿåˆä¸æ¬ æ‹Ÿåˆ"><a href="#1-æ¨¡å‹è¿‡æ‹Ÿåˆä¸æ¬ æ‹Ÿåˆ" class="headerlink" title="1 æ¨¡å‹è¿‡æ‹Ÿåˆä¸æ¬ æ‹Ÿåˆ"></a>1 æ¨¡å‹è¿‡æ‹Ÿåˆä¸æ¬ æ‹Ÿåˆ</h1><h2 id="1-1-åŸºç¡€ä»£ç "><a href="#1-1-åŸºç¡€ä»£ç " class="headerlink" title="1.1 åŸºç¡€ä»£ç "></a>1.1 åŸºç¡€ä»£ç </h2><p>å¯¼å…¥å·¥å…·åŒ…ï¼Œç”¨äºæ¨¡å‹éªŒè¯å’Œæ•°æ®å¤„ç†ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns <span class="hljs-comment"># å¯è§†åŒ– ç”¨äºåˆ›å»ºå„ç§ç±»å‹çš„ç»Ÿè®¡å›¾å½¢</span><br><br><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats <span class="hljs-comment"># ç”¨äºç»Ÿè®¡åˆ†æ</span><br><br><span class="hljs-keyword">import</span> warnings<br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>)<br><br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LinearRegression  <span class="hljs-comment">#çº¿æ€§å›å½’</span><br><span class="hljs-keyword">from</span> sklearn.neighbors <span class="hljs-keyword">import</span> KNeighborsRegressor  <span class="hljs-comment">#Kè¿‘é‚»å›å½’</span><br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeRegressor     <span class="hljs-comment">#å†³ç­–æ ‘å›å½’</span><br><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> RandomForestRegressor <span class="hljs-comment">#éšæœºæ£®æ—å›å½’</span><br><span class="hljs-keyword">from</span> sklearn.svm <span class="hljs-keyword">import</span> SVR  <span class="hljs-comment">#æ”¯æŒå‘é‡å›å½’</span><br><span class="hljs-keyword">import</span> lightgbm <span class="hljs-keyword">as</span> lgb <span class="hljs-comment">#lightGbmæ¨¡å‹</span><br><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split <span class="hljs-comment"># åˆ‡åˆ†æ•°æ®</span><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> mean_squared_error <span class="hljs-comment">#è¯„ä»·æŒ‡æ ‡</span><br><br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> SGDRegressor <span class="hljs-comment"># éšæœºæ¢¯åº¦ä¸‹é™çº¿æ€§å›å½’</span><br></code></pre></td></tr></table></figure><p>è¯»å–æ•°æ®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">train_data_file = <span class="hljs-string">&quot;./data/zhengqi_train.txt&quot;</span><br>test_data_file =  <span class="hljs-string">&quot;./data/zhengqi_test.txt&quot;</span><br><br>train_data = pd.read_csv(train_data_file, sep=<span class="hljs-string">&#x27;\t&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>test_data = pd.read_csv(test_data_file, sep=<span class="hljs-string">&#x27;\t&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">train_data.head()<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }    .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe">  <thead>    <tr style="text-align: right;">      <th></th>      <th>V0</th>      <th>V1</th>      <th>V2</th>      <th>V3</th>      <th>V4</th>      <th>V5</th>      <th>V6</th>      <th>V7</th>      <th>V8</th>      <th>V9</th>      <th>...</th>      <th>V29</th>      <th>V30</th>      <th>V31</th>      <th>V32</th>      <th>V33</th>      <th>V34</th>      <th>V35</th>      <th>V36</th>      <th>V37</th>      <th>target</th>    </tr>  </thead>  <tbody>    <tr>      <th>0</th>      <td>0.566</td>      <td>0.016</td>      <td>-0.143</td>      <td>0.407</td>      <td>0.452</td>      <td>-0.901</td>      <td>-1.812</td>      <td>-2.360</td>      <td>-0.436</td>      <td>-2.114</td>      <td>...</td>      <td>0.136</td>      <td>0.109</td>      <td>-0.615</td>      <td>0.327</td>      <td>-4.627</td>      <td>-4.789</td>      <td>-5.101</td>      <td>-2.608</td>      <td>-3.508</td>      <td>0.175</td>    </tr>    <tr>      <th>1</th>      <td>0.968</td>      <td>0.437</td>      <td>0.066</td>      <td>0.566</td>      <td>0.194</td>      <td>-0.893</td>      <td>-1.566</td>      <td>-2.360</td>      <td>0.332</td>      <td>-2.114</td>      <td>...</td>      <td>-0.128</td>      <td>0.124</td>      <td>0.032</td>      <td>0.600</td>      <td>-0.843</td>      <td>0.160</td>      <td>0.364</td>      <td>-0.335</td>      <td>-0.730</td>      <td>0.676</td>    </tr>    <tr>      <th>2</th>      <td>1.013</td>      <td>0.568</td>      <td>0.235</td>      <td>0.370</td>      <td>0.112</td>      <td>-0.797</td>      <td>-1.367</td>      <td>-2.360</td>      <td>0.396</td>      <td>-2.114</td>      <td>...</td>      <td>-0.009</td>      <td>0.361</td>      <td>0.277</td>      <td>-0.116</td>      <td>-0.843</td>      <td>0.160</td>      <td>0.364</td>      <td>0.765</td>      <td>-0.589</td>      <td>0.633</td>    </tr>    <tr>      <th>3</th>      <td>0.733</td>      <td>0.368</td>      <td>0.283</td>      <td>0.165</td>      <td>0.599</td>      <td>-0.679</td>      <td>-1.200</td>      <td>-2.086</td>      <td>0.403</td>      <td>-2.114</td>      <td>...</td>      <td>0.015</td>      <td>0.417</td>      <td>0.279</td>      <td>0.603</td>      <td>-0.843</td>      <td>-0.065</td>      <td>0.364</td>      <td>0.333</td>      <td>-0.112</td>      <td>0.206</td>    </tr>    <tr>      <th>4</th>      <td>0.684</td>      <td>0.638</td>      <td>0.260</td>      <td>0.209</td>      <td>0.337</td>      <td>-0.454</td>      <td>-1.073</td>      <td>-2.086</td>      <td>0.314</td>      <td>-2.114</td>      <td>...</td>      <td>0.183</td>      <td>1.078</td>      <td>0.328</td>      <td>0.418</td>      <td>-0.843</td>      <td>-0.215</td>      <td>0.364</td>      <td>-0.280</td>      <td>-0.028</td>      <td>0.384</td>    </tr>  </tbody></table><p>5 rows Ã— 39 columns</p></div><p>å½’ä¸€åŒ–å¤„ç†</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> preprocessing <br><span class="hljs-comment"># 1è¯»å–ç‰¹å¾å</span><br>features_columns = [col <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> train_data.columns <span class="hljs-keyword">if</span> col <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;target&#x27;</span>]]<br><span class="hljs-comment"># 2å®ä¾‹åŒ–</span><br>min_max_scaler = preprocessing.MinMaxScaler()<br><span class="hljs-comment"># 3è®­ç»ƒé›†fitæ‹Ÿåˆ</span><br>min_max_scaler = min_max_scaler.fit(train_data[features_columns])<br><span class="hljs-comment"># 4transform</span><br>train_data_scaler = min_max_scaler.transform(train_data[features_columns])<br>test_data_scaler = min_max_scaler.transform(test_data[features_columns])<br><span class="hljs-comment"># 5è½¬dataframe-è®¾ç‰¹å¾åˆ—å</span><br>train_data_scaler = pd.DataFrame(train_data_scaler)<br>train_data_scaler.columns = features_columns<br><br>test_data_scaler = pd.DataFrame(test_data_scaler)<br>test_data_scaler.columns = features_columns<br><span class="hljs-comment"># 6æ·»å›targetåˆ—</span><br>train_data_scaler[<span class="hljs-string">&#x27;target&#x27;</span>] = train_data[<span class="hljs-string">&#x27;target&#x27;</span>]<br></code></pre></td></tr></table></figure><p>PCAå¤„ç†ï¼Œç‰¹å¾é™ç»´</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.decomposition <span class="hljs-keyword">import</span> PCA   <span class="hljs-comment">#ä¸»æˆåˆ†åˆ†ææ³•</span><br><br><span class="hljs-comment">#PCAæ–¹æ³•é™ç»´</span><br><span class="hljs-comment">#ä¿ç•™16ä¸ªä¸»æˆåˆ†</span><br>pca = PCA(n_components=<span class="hljs-number">16</span>)<br>new_train_pca_16 = pca.fit_transform(train_data_scaler.iloc[:,<span class="hljs-number">0</span>:-<span class="hljs-number">1</span>])<br>new_test_pca_16 = pca.transform(test_data_scaler)<br>new_train_pca_16 = pd.DataFrame(new_train_pca_16)<br>new_test_pca_16 = pd.DataFrame(new_test_pca_16)<br>new_train_pca_16[<span class="hljs-string">&#x27;target&#x27;</span>] = train_data_scaler[<span class="hljs-string">&#x27;target&#x27;</span>]<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#é‡‡ç”¨ pca ä¿ç•™16ç»´ç‰¹å¾çš„æ•°æ®</span><br>new_train_pca_16 = new_train_pca_16.fillna(<span class="hljs-number">0</span>)<br>train = new_train_pca_16[new_test_pca_16.columns]<br>target = new_train_pca_16[<span class="hljs-string">&#x27;target&#x27;</span>]<br><br><span class="hljs-comment"># åˆ‡åˆ†æ•°æ® è®­ç»ƒæ•°æ®80% éªŒè¯æ•°æ®20%</span><br>train_data,test_data,train_target,test_target=train_test_split(train,target,test_size=<span class="hljs-number">0.2</span>,random_state=<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><h2 id="1-2-æ¬ æ‹Ÿåˆ"><a href="#1-2-æ¬ æ‹Ÿåˆ" class="headerlink" title="1.2 æ¬ æ‹Ÿåˆ"></a>1.2 æ¬ æ‹Ÿåˆ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">clf = SGDRegressor(max_iter=<span class="hljs-number">500</span>, tol=<span class="hljs-number">1e-2</span>) <br>clf.fit(train_data, train_target)<br>score_train = mean_squared_error(train_target, clf.predict(train_data))<br>score_test = mean_squared_error(test_target, clf.predict(test_data))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;SGDRegressor train MSE:   &quot;</span>, score_train)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;SGDRegressor test MSE:   &quot;</span>, score_test)<br></code></pre></td></tr></table></figure><pre><code class="hljs">SGDRegressor train MSE:    0.15181384379355015SGDRegressor test MSE:    0.15618692974276552</code></pre><h4 id="ä»£ç è§£é‡Š"><a href="#ä»£ç è§£é‡Š" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h4><p>SGDRegressor æ˜¯ä¸€ç§åŸºäºæ¢¯åº¦ä¸‹é™çš„çº¿æ€§å›å½’æ¨¡å‹ï¼Œä½¿ç”¨éšæœºæ¢¯åº¦ä¸‹é™ç®—æ³•è¿›è¡Œå‚æ•°ä¼°è®¡é€‚ç”¨äºå¤§è§„æ¨¡æ•°æ®é›†å’Œé«˜ç»´ç‰¹å¾ã€‚<br>ä¸ä¼ ç»Ÿçš„æ‰¹é‡æ¢¯åº¦ä¸‹é™ä¸åŒï¼Œéšæœºæ¢¯åº¦ä¸‹é™æ¯æ¬¡è¿­ä»£åªä½¿ç”¨ä¸€ä¸ªæ ·æœ¬æˆ–ä¸€å°æ‰¹æ ·æœ¬æ¥æ›´æ–°æ¨¡å‹å‚æ•°ï¼Œä»è€Œå‡å°‘äº†å†…å­˜æ¶ˆè€—å’Œè®¡ç®—å¤æ‚åº¦ã€‚</p><p>ä¸»è¦å‚æ•°ï¼š</p><ul><li>loss: æŸå¤±å‡½æ•°çš„ç±»å‹ã€‚å¯é€‰å‚æ•°æœ‰ â€˜squared_lossâ€™ï¼ˆå¹³æ–¹æŸå¤±ï¼Œé»˜è®¤ï¼‰ã€â€™huberâ€™ï¼ˆHuber æŸå¤±ï¼‰ã€â€™epsilon_insensitiveâ€™ï¼ˆÏµ-insensitive æŸå¤±ï¼‰ç­‰ã€‚</li><li>penalty: æ­£åˆ™åŒ–é¡¹çš„ç±»å‹ã€‚å¯é€‰å‚æ•°æœ‰ â€˜l2â€™ï¼ˆL2 æ­£åˆ™åŒ–ï¼Œé»˜è®¤ï¼‰ã€â€™l1â€™ï¼ˆL1 æ­£åˆ™åŒ–ï¼‰ã€â€™elasticnetâ€™ï¼ˆå¼¹æ€§ç½‘æ­£åˆ™åŒ–ï¼‰ç­‰ã€‚</li><li>alpha: æ­£åˆ™åŒ–é¡¹çš„æƒ©ç½šåŠ›åº¦ã€‚é»˜è®¤ä¸º0.0001ã€‚</li><li>max_iter: æœ€å¤§è¿­ä»£æ¬¡æ•°ã€‚é»˜è®¤ä¸º1000ã€‚</li><li>learning_rate: å­¦ä¹ ç‡çš„ç±»å‹æˆ–å¤§å°ã€‚å¯é€‰å‚æ•°æœ‰ â€˜constantâ€™ï¼ˆæ’å®šå­¦ä¹ ç‡ï¼‰ã€â€™optimalâ€™ï¼ˆæœ€ä¼˜å­¦ä¹ ç‡ï¼‰ã€â€™invscalingâ€™ï¼ˆé€†æ ‡åº¦å­¦ä¹ ç‡ï¼‰ç­‰ã€‚</li><li>eta0: åˆå§‹å­¦ä¹ ç‡ã€‚é»˜è®¤ä¸º0.01ã€‚</li></ul><p>ä¸»è¦æ–¹æ³•ï¼š</p><ul><li>fit(X, y): ä½¿ç”¨è®­ç»ƒæ•°æ®è®­ç»ƒæ¨¡å‹ã€‚</li><li>predict(X): å¯¹æ–°çš„è¾“å…¥æ•°æ®è¿›è¡Œé¢„æµ‹ã€‚</li><li>score(X, y): è¿”å›æ¨¡å‹åœ¨ç»™å®šæµ‹è¯•æ•°æ®ä¸Šçš„ R^2 åˆ†æ•°ã€‚</li></ul><p>åœ¨ SGDRegressor ä¸­ï¼Œ<code>tol</code> æ˜¯ç”¨æ¥æ§åˆ¶è¿­ä»£çš„åœæ­¢æ¡ä»¶çš„å‚æ•°ã€‚tolï¼ˆtoleranceï¼‰è¡¨ç¤ºå®¹å¿åº¦ï¼Œå³å½“æŸå¤±å‡½æ•°çš„å˜åŒ–å°äº tol æ—¶ï¼Œç®—æ³•ä¼šåœæ­¢è¿­ä»£ã€‚<code>tol=1e-2</code> è¡¨ç¤ºå®¹å¿åº¦ä¸º 0.01ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“è¿ç»­ä¸¤æ¬¡è¿­ä»£çš„æŸå¤±å‡½æ•°å€¼ä¹‹å·®å°äº 0.01 æ—¶ï¼Œç®—æ³•ä¼šè®¤ä¸ºæ¨¡å‹å·²ç»æ”¶æ•›ï¼Œå¹¶ä¸”æå‰ç»“æŸè¿­ä»£ï¼Œä¸å†ç»§ç»­ä¼˜åŒ–ã€‚</p><h2 id="1-3-è¿‡æ‹Ÿåˆ"><a href="#1-3-è¿‡æ‹Ÿåˆ" class="headerlink" title="1.3 è¿‡æ‹Ÿåˆ"></a>1.3 è¿‡æ‹Ÿåˆ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> PolynomialFeatures <span class="hljs-comment"># ç”¨äºè¿›è¡Œå¤šé¡¹å¼ç‰¹å¾è½¬æ¢ã€‚</span><br>poly = PolynomialFeatures(<span class="hljs-number">5</span>)<br>train_data_poly = poly.fit_transform(train_data)<br>test_data_poly = poly.transform(test_data)<br>clf = SGDRegressor(max_iter=<span class="hljs-number">1000</span>, tol=<span class="hljs-number">1e-3</span>) <br>clf.fit(train_data_poly, train_target)<br>score_train = mean_squared_error(train_target, clf.predict(train_data_poly))<br>score_test = mean_squared_error(test_target, clf.predict(test_data_poly))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;SGDRegressor train MSE:   &quot;</span>, score_train)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;SGDRegressor test MSE:   &quot;</span>, score_test)<br></code></pre></td></tr></table></figure><pre><code class="hljs">SGDRegressor train MSE:    0.13208128238186503SGDRegressor test MSE:    0.14458655217709998</code></pre><h2 id="1-4æ­£å¸¸æ‹Ÿåˆ"><a href="#1-4æ­£å¸¸æ‹Ÿåˆ" class="headerlink" title="1.4æ­£å¸¸æ‹Ÿåˆ"></a>1.4æ­£å¸¸æ‹Ÿåˆ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> PolynomialFeatures<br>poly = PolynomialFeatures(<span class="hljs-number">3</span>)<br>train_data_poly = poly.fit_transform(train_data)<br>test_data_poly = poly.transform(test_data)<br>clf = SGDRegressor(max_iter=<span class="hljs-number">1000</span>, tol=<span class="hljs-number">1e-3</span>) <br>clf.fit(train_data_poly, train_target)<br>score_train = mean_squared_error(train_target, clf.predict(train_data_poly))<br>score_test = mean_squared_error(test_target, clf.predict(test_data_poly))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;SGDRegressor train MSE:   &quot;</span>, score_train)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;SGDRegressor test MSE:   &quot;</span>, score_test)<br></code></pre></td></tr></table></figure><pre><code class="hljs">SGDRegressor train MSE:    0.13419513490030407SGDRegressor test MSE:    0.14274747547356217</code></pre><h4 id="ä»£ç è§£é‡Š-1"><a href="#ä»£ç è§£é‡Š-1" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h4><p><code>PolynomialFeatures</code> æ˜¯ scikit-learnï¼ˆsklearnï¼‰åº“ä¸­çš„ä¸€ä¸ªé¢„å¤„ç†ç±»ï¼Œç”¨äºç”Ÿæˆå¤šé¡¹å¼ç‰¹å¾ã€‚å®ƒå¯ä»¥å°†åŸå§‹ç‰¹å¾è½¬æ¢ä¸ºé«˜é˜¶å¤šé¡¹å¼ç‰¹å¾ï¼Œä»è€Œæ‰©å±•ç‰¹å¾ç©ºé—´ï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿæ›´å¥½åœ°æ‹Ÿåˆéçº¿æ€§å…³ç³»ã€‚</p><p><code>PolynomialFeatures</code> çš„ä¸»è¦ä½œç”¨æ˜¯é€šè¿‡å¯¹åŸå§‹ç‰¹å¾è¿›è¡Œå¤šé¡¹å¼æ‰©å±•ï¼Œå¼•å…¥å¤šé¡¹å¼äº¤äº’é¡¹ï¼Œä»è€Œå¢åŠ æ¨¡å‹çš„è¡¨ç¤ºèƒ½åŠ›ã€‚å¯¹äºç»™å®šçš„ä¸€ç»„åŸå§‹ç‰¹å¾ x1, x2, â€¦, xnï¼Œ<code>PolynomialFeatures</code> å°†åˆ›å»ºç”±è¿™äº›ç‰¹å¾çš„æ‰€æœ‰å¯èƒ½çš„å¤šé¡¹å¼ç»„åˆç»„æˆçš„æ–°ç‰¹å¾çŸ©é˜µã€‚</p><p><code>PolynomialFeatures</code> å¯ä»¥ç”ŸæˆåŒ…æ‹¬ä»¥ä¸‹å‡ ç§ç‰¹å¾çš„å¤šé¡¹å¼ï¼š</p><ul><li>æŒ‡æ•°é¡¹ï¼šx^d ï¼ˆd ä¸ºæŒ‡å®šçš„åº¦æ•°ï¼‰</li><li>äº¤å‰é¡¹ï¼šx1^i <em> x2^j </em> â€¦ * xn^k ï¼ˆi + j + â€¦ + k ä¸å¤§äºæŒ‡å®šçš„åº¦æ•°ï¼‰</li></ul><p>ä½¿ç”¨ <code>PolynomialFeatures</code> çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p><ol><li>åˆ›å»º <code>PolynomialFeatures</code> å®ä¾‹ï¼Œå¹¶æŒ‡å®šæ‰€éœ€çš„åº¦æ•°ã€‚</li><li>ä½¿ç”¨ <code>fit_transform</code> æ–¹æ³•å°†åŸå§‹ç‰¹å¾æ•°æ®é›†è½¬æ¢ä¸ºå¤šé¡¹å¼ç‰¹å¾æ•°æ®é›†ã€‚</li></ol><h1 id="2-æ¨¡å‹æ­£åˆ™åŒ–"><a href="#2-æ¨¡å‹æ­£åˆ™åŒ–" class="headerlink" title="2 æ¨¡å‹æ­£åˆ™åŒ–"></a>2 æ¨¡å‹æ­£åˆ™åŒ–</h1><p>æ­£åˆ™åŒ–(Regularization)æ˜¯ç»™éœ€è¦è®­ç»ƒçš„ç›®æ ‡å‡½æ•°åŠ ä¸Šä¸€äº›è§„åˆ™ï¼ˆé™åˆ¶ï¼‰ï¼Œç›®çš„æ˜¯ä¸ºäº†é˜²æ­¢è¿‡æ‹Ÿåˆã€‚</p><h2 id="2-1-L2èŒƒæ•°æ­£åˆ™åŒ–"><a href="#2-1-L2èŒƒæ•°æ­£åˆ™åŒ–" class="headerlink" title="2.1 L2èŒƒæ•°æ­£åˆ™åŒ–"></a>2.1 L2èŒƒæ•°æ­£åˆ™åŒ–</h2><script type="math/tex; mode=display">\parallel x\parallel_2=\left(\sum_{i=1}^n\mid x_i\mid^2\right)^{\frac{1}{2}}</script><p>åˆå«æ¬§å‡ é‡Œå¾—(Euclid)èŒƒæ•°ï¼Œå³å‘é‡å…ƒç´ ç»å¯¹å€¼å¹³æ–¹å’Œå†è¿›è¡Œå¼€æ–¹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">poly = PolynomialFeatures(<span class="hljs-number">3</span>)<br>train_data_poly = poly.fit_transform(train_data)<br>test_data_poly = poly.transform(test_data)<br>clf = SGDRegressor(max_iter=<span class="hljs-number">1000</span>, tol=<span class="hljs-number">1e-3</span>, penalty= <span class="hljs-string">&#x27;L2&#x27;</span>, alpha=<span class="hljs-number">0.0001</span>) <br>clf.fit(train_data_poly, train_target)<br>score_train = mean_squared_error(train_target, clf.predict(train_data_poly))<br>score_test = mean_squared_error(test_target, clf.predict(test_data_poly))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;SGDRegressor train MSE:   &quot;</span>, score_train)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;SGDRegressor test MSE:   &quot;</span>, score_test)<br></code></pre></td></tr></table></figure><pre><code class="hljs">SGDRegressor train MSE:    0.13432119501674716SGDRegressor test MSE:    0.1426776204742311</code></pre><h2 id="2-2-L1èŒƒæ•°æ­£åˆ™åŒ–"><a href="#2-2-L1èŒƒæ•°æ­£åˆ™åŒ–" class="headerlink" title="2.2 L1èŒƒæ•°æ­£åˆ™åŒ–"></a>2.2 L1èŒƒæ•°æ­£åˆ™åŒ–</h2><script type="math/tex; mode=display">\parallel x\parallel_1=\sum_{i=1}^N\mid x_i\mid</script><p>å³å‘é‡å…ƒç´ ç»å¯¹å€¼ä¹‹å’Œ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">poly = PolynomialFeatures(<span class="hljs-number">3</span>)<br>train_data_poly = poly.fit_transform(train_data)<br>test_data_poly = poly.transform(test_data)<br>clf = SGDRegressor(max_iter=<span class="hljs-number">1000</span>, tol=<span class="hljs-number">1e-3</span>, penalty= <span class="hljs-string">&#x27;L1&#x27;</span>, alpha=<span class="hljs-number">0.00001</span>) <br>clf.fit(train_data_poly, train_target)<br>score_train = mean_squared_error(train_target, clf.predict(train_data_poly))<br>score_test = mean_squared_error(test_target, clf.predict(test_data_poly))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;SGDRegressor train MSE:   &quot;</span>, score_train)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;SGDRegressor test MSE:   &quot;</span>, score_test)<br></code></pre></td></tr></table></figure><pre><code class="hljs">SGDRegressor train MSE:    0.133943411262935SGDRegressor test MSE:    0.14229842600351</code></pre><h2 id="2-3-ElasticNet-è”åˆ-L1å’ŒL2èŒƒæ•°åŠ æƒæ­£åˆ™åŒ–"><a href="#2-3-ElasticNet-è”åˆ-L1å’ŒL2èŒƒæ•°åŠ æƒæ­£åˆ™åŒ–" class="headerlink" title="2.3 ElasticNet è”åˆ L1å’ŒL2èŒƒæ•°åŠ æƒæ­£åˆ™åŒ–"></a>2.3 ElasticNet è”åˆ L1å’ŒL2èŒƒæ•°åŠ æƒæ­£åˆ™åŒ–</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python">poly = PolynomialFeatures(<span class="hljs-number">3</span>)<br>train_data_poly = poly.fit_transform(train_data)<br>test_data_poly = poly.transform(test_data)<br>clf = SGDRegressor(max_iter=<span class="hljs-number">1000</span>, tol=<span class="hljs-number">1e-3</span>, penalty= <span class="hljs-string">&#x27;elasticnet&#x27;</span>, l1_ratio=<span class="hljs-number">0.9</span>, alpha=<span class="hljs-number">0.00001</span>) <br>clf.fit(train_data_poly, train_target)<br>score_train = mean_squared_error(train_target, clf.predict(train_data_poly))<br>score_test = mean_squared_error(test_target, clf.predict(test_data_poly))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;SGDRegressor train MSE:   &quot;</span>, score_train)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;SGDRegressor test MSE:   &quot;</span>, score_test)<br></code></pre></td></tr></table></figure><pre><code class="hljs">SGDRegressor train MSE:    0.13408335184518458SGDRegressor test MSE:    0.1427094727208378</code></pre><h4 id="ä»£ç è§£é‡Š-2"><a href="#ä»£ç è§£é‡Š-2" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h4><ol><li><p><code>elasticnet</code>ï¼šæ˜¯ <code>SGDRegressor</code> çš„æ­£åˆ™åŒ–æ–¹æ³•ä¹‹ä¸€ã€‚Elastic Net æ˜¯ä¸€ç§ç»“åˆäº† L1 æ­£åˆ™åŒ–ï¼ˆLassoï¼‰å’Œ L2 æ­£åˆ™åŒ–ï¼ˆRidgeï¼‰çš„çº¿æ€§å›å½’æ¨¡å‹æ­£åˆ™åŒ–æ–¹æ³•ã€‚é€šè¿‡å¼•å…¥ä¸¤ç§æ­£åˆ™åŒ–é¡¹ï¼ŒElastic Net å¯ä»¥åœ¨å¤„ç†é«˜ç»´æ•°æ®æ—¶å…·æœ‰ç‰¹å¾é€‰æ‹©çš„èƒ½åŠ›ï¼Œå¹¶ä¸”å¯ä»¥å…‹æœ Lasso å­˜åœ¨çš„æŸäº›é™åˆ¶ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>penalty</code> å‚æ•°è¢«è®¾ç½®ä¸º <code>&#39;l2&#39;</code>ï¼Œå³ä½¿ç”¨ L2 æ­£åˆ™åŒ–ï¼›è€Œè®¾ç½®ä¸º <code>&#39;elasticnet&#39;</code> åˆ™è¡¨ç¤ºåŒæ—¶ä½¿ç”¨ L1 å’Œ L2 æ­£åˆ™åŒ–ã€‚</p></li><li><p><code>l1_ratio</code>ï¼šè¿™æ˜¯ Elastic Net çš„æ··åˆå‚æ•°ï¼Œå–å€¼èŒƒå›´ä¸º 0 åˆ° 1 ä¹‹é—´ã€‚å®ƒæ§åˆ¶ç€ L1 æ­£åˆ™åŒ–åœ¨ Elastic Net ä¸­çš„æ¯”ä¾‹ã€‚å½“ <code>l1_ratio</code> ä¸º 0 æ—¶ï¼Œç›¸å½“äºåªä½¿ç”¨ L2 æ­£åˆ™åŒ–ï¼Œè€Œå½“ <code>l1_ratio</code> ä¸º 1 æ—¶ï¼Œç›¸å½“äºåªä½¿ç”¨ L1 æ­£åˆ™åŒ–ã€‚åœ¨ 0 å’Œ 1 ä¹‹é—´çš„å€¼è¡¨ç¤ºæ··åˆä½¿ç”¨ä¸¤ç§æ­£åˆ™åŒ–æ–¹æ³•ã€‚åœ¨ç»™å®šçš„ç¤ºä¾‹ä¸­ï¼Œ<code>l1_ratio=0.9</code> è¡¨ç¤º Elastic Net æ­£åˆ™åŒ–ä¸»è¦ä½¿ç”¨ L1 æ­£åˆ™åŒ–ï¼Œè¾ƒå°‘ä½¿ç”¨ L2 æ­£åˆ™åŒ–ã€‚</p></li></ol><h1 id="3-æ¨¡å‹äº¤å‰éªŒè¯"><a href="#3-æ¨¡å‹äº¤å‰éªŒè¯" class="headerlink" title="3 æ¨¡å‹äº¤å‰éªŒè¯"></a>3 æ¨¡å‹äº¤å‰éªŒè¯</h1><h2 id="3-1-ç®€å•äº¤å‰éªŒè¯-Hold-out-menthod"><a href="#3-1-ç®€å•äº¤å‰éªŒè¯-Hold-out-menthod" class="headerlink" title="3.1 ç®€å•äº¤å‰éªŒè¯ Hold-out-menthod"></a>3.1 ç®€å•äº¤å‰éªŒè¯ Hold-out-menthod</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ç®€å•äº¤å‰éªŒè¯</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split <span class="hljs-comment"># åˆ‡åˆ†æ•°æ®</span><br><span class="hljs-comment"># åˆ‡åˆ†æ•°æ® è®­ç»ƒæ•°æ®80% éªŒè¯æ•°æ®20%</span><br>train_data,test_data,train_target,test_target=train_test_split(train,target,test_size=<span class="hljs-number">0.2</span>,random_state=<span class="hljs-number">0</span>)<br><br>clf = SGDRegressor(max_iter=<span class="hljs-number">1000</span>, tol=<span class="hljs-number">1e-3</span>) <br>clf.fit(train_data, train_target)<br>score_train = mean_squared_error(train_target, clf.predict(train_data))<br>score_test = mean_squared_error(test_target, clf.predict(test_data))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;SGDRegressor train MSE:   &quot;</span>, score_train)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;SGDRegressor test MSE:   &quot;</span>, score_test)<br></code></pre></td></tr></table></figure><pre><code class="hljs">SGDRegressor train MSE:    0.1415940546797717SGDRegressor test MSE:    0.14689229408278165</code></pre><h2 id="3-2-KæŠ˜äº¤å‰éªŒè¯-K-fold-CV"><a href="#3-2-KæŠ˜äº¤å‰éªŒè¯-K-fold-CV" class="headerlink" title="3.2 KæŠ˜äº¤å‰éªŒè¯ K-fold CV"></a>3.2 KæŠ˜äº¤å‰éªŒè¯ K-fold CV</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 5æŠ˜äº¤å‰éªŒè¯</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> KFold<br><br>kf = KFold(n_splits=<span class="hljs-number">5</span>)<br><span class="hljs-keyword">for</span> k, (train_index, test_index) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(kf.split(train)):<br>    train_data,test_data,train_target,test_target = train.values[train_index],train.values[test_index],target[train_index],target[test_index]<br>    clf = SGDRegressor(max_iter=<span class="hljs-number">1000</span>, tol=<span class="hljs-number">1e-3</span>) <br>    clf.fit(train_data, train_target)<br>    score_train = mean_squared_error(train_target, clf.predict(train_data))<br>    score_test = mean_squared_error(test_target, clf.predict(test_data))<br>    <span class="hljs-built_in">print</span>(k, <span class="hljs-string">&quot; æŠ˜&quot;</span>, <span class="hljs-string">&quot;SGDRegressor train MSE:   &quot;</span>, score_train)<br>    <span class="hljs-built_in">print</span>(k, <span class="hljs-string">&quot; æŠ˜&quot;</span>, <span class="hljs-string">&quot;SGDRegressor test MSE:   &quot;</span>, score_test, <span class="hljs-string">&#x27;\n&#x27;</span>)  <br></code></pre></td></tr></table></figure><pre><code class="hljs">0  æŠ˜ SGDRegressor train MSE:    0.14991376582970440  æŠ˜ SGDRegressor test MSE:    0.1065473927176582 1  æŠ˜ SGDRegressor train MSE:    0.133570245500077481  æŠ˜ SGDRegressor test MSE:    0.1816447571392363 2  æŠ˜ SGDRegressor train MSE:    0.146459817485191072  æŠ˜ SGDRegressor test MSE:    0.13268383953043347 3  æŠ˜ SGDRegressor train MSE:    0.14064258830208853  æŠ˜ SGDRegressor test MSE:    0.16206427864796086 4  æŠ˜ SGDRegressor train MSE:    0.13877779624613174  æŠ˜ SGDRegressor test MSE:    0.16600911704035512 </code></pre><p>â€‹    </p><h4 id="ä»£ç è¯¦è§£-KFoldå‡½æ•°"><a href="#ä»£ç è¯¦è§£-KFoldå‡½æ•°" class="headerlink" title="ä»£ç è¯¦è§£ -KFoldå‡½æ•°"></a>ä»£ç è¯¦è§£ -<code>KFold</code>å‡½æ•°</h4><p><code>KFold</code> æ˜¯ scikit-learn åº“ä¸­çš„ä¸€ä¸ªäº¤å‰éªŒè¯æ–¹æ³•ï¼Œç”¨äºåˆ’åˆ†æ•°æ®é›†ä¸º k æŠ˜ï¼Œå¹¶ç”Ÿæˆç›¸åº”çš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†ç´¢å¼•ã€‚</p><p>è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">sklearn.model_selection.KFold(n_splits, shuffle=<span class="hljs-literal">False</span>, random_state=<span class="hljs-literal">None</span>)<br></code></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>n_splits</code>ï¼šè¡¨ç¤ºå°†æ•°æ®é›†åˆ’åˆ†ä¸ºå‡ ä¸ªæŠ˜ï¼ˆå³ k å€¼ï¼‰ï¼Œé»˜è®¤ä¸º 5ã€‚</li><li><code>shuffle</code>ï¼ˆå¯é€‰ï¼‰ï¼šè¡¨ç¤ºæ˜¯å¦åœ¨åˆ’åˆ†ä¹‹å‰å¯¹æ•°æ®è¿›è¡Œæ´—ç‰Œï¼Œé»˜è®¤ä¸º Falseã€‚å¦‚æœè®¾ç½®ä¸º Trueï¼Œåˆ™ä¼šåœ¨åˆ’åˆ†ä¹‹å‰å¯¹æ•°æ®è¿›è¡Œæ´—ç‰Œä»¥æ‰“ä¹±é¡ºåºã€‚</li><li><code>random_state</code>ï¼ˆå¯é€‰ï¼‰ï¼šè¡¨ç¤ºéšæœºæ•°ç§å­ï¼Œç”¨äºæŒ‡å®šæ´—ç‰Œæ—¶çš„éšæœºæ€§ã€‚è®¾ç½®ç›¸åŒçš„éšæœºæ•°ç§å­å¯ä»¥ä¿è¯æ¯æ¬¡åˆ’åˆ†çš„ç»“æœä¸€è‡´ã€‚</li></ul><p>å¸¸ç”¨æ–¹æ³•å’Œå±æ€§ï¼š</p><ul><li><code>split(X[, y, groups])</code>ï¼šè¿”å›ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ï¼Œç”¨äºç”Ÿæˆæ¯ä¸ªæŠ˜çš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†ç´¢å¼•ã€‚</li><li><code>get_n_splits([X, y, groups])</code>ï¼šè¿”å›åˆ’åˆ†çš„æŠ˜æ•°ï¼ˆå³ k å€¼ï¼‰ã€‚</li></ul><p>ä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> KFold<br><br><span class="hljs-comment"># åˆ›å»ºä¸€ä¸ª KFold å¯¹è±¡</span><br>kf = KFold(n_splits=<span class="hljs-number">5</span>)<br><br><span class="hljs-comment"># æ¨¡æ‹Ÿä¸€ä¸ªæ•°æ®é›†</span><br>data = np.array([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>])<br><br><span class="hljs-comment"># ä½¿ç”¨ KFold è¿›è¡Œåˆ’åˆ†</span><br><span class="hljs-keyword">for</span> train_index, test_index <span class="hljs-keyword">in</span> kf.split(data):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Train:&quot;</span>, train_index, <span class="hljs-string">&quot;Test:&quot;</span>, test_index)<br>    <br><span class="hljs-keyword">for</span> train_i,test_i <span class="hljs-keyword">in</span> kf.split(data):<br>    <span class="hljs-built_in">print</span>(data[train_i],data[test_i])<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;---------&quot;</span>)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight tap"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs tap">Train: [2<span class="hljs-number"> 3 </span>4<span class="hljs-number"> 5 </span>6<span class="hljs-number"> 7 </span>8 9] Test: [0 1]<br>Train: [0<span class="hljs-number"> 1 </span>4<span class="hljs-number"> 5 </span>6<span class="hljs-number"> 7 </span>8 9] Test: [2 3]<br>Train: [0<span class="hljs-number"> 1 </span>2<span class="hljs-number"> 3 </span>6<span class="hljs-number"> 7 </span>8 9] Test: [4 5]<br>Train: [0<span class="hljs-number"> 1 </span>2<span class="hljs-number"> 3 </span>4<span class="hljs-number"> 5 </span>8 9] Test: [6 7]<br>Train: [0<span class="hljs-number"> 1 </span>2<span class="hljs-number"> 3 </span>4<span class="hljs-number"> 5 </span>6 7] Test: [8 9]<br><br>[3 <span class="hljs-number"> 4 </span><span class="hljs-number"> 5 </span><span class="hljs-number"> 6 </span><span class="hljs-number"> 7 </span><span class="hljs-number"> 8 </span><span class="hljs-number"> 9 </span>10] [1 2]<br>------<span class="language-yaml"><span class="hljs-meta">---</span></span><br><span class="language-yaml">[<span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">5</span>  <span class="hljs-number">6</span>  <span class="hljs-number">7</span>  <span class="hljs-number">8</span>  <span class="hljs-number">9</span> <span class="hljs-number">10</span>] [<span class="hljs-number">3</span> <span class="hljs-number">4</span>]</span><br><span class="language-yaml"><span class="hljs-string">---------</span></span><br><span class="language-yaml">[<span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span>  <span class="hljs-number">4</span>  <span class="hljs-number">7</span>  <span class="hljs-number">8</span>  <span class="hljs-number">9</span> <span class="hljs-number">10</span>] [<span class="hljs-number">5</span> <span class="hljs-number">6</span>]</span><br><span class="language-yaml"><span class="hljs-string">---------</span></span><br><span class="language-yaml">[<span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span>  <span class="hljs-number">4</span>  <span class="hljs-number">5</span>  <span class="hljs-number">6</span>  <span class="hljs-number">9</span> <span class="hljs-number">10</span>] [<span class="hljs-number">7</span> <span class="hljs-number">8</span>]</span><br><span class="language-yaml"><span class="hljs-string">---------</span></span><br><span class="language-yaml">[<span class="hljs-number">1</span>  <span class="hljs-number">2</span>  <span class="hljs-number">3</span>  <span class="hljs-number">4</span>  <span class="hljs-number">5</span>  <span class="hljs-number">6</span>  <span class="hljs-number">7</span>  <span class="hljs-number">8</span>] [<span class="hljs-number">9</span> <span class="hljs-number">10</span>]</span><br><span class="language-yaml"><span class="hljs-string">---------</span></span><br></code></pre></td></tr></table></figure><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬å…ˆåˆ›å»ºäº†ä¸€ä¸ª <code>KFold</code> å¯¹è±¡ <code>kf</code>ï¼Œå°†æ•°æ®é›† <code>data</code> åˆ’åˆ†ä¸º 5 æŠ˜äº¤å‰éªŒè¯ã€‚ç„¶åï¼Œåœ¨å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>kf.split(data)</code> ç”Ÿæˆäº†æ¯ä¸ªæŠ˜çš„è®­ç»ƒé›†ç´¢å¼• <code>train_index</code> å’Œæµ‹è¯•é›†ç´¢å¼• <code>test_index</code>ã€‚é€šè¿‡æ‰“å°è¿™äº›ç´¢å¼•ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ¯ä¸ªæŠ˜çš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†ç´¢å¼•ã€‚</p><h4 id="ä»£ç è¯¦è§£-enumerateå‡½æ•°"><a href="#ä»£ç è¯¦è§£-enumerateå‡½æ•°" class="headerlink" title="ä»£ç è¯¦è§£ -enumerateå‡½æ•°"></a>ä»£ç è¯¦è§£ -<code>enumerate</code>å‡½æ•°</h4><p>ç”¨äºå°†ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡è½¬æ¢ä¸ºä¸€ä¸ªæšä¸¾å¯¹è±¡ã€‚å®ƒè¿”å›ä¸€ä¸ªåŒ…å«ç´¢å¼•å’Œå…ƒç´ çš„å…ƒç»„çš„è¿­ä»£å™¨ã€‚</p><p>è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-built_in">enumerate</span>(iterable, start=<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><ul><li><code>iterable</code>ï¼šè¡¨ç¤ºè¦è¿›è¡Œæšä¸¾çš„å¯è¿­ä»£å¯¹è±¡ï¼Œå¯ä»¥æ˜¯åˆ—è¡¨ã€å…ƒç»„ã€å­—ç¬¦ä¸²ã€é›†åˆç­‰ã€‚</li><li><code>start</code>ï¼ˆå¯é€‰ï¼‰ï¼šè¡¨ç¤ºç´¢å¼•çš„èµ·å§‹å€¼ï¼Œé»˜è®¤ä¸º 0ã€‚</li></ul><p>å½“å¯¹ä¸€ä¸ªå¯è¿­ä»£å¯¹è±¡ä½¿ç”¨ <code>enumerate</code> å‡½æ•°æ—¶ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªç”Ÿæˆå™¨å¯¹è±¡ï¼Œæ¯æ¬¡è¿­ä»£éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªå…ƒç»„ <code>(index, element)</code>ï¼Œå…¶ä¸­ <code>index</code> æ˜¯å½“å‰å…ƒç´ çš„ç´¢å¼•ï¼Œä» <code>start</code> å¼€å§‹é€’å¢ï¼Œ<code>element</code> æ˜¯å¯¹åº”çš„å…ƒç´ ã€‚</p><p>ä¾‹å­ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">fruits = [<span class="hljs-string">&#x27;apple&#x27;</span>, <span class="hljs-string">&#x27;banana&#x27;</span>, <span class="hljs-string">&#x27;orange&#x27;</span>]<br><br><span class="hljs-keyword">for</span> index, fruit <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(fruits):<br>    <span class="hljs-built_in">print</span>(index, fruit)<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight basic"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs basic"><span class="hljs-symbol">0 </span>apple<br><span class="hljs-symbol">1 </span>banana<br><span class="hljs-symbol">2 </span>orange<br></code></pre></td></tr></table></figure><p>åœ¨ä¾‹å­ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>enumerate</code> å¯¹åˆ—è¡¨ <code>fruits</code> è¿›è¡Œæšä¸¾ã€‚åœ¨æ¯æ¬¡è¿­ä»£ä¸­ï¼Œ<code>index</code> è¡¨ç¤ºå…ƒç´ çš„ç´¢å¼•ï¼Œ<code>fruit</code> è¡¨ç¤ºå¯¹åº”çš„æ°´æœåç§°ã€‚é€šè¿‡æ‰“å° <code>index</code> å’Œ <code>fruit</code>ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ¯ä¸ªå…ƒç´ çš„ç´¢å¼•å’Œå¯¹åº”çš„æ°´æœåç§°ã€‚</p><h2 id="3-3-ç•™ä¸€æ³•-LOO-CV"><a href="#3-3-ç•™ä¸€æ³•-LOO-CV" class="headerlink" title="3.3 ç•™ä¸€æ³• LOO CV"></a>3.3 ç•™ä¸€æ³• LOO CV</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> LeaveOneOut<br>loo = LeaveOneOut()<br><span class="hljs-comment"># num = 100</span><br><span class="hljs-keyword">for</span> k, (train_index, test_index) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(loo.split(train)):<br>    train_data,test_data,train_target,test_target = train.values[train_index],train.values[test_index],target[train_index],target[test_index]<br>    clf = SGDRegressor(max_iter=<span class="hljs-number">1000</span>, tol=<span class="hljs-number">1e-3</span>) <br>    clf.fit(train_data, train_target)<br>    score_train = mean_squared_error(train_target, clf.predict(train_data))<br>    score_test = mean_squared_error(test_target, clf.predict(test_data))<br>    <span class="hljs-built_in">print</span>(k, <span class="hljs-string">&quot; ä¸ª&quot;</span>, <span class="hljs-string">&quot;SGDRegressor train MSE:   &quot;</span>, score_train)<br>    <span class="hljs-built_in">print</span>(k, <span class="hljs-string">&quot; ä¸ª&quot;</span>, <span class="hljs-string">&quot;SGDRegressor test MSE:   &quot;</span>, score_test, <span class="hljs-string">&#x27;\n&#x27;</span>) <br>    <span class="hljs-keyword">if</span> k &gt;= <span class="hljs-number">9</span>: <span class="hljs-comment"># k å¤§äºç­‰äº 9æ—¶åœæ­¢è¿­ä»£</span><br>        <span class="hljs-keyword">break</span><br></code></pre></td></tr></table></figure><pre><code class="hljs">0  ä¸ª SGDRegressor train MSE:    0.141546780867300240  ä¸ª SGDRegressor test MSE:    0.012065815413407692 1  ä¸ª SGDRegressor train MSE:    0.141553108073661451  ä¸ª SGDRegressor test MSE:    0.1284070906104496 2  ä¸ª SGDRegressor train MSE:    0.14161468832938472  ä¸ª SGDRegressor test MSE:    0.039426047577402645 3  ä¸ª SGDRegressor train MSE:    0.14158636002829943  ä¸ª SGDRegressor test MSE:    0.003415838580474376 4  ä¸ª SGDRegressor train MSE:    0.141625299307162144  ä¸ª SGDRegressor test MSE:    0.011115946286888823 5  ä¸ª SGDRegressor train MSE:    0.14158816415152145  ä¸ª SGDRegressor test MSE:    0.13704136603528533 6  ä¸ª SGDRegressor train MSE:    0.141575967999929086  ä¸ª SGDRegressor test MSE:    0.02376598173602542 7  ä¸ª SGDRegressor train MSE:    0.141562272727730787  ä¸ª SGDRegressor test MSE:    0.0007635271707761818 8  ä¸ª SGDRegressor train MSE:    0.141506806047967958  ä¸ª SGDRegressor test MSE:    0.08992065000952423 9  ä¸ª SGDRegressor train MSE:    0.14160090754879879  ä¸ª SGDRegressor test MSE:    0.05042063473393335 </code></pre><p>â€‹    </p><h2 id="3-4-ç•™Pæ³•-LPO-CV"><a href="#3-4-ç•™Pæ³•-LPO-CV" class="headerlink" title="3.4 ç•™Pæ³• LPO CV"></a>3.4 ç•™Pæ³• LPO CV</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> LeavePOut<br>lpo = LeavePOut(p=<span class="hljs-number">10</span>)<br><span class="hljs-comment"># num = 100</span><br><span class="hljs-keyword">for</span> k, (train_index, test_index) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(lpo.split(train)):<br>    train_data,test_data,train_target,test_target = train.values[train_index],train.values[test_index],target[train_index],target[test_index]<br>    clf = SGDRegressor(max_iter=<span class="hljs-number">1000</span>, tol=<span class="hljs-number">1e-3</span>) <br>    clf.fit(train_data, train_target)<br>    score_train = mean_squared_error(train_target, clf.predict(train_data))<br>    score_test = mean_squared_error(test_target, clf.predict(test_data))<br>    <span class="hljs-built_in">print</span>(k, <span class="hljs-string">&quot; 10ä¸ª&quot;</span>, <span class="hljs-string">&quot;SGDRegressor train MSE:   &quot;</span>, score_train)<br>    <span class="hljs-built_in">print</span>(k, <span class="hljs-string">&quot; 10ä¸ª&quot;</span>, <span class="hljs-string">&quot;SGDRegressor test MSE:   &quot;</span>, score_test, <span class="hljs-string">&#x27;\n&#x27;</span>) <br>    <span class="hljs-keyword">if</span> k &gt;= <span class="hljs-number">9</span>: <span class="hljs-comment"># k å¤§äºç­‰äº 9æ—¶åœæ­¢è¿­ä»£ã€‚</span><br>        <span class="hljs-keyword">break</span><br></code></pre></td></tr></table></figure><pre><code class="hljs">0  10ä¸ª SGDRegressor train MSE:    0.141889978413670930  10ä¸ª SGDRegressor test MSE:    0.04891057028963159 1  10ä¸ª SGDRegressor train MSE:    0.141926144064349341  10ä¸ª SGDRegressor test MSE:    0.04448387541119956 2  10ä¸ª SGDRegressor train MSE:    0.142041560405937432  10ä¸ª SGDRegressor test MSE:    0.046971875220281685 3  10ä¸ª SGDRegressor train MSE:    0.141955287285203123  10ä¸ª SGDRegressor test MSE:    0.05454716320716613 4  10ä¸ª SGDRegressor train MSE:    0.141800440486467734  10ä¸ª SGDRegressor test MSE:    0.06895314629502325 5  10ä¸ª SGDRegressor train MSE:    0.142028464701305375  10ä¸ª SGDRegressor test MSE:    0.04503516030552096 6  10ä¸ª SGDRegressor train MSE:    0.14197201266374076  10ä¸ª SGDRegressor test MSE:    0.04910967979051496 7  10ä¸ª SGDRegressor train MSE:    0.142012173758312077  10ä¸ª SGDRegressor test MSE:    0.052842266808938575 8  10ä¸ª SGDRegressor train MSE:    0.141904218140746778  10ä¸ª SGDRegressor test MSE:    0.04721338466918536 9  10ä¸ª SGDRegressor train MSE:    0.142054682505133349  10ä¸ª SGDRegressor test MSE:    0.045801703647200806 </code></pre><p>â€‹    </p><h4 id="ç•™Päº¤å‰éªŒè¯-å’Œ-KæŠ˜äº¤å‰éªŒè¯"><a href="#ç•™Päº¤å‰éªŒè¯-å’Œ-KæŠ˜äº¤å‰éªŒè¯" class="headerlink" title="ç•™Päº¤å‰éªŒè¯ å’Œ KæŠ˜äº¤å‰éªŒè¯"></a>ç•™Päº¤å‰éªŒè¯ å’Œ KæŠ˜äº¤å‰éªŒè¯</h4><p>åŒºåˆ«å’Œç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><ul><li>æ ·æœ¬åˆ’åˆ†ï¼šç•™ P äº¤å‰éªŒè¯æŒ‰ç…§å›ºå®šæ•°é‡ P çš„æ ·æœ¬åˆ’åˆ†ä¸ºæµ‹è¯•é›†ï¼Œå‰©ä½™çš„æ ·æœ¬ä¸ºè®­ç»ƒé›†ï¼›K æŠ˜äº¤å‰éªŒè¯æŒ‰ç…§ K ä¸ªæŠ˜çš„åˆ’åˆ†å°†æ•°æ®é›†åˆ’åˆ†ä¸ºæµ‹è¯•é›†å’Œè®­ç»ƒé›†ã€‚</li><li>è¿­ä»£æ¬¡æ•°ï¼šç•™ P äº¤å‰éªŒè¯çš„è¿­ä»£æ¬¡æ•°å–å†³äºæ ·æœ¬ç»„åˆçš„å¯èƒ½æ€§ï¼Œé€šå¸¸è¾ƒå¤§ï¼›K æŠ˜äº¤å‰éªŒè¯çš„è¿­ä»£æ¬¡æ•°ä¸º Kï¼Œé€šå¸¸è¾ƒå°ã€‚</li><li>æ ·æœ¬é‡å¤ï¼šç•™ P äº¤å‰éªŒè¯æ¯ä¸ªæ ·æœ¬åªå‡ºç°ä¸€æ¬¡ä½œä¸ºæµ‹è¯•é›†ï¼Œå¯èƒ½ä¼šæœ‰æ ·æœ¬é‡å¤å‡ºç°åœ¨è®­ç»ƒé›†ä¸­ï¼›K æŠ˜äº¤å‰éªŒè¯æ¯ä¸ªæ ·æœ¬ä¼šè¢«åˆ†åˆ°ä¸åŒçš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸­ï¼Œé¿å…äº†æ ·æœ¬çš„é‡å¤ã€‚</li></ul><h1 id="4æ¨¡å‹è¶…å‚ç©ºé—´åŠè°ƒå‚"><a href="#4æ¨¡å‹è¶…å‚ç©ºé—´åŠè°ƒå‚" class="headerlink" title="4æ¨¡å‹è¶…å‚ç©ºé—´åŠè°ƒå‚"></a>4æ¨¡å‹è¶…å‚ç©ºé—´åŠè°ƒå‚</h1><h2 id="4-1ç©·ä¸¾ç½‘æ ¼æœç´¢"><a href="#4-1ç©·ä¸¾ç½‘æ ¼æœç´¢" class="headerlink" title="4.1ç©·ä¸¾ç½‘æ ¼æœç´¢"></a>4.1ç©·ä¸¾ç½‘æ ¼æœç´¢</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ä½¿ç”¨æ•°æ®è®­ç»ƒéšæœºæ£®æ—æ¨¡å‹ï¼Œé‡‡ç”¨ç½‘æ ¼æœç´¢æ–¹æ³•è°ƒå‚</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> GridSearchCV <span class="hljs-comment"># ç½‘æ ¼æœç´¢</span><br><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> RandomForestRegressor<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split <span class="hljs-comment"># åˆ‡åˆ†æ•°æ®</span><br><span class="hljs-comment"># åˆ‡åˆ†æ•°æ® è®­ç»ƒæ•°æ®80% éªŒè¯æ•°æ®20%</span><br>train_data,test_data,train_target,test_target=train_test_split(train,target,test_size=<span class="hljs-number">0.2</span>,random_state=<span class="hljs-number">0</span>)<br><br>randomForestRegressor = RandomForestRegressor()<br>parameters = &#123;<br>              <span class="hljs-string">&#x27;n_estimators&#x27;</span>:[<span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>],<br>              <span class="hljs-string">&#x27;max_depth&#x27;</span>:[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]<br>        &#125;<br><br>clf = GridSearchCV(randomForestRegressor, parameters, cv=<span class="hljs-number">5</span>) <span class="hljs-comment"># cvå¯¹train_dataä½¿ç”¨ 5 æŠ˜äº¤å‰éªŒè¯</span><br>clf.fit(train_data, train_target)<br><br>score_test = mean_squared_error(test_target, clf.predict(test_data))<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;RandomForestRegressor GridSearchCV test MSE:   &quot;</span>, score_test)<br><span class="hljs-built_in">sorted</span>(clf.cv_results_.keys())<br></code></pre></td></tr></table></figure><pre><code class="hljs">RandomForestRegressor GridSearchCV test MSE:    0.2580339125452081[&#39;mean_fit_time&#39;, &#39;mean_score_time&#39;, &#39;mean_test_score&#39;, &#39;param_max_depth&#39;, &#39;param_n_estimators&#39;, &#39;params&#39;, &#39;rank_test_score&#39;, &#39;split0_test_score&#39;, &#39;split1_test_score&#39;, &#39;split2_test_score&#39;, &#39;split3_test_score&#39;, &#39;split4_test_score&#39;, &#39;std_fit_time&#39;, &#39;std_score_time&#39;, &#39;std_test_score&#39;]</code></pre><h4 id="ä»£ç è§£é‡Š-3"><a href="#ä»£ç è§£é‡Š-3" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h4><ol><li>GridSearchCV()</li></ol><p><code>GridSearchCV</code> æ˜¯ä¸€ä¸ªç”¨äºè¿›è¡Œç½‘æ ¼æœç´¢çš„ç±»ï¼Œå¯ä»¥ç”¨äºå‚æ•°è°ƒä¼˜å’Œæ¨¡å‹é€‰æ‹©ã€‚</p><p>ç½‘æ ¼æœç´¢æ˜¯æŒ‡å°†æ‰€æœ‰å¯èƒ½çš„å‚æ•°ç»„åˆéƒ½å°è¯•ä¸€éï¼Œå¹¶å¯¹æ¯ç»„å‚æ•°è¿›è¡Œè¯„ä¼°ã€‚é€šè¿‡è®¾ç½®å‚æ•°èŒƒå›´å’Œæ­¥é•¿ç­‰ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶å‚æ•°æœç´¢çš„è§„æ¨¡ã€‚</p><p>ä¸‹é¢æ˜¯ä½¿ç”¨ <code>GridSearchCV</code> çš„ä¸€èˆ¬æµç¨‹ï¼š</p><ol><li>å¯¼å…¥ <code>GridSearchCV</code> ç±»å’Œè¦ä½¿ç”¨çš„æ¨¡å‹ç±»ã€‚</li><li>å®šä¹‰è¦æœç´¢çš„å‚æ•°ç©ºé—´ï¼ˆé€šå¸¸æ˜¯ä¸€ä¸ªå­—å…¸ï¼‰ã€‚</li><li>åˆ›å»ºæ¨¡å‹å¯¹è±¡ã€‚</li><li>åˆ›å»º <code>GridSearchCV</code> å¯¹è±¡ï¼Œä¼ å…¥æ¨¡å‹å¯¹è±¡ã€å‚æ•°ç©ºé—´å’Œå…¶ä»–å‚æ•°ï¼ˆä¾‹å¦‚äº¤å‰éªŒè¯çš„æŠ˜æ•°ï¼‰ã€‚</li><li>ä½¿ç”¨ <code>fit</code> æ–¹æ³•æ‹Ÿåˆæ•°æ®ï¼Œå¹¶è¿›è¡Œç½‘æ ¼æœç´¢å’Œäº¤å‰éªŒè¯ã€‚</li><li>å¯ä»¥é€šè¿‡ <code>best_params_</code> å±æ€§æŸ¥çœ‹æœ€ä½³å‚æ•°ç»„åˆã€‚</li><li>å¯ä»¥é€šè¿‡ <code>best_score_</code> å±æ€§æŸ¥çœ‹æœ€ä½³å‚æ•°ç»„åˆçš„å¾—åˆ†ã€‚</li><li>å¯ä»¥é€šè¿‡ <code>cv_results_</code> å±æ€§æŸ¥çœ‹æ‰€æœ‰å‚æ•°ç»„åˆçš„è¯¦ç»†ç»“æœã€‚</li></ol><hr><ol><li><code>clf.cv_results_.keys()</code> </li></ol><p>æ˜¯ä¸€ä¸ªåˆ—è¡¨ï¼Œè¯¥åˆ—è¡¨è¿”å›å­—å…¸ <code>clf.cv_results_</code> ä¸­æ‰€æœ‰çš„é”®ã€‚<code>clf.cv_results_</code> åŒ…å«äº†ç½‘æ ¼æœç´¢è¿‡ç¨‹ä¸­çš„è¯¦ç»†ç»“æœï¼ŒåŒ…æ‹¬æ¯ç»„å‚æ•°ç»„åˆçš„å¾—åˆ†ã€è®­ç»ƒæ—¶é—´ç­‰ä¿¡æ¯ã€‚</p><p>é€šè¿‡æ‰§è¡Œ <code>clf.cv_results_.keys()</code>ï¼Œä½ å°†ä¼šå¾—åˆ°ä¸€ä¸ªåˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«äº†æ‰€æœ‰çš„é”®ã€‚è¿™ä¸ªåˆ—è¡¨æä¾›äº†ä¸€ä¸ªå¿«é€ŸæŸ¥çœ‹å¯ç”¨é”®çš„æ–¹å¼ã€‚</p><p>å¸¸è§çš„ä¸€äº›é”®å¯èƒ½åŒ…æ‹¬ï¼š</p><ul><li><code>&#39;mean_fit_time&#39;</code>ï¼šæ¯ä¸ªå‚æ•°ç»„åˆçš„å¹³å‡è®­ç»ƒæ—¶é—´ã€‚</li><li><code>&#39;mean_score_time&#39;</code>ï¼šæ¯ä¸ªå‚æ•°ç»„åˆçš„å¹³å‡é¢„æµ‹æ—¶é—´ã€‚</li><li><code>&#39;mean_test_score&#39;</code>ï¼šæ¯ä¸ªå‚æ•°ç»„åˆåœ¨äº¤å‰éªŒè¯çš„æµ‹è¯•é›†ä¸Šçš„å¹³å‡å¾—åˆ†ã€‚</li><li><code>&#39;param_XXX&#39;</code>ï¼šå‚æ•° <code>XXX</code> çš„å€¼ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœæœ‰å‚æ•° <code>&#39;n_estimators&#39;</code>ï¼Œåˆ™ä¼šå‡ºç° <code>&#39;param_n_estimators&#39;</code>ï¼‰ã€‚</li><li><code>&#39;rank_test_score&#39;</code>ï¼šæ¯ä¸ªå‚æ•°ç»„åˆåœ¨äº¤å‰éªŒè¯ä¸­çš„å¾—åˆ†æ’åã€‚</li><li><code>&#39;splitX_test_score&#39;</code>ï¼šç¬¬ X æŠ˜äº¤å‰éªŒè¯ä¸­æ¯ä¸ªå‚æ•°ç»„åˆçš„å¾—åˆ†ã€‚</li></ul><p>è¿™äº›æŒ‡æ ‡åœ¨æ¨¡å‹åˆ†æä¸­ååˆ†é‡è¦ï¼Œå¯ä»¥æŸ¥æ‰¾åˆ°æ•´ä¸ªå»ºæ¨¡è¿‡ç¨‹ä¸­å¯èƒ½çš„å¼‚å¸¸</p><p><code>sorted(clf.cv_results_.keys())</code> æŒ‰å­—æ¯é¡ºåºæ’åºå¹¶æ‰“å°å‡º clf.cv<em>results</em> å­—å…¸ä¸­çš„é”®.</p><h2 id="4-2-éšæœºå‚æ•°ä¼˜åŒ–"><a href="#4-2-éšæœºå‚æ•°ä¼˜åŒ–" class="headerlink" title="4.2 éšæœºå‚æ•°ä¼˜åŒ–"></a>4.2 éšæœºå‚æ•°ä¼˜åŒ–</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ä½¿ç”¨æ•°æ®è®­ç»ƒéšæœºæ£®æ—æ¨¡å‹ï¼Œé‡‡ç”¨éšæœºå‚æ•°ä¼˜åŒ–æ–¹æ³•è°ƒå‚</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> RandomizedSearchCV<br><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> RandomForestRegressor<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split <span class="hljs-comment"># åˆ‡åˆ†æ•°æ®</span><br><span class="hljs-comment"># åˆ‡åˆ†æ•°æ® è®­ç»ƒæ•°æ®80% éªŒè¯æ•°æ®20%</span><br>train_data,test_data,train_target,test_target=train_test_split(train,target,test_size=<span class="hljs-number">0.2</span>,random_state=<span class="hljs-number">0</span>)<br><br>randomForestRegressor = RandomForestRegressor()<br>parameters = &#123;<br>              <span class="hljs-string">&#x27;n_estimators&#x27;</span>:[<span class="hljs-number">50</span>, <span class="hljs-number">100</span>, <span class="hljs-number">200</span>, <span class="hljs-number">300</span>],<br>              <span class="hljs-string">&#x27;max_depth&#x27;</span>:[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br>        &#125;<br><br>clf = RandomizedSearchCV(randomForestRegressor, parameters, cv=<span class="hljs-number">5</span>)<br>clf.fit(train_data, train_target)<br><br>score_test = mean_squared_error(test_target, clf.predict(test_data))<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;RandomForestRegressor RandomizedSearchCV test MSE:   &quot;</span>, score_test)<br><span class="hljs-built_in">sorted</span>(clf.cv_results_.keys())<br></code></pre></td></tr></table></figure><pre><code class="hljs">RandomForestRegressor RandomizedSearchCV test MSE:    0.19466233629207197[&#39;mean_fit_time&#39;, &#39;mean_score_time&#39;, &#39;mean_test_score&#39;, &#39;param_max_depth&#39;, &#39;param_n_estimators&#39;, &#39;params&#39;, &#39;rank_test_score&#39;, &#39;split0_test_score&#39;, &#39;split1_test_score&#39;, &#39;split2_test_score&#39;, &#39;split3_test_score&#39;, &#39;split4_test_score&#39;, &#39;std_fit_time&#39;, &#39;std_score_time&#39;, &#39;std_test_score&#39;]</code></pre><h4 id="ä»£ç è§£é‡Š-4"><a href="#ä»£ç è§£é‡Š-4" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h4><p><code>RandomizedSearchCV</code> æ˜¯ä¸€ä¸ªç”¨äºè¿›è¡Œéšæœºæœç´¢çš„ç±»ï¼Œä¸ <code>GridSearchCV</code> ç±»ä¼¼ï¼Œå®ƒä¹Ÿå¯ä»¥ç”¨äºå‚æ•°è°ƒä¼˜å’Œæ¨¡å‹é€‰æ‹©ã€‚</p><p>ä¸ç½‘æ ¼æœç´¢ä¸åŒçš„æ˜¯ï¼Œéšæœºæœç´¢å¹¶ä¸å°è¯•æ‰€æœ‰å¯èƒ½çš„å‚æ•°ç»„åˆã€‚ç›¸åï¼Œå®ƒä»å‚æ•°ç©ºé—´ä¸­éšæœºæŠ½æ ·ä¸€ç»„å‚æ•°ï¼Œå¹¶å¯¹æ¯ç»„å‚æ•°è¿›è¡Œè¯„ä¼°ã€‚é€šè¿‡è®¾ç½®æŠ½æ ·çš„æ¬¡æ•°ï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶éšæœºæœç´¢çš„è§„æ¨¡ã€‚</p><p>ä¸‹é¢æ˜¯ä½¿ç”¨ <code>RandomizedSearchCV</code> çš„ä¸€èˆ¬æµç¨‹ï¼š</p><ol><li>å¯¼å…¥ <code>RandomizedSearchCV</code> ç±»å’Œè¦ä½¿ç”¨çš„æ¨¡å‹ç±»ã€‚</li><li>å®šä¹‰è¦æœç´¢çš„å‚æ•°ç©ºé—´ã€‚å¯ä»¥ä½¿ç”¨åˆ†å¸ƒå‡½æ•°ï¼ˆå¦‚å‡åŒ€åˆ†å¸ƒã€æ­£æ€åˆ†å¸ƒï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æŒ‡å®šçš„å‚æ•°åˆ—è¡¨ã€‚</li><li>åˆ›å»ºæ¨¡å‹å¯¹è±¡ã€‚</li><li>åˆ›å»º <code>RandomizedSearchCV</code> å¯¹è±¡ï¼Œä¼ å…¥æ¨¡å‹å¯¹è±¡ã€å‚æ•°ç©ºé—´å’Œå…¶ä»–å‚æ•°ï¼ˆä¾‹å¦‚äº¤å‰éªŒè¯çš„æŠ˜æ•°ï¼‰ã€‚</li><li>ä½¿ç”¨ <code>fit</code> æ–¹æ³•æ‹Ÿåˆæ•°æ®ï¼Œå¹¶è¿›è¡Œéšæœºæœç´¢å’Œäº¤å‰éªŒè¯ã€‚</li><li>å¯ä»¥é€šè¿‡ <code>best_params_</code> å±æ€§æŸ¥çœ‹æœ€ä½³å‚æ•°ç»„åˆã€‚</li><li>å¯ä»¥é€šè¿‡ <code>best_score_</code> å±æ€§æŸ¥çœ‹æœ€ä½³å‚æ•°ç»„åˆçš„å¾—åˆ†ã€‚</li><li>å¯ä»¥é€šè¿‡ <code>cv_results_</code> å±æ€§æŸ¥çœ‹æ‰€æœ‰å‚æ•°ç»„åˆçš„è¯¦ç»†ç»“æœã€‚</li></ol><h2 id="4-3-Lgb-è°ƒå‚"><a href="#4-3-Lgb-è°ƒå‚" class="headerlink" title="4.3 Lgb è°ƒå‚"></a>4.3 Lgb è°ƒå‚</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ä½¿ç”¨æ•°æ®è®­ç»ƒLGBæ¨¡å‹ï¼Œé‡‡ç”¨ç½‘æ ¼æœç´¢æ–¹æ³•è°ƒå‚</span><br><br>clf = lgb.LGBMRegressor(num_leaves=<span class="hljs-number">31</span>)<br><br>parameters = &#123;<br>  <br>    <span class="hljs-string">&#x27;learning_rate&#x27;</span>: [<span class="hljs-number">0.01</span>, <span class="hljs-number">0.1</span>, <span class="hljs-number">1</span>],<br>    <span class="hljs-string">&#x27;n_estimators&#x27;</span>: [<span class="hljs-number">20</span>, <span class="hljs-number">40</span>]<br>    <br>&#125;<br><br>clf = GridSearchCV(clf, parameters, cv=<span class="hljs-number">5</span>)<br>clf.fit(train_data, train_target)<br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;Best parameters found by grid search are:&#x27;</span>, clf.best_params_)<br>score_test = mean_squared_error(test_target, clf.predict(test_data))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;LGBMRegressor RandomizedSearchCV test MSE:   &quot;</span>, score_test)<br></code></pre></td></tr></table></figure><pre><code class="hljs">Best parameters found by grid search are: &#123;&#39;learning_rate&#39;: 0.1, &#39;n_estimators&#39;: 40&#125;LGBMRegressor RandomizedSearchCV test MSE:    0.1521115918778782</code></pre><h2 id="4-4-Lgb-çº¿ä¸‹éªŒè¯"><a href="#4-4-Lgb-çº¿ä¸‹éªŒè¯" class="headerlink" title="4.4 Lgb çº¿ä¸‹éªŒè¯"></a>4.4 Lgb çº¿ä¸‹éªŒè¯</h2><p>ä¸‹é¢è¿›è¡Œæ•°æ®å»ºæ¨¡ã€5æŠ˜äº¤å‰éªŒè¯ã€åˆ’åˆ†æ•°æ®ã€å¯¹LGBæ¨¡å‹è¿›è¡Œè®­ç»ƒã€è®¡ç®—MSEè¯„ä»·æ€§èƒ½ç­‰æµç¨‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">train_data2 = pd.read_csv(<span class="hljs-string">&#x27;./data/zhengqi_train.txt&#x27;</span>,sep=<span class="hljs-string">&#x27;\t&#x27;</span>)<br>test_data2 = pd.read_csv(<span class="hljs-string">&#x27;./data/zhengqi_test.txt&#x27;</span>,sep=<span class="hljs-string">&#x27;\t&#x27;</span>)<br><br>train_data2_feature = train_data2[test_data2.columns].values<br>train_data2_target = train_data2[<span class="hljs-string">&#x27;target&#x27;</span>].values<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># lgb æ¨¡å‹</span><br><span class="hljs-keyword">from</span> sklearn.model_selection  <span class="hljs-keyword">import</span> KFold<br><span class="hljs-keyword">import</span> lightgbm <span class="hljs-keyword">as</span> lgb<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><br><br><span class="hljs-comment"># 5æŠ˜äº¤å‰éªŒè¯</span><br>Folds=<span class="hljs-number">5</span><br>kf = KFold( n_splits=Folds, random_state=<span class="hljs-number">100</span>, shuffle=<span class="hljs-literal">True</span>)<br><span class="hljs-comment"># è®°å½•è®­ç»ƒå’Œé¢„æµ‹MSE</span><br>MSE_DICT = &#123;<br>    <span class="hljs-string">&#x27;train_mse&#x27;</span>:[],<br>    <span class="hljs-string">&#x27;test_mse&#x27;</span>:[]<br>&#125;<br><br><span class="hljs-comment"># çº¿ä¸‹è®­ç»ƒé¢„æµ‹</span><br><span class="hljs-keyword">for</span> i, (train_index, test_index) <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(kf.split(train_data2_feature)):<br>    <span class="hljs-comment"># lgbæ ‘æ¨¡å‹</span><br>    lgb_reg = lgb.LGBMRegressor(<br>        learning_rate=<span class="hljs-number">0.01</span>,<br>        max_depth=-<span class="hljs-number">1</span>,<br>        n_estimators=<span class="hljs-number">100</span>,<br>        boosting_type=<span class="hljs-string">&#x27;gbdt&#x27;</span>,<br>        random_state=<span class="hljs-number">100</span>,<br>        objective=<span class="hljs-string">&#x27;regression&#x27;</span>,<br>    )<br>   <br>    <span class="hljs-comment"># åˆ‡åˆ†è®­ç»ƒé›†å’Œé¢„æµ‹é›†</span><br>    X_train_KFold, X_test_KFold = train_data2_feature[train_index], train_data2_feature[test_index] <span class="hljs-comment"># åˆ’åˆ†å‡ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„ç‰¹å¾</span><br>    y_train_KFold, y_test_KFold = train_data2_target[train_index], train_data2_target[test_index] <span class="hljs-comment"># åˆ’åˆ†å‡ºè®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„æ ‡ç­¾</span><br>    <br>    <span class="hljs-comment"># è®­ç»ƒæ¨¡å‹</span><br><span class="hljs-comment">#     reg.fit(X_train_KFold, y_train_KFold)</span><br>    lgb_reg.fit(<br>            X=X_train_KFold,y=y_train_KFold,<br>            eval_set=[(X_train_KFold, y_train_KFold),(X_test_KFold, y_test_KFold)],<br>            eval_names=[<span class="hljs-string">&#x27;Train&#x27;</span>,<span class="hljs-string">&#x27;Test&#x27;</span>],<br>            <span class="hljs-comment"># early_stopping_round=100, # å‚æ•°å·²å¼ƒç”¨,é€šè¿‡â€œcallbacksâ€å‚æ•°ä¼ é€’å›è°ƒ</span><br>            <span class="hljs-comment"># verbose=50, # å‚æ•°å·²å¼ƒç”¨,é€šè¿‡â€œcallbacksâ€å‚æ•°ä¼ é€’å›è°ƒ</span><br>            eval_metric=<span class="hljs-string">&#x27;MSE&#x27;</span>,<span class="hljs-comment"># è®¾ç½®è¯„ä¼°æŒ‡æ ‡eval_metricï¼Œè¿™é‡Œä½¿ç”¨å‡æ–¹è¯¯å·®ï¼ˆMSEï¼‰</span><br>            callbacks=[lgb.log_evaluation(period=<span class="hljs-number">100</span>), lgb.early_stopping(stopping_rounds=<span class="hljs-number">50</span>)]<br>            <br>        )<br><br><br>    <span class="hljs-comment"># è®­ç»ƒé›†é¢„æµ‹ æµ‹è¯•é›†é¢„æµ‹</span><br>    y_train_KFold_predict = lgb_reg.predict(X_train_KFold,num_iteration=lgb_reg.best_iteration_)<br>    y_test_KFold_predict = lgb_reg.predict(X_test_KFold,num_iteration=lgb_reg.best_iteration_) <br>    <br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;ç¬¬&#123;&#125;æŠ˜ è®­ç»ƒå’Œé¢„æµ‹ è®­ç»ƒMSE é¢„æµ‹MSE&#x27;</span>.<span class="hljs-built_in">format</span>(i))<br>    train_mse = mean_squared_error(y_train_KFold_predict, y_train_KFold)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;------\n&#x27;</span>, <span class="hljs-string">&#x27;è®­ç»ƒMSE\n&#x27;</span>, train_mse, <span class="hljs-string">&#x27;\n------&#x27;</span>)<br>    test_mse = mean_squared_error(y_test_KFold_predict, y_test_KFold)<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;------\n&#x27;</span>, <span class="hljs-string">&#x27;é¢„æµ‹MSE\n&#x27;</span>, test_mse, <span class="hljs-string">&#x27;\n------\n&#x27;</span>)<br>    <br>    MSE_DICT[<span class="hljs-string">&#x27;train_mse&#x27;</span>].append(train_mse)<br>    MSE_DICT[<span class="hljs-string">&#x27;test_mse&#x27;</span>].append(test_mse)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;------\n&#x27;</span>, <span class="hljs-string">&#x27;è®­ç»ƒMSE\n&#x27;</span>, MSE_DICT[<span class="hljs-string">&#x27;train_mse&#x27;</span>], <span class="hljs-string">&#x27;\n&#x27;</span>, np.mean(MSE_DICT[<span class="hljs-string">&#x27;train_mse&#x27;</span>]), <span class="hljs-string">&#x27;\n------&#x27;</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;------\n&#x27;</span>, <span class="hljs-string">&#x27;é¢„æµ‹MSE\n&#x27;</span>, MSE_DICT[<span class="hljs-string">&#x27;test_mse&#x27;</span>], <span class="hljs-string">&#x27;\n&#x27;</span>, np.mean(MSE_DICT[<span class="hljs-string">&#x27;test_mse&#x27;</span>]), <span class="hljs-string">&#x27;\n------&#x27;</span>)<br></code></pre></td></tr></table></figure><pre><code class="hljs">[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 0.000650 seconds.You can set `force_col_wise=true` to remove the overhead.[LightGBM] [Info] Total Bins 8853[LightGBM] [Info] Number of data points in the train set: 2310, number of used features: 38[LightGBM] [Info] Start training from score 0.121817Training until validation scores don&#39;t improve for 50 rounds[100]    Train&#39;s l2: 0.223959    Test&#39;s l2: 0.247217Did not meet early stopping. Best iteration is:[100]    Train&#39;s l2: 0.223959    Test&#39;s l2: 0.247217ç¬¬0æŠ˜ è®­ç»ƒå’Œé¢„æµ‹ è®­ç»ƒMSE é¢„æµ‹MSE------ è®­ç»ƒMSE 0.22395910176815867 ------------ é¢„æµ‹MSE 0.24721747302378572 ------[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 0.000492 seconds.You can set `force_col_wise=true` to remove the overhead.[LightGBM] [Info] Total Bins 8853[LightGBM] [Info] Number of data points in the train set: 2310, number of used features: 38[LightGBM] [Info] Start training from score 0.113222Training until validation scores don&#39;t improve for 50 rounds[100]    Train&#39;s l2: 0.221409    Test&#39;s l2: 0.25435Did not meet early stopping. Best iteration is:[100]    Train&#39;s l2: 0.221409    Test&#39;s l2: 0.25435ç¬¬1æŠ˜ è®­ç»ƒå’Œé¢„æµ‹ è®­ç»ƒMSE é¢„æµ‹MSE------ è®­ç»ƒMSE 0.22140920255015417 ------------ é¢„æµ‹MSE 0.2543498234383045 ------[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 0.000771 seconds.You can set `force_col_wise=true` to remove the overhead.[LightGBM] [Info] Total Bins 8838[LightGBM] [Info] Number of data points in the train set: 2310, number of used features: 38[LightGBM] [Info] Start training from score 0.132497Training until validation scores don&#39;t improve for 50 rounds[100]    Train&#39;s l2: 0.221398    Test&#39;s l2: 0.256187Did not meet early stopping. Best iteration is:[100]    Train&#39;s l2: 0.221398    Test&#39;s l2: 0.256187ç¬¬2æŠ˜ è®­ç»ƒå’Œé¢„æµ‹ è®­ç»ƒMSE é¢„æµ‹MSE------ è®­ç»ƒMSE 0.22139783747290231 ------------ é¢„æµ‹MSE 0.25618731408519657 ------[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 0.000471 seconds.You can set `force_col_wise=true` to remove the overhead.[LightGBM] [Info] Total Bins 8849[LightGBM] [Info] Number of data points in the train set: 2311, number of used features: 38[LightGBM] [Info] Start training from score 0.125889Training until validation scores don&#39;t improve for 50 rounds[100]    Train&#39;s l2: 0.225142    Test&#39;s l2: 0.250629Did not meet early stopping. Best iteration is:[100]    Train&#39;s l2: 0.225142    Test&#39;s l2: 0.250629ç¬¬3æŠ˜ è®­ç»ƒå’Œé¢„æµ‹ è®­ç»ƒMSE é¢„æµ‹MSE------ è®­ç»ƒMSE 0.22514211678664525 ------------ é¢„æµ‹MSE 0.2506288004181115 ------[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 0.000387 seconds.You can set `force_col_wise=true` to remove the overhead.[LightGBM] [Info] Total Bins 8837[LightGBM] [Info] Number of data points in the train set: 2311, number of used features: 38[LightGBM] [Info] Start training from score 0.138334Training until validation scores don&#39;t improve for 50 rounds[100]    Train&#39;s l2: 0.2212    Test&#39;s l2: 0.256939Did not meet early stopping. Best iteration is:[100]    Train&#39;s l2: 0.2212    Test&#39;s l2: 0.256939ç¬¬4æŠ˜ è®­ç»ƒå’Œé¢„æµ‹ è®­ç»ƒMSE é¢„æµ‹MSE------ è®­ç»ƒMSE 0.22120001873881776 ------------ é¢„æµ‹MSE 0.2569386630797994 ------------ è®­ç»ƒMSE [0.22395910176815867, 0.22140920255015417, 0.22139783747290231, 0.22514211678664525, 0.22120001873881776]  0.22262165546333562 ------------ é¢„æµ‹MSE [0.24721747302378572, 0.2543498234383045, 0.25618731408519657, 0.2506288004181115, 0.2569386630797994]  0.2530644148090395 ------</code></pre><p> <img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-05-2èµ›é¢˜æ¨¡å‹éªŒè¯/052_1.png" width = "300" height = "200" alt="" align=center /></p><h4 id="ä»£ç è§£é‡Š-5"><a href="#ä»£ç è§£é‡Š-5" class="headerlink" title="ä»£ç è§£é‡Š"></a>ä»£ç è§£é‡Š</h4><ol><li><code>eval_set</code> å‚æ•°<br>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ç”¨äºæŒ‡å®šè¯„ä¼°æ¨¡å‹æ€§èƒ½çš„æ•°æ®é›†ã€‚å¯ä»¥æä¾›ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®é›†ç”¨äºç›‘æ§æ¨¡å‹çš„æ€§èƒ½ï¼Œå¹¶åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­è¿›è¡Œæ—©åœæ³•ï¼ˆearly stoppingï¼‰ç­‰æ“ä½œã€‚</li></ol><p><code>eval_set</code>å‚æ•°æ¥å—ä¸€ä¸ªäºŒç»´åˆ—è¡¨ï¼Œæ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä¸€ä¸ªåŒ…å«ç‰¹å¾å’Œç›®æ ‡å˜é‡çš„å…ƒç»„ã€‚æ¯ä¸ªå…ƒç»„ä»£è¡¨ä¸€ä¸ªæ•°æ®é›†ï¼Œé€šå¸¸ç”±ç‰¹å¾æ•°æ®å’Œå¯¹åº”çš„ç›®æ ‡å˜é‡ç»„æˆã€‚</p><p>ä¾‹å¦‚ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ä¸ªè®­ç»ƒæ•°æ®é›†<code>(X_train, y_train)</code>å’Œä¸€ä¸ªæµ‹è¯•æ•°æ®é›†<code>(X_test, y_test)</code>ï¼Œå¯ä»¥å°†å®ƒä»¬ä½œä¸ºå…ƒç»„ä¼ é€’ç»™<code>eval_set</code>å‚æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">eval_set = [(X_train, y_train), (X_test, y_test)]<br></code></pre></td></tr></table></figure><p>åœ¨è®­ç»ƒè¿‡ç¨‹ä¸­ï¼Œæ¨¡å‹å°†ä½¿ç”¨è¿™äº›æ•°æ®é›†æ¥è®¡ç®—è®­ç»ƒè¯¯å·®å’ŒéªŒè¯è¯¯å·®ï¼Œå¹¶æ ¹æ®éªŒè¯è¯¯å·®çš„å˜åŒ–æ¥å†³å®šæ˜¯å¦è¿›è¡Œæ—©åœæ³•ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®<code>early_stopping_rounds</code>å‚æ•°æ¥å®šä¹‰æ—©åœæ³•çš„é€»è¾‘ã€‚</p><hr><ol><li><code>eval_names</code>å‚æ•°<br><code>eval_names</code>å‚æ•°ç”¨äºä¸º<code>eval_set</code>ä¸­çš„æ•°æ®é›†æŒ‡å®šåç§°ï¼Œä»¥ä¾¿åœ¨è¾“å‡ºç»“æœä¸­æ ‡è¯†æ¯ä¸ªæ•°æ®é›†çš„åç§°ã€‚</li></ol><hr><ol><li><code>callbacks</code> å‚æ•°</li></ol><p>å‚æ•°è¾“å…¥è¦æ±‚<br><code>callbacks : list of callable, or None, optional (default=None)</code><br>å…¥å‚æ˜¯ä¸€ä¸ªlistï¼Œlistä¸­çš„å¯¹è±¡éƒ½æ˜¯callbackæ–¹æ³•ã€‚callbacksåœ¨å®˜æ–¹æ–‡æ¡£ä¸­ä¸»è¦æ˜¯å››ç§æ–¹æ³•</p><ul><li><p>early_stopping</p><ul><li>åœæ­¢è¿­ä»£</li></ul><p><code>lightgbm.early_stopping(stopping_rounds, first_metric_only=False, verbose=True, min_delta=0.0)</code></p></li></ul><ul><li><p>log_evaluation</p><ul><li>è®°å½•è¿­ä»£è¿‡ç¨‹çš„æŒ‡æ ‡, å¯ä»¥åœ¨æ—¥å¿—ä¸­è¾“å‡º<br><code>lightgbm.log_evaluation(period=1, show_stdv=True)</code></li></ul></li></ul><ul><li>record_evaluation(eval_result)<ul><li>æŠŠè¿­ä»£è¿‡ç¨‹æŒ‡æ ‡è®°å½•åˆ°è¾“å…¥çš„ç©ºå­—å…¸ä¸­<br><code>lightgbm.record_evaluation(eval_result)</code> ;eval_result å¯ä»¥ä¸ºä¸€ä¸ªç©ºå­—å…¸<code>eval_result = &#123;&#125;</code></li></ul></li></ul><ul><li><p><code>reset_parameter(**kwargs)</code></p><ul><li><p>æ¯æ¬¡è¿­ä»£æ›´æ–°æ•°æ®</p><p>List of parameters for each boosting round or a callable that calculates the parameter in terms of current number of round</p></li></ul></li></ul><p><strong>ç¤ºä¾‹ï¼š</strong></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">eval_result = &#123;&#125;<br>lgb_model = lgb.train(lgb_param, train_set=tr_lgb_dt , valid_sets=[tr_lgb_dt, te_lgb_dt], <br>          verbose_eval=<span class="hljs-number">20</span>,<br>          callbacks=[lgb.log_evaluation, lgb.early_stopping(<span class="hljs-number">50</span>, first_metric_only=<span class="hljs-literal">True</span>), lgb.record_evaluation(eval_result)]<br>          )<br><br></code></pre></td></tr></table></figure><hr><ol><li><code>lgb_reg.predict</code>ä¸­<code>num_iteration</code>å‚æ•°</li></ol><p><code>num_iteration</code> å‚æ•°ç”¨äºæŒ‡å®šé¢„æµ‹æ—¶ä½¿ç”¨çš„æ ‘çš„è¿­ä»£æ¬¡æ•°ã€‚åœ¨ LightGBM ä¸­ï¼Œæ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­æ ‘çš„æ•°é‡æ˜¯é€æ­¥å¢åŠ çš„ï¼Œæ¯ä¸€è½®éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„æ ‘ã€‚åœ¨é¢„æµ‹æ—¶ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨æ¨¡å‹è®­ç»ƒè¿‡ç¨‹ä¸­çš„æŸä¸ªè¿­ä»£è½®æ•°çš„æ ‘æ¥è¿›è¡Œé¢„æµ‹ã€‚</p><p>åœ¨è®­ç»ƒæ¨¡å‹æ—¶ä½¿ç”¨äº†æ—©åœåŠŸèƒ½ï¼Œå³è®¾ç½®äº† <code>early_stopping_round</code> å‚æ•°ï¼Œé‚£ä¹ˆæœ€ä½³è¿­ä»£æ¬¡æ•°ä¼šè‡ªåŠ¨é€‰æ‹©å¹¶ä¿å­˜åœ¨ <code>lgb_reg.best_iteration_</code> å±æ€§ä¸­ã€‚æ‰€ä»¥å¯ä»¥å°†å…¶ä½œä¸º <code>num_iteration</code> å‚æ•°ä¼ é€’ç»™ <code>predict()</code> æ–¹æ³•ï¼Œä»¥ä¾¿åœ¨é¢„æµ‹æ—¶ä½¿ç”¨æœ€ä½³è¿­ä»£æ¬¡æ•°çš„æ ‘ã€‚</p><h1 id="5-å­¦ä¹ æ›²çº¿å’ŒéªŒè¯æ›²çº¿"><a href="#5-å­¦ä¹ æ›²çº¿å’ŒéªŒè¯æ›²çº¿" class="headerlink" title="5 å­¦ä¹ æ›²çº¿å’ŒéªŒè¯æ›²çº¿"></a>5 å­¦ä¹ æ›²çº¿å’ŒéªŒè¯æ›²çº¿</h1><h2 id="5-1-å­¦ä¹ æ›²çº¿"><a href="#5-1-å­¦ä¹ æ›²çº¿" class="headerlink" title="5.1 å­¦ä¹ æ›²çº¿"></a>5.1 å­¦ä¹ æ›²çº¿</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> model_selection <br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> SGDRegressor<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> learning_curve<br><br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_learning_curve</span>(<span class="hljs-params">estimator, title, X, y, ylim=<span class="hljs-literal">None</span>, cv=<span class="hljs-literal">None</span>,</span><br><span class="hljs-params">                        n_jobs=<span class="hljs-number">1</span>, train_sizes=np.linspace(<span class="hljs-params"><span class="hljs-number">.1</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">5</span></span>)</span>):<br>    <br>    plt.figure()<br>    plt.title(title)<br>    <span class="hljs-keyword">if</span> ylim <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>        plt.ylim(*ylim)<br>    plt.xlabel(<span class="hljs-string">&quot;Training examples&quot;</span>)<br>    plt.ylabel(<span class="hljs-string">&quot;Score&quot;</span>)<br>    train_sizes, train_scores, test_scores = learning_curve(<br>        estimator, X, y, cv=cv, n_jobs=n_jobs, train_sizes=train_sizes)<br>    train_scores_mean = np.mean(train_scores, axis=<span class="hljs-number">1</span>)<br>    train_scores_std = np.std(train_scores, axis=<span class="hljs-number">1</span>)<br>    test_scores_mean = np.mean(test_scores, axis=<span class="hljs-number">1</span>)<br>    test_scores_std = np.std(test_scores, axis=<span class="hljs-number">1</span>)<br>    plt.grid()<br><br>    plt.fill_between(train_sizes, train_scores_mean - train_scores_std,<br>                     train_scores_mean + train_scores_std, alpha=<span class="hljs-number">0.1</span>,<br>                     color=<span class="hljs-string">&quot;r&quot;</span>)<br>    plt.fill_between(train_sizes, test_scores_mean - test_scores_std,<br>                     test_scores_mean + test_scores_std, alpha=<span class="hljs-number">0.1</span>, color=<span class="hljs-string">&quot;g&quot;</span>)<br>    plt.plot(train_sizes, train_scores_mean, <span class="hljs-string">&#x27;o-&#x27;</span>, color=<span class="hljs-string">&quot;r&quot;</span>,<br>             label=<span class="hljs-string">&quot;Training score&quot;</span>)<br>    plt.plot(train_sizes, test_scores_mean, <span class="hljs-string">&#x27;o-&#x27;</span>, color=<span class="hljs-string">&quot;g&quot;</span>,<br>             label=<span class="hljs-string">&quot;Cross-validation score&quot;</span>)<br><br>    plt.legend(loc=<span class="hljs-string">&quot;best&quot;</span>)<br>    <span class="hljs-keyword">return</span> plt<br><br><br>X = train_data2[test_data2.columns].values<br>y = train_data2[<span class="hljs-string">&#x27;target&#x27;</span>].values<br><br><br>title = <span class="hljs-string">&quot;LinearRegression&quot;</span><br><span class="hljs-comment"># Cross validation with 100 iterations to get smoother mean test and train</span><br><span class="hljs-comment"># score curves, each time with 20% data randomly selected as a validation set.</span><br>cv = model_selection.ShuffleSplit(n_splits=<span class="hljs-number">100</span>,<br>                                   test_size=<span class="hljs-number">0.2</span>, random_state=<span class="hljs-number">0</span>)<br><br>estimator = SGDRegressor()<br>plot_learning_curve(estimator, title, X, y, ylim=(<span class="hljs-number">0.7</span>, <span class="hljs-number">1.01</span>), cv=cv, n_jobs=<span class="hljs-number">1</span>)<br><br></code></pre></td></tr></table></figure><pre><code class="hljs">&lt;module &#39;matplotlib.pyplot&#39; from &#39;D:\\Development\\anaconda3\\envs\\ml\\lib\\site-packages\\matplotlib\\pyplot.py&#39;&gt;</code></pre><p>â€‹<br><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-05-2èµ›é¢˜æ¨¡å‹éªŒè¯/output_53_1.png" alt=""><br>â€‹    </p><h2 id="5-2-éªŒè¯æ›²çº¿"><a href="#5-2-éªŒè¯æ›²çº¿" class="headerlink" title="5.2 éªŒè¯æ›²çº¿"></a>5.2 éªŒè¯æ›²çº¿</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> SGDRegressor<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> validation_curve<br><br>X = train_data2[test_data2.columns].values<br>y = train_data2[<span class="hljs-string">&#x27;target&#x27;</span>].values<br><span class="hljs-comment"># max_iter=1000, tol=1e-3, penalty= &#x27;L1&#x27;, alpha=0.00001</span><br><br>param_range = [<span class="hljs-number">0.1</span>, <span class="hljs-number">0.01</span>, <span class="hljs-number">0.001</span>, <span class="hljs-number">0.0001</span>, <span class="hljs-number">0.00001</span>, <span class="hljs-number">0.000001</span>]<br>train_scores, test_scores = validation_curve(<br>    SGDRegressor(max_iter=<span class="hljs-number">1000</span>, tol=<span class="hljs-number">1e-3</span>, penalty= <span class="hljs-string">&#x27;L1&#x27;</span>), X, y, param_name=<span class="hljs-string">&quot;alpha&quot;</span>, param_range=param_range,<br>    cv=<span class="hljs-number">10</span>, scoring=<span class="hljs-string">&#x27;r2&#x27;</span>, n_jobs=<span class="hljs-number">1</span>)<br>train_scores_mean = np.mean(train_scores, axis=<span class="hljs-number">1</span>)<br>train_scores_std = np.std(train_scores, axis=<span class="hljs-number">1</span>)<br>test_scores_mean = np.mean(test_scores, axis=<span class="hljs-number">1</span>)<br>test_scores_std = np.std(test_scores, axis=<span class="hljs-number">1</span>)<br><br>plt.title(<span class="hljs-string">&quot;Validation Curve with SGDRegressor&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;alpha&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Score&quot;</span>)<br>plt.ylim(<span class="hljs-number">0.0</span>, <span class="hljs-number">1.1</span>)<br>plt.semilogx(param_range, train_scores_mean, label=<span class="hljs-string">&quot;Training score&quot;</span>, color=<span class="hljs-string">&quot;r&quot;</span>)<br>plt.fill_between(param_range, train_scores_mean - train_scores_std,<br>                 train_scores_mean + train_scores_std, alpha=<span class="hljs-number">0.2</span>, color=<span class="hljs-string">&quot;r&quot;</span>)<br>plt.semilogx(param_range, test_scores_mean, label=<span class="hljs-string">&quot;Cross-validation score&quot;</span>,<br>             color=<span class="hljs-string">&quot;g&quot;</span>)<br>plt.fill_between(param_range, test_scores_mean - test_scores_std,<br>                 test_scores_mean + test_scores_std, alpha=<span class="hljs-number">0.2</span>, color=<span class="hljs-string">&quot;g&quot;</span>)<br>plt.legend(loc=<span class="hljs-string">&quot;best&quot;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-05-2èµ›é¢˜æ¨¡å‹éªŒè¯/output_55_0.png" alt=""></p>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ å®æˆ˜å…¥é—¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cè¯­è¨€03-å‡½æ•°å’Œé€’å½’123</title>
    <link href="/2023/09/03/C%E8%AF%AD%E8%A8%8003-%E5%87%BD%E6%95%B0%E5%92%8C%E9%80%92%E5%BD%92123/"/>
    <url>/2023/09/03/C%E8%AF%AD%E8%A8%8003-%E5%87%BD%E6%95%B0%E5%92%8C%E9%80%92%E5%BD%92123/</url>
    
    <content type="html"><![CDATA[<h1 id="å‡½æ•°åˆ†ç±»">1 å‡½æ•°åˆ†ç±»</h1><h2 id="åº“å‡½æ•°">1.1 åº“å‡½æ•°</h2><p>åº“å‡½æ•°æŸ¥è¯¢å·¥å…·ï¼š www.cplusplus.com http://en.cppreference.comï¼ˆè‹±æ–‡ç‰ˆï¼‰ http://zh.cppreference.comï¼ˆä¸­æ–‡ç‰ˆï¼‰</p><h2 id="è‡ªå®šä¹‰å‡½æ•°">1.2 è‡ªå®šä¹‰å‡½æ•°</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c">ret_type <span class="hljs-title function_">fun_name</span><span class="hljs-params">(para1, * )</span><br>&#123;<br>statement;<span class="hljs-comment">//è¯­å¥é¡¹</span><br>&#125;<br></code></pre></td></tr></table></figure><p>ret_type è¿”å›ç±»å‹ fun_name å‡½æ•°å para1 å‡½æ•°å‚æ•°</p><blockquote><p>å†™ä¸€ä¸ªå‡½æ•°å¯ä»¥äº¤æ¢ä¸¤ä¸ªæ•´å½¢å˜é‡çš„å†…å®¹ã€‚P12 1:16:10</p></blockquote><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-comment">//å®ç°æˆå‡½æ•°ï¼Œä½†æ˜¯ä¸èƒ½å®Œæˆä»»åŠ¡</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">Swap1</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span><br>&#123;<br><span class="hljs-type">int</span> tmp = <span class="hljs-number">0</span>;<br>tmp = x;<br>x = y;<br>y = tmp;<br>&#125;<br><span class="hljs-comment">// x y å’Œ num1 num2æ˜¯å•ç‹¬çš„åœ°å€ï¼Œæ²¡æœ‰å…³ç³»</span><br><br><span class="hljs-comment">//æ­£ç¡®çš„ç‰ˆæœ¬</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">Swap2</span><span class="hljs-params">(<span class="hljs-type">int</span>* px, <span class="hljs-type">int</span>* py)</span><br>&#123;<br><span class="hljs-type">int</span> tmp = <span class="hljs-number">0</span>;<br>tmp = *px;<br>*px = *py;<br>*py = tmp;<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> num1 = <span class="hljs-number">1</span>;<br><span class="hljs-type">int</span> num2 = <span class="hljs-number">2</span>;<br>Swap1(num1, num2);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Swap1:num1 = %d num2 = %d\n&quot;</span>, num1, num2);<br>Swap2(&amp;num1, &amp;num2);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;Swap2:num1 = %d num2 = %d\n&quot;</span>, num1, num2);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="å‡½æ•°çš„å‚æ•°">2 å‡½æ•°çš„å‚æ•°</h1><h2 id="å®å‚">2.1 å®å‚</h2><p>çœŸå®ä¼ ç»™å‡½æ•°çš„å‚æ•°ï¼Œå«å®å‚ã€‚ å®å‚å¯ä»¥æ˜¯ï¼šå¸¸é‡ã€å˜é‡ã€è¡¨è¾¾å¼ã€å‡½æ•°ç­‰ã€‚ æ— è®ºå®å‚æ˜¯ä½•ç§ç±»å‹çš„é‡ï¼Œåœ¨è¿›è¡Œå‡½æ•°è°ƒç”¨æ—¶ï¼Œå®ƒä»¬éƒ½å¿…é¡»æœ‰ç¡®å®šçš„å€¼ï¼Œä»¥ä¾¿æŠŠè¿™äº›å€¼ä¼ é€ç»™å½¢ å‚ã€‚</p><h2 id="å½¢å‚">2.2 å½¢å‚</h2><p>å½¢å¼å‚æ•°æ˜¯æŒ‡å‡½æ•°ååæ‹¬å·ä¸­çš„å˜é‡ï¼Œå› ä¸ºå½¢å¼å‚æ•°åªæœ‰åœ¨å‡½æ•°è¢«è°ƒç”¨çš„è¿‡ç¨‹ä¸­æ‰å®ä¾‹åŒ–ï¼ˆåˆ†é…å†… å­˜å•å…ƒï¼‰ï¼Œæ‰€ä»¥å«å½¢å¼å‚æ•°ã€‚å½¢å¼å‚æ•°å½“å‡½æ•°è°ƒç”¨å®Œæˆä¹‹åå°±è‡ªåŠ¨é”€æ¯äº†ã€‚å› æ­¤å½¢å¼å‚æ•°åªåœ¨å‡½æ•° ä¸­æœ‰æ•ˆã€‚ ä¸Šé¢<code>Swap1</code> å’Œ<code>Swap2</code> å‡½æ•°ä¸­çš„å‚æ•°<code>xï¼Œyï¼Œpxï¼Œpy</code> éƒ½æ˜¯<strong>å½¢å¼å‚æ•°</strong>ã€‚ åœ¨mainå‡½æ•°ä¸­ä¼ ç»™<code>Swap1</code> çš„<code>num1</code> ï¼Œ <code>num2</code> å’Œä¼ ç»™<code>Swap2</code> å‡½æ•°çš„<code>&amp;num1</code> ï¼Œ <code>&amp;num2</code> æ˜¯<strong>å®é™…å‚æ•°</strong>ã€‚ è¿™é‡Œæˆ‘ä»¬å¯¹å‡½æ•°çš„å®å‚å’Œå½¢å‚è¿›è¡Œåˆ†æï¼š <img src="/img/Cè¯­è¨€03-å‡½æ•°å’Œé€’å½’123/Cè¯­è¨€03-å‡½æ•°å’Œé€’å½’123.png" /> ä»£ç å¯¹åº”çš„å†…å­˜åˆ†é…å¦‚ä¸‹ï¼š <img src="/img/Cè¯­è¨€03-å‡½æ•°å’Œé€’å½’123/Cè¯­è¨€03-å‡½æ•°å’Œé€’å½’123_1.png" /> è¿™é‡Œå¯ä»¥çœ‹åˆ°<code>Swap1</code> å‡½æ•°åœ¨è°ƒç”¨çš„æ—¶å€™ï¼Œ <code>x</code> ï¼Œ<code>y</code> æ‹¥æœ‰è‡ªå·±çš„ç©ºé—´ï¼ŒåŒæ—¶æ‹¥æœ‰äº†å’Œå®å‚ä¸€æ¨¡ä¸€æ ·çš„å†…å®¹ã€‚ å½“å®å‚ä¼ ç»™å½¢å‚çš„æ—¶å€™ï¼Œå½¢å‚å…¶å®æ˜¯å®å‚çš„ä¸€ä»½ä¸´æ—¶æ“è´ ï¼Œå¯¹å½¢å‚çš„ä¿®æ”¹æ˜¯ä¸ä¼šæ”¹å˜å®å‚çš„ã€‚</p><h1 id="å‡½æ•°çš„è°ƒç”¨">3 å‡½æ•°çš„è°ƒç”¨</h1><h2 id="ä¼ å€¼è°ƒç”¨">3.1 ä¼ å€¼è°ƒç”¨</h2><p>å‡½æ•°çš„å½¢å‚å’Œå®å‚åˆ†åˆ«å æœ‰ä¸åŒå†…å­˜å—ï¼Œå¯¹å½¢å‚çš„ä¿®æ”¹ä¸ä¼šå½±å“å®å‚ã€‚</p><h2 id="ä¼ å€è°ƒç”¨">3.2 ä¼ å€è°ƒç”¨</h2><p>ä¼ å€è°ƒç”¨æŠŠå˜é‡çš„å†…å­˜åœ°å€ä¼ é€’ç»™å‡½æ•°å‚æ•°ã€‚ è¿™ç§ä¼ å‚æ–¹å¼å¯ä»¥è®©å‡½æ•°å’Œå‡½æ•°å¤–è¾¹çš„å˜é‡å»ºç«‹èµ·çœŸæ­£çš„è”ç³»ï¼Œä¹Ÿå°±æ˜¯å‡½æ•°å†…éƒ¨å¯ä»¥ç›´æ¥<strong>æ“ä½œå‡½æ•°å¤–éƒ¨çš„å˜é‡</strong>ã€‚</p><h1 id="ç»ƒä¹ ">3.3 ç»ƒä¹ </h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// å†™ä¸€ä¸ªå‡½æ•°ï¼Œå®ç°ä¸€ä¸ªæ•´å½¢æœ‰åºæ•°ç»„çš„äºŒåˆ†æŸ¥æ‰¾ã€‚</span><br><span class="hljs-comment">// æ‰¾åˆ°è¿”å›ä¸‹æ ‡ã€‚æœªæ‰¾åˆ°è¿”å›-1</span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">binarySearch</span><span class="hljs-params">(<span class="hljs-type">int</span> arr[],<span class="hljs-type">int</span> n,<span class="hljs-type">int</span> size)</span><br>&#123;<br><br><span class="hljs-type">int</span> left = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> right = size - <span class="hljs-number">1</span>;<br><span class="hljs-type">int</span> mind = <span class="hljs-number">0</span>;<br><br><span class="hljs-keyword">while</span> (left&lt;=right)<br>&#123;<br>mind = (left + right) / <span class="hljs-number">2</span>;<br><span class="hljs-keyword">if</span> (arr[mind] &lt; n)<br>&#123;<br>left = mind+<span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (arr[mind] &gt; n)<br>&#123;<br>right = mind<span class="hljs-number">-1</span>;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-keyword">return</span> mind;<br>&#125;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">-1</span>;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> arr[] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;;<br><span class="hljs-type">int</span> n = <span class="hljs-number">2</span>;<br><span class="hljs-type">int</span> size = (<span class="hljs-keyword">sizeof</span>(arr) / <span class="hljs-keyword">sizeof</span>(arr[<span class="hljs-number">0</span>]));<br><span class="hljs-type">int</span> index = binarySearch(arr,n,size);<br><span class="hljs-keyword">if</span> (<span class="hljs-number">-1</span> != index)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;æ‰¾åˆ°äº†ï¼Œä¸‹æ ‡ä¸ºï¼š%d\n&quot;</span>, index);<br>&#125;<br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;æ²¡æ‰¾åˆ°&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong> <code>int size = (sizeof(arr) / sizeof(arr[0]));</code> è¦å†™åœ¨å‡½æ•°å¤–ã€‚<code>mind = (left + right) / 2;</code> è¦å†™åœ¨å¾ªç¯å†…ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// å†™ä¸€ä¸ªå‡½æ•°ï¼Œæ¯è°ƒç”¨ä¸€æ¬¡è¿™ä¸ªå‡½æ•°ï¼Œå°±ä¼šå°†num çš„å€¼å¢åŠ 1ã€‚</span><br><br><span class="hljs-type">void</span> <span class="hljs-title function_">Add</span><span class="hljs-params">(<span class="hljs-type">int</span>* p)</span><br>&#123;<br>(*p)++;<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> num = <span class="hljs-number">0</span>;<br>Add(&amp;num);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;num = %d\n&quot;</span>, num);<br>Add(&amp;num);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;num = %d\n&quot;</span>, num);<br>Add(&amp;num);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;num = %d\n&quot;</span>, num);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong><code>(*p)++;</code> ä¸å¯å†™æˆ <code>*p++</code> ï¼Œå› ä¸º<code>++</code> çº§åˆ«è¾ƒé«˜ <code>*p++</code> çš„è¯ <code>++</code> æ˜¯ä½œç”¨åœ¨ <code>p</code> ä¸Šçš„ï¼Œä¸æ˜¯ä½œç”¨åœ¨ <code>*P</code> ä¸Šçš„ã€‚</p><h1 id="å‡½æ•°çš„åµŒå¥—è°ƒç”¨å’Œé“¾å¼è®¿é—®">4 å‡½æ•°çš„åµŒå¥—è°ƒç”¨å’Œé“¾å¼è®¿é—®</h1><h2 id="åµŒå¥—è°ƒç”¨">4.1 åµŒå¥—è°ƒç”¨</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">void</span> <span class="hljs-title function_">new_line</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;hehe\n&quot;</span>);<br>&#125;<br><span class="hljs-type">void</span> <span class="hljs-title function_">three_line</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">3</span>; i++)<br>&#123;<br>new_line();<br>&#125;<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br>three_line();<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é“¾å¼è®¿é—®">4.2 é“¾å¼è®¿é—®</h2><blockquote><p>æŠŠä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ä½œä¸ºå¦å¤–ä¸€ä¸ªå‡½æ•°çš„å‚æ•°ã€‚ <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, <span class="hljs-number">43</span>)));<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure> ç»“æœï¼š4321 æ³¨æ„ï¼šprintfå‡½æ•°çš„è¿”å›å€¼æ˜¯æ‰“å°åœ¨å±å¹•ä¸Šå­—ç¬¦çš„ä¸ªæ•°</p></blockquote><h1 id="å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰">5 å‡½æ•°çš„å£°æ˜å’Œå®šä¹‰</h1><h2 id="å‡½æ•°çš„å£°æ˜">5.1 å‡½æ•°çš„å£°æ˜</h2><ol type="1"><li>å‘Šè¯‰ç¼–è¯‘å™¨æœ‰ä¸€ä¸ªå‡½æ•°<strong>å«ä»€ä¹ˆ</strong>ï¼Œ<strong>å‚æ•°</strong>æ˜¯ä»€ä¹ˆï¼Œ<strong>è¿”å›ç±»å‹</strong>æ˜¯ä»€ä¹ˆã€‚ä½†æ˜¯å…·ä½“æ˜¯ä¸æ˜¯å­˜åœ¨ï¼Œå‡½æ•°å£°æ˜å†³å®šä¸äº†ã€‚</li><li>å‡½æ•°çš„å£°æ˜ä¸€èˆ¬å‡ºç°åœ¨å‡½æ•°çš„ä½¿ç”¨ä¹‹å‰ã€‚è¦æ»¡è¶³å…ˆå£°æ˜åä½¿ç”¨ã€‚</li><li>å‡½æ•°çš„å£°æ˜ä¸€èˆ¬è¦æ”¾åœ¨å¤´æ–‡ä»¶ä¸­çš„ã€‚</li></ol><h2 id="å‡½æ•°çš„å®šä¹‰">5.2 å‡½æ•°çš„å®šä¹‰</h2><p>å‡½æ•°çš„å®šä¹‰æ˜¯æŒ‡å‡½æ•°çš„å…·ä½“å®ç°ï¼Œäº¤å¾…å‡½æ•°çš„åŠŸèƒ½å®ç°ã€‚</p><p><strong>æ³¨æ„ï¼š</strong> å‡½æ•°çš„å£°æ˜æ”¾åœ¨å¤´æ–‡ä»¶ä¸­ï¼Œå®šä¹‰æ”¾åœ¨å•ç‹¬çš„<code>.c</code> æ–‡ä»¶ä¸­ã€‚ <img src="/img/Cè¯­è¨€03-å‡½æ•°å’Œé€’å½’123/Cè¯­è¨€03-å‡½æ•°å’Œé€’å½’123_2.png" /> è‡ªå·±åˆ›å»ºçš„å‡½æ•°éœ€è¦å¼•å¤´æ–‡ä»¶ï¼Œ<code>#include "add.h"</code> ã€‚ <code>#ifndef __ADD_H__</code> <code>#define __ADD_H__</code> <code>#define __ADD_H__</code> æ˜¯ä¸ºäº†é˜²æ­¢åŒä¸€ä¸ªå¤´æ–‡ä»¶è¢«å¼•ç”¨å¤šæ¬¡ã€‚</p><h1 id="å‡½æ•°çš„é€’å½’">6 å‡½æ•°çš„é€’å½’</h1><h2 id="ä»€ä¹ˆæ˜¯é€’å½’">6.1 ä»€ä¹ˆæ˜¯é€’å½’</h2><p>ç¨‹åºè°ƒç”¨è‡ªèº«çš„ç¼–ç¨‹æŠ€å·§ç§°ä¸ºé€’å½’ï¼ˆ recursionï¼‰</p><p>ç®€å•çš„é€’å½’ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;hehe&quot;</span>)<br>main()<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p><p>ä¼šæŠ¥é”™ï¼šStack overflow æ ˆæº¢å‡º <img src="/img/Cè¯­è¨€03-å‡½æ•°å’Œé€’å½’123/Cè¯­è¨€03-å‡½æ•°å’Œé€’å½’123_3.png" /></p><h2 id="é€’å½’çš„ä¸¤ä¸ªå¿…è¦æ¡ä»¶">6.2 é€’å½’çš„ä¸¤ä¸ªå¿…è¦æ¡ä»¶</h2><ul><li>å­˜åœ¨é™åˆ¶æ¡ä»¶ï¼Œå½“æ»¡è¶³è¿™ä¸ªé™åˆ¶æ¡ä»¶çš„æ—¶å€™ï¼Œé€’å½’ä¾¿ä¸å†ç»§ç»­ã€‚</li><li>æ¯æ¬¡é€’å½’è°ƒç”¨ä¹‹åè¶Šæ¥è¶Šæ¥è¿‘è¿™ä¸ªé™åˆ¶æ¡ä»¶ã€‚</li></ul><h2 id="ç»ƒä¹ -1">6.3 ç»ƒä¹ </h2><h2 id="ç»ƒä¹ 1">ç»ƒä¹ 1</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// æ¥å—ä¸€ä¸ªæ•´å‹å€¼ï¼ˆæ— ç¬¦å·ï¼‰ï¼ŒæŒ‰ç…§é¡ºåºæ‰“å°å®ƒçš„æ¯ä¸€ä½ã€‚</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">print_num</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span><br>&#123;<br><span class="hljs-keyword">if</span> (n &gt; <span class="hljs-number">9</span>) <br>&#123;<br>print_num(n / <span class="hljs-number">10</span>);<br>&#125;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, n % <span class="hljs-number">10</span>);<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> num = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;num);<br>print_num(num);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ç»ƒä¹ 2">ç»ƒä¹ 2</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//ç¼–å†™å‡½æ•°ä¸å…è®¸åˆ›å»ºä¸´æ—¶å˜é‡ï¼Œæ±‚å­—ç¬¦ä¸²çš„é•¿åº¦ã€‚</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">Strlen</span><span class="hljs-params">(<span class="hljs-type">const</span> <span class="hljs-type">char</span>* str)</span><br>&#123;<br><span class="hljs-keyword">if</span> (*str == <span class="hljs-string">&#x27;\0&#x27;</span>)<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><span class="hljs-keyword">else</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span> + Strlen(str + <span class="hljs-number">1</span>);<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">char</span>* p = <span class="hljs-string">&quot;abcdef&quot;</span>;<br><span class="hljs-type">int</span> len = Strlen(p);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, len);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/img/Cè¯­è¨€03-å‡½æ•°å’Œé€’å½’123/Cè¯­è¨€03-å‡½æ•°å’Œé€’å½’123_0.png" /></p><h2 id="é€’å½’ä¸è¿­ä»£">6.4 é€’å½’ä¸è¿­ä»£</h2><h3 id="ç»ƒä¹ 3">6.4.1 ç»ƒä¹ 3</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// æ±‚nçš„é˜¶ä¹˜</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">Fac</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span><br>&#123;<br><span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br><span class="hljs-keyword">else</span><br><span class="hljs-keyword">return</span> n * Fac(n - <span class="hljs-number">1</span>);<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> num = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> ret = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>, &amp;num);<br><br>ret = Fac(num);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d&quot;</span>, ret);<br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ç»ƒä¹ 4">6.4.2 ç»ƒä¹ 4</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//æ±‚ç¬¬nä¸ªæ–æ³¢é‚£å¥‘æ•°ã€‚ï¼ˆä¸è€ƒè™‘æº¢å‡ºï¼‰</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">fib</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span><br>&#123;<br><span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">2</span>)<br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br><span class="hljs-keyword">else</span><br><span class="hljs-keyword">return</span> fib(n - <span class="hljs-number">1</span>) + fib(n - <span class="hljs-number">2</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ä½†æ˜¯ï¼š</strong> - ä½¿ç”¨fibè¿™ä¸ªå‡½æ•°è®¡ç®—ç¬¬50ä¸ªæ–æ³¢é‚£å¥‘æ•°å­—çš„æ—¶å€™ç‰¹åˆ«è€—è´¹æ—¶é—´ã€‚ - ä½¿ç”¨Fac å‡½æ•°æ±‚10000çš„é˜¶ä¹˜ï¼Œç¨‹åºä¼šå´©æºƒã€‚</p><p><strong>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ</strong> å…¶å®fibå‡½æ•°åœ¨è°ƒç”¨çš„æ—¶å€™åœ¨ä¸€ç›´é‡å¤è®¡ç®—ã€‚ æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹è®¡ç®—äº†å¤šå°‘æ¬¡ï¼Œä¿®æ”¹ä»£ç å¦‚ä¸‹ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> <span class="hljs-title function_">Fac</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span><br>&#123;<br><span class="hljs-keyword">if</span> (n = <span class="hljs-number">3</span>)<br>count++;<br><span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) <br><span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br><span class="hljs-keyword">else</span><br><span class="hljs-keyword">return</span> n * Fac(n - <span class="hljs-number">1</span>);<br>&#125;<br></code></pre></td></tr></table></figure></p><p>ç»“æœä¸­çš„countéå¸¸éå¸¸å¤§ã€‚åœ¨è°ƒè¯•Facå‡½æ•°çš„æ—¶å€™ï¼Œå¦‚æœå‚æ•°æ¯”è¾ƒå¤§ï¼Œé‚£å°±ä¼šæŠ¥é”™ï¼š stack overflowï¼ˆæ ˆæº¢å‡ºï¼‰ å› ä¸ºï¼Œç³»ç»Ÿåˆ†é…ç»™ç¨‹åºçš„æ ˆç©ºé—´æ˜¯æœ‰é™çš„ï¼Œå¦‚æœå‡ºç°äº†æ­»å¾ªç¯ï¼Œæˆ–è€…æ­»é€’ï¼‰ï¼Œè¿™æ ·æœ‰å¯èƒ½å¯¼è‡´ä¸€ç›´å¼€è¾Ÿæ ˆç©ºé—´ï¼Œæœ€ç»ˆè€—å°½æ ˆç©ºé—´ï¼Œè¿™æ ·çš„ç°è±¡æˆ‘ä»¬ç§°ä¸ºæ ˆæº¢å‡ºã€‚</p><p><strong>å¦‚ä½•è§£å†³è¿™ç§æƒ…å†µï¼Ÿ</strong></p><ol type="1"><li>å°†é€’å½’æ”¹å†™æˆéé€’å½’ã€‚</li><li>ä½¿ç”¨static å¯¹è±¡æ›¿ä»£nonstatic å±€éƒ¨å¯¹è±¡ï¼ˆå³æ ˆå¯¹è±¡ï¼‰ã€‚è¿™ä¸ä»…å¯ä»¥å‡å°‘æ¯æ¬¡é€’å½’è°ƒç”¨å’Œè¿”å›æ—¶äº§ç”Ÿå’Œé‡Šæ”¾nonstatic å¯¹è±¡çš„å¼€é”€ï¼Œè€Œä¸”static å¯¹è±¡è¿˜å¯ä»¥ä¿å­˜é€’å½’è°ƒç”¨çš„ä¸­é—´çŠ¶æ€ï¼Œå¹¶ä¸”å¯ä¸ºå„ä¸ªè°ƒç”¨å±‚æ‰€è®¿é—®ã€‚</li></ol><p>é‡‡ç”¨éé€’å½’çš„æ–¹æ³•è®¡ç®—æ–æ³¢é‚£å¥‘æ•°ï¼ˆP41 33:00ï¼‰ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">Fac</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span><br>&#123;<br><span class="hljs-type">int</span> a = <span class="hljs-number">1</span>;<br><span class="hljs-type">int</span> b = <span class="hljs-number">1</span>;<br><span class="hljs-type">int</span> c = <span class="hljs-number">1</span>;<br><br><span class="hljs-keyword">while</span> (n&gt;<span class="hljs-number">2</span>)<br>&#123;<br>c = a + b;<br>a = b;<br>b = c;<br>n--;<br>&#125;<br><span class="hljs-keyword">return</span> c;<br>&#125;<br></code></pre></td></tr></table></figure></p><ol type="1"><li>è®¸å¤šé—®é¢˜æ˜¯ä»¥é€’å½’çš„å½¢å¼è¿›è¡Œè§£é‡Šçš„ï¼Œè¿™åªæ˜¯å› ä¸ºå®ƒæ¯”éé€’å½’çš„å½¢å¼æ›´ä¸ºæ¸…æ™°ã€‚</li><li>ä½†æ˜¯è¿™äº›é—®é¢˜çš„è¿­ä»£å®ç°å¾€å¾€æ¯”é€’å½’å®ç°æ•ˆç‡æ›´é«˜ï¼Œè™½ç„¶ä»£ç çš„å¯è¯»æ€§ç¨å¾®å·®äº›ã€‚</li><li>å½“ä¸€ä¸ªé—®é¢˜ç›¸å½“å¤æ‚ï¼Œéš¾ä»¥ç”¨è¿­ä»£å®ç°æ—¶ï¼Œæ­¤æ—¶é€’å½’å®ç°çš„ç®€æ´æ€§ä¾¿å¯ä»¥è¡¥å¿å®ƒæ‰€å¸¦æ¥çš„è¿è¡Œæ—¶å¼€é”€ã€‚</li></ol>]]></content>
    
    
    <categories>
      
      <category>Cè¯­è¨€åŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C/C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cè¯­è¨€02-åˆ†æ”¯å’Œå¾ªç¯12</title>
    <link href="/2023/09/02/C%E8%AF%AD%E8%A8%8002-%E5%88%86%E6%94%AF%E5%92%8C%E5%BE%AA%E7%8E%AF12/"/>
    <url>/2023/09/02/C%E8%AF%AD%E8%A8%8002-%E5%88%86%E6%94%AF%E5%92%8C%E5%BE%AA%E7%8E%AF12/</url>
    
    <content type="html"><![CDATA[<h1 id="Cè¯­è¨€02-åˆ†æ”¯å’Œå¾ªç¯12"><a href="#Cè¯­è¨€02-åˆ†æ”¯å’Œå¾ªç¯12" class="headerlink" title="Cè¯­è¨€02-åˆ†æ”¯å’Œå¾ªç¯12"></a>Cè¯­è¨€02-åˆ†æ”¯å’Œå¾ªç¯12</h1><p>æœ¬ç« é‡ç‚¹</p><p>åˆ†æ”¯è¯­å¥</p><ul><li>if</li><li>switch</li></ul><p>å¾ªç¯è¯­å¥</p><ul><li>while</li><li>for</li><li>do while</li></ul><p>gotoè¯­å¥</p><h1 id="1-åˆ†æ”¯è¯­å¥"><a href="#1-åˆ†æ”¯è¯­å¥" class="headerlink" title="1 åˆ†æ”¯è¯­å¥"></a>1 åˆ†æ”¯è¯­å¥</h1><h2 id="1-1-ifè¯­å¥"><a href="#1-1-ifè¯­å¥" class="headerlink" title="1.1 ifè¯­å¥"></a>1.1 ifè¯­å¥</h2><p>è¯­æ³•ç»“æ„:<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">if</span>(è¡¨è¾¾å¼)<br>è¯­å¥;<br><br><span class="hljs-keyword">if</span>(è¡¨è¾¾å¼)<br>è¯­å¥<span class="hljs-number">1</span>;<br><span class="hljs-keyword">else</span><br>è¯­å¥<span class="hljs-number">2</span>;<br><br><span class="hljs-comment">//å¤šåˆ†æ”¯</span><br><span class="hljs-keyword">if</span>(è¡¨è¾¾å¼<span class="hljs-number">1</span>)<br>è¯­å¥<span class="hljs-number">1</span>;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(è¡¨è¾¾å¼<span class="hljs-number">2</span>)<br>è¯­å¥<span class="hljs-number">2</span>;<br><span class="hljs-keyword">else</span><br>è¯­å¥<span class="hljs-number">3</span>;<br></code></pre></td></tr></table></figure></p><h3 id="1-2-1-æ‚¬ç©ºelse"><a href="#1-2-1-æ‚¬ç©ºelse" class="headerlink" title="1.2.1 æ‚¬ç©ºelse"></a>1.2.1 æ‚¬ç©ºelse</h3><p>é¦–å…ˆçœ‹ä¸€ä¸‹ä»£ç ï¼Œè¿è¡Œç»“æœä¸ºä»€ä¹ˆï¼š<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> a = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> b = <span class="hljs-number">2</span>;<br><span class="hljs-keyword">if</span>(a == <span class="hljs-number">1</span>)<br><span class="hljs-keyword">if</span>(b == <span class="hljs-number">2</span>)<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;hehe\n&quot;</span>);<br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;haha\n&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p><p>ç»“æœï¼šç»“æœä¸ºç©º</p><p>==æ³¨æ„ï¼š== <strong>elseçš„åŒ¹é…</strong>-elseæ˜¯å’Œå®ƒç¦»çš„æœ€è¿‘çš„æœªåŒ¹é…çš„ifè¿›è¡ŒåŒ¹é…ã€‚</p><p><img src="/img/Cè¯­è¨€02-åˆ†æ”¯å’Œå¾ªç¯12/Cè¯­è¨€02-åˆ†æ”¯å’Œå¾ªç¯12.png" alt=""></p><p>è‹¥æƒ³è¾“å‡ºhahaï¼Œåˆ™ä¸ºä¸€ä¸‹å†™æ³•ï¼š<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> a = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> b = <span class="hljs-number">2</span>;<br><span class="hljs-keyword">if</span> (a == <span class="hljs-number">1</span>)<br>&#123;<br><span class="hljs-keyword">if</span> (b == <span class="hljs-number">2</span>)<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;hehe\n&quot;</span>);<br>&#125;<br><br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;haha\n&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p><h3 id="1-2-2-ifä¹¦å†™å½¢å¼çš„å¯¹æ¯”"><a href="#1-2-2-ifä¹¦å†™å½¢å¼çš„å¯¹æ¯”" class="headerlink" title="1.2.2 ifä¹¦å†™å½¢å¼çš„å¯¹æ¯”"></a>1.2.2 ifä¹¦å†™å½¢å¼çš„å¯¹æ¯”</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//ä»£ç 1</span><br><span class="hljs-keyword">if</span> (condition) &#123;<br><span class="hljs-keyword">return</span> x;<br>&#125;<br><span class="hljs-keyword">return</span> y;<br><br><span class="hljs-comment">//ä»£ç 2</span><br><span class="hljs-keyword">if</span> (condition)<br>&#123;<br><span class="hljs-keyword">return</span> x;<br>&#125;<br><span class="hljs-keyword">else</span><br>&#123;<br><span class="hljs-keyword">return</span> y;<br>&#125;<br><br><span class="hljs-comment">//ä»£ç 3</span><br><span class="hljs-type">int</span> num = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span> (num == <span class="hljs-number">5</span>)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;hehe\n&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">//ä»£ç 4</span><br><span class="hljs-type">int</span> num = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">if</span> (<span class="hljs-number">5</span> == num)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;hehe\n&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»£ç 1ï¼Œä»£ç 2éƒ½è¡¨ç¤ºï¼šæ¡ä»¶æˆç«‹è¿”å›xï¼Œä¸æˆç«‹è¿”å›yï¼Œä½†æ˜¯ä»£ç 2æ ¼å¼æ›´å¥½ã€‚</p><p>ä»£ç 3ï¼Œä»£ç 4ç›¸åŒï¼Œä½†æ˜¯ä»£ç 4æ ¼å¼æ›´å¥½ã€‚å› ä¸ºï¼Œä»£ç 3ä¸­çš„ <code>num == 5</code> æœ‰æ—¶å€™ä¼šè¯¯å†™æˆä¸€ä¸ªç­‰å·ï¼Œä¸ºäº†é¿å…è¿™ç§é”™è¯¯ï¼Œå¯å°†ä»£ç åè¿‡æ¥å†™ï¼Œå†™æˆ <code>5 == num</code> ã€‚</p><h2 id="1-2-switchè¯­å¥"><a href="#1-2-switchè¯­å¥" class="headerlink" title="1.2 switchè¯­å¥"></a>1.2 switchè¯­å¥</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> day = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;day)<br><span class="hljs-keyword">switch</span> (day)<br>&#123;<br><span class="hljs-keyword">case</span> <span class="hljs-number">1</span>ï¼š<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;æ˜ŸæœŸä¸€\n&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;æ˜ŸæœŸäºŒ\n&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;æ˜ŸæœŸä¸‰\n&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;æ˜ŸæœŸå››\n&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;æ˜ŸæœŸäº”\n&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;æ˜ŸæœŸå…­\n&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;æ˜ŸæœŸå¤©\n&quot;</span>);<br><span class="hljs-keyword">break</span>;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼š<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">switch</span>(æ•´å‹è¡¨è¾¾å¼)<br>&#123;<br>è¯­å¥é¡¹ï¼›<br>&#125;<br><br><span class="hljs-keyword">case</span> æ•´å½¢å¸¸é‡è¡¨è¾¾å¼:<br>è¯­å¥<br></code></pre></td></tr></table></figure><br>switch åæ˜¯<strong>æ•´å‹</strong>è¡¨è¾¾å¼ï¼Œcase åæ˜¯<strong>æ•´å½¢å¸¸é‡</strong>è¡¨è¾¾å¼ã€‚</p><h3 id="1-2-1-caseç©¿é€"><a href="#1-2-1-caseç©¿é€" class="headerlink" title="1.2.1 caseç©¿é€"></a>1.2.1 caseç©¿é€</h3><p>æœ‰æ—¶å€™æˆ‘ä»¬çš„éœ€æ±‚å˜äº†ï¼š</p><ol><li>è¾“å…¥1-5ï¼Œè¾“å‡ºçš„æ˜¯â€œå·¥ä½œæ—¥â€;</li><li>è¾“å…¥6-7ï¼Œè¾“å‡ºâ€œä¼‘æ¯æ—¥â€<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> day = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d&quot;</span>,&amp;day)<br><span class="hljs-keyword">switch</span> (day)<br>&#123;<br><span class="hljs-keyword">case</span> <span class="hljs-number">1</span>ï¼š<br><span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br><span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br><span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br><span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;å·¥ä½œæ—¥\n&quot;</span>);<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br><span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;ä¼‘æ¯æ—¥\n&quot;</span>);<br><span class="hljs-keyword">break</span>;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li></ol><blockquote><p>åœ¨æœ€åä¸€ä¸ª case è¯­å¥çš„åé¢åŠ ä¸Šä¸€æ¡ breakè¯­å¥ã€‚ï¼ˆä¹‹æ‰€ä»¥è¿™ä¹ˆå†™æ˜¯å¯ä»¥é¿å…å‡ºç°åœ¨ä»¥å‰çš„æœ€åä¸€ä¸ª case è¯­å¥åé¢å¿˜äº†æ·»åŠ  breakè¯­å¥ï¼‰ã€‚</p></blockquote><h3 id="1-2-2-defaultå­—å¥"><a href="#1-2-2-defaultå­—å¥" class="headerlink" title="1.2.2 defaultå­—å¥"></a>1.2.2 defaultå­—å¥</h3><p>å½“ <code>switch</code> è¡¨è¾¾å¼çš„å€¼å¹¶ä¸åŒ¹é…æ‰€æœ‰<code>case</code> æ ‡ç­¾çš„å€¼æ—¶ï¼Œè¿™ä¸ª<code>default</code> å­å¥åé¢çš„è¯­å¥å°±ä¼šæ‰§è¡Œã€‚<br>æ‰€ä»¥ï¼Œæ¯ä¸ª<code>switch</code>è¯­å¥ä¸­åªèƒ½å‡ºç°ä¸€æ¡<code>default</code>å­å¥ã€‚<br>ä½†æ˜¯å®ƒå¯ä»¥å‡ºç°åœ¨è¯­å¥åˆ—è¡¨çš„ä»»ä½•ä½ç½®ï¼Œè€Œä¸”è¯­å¥æµä¼šåƒæ‰§è¡Œä¸€ä¸ª<code>case</code>æ ‡ç­¾ä¸€æ ·æ‰§è¡Œ<code>default</code>å­å¥ã€‚</p><blockquote><p>åœ¨æ¯ä¸ª switch è¯­å¥ä¸­éƒ½æ”¾ä¸€æ¡defaultå­å¥æ˜¯ä¸ªå¥½ä¹ æƒ¯ï¼Œç”šè‡³å¯ä»¥åœ¨åè¾¹å†åŠ ä¸€ä¸ª break ã€‚</p></blockquote><h1 id="2-å¾ªç¯è¯­å¥"><a href="#2-å¾ªç¯è¯­å¥" class="headerlink" title="2 å¾ªç¯è¯­å¥"></a>2 å¾ªç¯è¯­å¥</h1><h2 id="2-1-whileå¾ªç¯"><a href="#2-1-whileå¾ªç¯" class="headerlink" title="2.1 whileå¾ªç¯"></a>2.1 whileå¾ªç¯</h2><p>whileè¯­å¥æ‰§è¡Œçš„æµç¨‹ï¼š<br><img src="/img/Cè¯­è¨€02-åˆ†æ”¯å’Œå¾ªç¯12/Cè¯­è¨€02-åˆ†æ”¯å’Œå¾ªç¯12_1.png" alt=""></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">while</span>(i&lt;=<span class="hljs-number">10</span>)<br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, i);<br>i = i+<span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="2-1-1-whileè¯­å¥ä¸­çš„breakå’Œcontinue"><a href="#2-1-1-whileè¯­å¥ä¸­çš„breakå’Œcontinue" class="headerlink" title="2.1.1 whileè¯­å¥ä¸­çš„breakå’Œcontinue"></a>2.1.1 whileè¯­å¥ä¸­çš„breakå’Œcontinue</h3><h4 id="breakä»‹ç»"><a href="#breakä»‹ç»" class="headerlink" title="breakä»‹ç»"></a>breakä»‹ç»</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">while</span> (i &lt;= <span class="hljs-number">10</span>)<br>&#123;<br><span class="hljs-keyword">if</span> (i == <span class="hljs-number">5</span>)<br><span class="hljs-keyword">break</span>;<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, i);<br>i = i + <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br><br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š 1 2 3 4</p><p>æ€»ç»“ï¼š<br>å…¶å®åœ¨å¾ªç¯ä¸­åªè¦é‡åˆ°breakï¼Œå°±<strong>åœæ­¢</strong>åæœŸçš„<strong>æ‰€æœ‰çš„å¾ªç¯</strong>ï¼Œç›´æ¥ç»ˆæ­¢å¾ªç¯ã€‚<br>æ‰€ä»¥ï¼Œwhileä¸­çš„breakæ˜¯ç”¨äº<strong>æ°¸ä¹…ç»ˆæ­¢å¾ªç¯çš„</strong>ã€‚</p><h4 id="continueä»‹ç»"><a href="#continueä»‹ç»" class="headerlink" title="continueä»‹ç»"></a>continueä»‹ç»</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//continue ä»£ç å®ä¾‹1</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">while</span> (i &lt;= <span class="hljs-number">10</span>)<br>&#123;<br><span class="hljs-keyword">if</span> (i == <span class="hljs-number">5</span>)<br><span class="hljs-keyword">continue</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, i);<br>i++;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š1 2 3 4<br>ä½†æ˜¯æ­¤å¤„æ­»å¾ªç¯</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//continue ä»£ç å®ä¾‹2</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span> (i &lt;= <span class="hljs-number">10</span>)<br>&#123;<br>i++;<br><span class="hljs-keyword">if</span> (i == <span class="hljs-number">5</span>)<br><span class="hljs-keyword">continue</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, i);<br><br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š1 2 3 4 6 7 8 9 10 11</p><p><strong>æ€»ç»“ï¼š</strong><br>continueæ˜¯ç”¨äºç»ˆæ­¢æœ¬æ¬¡å¾ªç¯çš„ï¼Œä¹Ÿå°±æ˜¯æœ¬æ¬¡å¾ªç¯ä¸­continue<strong>åè¾¹çš„ä»£ç ä¸ä¼šå†æ‰§è¡Œ</strong>ï¼Œ<br>è€Œæ˜¯<strong>ç›´æ¥è·³è½¬</strong>åˆ°<strong>whileè¯­å¥çš„åˆ¤æ–­éƒ¨åˆ†</strong>ã€‚è¿›è¡Œä¸‹ä¸€æ¬¡å¾ªç¯çš„å…¥å£åˆ¤æ–­ã€‚</p><h3 id="2-1-3-æ¸…ç©ºç¼“å†²åŒº"><a href="#2-1-3-æ¸…ç©ºç¼“å†²åŒº" class="headerlink" title="2.1.3 æ¸…ç©ºç¼“å†²åŒº"></a>2.1.3 æ¸…ç©ºç¼“å†²åŒº</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> ch = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span> ((ch = getchar()) != <span class="hljs-string">&#x27;\n&#x27;</span>)<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>å…¶ä»–ï¼š<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//ä»£ç 1</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> ch = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span> ((ch = getchar()) != EOF)<br><span class="hljs-built_in">putchar</span>(ch);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//è¿™é‡Œçš„ä»£ç é€‚å½“çš„ä¿®æ”¹æ˜¯å¯ä»¥ç”¨æ¥æ¸…ç†ç¼“å†²åŒºçš„.</span><br><br><span class="hljs-comment">//ä»£ç 2</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">char</span> ch = <span class="hljs-string">&#x27;\0&#x27;</span>;<br><span class="hljs-keyword">while</span> ((ch = getchar()) != EOF)<br>&#123;<br><span class="hljs-keyword">if</span> (ch &lt; <span class="hljs-string">&#x27;0&#x27;</span> || ch &gt; <span class="hljs-string">&#x27;9&#x27;</span>)<br><span class="hljs-keyword">continue</span>;<br><span class="hljs-built_in">putchar</span>(ch);<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-comment">//è¿™ä¸ªä»£ç çš„ä½œç”¨æ˜¯ï¼šåªæ‰“å°æ•°å­—å­—ç¬¦ï¼Œè·³è¿‡å…¶ä»–å­—ç¬¦çš„</span><br></code></pre></td></tr></table></figure></p><h2 id="2-2-forå¾ªç¯"><a href="#2-2-forå¾ªç¯" class="headerlink" title="2.2 forå¾ªç¯"></a>2.2 forå¾ªç¯</h2><h3 id="2-2-1-è¯­æ³•"><a href="#2-2-1-è¯­æ³•" class="headerlink" title="2.2.1 è¯­æ³•"></a>2.2.1 è¯­æ³•</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">for</span> (åˆå§‹åŒ–è¯­å¥;æ¡ä»¶åˆ¤æ–­è¯­å¥;æ¡ä»¶æ§åˆ¶è¯­å¥) &#123;<br>å¾ªç¯ä½“è¯­å¥;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/img/Cè¯­è¨€02-åˆ†æ”¯å’Œå¾ªç¯12/Cè¯­è¨€02-åˆ†æ”¯å’Œå¾ªç¯12_2.png" alt=""></p><h3 id="2-2-2-breakå’Œcontinueåœ¨forå¾ªç¯ä¸­"><a href="#2-2-2-breakå’Œcontinueåœ¨forå¾ªç¯ä¸­" class="headerlink" title="2.2.2 breakå’Œcontinueåœ¨forå¾ªç¯ä¸­"></a>2.2.2 breakå’Œcontinueåœ¨forå¾ªç¯ä¸­</h3><p>forå¾ªç¯ä¸­breakå’Œcontinueçš„æ„ä¹‰å’Œåœ¨whileå¾ªç¯ä¸­æ˜¯ä¸€æ ·çš„ã€‚<br>ä½†æ˜¯è¿˜æ˜¯æœ‰äº›å·®å¼‚ï¼š<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//ä»£ç 1</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">10</span>; i++)<br>&#123;<br><span class="hljs-keyword">if</span> (i == <span class="hljs-number">5</span>)<br><span class="hljs-keyword">break</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, i);<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">//ä»£ç 2</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (i = <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">10</span>; i++)<br>&#123;<br><span class="hljs-keyword">if</span> (i == <span class="hljs-number">5</span>)<br><span class="hljs-keyword">continue</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, i);<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><br>ä»£ç 1ç»“æœï¼š1234<br>ä»£ç 2ç»“æœï¼š1 2 3 4 6 7 8 9 10 ä½†æ˜¯æ²¡æœ‰æ­»å¾ªç¯</p><h2 id="2-3-doâ€¦while-å¾ªç¯"><a href="#2-3-doâ€¦while-å¾ªç¯" class="headerlink" title="2.3 doâ€¦while()å¾ªç¯"></a>2.3 doâ€¦while()å¾ªç¯</h2><h3 id="2-3-1-è¯­æ³•"><a href="#2-3-1-è¯­æ³•" class="headerlink" title="2.3.1 è¯­æ³•"></a>2.3.1 è¯­æ³•</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">do</span><br>&#123;<br>å¾ªç¯è¯­å¥;<br>&#125;<br><span class="hljs-keyword">while</span>(è¡¨è¾¾å¼);<br></code></pre></td></tr></table></figure><p><img src="/img/Cè¯­è¨€02-åˆ†æ”¯å’Œå¾ªç¯12/Cè¯­è¨€02-åˆ†æ”¯å’Œå¾ªç¯12_3.png" alt=""><br>å¾ªç¯è‡³å°‘æ‰§è¡Œä¸€æ¬¡ï¼Œä½¿ç”¨çš„åœºæ™¯æœ‰é™ï¼Œæ‰€ä»¥ä¸æ˜¯ç»å¸¸ä½¿ç”¨ã€‚</p><h3 id="2-3-2-do-whileå¾ªç¯ä¸­çš„breakå’Œcontinue"><a href="#2-3-2-do-whileå¾ªç¯ä¸­çš„breakå’Œcontinue" class="headerlink" title="2.3.2 do whileå¾ªç¯ä¸­çš„breakå’Œcontinue"></a>2.3.2 do whileå¾ªç¯ä¸­çš„breakå’Œcontinue</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// ä»£ç 1</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">do</span><br>&#123;<br><span class="hljs-keyword">if</span> (<span class="hljs-number">5</span> == i)<br><span class="hljs-keyword">break</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, i);<br>i = i + <span class="hljs-number">1</span>;<br>&#125; <span class="hljs-keyword">while</span> (i &lt;= <span class="hljs-number">10</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">// ä»£ç 2</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">do</span><br>&#123;<br><span class="hljs-keyword">if</span> (<span class="hljs-number">5</span> == i)<br><span class="hljs-keyword">continue</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>, i);<br>i = i + <span class="hljs-number">1</span>;<br>&#125; <span class="hljs-keyword">while</span> (i &lt;= <span class="hljs-number">10</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»£ç 1ç»“æœï¼š1 2 3 4<br>ä»£ç 2ç»“æœï¼š1 2 3 4 æ­»å¾ªç¯</p><h1 id="3-ç»ƒä¹ "><a href="#3-ç»ƒä¹ " class="headerlink" title="3 ç»ƒä¹ "></a>3 ç»ƒä¹ </h1><h2 id="3-1-æŠ˜åŠæŸ¥æ‰¾ç®—æ³•"><a href="#3-1-æŠ˜åŠæŸ¥æ‰¾ç®—æ³•" class="headerlink" title="3.1 æŠ˜åŠæŸ¥æ‰¾ç®—æ³•"></a>3.1 æŠ˜åŠæŸ¥æ‰¾ç®—æ³•</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> arr[] = &#123; <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span> &#125;;<br><span class="hljs-type">int</span> left = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> right = <span class="hljs-keyword">sizeof</span>(arr) / <span class="hljs-keyword">sizeof</span>(arr[<span class="hljs-number">0</span>]) - <span class="hljs-number">1</span>;<br><span class="hljs-type">int</span> key = <span class="hljs-number">7</span>;<br><span class="hljs-type">int</span> mid = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span> (left &lt;= right)<br>&#123;<br>mid = (left + right) / <span class="hljs-number">2</span>;<br><span class="hljs-keyword">if</span> (arr[mid] &gt; key)<br>&#123;<br>right = mid - <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (arr[mid] &lt; key)<br>&#123;<br>left = mid + <span class="hljs-number">1</span>;<br>&#125;<br><span class="hljs-keyword">else</span><br><span class="hljs-keyword">break</span>;<br>&#125;<br><span class="hljs-keyword">if</span> (left &lt;= right)<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;æ‰¾åˆ°äº†,ä¸‹æ ‡æ˜¯%d\n&quot;</span>, mid);<br><span class="hljs-keyword">else</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;æ‰¾ä¸åˆ°\n&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>Cè¯­è¨€åŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C/C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å·¥ä¸šè’¸æ±½é¢„æµ‹-05-1æ¨¡å‹éªŒè¯</title>
    <link href="/2023/09/01/%E5%B7%A5%E4%B8%9A%E8%92%B8%E6%B1%BD%E9%A2%84%E6%B5%8B-05-1%E6%A8%A1%E5%9E%8B%E9%AA%8C%E8%AF%81/"/>
    <url>/2023/09/01/%E5%B7%A5%E4%B8%9A%E8%92%B8%E6%B1%BD%E9%A2%84%E6%B5%8B-05-1%E6%A8%A1%E5%9E%8B%E9%AA%8C%E8%AF%81/</url>
    
    <content type="html"><![CDATA[<h1 id="æ¨¡å‹è¯„ä¼°çš„æ¦‚å¿µå’Œæ–¹æ³•">1 æ¨¡å‹è¯„ä¼°çš„æ¦‚å¿µå’Œæ–¹æ³•</h1><h2 id="è¿‡æ‹Ÿåˆä¸æ¬ æ‹Ÿåˆ">1.1 è¿‡æ‹Ÿåˆä¸æ¬ æ‹Ÿåˆ</h2><h3 id="è·å–å¹¶ç»˜åˆ¶æ•°æ®é›†">è·å–å¹¶ç»˜åˆ¶æ•°æ®é›†</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br>%matplotlib inline<br><br>np.random.seed(<span class="hljs-number">666</span>)<br>x = np.random.uniform(-<span class="hljs-number">3.0</span>, <span class="hljs-number">3.0</span>, size=<span class="hljs-number">100</span>)<br>X = x.reshape(-<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)<br>y = <span class="hljs-number">0.5</span> * x**<span class="hljs-number">2</span> + x + <span class="hljs-number">2</span> + np.random.normal(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, size=<span class="hljs-number">100</span>)<br><br>plt.scatter(x, y)<br>plt.show()<br></code></pre></td></tr></table></figure><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-05%201æ¨¡å‹éªŒè¯/output_3_0.png" /></p><h4 id="ä»£ç è§£é‡Š">ä»£ç è§£é‡Š</h4><ul><li><p><code>np.random.seed(666)</code>ï¼šè®¾ç½®éšæœºæ•°ç§å­ï¼Œè¿™æ ·å¯ä»¥ç¡®ä¿æ¯æ¬¡è¿è¡Œä»£ç æ—¶ç”Ÿæˆçš„éšæœºæ•°æ˜¯ä¸€è‡´çš„,ä»…æ˜¯ä¸ºäº†ä½¿éšæœºç»“æœå¯é‡ç°ï¼Œå®ƒä¸ç›´æ¥ä¸æ•£ç‚¹å›¾æœ‰å…³ã€‚ã€‚</p></li><li><p><code>x = np.random.uniform(-3.0, 3.0, size=100)</code>ï¼šç”Ÿæˆä¸€ä¸ªåŒ…å«100ä¸ªåœ¨-3.0åˆ°3.0ä¹‹é—´å‡åŒ€åˆ†å¸ƒçš„éšæœºæ•°çš„ä¸€ç»´æ•°ç»„ã€‚</p></li><li><p><code>X = x.reshape(-1, 1)</code>ï¼šå°†ä¸€ç»´æ•°ç»„ <code>x</code> è½¬æ¢ï¼ˆé‡å¡‘reshapeï¼‰ä¸ºäºŒç»´æ•°ç»„ <code>X</code>ï¼Œå…¶ä¸­ä¸€åˆ—æ˜¯ <code>x</code> çš„å€¼ï¼Œè¡Œæ•°è‡ªåŠ¨è®¡ç®—ä»¥åŒ¹é…åŸå§‹æ•°æ®çš„ç»´åº¦ã€‚<code>reshape(-1, 1)</code> çš„ä½œç”¨æ˜¯å°†ä¸€ç»´æ•°ç»„ x è½¬æ¢ä¸ºä¸€ä¸ªäºŒç»´æ•°ç»„ Xï¼Œå…¶ä¸­ -1 è¡¨ç¤ºè‡ªåŠ¨è®¡ç®—è¯¥ç»´åº¦çš„å¤§å°ï¼Œè€Œ 1 è¡¨ç¤ºè¦åˆ›å»ºçš„æ•°ç»„çš„åˆ—æ•°ä¸º1ã€‚</p></li><li><p><code>y = 0.5 * x**2 + x + 2 + np.random.normal(0, 1, size=100)</code>ï¼šæ ¹æ®ç»™å®šçš„äºŒæ¬¡å‡½æ•°å…³ç³»ç”Ÿæˆ <code>y</code> å€¼ï¼Œå¹¶æ·»åŠ å‡å€¼ä¸º0ï¼Œæ ‡å‡†å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒéšæœºå™ªå£°ã€‚<code>np.random.normal(0, 1, size=100)</code> æ˜¯ç”¨äºç”Ÿæˆæœä»æ­£æ€åˆ†å¸ƒï¼ˆé«˜æ–¯åˆ†å¸ƒï¼‰çš„éšæœºæ•°çš„ NumPy å‡½æ•°ã€‚</p><ul><li><code>0</code>ï¼šè¡¨ç¤ºæ­£æ€åˆ†å¸ƒçš„å‡å€¼ï¼ˆmeanï¼‰ä¸º0ï¼Œå³éšæœºæ•°çš„å¹³å‡å€¼ä¸º0ã€‚</li><li><code>1</code>ï¼šè¡¨ç¤ºæ­£æ€åˆ†å¸ƒçš„æ ‡å‡†å·®ï¼ˆstandard deviationï¼‰ä¸º1ï¼Œå³éšæœºæ•°çš„ç¦»æ•£ç¨‹åº¦ã€‚</li><li><code>size=100</code>ï¼šè¡¨ç¤ºè¦ç”Ÿæˆçš„éšæœºæ•°çš„æ•°é‡ä¸º100ã€‚</li></ul><p>è¿™ä¸ªå‡½æ•°å°†ç”Ÿæˆä¸€ä¸ªåŒ…å«100ä¸ªå…ƒç´ çš„ä¸€ç»´æ•°ç»„ï¼Œå…¶ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½æ˜¯ä»å‡å€¼ä¸º0ã€æ ‡å‡†å·®ä¸º1çš„æ­£æ€åˆ†å¸ƒä¸­æŠ½å–çš„éšæœºæ•°ã€‚åœ¨æœ¬ä¾‹ä¸­ï¼Œè¿™äº›éšæœºæ•°è¡¨ç¤ºäº†å™ªå£°ï¼Œä¼šè¢«æ·»åŠ åˆ°äºŒæ¬¡æ›²çº¿çš„è®¡ç®—ç»“æœä¸­ï¼Œç”¨äºåœ¨åŸå§‹æ•°æ®ä¸Šå¼•å…¥ä¸€äº›éšæœºæ€§å’Œæ³¢åŠ¨ã€‚</p><p>æœ€ç»ˆï¼Œé€šè¿‡ <code>y = 0.5 * x**2 + x + 2 + np.random.normal(0, 1, size=100)</code> è¿™è¡Œä»£ç ï¼Œæˆ‘ä»¬å°†æŒ‰ç…§äºŒæ¬¡å‡½æ•°å…³ç³»ç”Ÿæˆçš„ç†æƒ³æ›²çº¿ä¸ŠåŠ å…¥äº†æœä»æ­£æ€åˆ†å¸ƒçš„éšæœºå™ªå£°ï¼Œå¾—åˆ°äº†æœ€ç»ˆçš„è§‚æµ‹æ•°æ® <code>y</code>ã€‚å™ªå£°çš„ä½œç”¨æ˜¯æ¨¡æ‹Ÿç°å®ä¸–ç•Œä¸­æ•°æ®çš„æ³¢åŠ¨æ€§å’Œéšæœºæ€§ï¼Œä½¿å¾—æ•°æ®æ›´æ¥è¿‘çœŸå®æƒ…å†µã€‚</p></li><li><p><code>plt.scatter(x, y)</code>ï¼šåˆ›å»ºæ•£ç‚¹å›¾ï¼Œå°† <code>x</code> å’Œ <code>y</code> çš„å€¼ä¼ é€’ç»™ <code>scatter()</code> å‡½æ•°ä»¥ç»˜åˆ¶æ•°æ®ç‚¹ã€‚</p></li></ul><p>ä½¿ç”¨çº¿æ€§å›å½’æ‹Ÿåˆæ•°æ®</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LinearRegression<br><br>lin_reg = LinearRegression()<br>lin_reg.fit(X, y)<br>lin_reg.score(X, y)<br></code></pre></td></tr></table></figure><pre><code class="hljs">0.4953707811865009</code></pre><p>å‡†ç¡®ç‡ä¸º 0.495ï¼Œæ¯”è¾ƒä½ï¼Œç›´çº¿æ‹Ÿåˆæ•°æ®çš„ç¨‹åº¦è¾ƒä½ã€‚</p><h3 id="ä½¿ç”¨å‡æ–¹è¯¯å·®åˆ¤æ–­æ‹Ÿåˆç¨‹åº¦">ä½¿ç”¨å‡æ–¹è¯¯å·®åˆ¤æ–­æ‹Ÿåˆç¨‹åº¦</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> mean_squared_error<br><br>y_predict = lin_reg.predict(X)<br>mean_squared_error(y, y_predict)<br></code></pre></td></tr></table></figure><pre><code class="hljs">3.0750025765636577</code></pre><h3 id="ç»˜åˆ¶æ‹Ÿåˆç»“æœ">ç»˜åˆ¶æ‹Ÿåˆç»“æœ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">y_predict = lin_reg.predict(X)<br>plt.scatter(x, y)<br>plt.plot(np.sort(x), y_predict[np.argsort(x)], color=<span class="hljs-string">&#x27;r&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-05%201æ¨¡å‹éªŒè¯/output_10_0.png" /> â€‹</p><h4 id="ä»£ç è§£é‡Š-1">ä»£ç è§£é‡Š</h4><p><code>plt.plot(np.sort(x), y_predict[np.argsort(x)], color='r')</code> ç”¨äºåœ¨å›¾å½¢ä¸­ç»˜åˆ¶æ‹Ÿåˆç›´çº¿ã€‚</p><ul><li><p><code>np.sort(x)</code>ï¼šå°†è¾“å…¥ç‰¹å¾ <code>x</code> è¿›è¡Œå‡åºæ’åºï¼Œå¾—åˆ°æ’åºåçš„æ•°ç»„ã€‚è¿™æ˜¯å› ä¸º <code>x</code> çš„é¡ºåºå¯èƒ½æ˜¯ä¹±åºçš„ï¼Œç»˜åˆ¶æ‹Ÿåˆç›´çº¿æ—¶éœ€è¦æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºè¿æ¥æ•°æ®ç‚¹ã€‚</p></li><li><p><code>y_predict[np.argsort(x)]</code>ï¼šæ ¹æ® <code>x</code> çš„æ’åºç»“æœï¼Œå¯¹é¢„æµ‹å€¼ <code>y_predict</code> è¿›è¡Œé‡æ–°æ’åˆ—ã€‚<code>np.argsort(x)</code> è¿”å›çš„æ˜¯ <code>x</code> çš„ç´¢å¼•æŒ‰ç…§å‡åºæ’åˆ—çš„ç»“æœã€‚é€šè¿‡ä½¿ç”¨è¿™ä¸ªç´¢å¼•æ•°ç»„å¯¹ <code>y_predict</code> è¿›è¡Œåˆ‡ç‰‡æ“ä½œï¼Œå¯ä»¥æŒ‰ç…§ç›¸åŒçš„é¡ºåºé‡æ–°æ’åˆ—é¢„æµ‹å€¼ï¼Œä½¿å…¶ä¸æ’åºåçš„ <code>x</code> ç›¸å¯¹åº”ã€‚</p></li><li><p><code>color='r'</code>ï¼šæŒ‡å®šæ‹Ÿåˆç›´çº¿çš„é¢œè‰²ä¸ºçº¢è‰² ('r')ã€‚</p></li></ul><p>å°†æ’åºåçš„è¾“å…¥ç‰¹å¾ <code>x</code> ä¸é‡æ–°æ’åˆ—çš„é¢„æµ‹å€¼ <code>y_predict</code> ä½œä¸ºå‚æ•°ä¼ é€’ç»™ <code>plot()</code> å‡½æ•°ï¼Œç»˜åˆ¶æ‹Ÿåˆç›´çº¿ã€‚é€šè¿‡æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºè¿æ¥æ•°æ®ç‚¹ï¼Œå¯ä»¥åœ¨å›¾å½¢ä¸­å±•ç¤ºå‡ºçº¿æ€§å›å½’æ¨¡å‹å¯¹åŸå§‹æ•°æ®çš„æ‹Ÿåˆç¨‹åº¦ã€‚</p><h3 id="ä½¿ç”¨å¤šé¡¹å¼å›å½’æ‹Ÿåˆ">ä½¿ç”¨å¤šé¡¹å¼å›å½’æ‹Ÿåˆ</h3><ul><li>é¦–å…ˆå°è£…Pipelineç®¡é“ï¼Œè¿™æ ·ä¾¿äºä¸‹ä¸€æ­¥çµæ´»è°ƒæ•´å¤šé¡¹å¼å›å½’æ¨¡å‹å‚æ•°</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.pipeline <span class="hljs-keyword">import</span> Pipeline <br><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> PolynomialFeatures<br><span class="hljs-keyword">from</span> sklearn.preprocessing <span class="hljs-keyword">import</span> StandardScaler<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">PolynomialRegression</span>(<span class="hljs-params">degree</span>):<br>    <span class="hljs-keyword">return</span> Pipeline([<br>        (<span class="hljs-string">&#x27;poly&#x27;</span>, PolynomialFeatures(degree=degree)),<br>        (<span class="hljs-string">&#x27;std_scaler&#x27;</span>, StandardScaler()),<br>        (<span class="hljs-string">&#x27;lin_reg&#x27;</span>, LinearRegression())<br>    ])<br></code></pre></td></tr></table></figure><h4 id="ä»£ç è§£é‡Š-2">ä»£ç è§£é‡Š</h4><p>ç”¨äºåˆ›å»ºå¤šé¡¹å¼å›å½’æ¨¡å‹çš„å‡½æ•°ã€‚ä½¿ç”¨sklearnåº“ä¸­çš„Pipelineç±»æ¥æ„å»ºä¸€ä¸ªæœºå™¨å­¦ä¹ å·¥ä½œæµç¨‹ï¼ŒåŒ…æ‹¬å¤šé¡¹å¼ç‰¹å¾è½¬æ¢ã€æ ‡å‡†åŒ–å’Œçº¿æ€§å›å½’æ¨¡å‹ã€‚</p><ul><li><p><code>from sklearn.pipeline import Pipeline</code>: Pipelineç±»ï¼Œç”¨äºå°†å¤šä¸ªæ•°æ®å¤„ç†æ­¥éª¤å’Œæœºå™¨å­¦ä¹ æ¨¡å‹å°è£…åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªæµæ°´çº¿ã€‚</p></li><li><p><code>from sklearn.preprocessing import PolynomialFeatures</code>: PolynomialFeaturesç±»ï¼Œç”¨äºè¿›è¡Œå¤šé¡¹å¼ç‰¹å¾è½¬æ¢ã€‚</p></li><li><p><code>from sklearn.preprocessing import StandardScaler</code>: StandardScalerç±»ï¼Œç”¨äºè¿›è¡Œç‰¹å¾æ ‡å‡†åŒ–ï¼ˆç‰¹å¾ç¼©æ”¾ï¼‰ã€‚</p></li><li><p><code>def PolynomialRegression(degree)</code>: å®šä¹‰PolynomialRegressionå‡½æ•°ï¼Œæ¥å—å‚æ•°degreeï¼Œè¡¨ç¤ºå¤šé¡¹å¼çš„æ¬¡æ•°ã€‚</p></li><li><p><code>return Pipeline([...])</code>: ä½¿ç”¨Pipelineç±»åˆ›å»ºä¸€ä¸ªæœºå™¨å­¦ä¹ å·¥ä½œæµç¨‹å¹¶è¿”å›ã€‚Pipelineç±»æ¥å—ä¸€ä¸ªç”±å…ƒç»„æ„æˆçš„åˆ—è¡¨ä½œä¸ºå‚æ•°ï¼Œæ¯ä¸ªå…ƒç»„ä»£è¡¨å·¥ä½œæµç¨‹ä¸­çš„ä¸€ä¸ªæ­¥éª¤ã€‚</p><ul><li><p><code>('poly', PolynomialFeatures(degree=degree))</code>: å¤šé¡¹å¼ç‰¹å¾è½¬æ¢æ­¥éª¤ï¼Œå°†è¾“å…¥ç‰¹å¾è½¬æ¢ä¸ºæŒ‡å®šæ¬¡æ•°çš„å¤šé¡¹å¼ç‰¹å¾ã€‚ä½¿ç”¨PolynomialFeaturesç±»ï¼Œå¹¶å°†å…¶å®ä¾‹å‘½åä¸º'poly'ã€‚</p></li><li><p><code>('std_scaler', StandardScaler())</code>: æ ‡å‡†åŒ–æ­¥éª¤ï¼Œå¯¹å¤šé¡¹å¼ç‰¹å¾è¿›è¡Œç‰¹å¾ç¼©æ”¾ï¼Œä½¿ç‰¹å¾çš„å‡å€¼ä¸º0ï¼Œæ ‡å‡†å·®ä¸º1ã€‚ä½¿ç”¨StandardScalerç±»ï¼Œå¹¶å°†å…¶å®ä¾‹å‘½åä¸º'std_scaler'ã€‚</p></li><li><p><code>('lin_reg', LinearRegression())</code>: çº¿æ€§å›å½’æ¨¡å‹æ­¥éª¤ï¼Œç”¨äºæ‹Ÿåˆå¤šé¡¹å¼ç‰¹å¾å’Œç›®æ ‡å˜é‡ä¹‹é—´çš„å…³ç³»ã€‚ä½¿ç”¨LinearRegressionç±»ï¼Œå¹¶å°†å…¶å®ä¾‹å‘½åä¸º'lin_reg'ã€‚</p></li></ul></li></ul><p>åˆ›å»ºä¸€ä¸ªå¤šé¡¹å¼å›å½’æ¨¡å‹ï¼Œé€šè¿‡ä½¿ç”¨å¤šé¡¹å¼ç‰¹å¾è½¬æ¢å’Œæ ‡å‡†åŒ–æ¥æé«˜æ¨¡å‹çš„æ€§èƒ½ã€‚å¯ä»¥æ ¹æ®éœ€è¦é€‰æ‹©ä¸åŒçš„å¤šé¡¹å¼æ¬¡æ•°ï¼Œä»è€Œå¾—åˆ°ä¸åŒå¤æ‚åº¦çš„æ¨¡å‹ã€‚</p><ul><li>ä½¿ç”¨ Pipeline æ‹Ÿåˆæ•°æ®ï¼šdegree = 2</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">poly2_reg = PolynomialRegression(degree=<span class="hljs-number">2</span>)<br>poly2_reg.fit(X, y)<br><br>y2_predict = poly2_reg.predict(X)<br><br><span class="hljs-comment"># æ¯”è¾ƒçœŸå€¼å’Œé¢„æµ‹å€¼çš„å‡æ–¹è¯¯å·®</span><br>mean_squared_error(y, y2_predict)<br></code></pre></td></tr></table></figure><pre><code class="hljs">1.0987392142417858</code></pre><ul><li>ç»˜åˆ¶æ‹Ÿåˆç»“æœ</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.scatter(x, y)<br>plt.plot(np.sort(x), y2_predict[np.argsort(x)], color=<span class="hljs-string">&#x27;r&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-05%201æ¨¡å‹éªŒè¯/output_19_0.png" /> â€‹</p><ul><li>è°ƒæ•´ degree = 10</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">poly10_reg = PolynomialRegression(degree=<span class="hljs-number">10</span>)<br>poly10_reg.fit(X, y)<br><br>y10_predict = poly10_reg.predict(X)<br><span class="hljs-built_in">print</span>(mean_squared_error(y, y10_predict))<br><br><br>plt.scatter(x, y)<br>plt.plot(np.sort(x), y10_predict[np.argsort(x)], color=<span class="hljs-string">&#x27;r&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><pre><code class="hljs">1.0508466763764126</code></pre><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-05%201æ¨¡å‹éªŒè¯/output_22_1.png" /></p><ul><li>è°ƒæ•´ degree = 100</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python">poly100_reg = PolynomialRegression(degree=<span class="hljs-number">100</span>)<br>poly100_reg.fit(X, y)<br><br>y100_predict = poly100_reg.predict(X)<br><span class="hljs-built_in">print</span>(mean_squared_error(y, y100_predict))<br><br><br>plt.scatter(x, y)<br>plt.plot(np.sort(x), y100_predict[np.argsort(x)], color=<span class="hljs-string">&#x27;r&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><pre><code class="hljs">0.6807802342342404</code></pre><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-05%201æ¨¡å‹éªŒè¯/output_25_1.png" /></p><ul><li>åˆ†æ<ol type="1"><li>degree=2ï¼šå‡æ–¹è¯¯å·®ä¸º 1.0987392142417858ï¼›</li><li>degree=10ï¼šå‡æ–¹è¯¯å·®ä¸º 1.0508466763764126ï¼›</li><li>degree=100ï¼šå‡æ–¹è¯¯å·®ä¸º 0.6807802342342404ï¼›</li><li>degree è¶Šå¤§æ‹Ÿåˆçš„æ•ˆæœè¶Šå¥½ï¼Œå› ä¸ºæ ·æœ¬ç‚¹æ˜¯ä¸€å®šçš„ï¼Œæˆ‘ä»¬æ€»èƒ½æ‰¾åˆ°ä¸€æ¡æ›²çº¿å°†æ‰€æœ‰çš„æ ·æœ¬ç‚¹æ‹Ÿåˆï¼Œä¹Ÿå°±æ˜¯è¯´å°†æ‰€æœ‰çš„æ ·æœ¬ç‚¹éƒ½å®Œå…¨è½åœ¨è¿™æ ¹æ›²çº¿ä¸Šï¼Œä½¿å¾—æ•´ä½“çš„å‡æ–¹è¯¯å·®ä¸º 0ï¼›</li><li>çº¢è‰²æ›²çº¿å¹¶ä¸æ˜¯æ‰€è®¡ç®—å‡ºçš„æ‹Ÿåˆæ›²çº¿ï¼Œè€Œæ­¤çº¢è‰²æ›²çº¿åªæ˜¯åŸæœ‰çš„æ•°æ®ç‚¹å¯¹åº”çš„ y çš„é¢„æµ‹å€¼è¿æ¥å‡ºæ¥çš„ç»“æœï¼Œè€Œä¸”æœ‰çš„åœ°æ–¹æ²¡æœ‰æ•°æ®ç‚¹ï¼Œå› æ­¤è¿æ¥çš„ç»“æœå’ŒåŸæ¥çš„æ›²çº¿ä¸ä¸€æ ·ï¼›</li></ol></li></ul><h2 id="äº¤å‰éªŒè¯">1.2 äº¤å‰éªŒè¯</h2><h3 id="äº¤å‰éªŒè¯è¿­ä»£å™¨">1.2.1äº¤å‰éªŒè¯è¿­ä»£å™¨</h3><p><strong>KæŠ˜äº¤å‰éªŒè¯</strong>ï¼šK-Fold Cross Validation,æ˜¯å°†åŸå§‹æ•°æ®åˆ†æˆKç»„ï¼ˆä¸€èˆ¬æ˜¯å‡åˆ†ï¼‰,ç§°ä¸ºæŠ˜å  (fold)ï¼Œç„¶åå°†æ¯ä¸ªå­é›†æ•°æ®åˆ†åˆ«åšä¸€æ¬¡éªŒè¯é›†ï¼Œå…¶ä½™çš„K-1ç»„å­é›†æ•°æ®ä½œä¸ºè®­ç»ƒé›†ï¼Œè¿™æ ·å°±ä¼šå¾—åˆ°Kä¸ªæ¨¡å‹ï¼Œå°†Kä¸ªæ¨¡å‹æœ€ç»ˆçš„éªŒè¯é›†çš„åˆ†ç±»å‡†ç¡®ç‡å–å¹³å‡å€¼ï¼Œä½œä¸ºKæŠ˜äº¤å‰éªŒè¯åˆ†ç±»å™¨çš„æ€§èƒ½æŒ‡æ ‡ã€‚é€šå¸¸è®¾ç½®Kå¤§äºæˆ–ç­‰äº3ã€‚</p><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-05%201æ¨¡å‹éªŒè¯/05_1.png" /></p><p><strong>KæŠ˜é‡å¤å¤šæ¬¡</strong>ï¼š RepeatedKFold é‡å¤ K-Fold n æ¬¡ã€‚å½“éœ€è¦è¿è¡Œæ—¶å¯ä»¥ä½¿ç”¨å®ƒ KFold n æ¬¡ï¼Œåœ¨æ¯æ¬¡é‡å¤ä¸­äº§ç”Ÿä¸åŒçš„åˆ†å‰²ã€‚</p><p><strong>ç•™ä¸€äº¤å‰éªŒè¯</strong>ï¼š LeaveOneOut (æˆ– LOO) æ˜¯ä¸€ä¸ªç®€å•çš„äº¤å‰éªŒè¯ã€‚æ¯ä¸ªè®­ç»ƒé›†éƒ½ç”±é™¤äº†ä¸€ä¸ªæ ·æœ¬ä»¥å¤–çš„å…¶ä½™æ‰€æœ‰æ ·æœ¬ç»„æˆçš„ï¼Œç•™ä¸‹çš„ä¸€ä¸ªæ ·æœ¬ç»„æˆæ£€éªŒé›†ã€‚ è¿™æ ·ï¼Œå¯¹äº n ä¸ªæ ·æœ¬ï¼Œæˆ‘ä»¬æœ‰ n ä¸ªä¸åŒçš„è®­ç»ƒé›†å’Œ n ä¸ªä¸åŒçš„æµ‹è¯•é›†ã€‚å› æ­¤LOO-CVä¼šå¾—åˆ°Nä¸ªæ¨¡å‹ï¼Œç”¨Nä¸ªæ¨¡å‹æœ€ç»ˆçš„éªŒè¯é›†çš„åˆ†ç±»å‡†ç¡®ç‡çš„å¹³å‡æ•°ä½œä¸ºåˆ†ç±»å™¨çš„æ€§èƒ½æŒ‡æ ‡ã€‚è¿™ç§äº¤å‰éªŒè¯ç¨‹åºä¸ä¼šæµªè´¹å¤ªå¤šæ•°æ®ï¼Œå› ä¸ºåªæœ‰ä¸€ä¸ªæ ·æœ¬æ˜¯ä»è®­ç»ƒé›†ä¸­åˆ é™¤æ‰çš„ã€‚</p><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-05%201æ¨¡å‹éªŒè¯/05_2.png" /></p><p><strong>ç•™Päº¤å‰éªŒè¯</strong>ï¼š LeavePOut ä¸ LeaveOneOut éå¸¸ç›¸ä¼¼ï¼Œå› ä¸ºå®ƒé€šè¿‡ä»æ•´ä¸ªé›†åˆä¸­åˆ é™¤ p ä¸ªæ ·æœ¬æ¥åˆ›å»ºæ‰€æœ‰å¯èƒ½çš„è®­ç»ƒ/æµ‹è¯•é›†ã€‚å¯¹äº n ä¸ªæ ·æœ¬ï¼Œè¿™äº§ç”Ÿäº† (n,p) ä¸ª è®­ç»ƒ-æµ‹è¯•å¯¹ã€‚ä¸ LeaveOneOut å’Œ KFold ä¸åŒï¼Œå½“ p &gt; 1 æ—¶ï¼Œæµ‹è¯•é›†ä¼šé‡å ã€‚</p><p><strong>ç”¨æˆ·è‡ªå®šä¹‰æ•°æ®é›†åˆ’åˆ†ï¼š ShuffleSplit</strong> è¿­ä»£å™¨å°†ä¼šç”Ÿæˆä¸€ä¸ªç”¨æˆ·ç»™å®šæ•°é‡çš„ç‹¬ç«‹çš„è®­ç»ƒ/æµ‹è¯•æ•°æ®åˆ’åˆ†ã€‚æ ·ä¾‹é¦–å…ˆè¢«æ‰“æ•£ç„¶ååˆ’åˆ†ä¸ºä¸€å¯¹è®­ç»ƒæµ‹è¯•é›†åˆã€‚</p><p><strong>è®¾ç½®æ¯æ¬¡ç”Ÿæˆçš„éšæœºæ•°ç›¸åŒ</strong>ï¼š å¯ä»¥é€šè¿‡è®¾å®šæ˜ç¡®çš„ random_state ï¼Œä½¿å¾—ä¼ªéšæœºç”Ÿæˆå™¨çš„ç»“æœå¯ä»¥é‡å¤ã€‚</p><h3 id="åŸºäºç±»æ ‡ç­¾å…·æœ‰åˆ†å±‚çš„äº¤å‰éªŒè¯è¿­ä»£å™¨">1.2.2åŸºäºç±»æ ‡ç­¾ã€å…·æœ‰åˆ†å±‚çš„äº¤å‰éªŒè¯è¿­ä»£å™¨</h3><p>å¦‚ä½•è§£å†³æ ·æœ¬ä¸å¹³è¡¡é—®é¢˜ï¼Ÿ ä½¿ç”¨StratifiedKFoldå’ŒStratifiedShuffleSplit åˆ†å±‚æŠ½æ ·ã€‚ ä¸€äº›åˆ†ç±»é—®é¢˜åœ¨ç›®æ ‡ç±»åˆ«çš„åˆ†å¸ƒä¸Šå¯èƒ½è¡¨ç°å‡ºå¾ˆå¤§çš„ä¸å¹³è¡¡æ€§ï¼šä¾‹å¦‚ï¼Œå¯èƒ½ä¼šå‡ºç°æ¯”æ­£æ ·æœ¬å¤šæ•°å€çš„è´Ÿæ ·æœ¬ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå»ºè®®é‡‡ç”¨å¦‚ StratifiedKFold å’Œ StratifiedShuffleSplit ä¸­å®ç°çš„åˆ†å±‚æŠ½æ ·æ–¹æ³•ï¼Œç¡®ä¿ç›¸åº”çš„ç±»åˆ«é¢‘ç‡åœ¨æ¯ä¸ªè®­ç»ƒå’ŒéªŒè¯çš„æŠ˜å ä¸­å¤§è‡´å¾—ä»¥ä¿ç•™ã€‚</p><p><strong>StratifiedKFold</strong>æ˜¯ k-fold çš„å˜ç§ï¼Œä¼šè¿”å› stratifiedï¼ˆåˆ†å±‚ï¼‰ çš„æŠ˜å ï¼šæ¯ä¸ªå°é›†åˆä¸­ï¼Œå„ä¸ªç±»åˆ«çš„æ ·ä¾‹æ¯”ä¾‹å¤§è‡´å’Œå®Œæ•´æ•°æ®é›†ä¸­ç›¸åŒã€‚</p><p><strong>StratifiedShuffleSplit</strong>æ˜¯ ShuffleSplit çš„ä¸€ä¸ªå˜ç§ï¼Œä¼šè¿”å›ç›´æ¥çš„åˆ’åˆ†ï¼Œæ¯”å¦‚ï¼šåˆ›å»ºä¸€ä¸ªåˆ’åˆ†ï¼Œä½†æ˜¯åˆ’åˆ†ä¸­æ¯ä¸ªç±»çš„æ¯”ä¾‹å’Œå®Œæ•´æ•°æ®é›†ä¸­çš„ç›¸åŒã€‚</p><h3 id="ç”¨äºåˆ†ç»„æ•°æ®çš„äº¤å‰éªŒè¯è¿­ä»£å™¨">1.2.3ç”¨äºåˆ†ç»„æ•°æ®çš„äº¤å‰éªŒè¯è¿­ä»£å™¨</h3><p>å¦‚ä½•è¿›ä¸€æ­¥æµ‹è¯•æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Ÿ ç•™å‡ºä¸€ç»„ç‰¹å®šçš„ä¸å±äºæµ‹è¯•é›†å’Œè®­ç»ƒé›†çš„æ•°æ®ã€‚æœ‰æ—¶æˆ‘ä»¬æƒ³çŸ¥é“åœ¨ä¸€ç»„ç‰¹å®šçš„ groups ä¸Šè®­ç»ƒçš„æ¨¡å‹æ˜¯å¦èƒ½å¾ˆå¥½åœ°é€‚ç”¨äºçœ‹ä¸è§çš„æ–°æ•°æ®ã€‚ä¸ºäº†è¡¡é‡è¿™ä¸€ç‚¹ï¼Œæˆ‘ä»¬éœ€è¦ç¡®ä¿éªŒè¯å¯¹è±¡ä¸­çš„æ‰€æœ‰æ ·æœ¬å‡æœªåœ¨é…å¯¹è®­ç»ƒæŠ˜å ä¸­å‡ºç°è¿‡ï¼Œé‡‡ç”¨çš„åŠæ³•å°±æ˜¯ç•™å‡ºä¸€ç»„ç‰¹å®šçš„ä¸å±äºæµ‹è¯•é›†å’Œè®­ç»ƒé›†çš„æ•°æ®ï¼Œå¸¸ç”¨çš„æ–¹æ³•åŒ…æ‹¬GroupKFold,LeaveOneGroupOut,LeavePGroupsOut,GroupShuffleSplit.</p><p><strong>GroupKFold</strong>æ˜¯ k-fold çš„å˜ä½“ï¼Œå®ƒç¡®ä¿åŒä¸€ä¸ª group åœ¨æµ‹è¯•å’Œè®­ç»ƒé›†ä¸­éƒ½ä¸è¢«è¡¨ç¤ºã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæ•°æ®æ˜¯ä»ä¸åŒçš„ç»„è·å¾—çš„ï¼Œæ¯ä¸ªç»„åˆæœ‰å¤šä¸ªæ ·æœ¬ï¼Œå¹¶ä¸”å¦‚æœæ¨¡å‹è¶³å¤Ÿçµæ´»ï¼Œèƒ½é«˜åº¦ä»æŒ‡å®šçš„ç‰¹å¾ä¸­å­¦ä¹ ï¼Œåˆ™å¯èƒ½å­˜åœ¨å¾ˆå¥½åœ°æ‹Ÿåˆè®­ç»ƒçš„ç»„ï¼Œä½†ä¸èƒ½å¾ˆå¥½åœ°é¢„æµ‹ä¸å­˜åœ¨äºè®­ç»ƒç»„ä¸­çš„æ ·æœ¬ï¼ŒGroupKFold å¯ä»¥æ£€æµ‹åˆ°è¿™ç§è¿‡æ‹Ÿåˆçš„æƒ…å†µã€‚</p><p><strong>LeaveOneGroupOut</strong>æ˜¯ä¸€ä¸ªäº¤å‰éªŒè¯æ–¹æ¡ˆï¼Œå®ƒæ ¹æ®ç”¨æˆ·æä¾›çš„ array of integer groups ï¼ˆæ•´æ•°ç»„çš„æ•°ç»„ï¼‰æ¥åŒºåˆ«ä¸åŒçš„ç»„ï¼Œä»¥æ­¤æ¥æä¾›æ ·æœ¬ã€‚è¿™ä¸ªç»„ä¿¡æ¯å¯ä»¥ç”¨æ¥ç¼–ç ä»»æ„åŸŸç‰¹å®šçš„é¢„å®šä¹‰äº¤å‰éªŒè¯æŠ˜å ã€‚æ¯ä¸ªè®­ç»ƒé›†éƒ½æ˜¯ç”±é™¤ç‰¹å®šç»„åˆ«ä»¥å¤–çš„æ‰€æœ‰æ ·æœ¬æ„æˆçš„ã€‚</p><p><strong>LeavePGroupsOut</strong>ç±»ä¼¼äº LeaveOneGroupOut ï¼Œä½†ä¸ºæ¯ä¸ªè®­ç»ƒ/æµ‹è¯•é›†åˆ é™¤ä¸ P ç»„æœ‰å…³çš„æ ·æœ¬ã€‚</p><p><strong>GroupShuffleSplit</strong>è¿­ä»£å™¨æ˜¯ ShuffleSplit å’Œ LeavePGroupsOut çš„ç»„åˆï¼Œå®ƒç”Ÿæˆä¸€ä¸ªéšæœºåˆ’åˆ†åˆ†åŒºçš„åºåˆ—ï¼Œå…¶ä¸­ä¸ºæ¯ä¸ªåˆ†ç»„æä¾›äº†ä¸€ä¸ªç»„å­é›†ã€‚</p><h3 id="æ—¶é—´åºåˆ—åˆ†å‰²">1.2.4 æ—¶é—´åºåˆ—åˆ†å‰²</h3><p><strong>TimeSeriesSplit</strong> ä¹Ÿæ˜¯K-Foldçš„ä¸€ä¸ªå˜ç§ï¼Œé¦–å…ˆè¿”å›KæŠ˜ä½œä¸ºè®­ç»ƒæ•°æ®é›†ï¼ŒæŠŠK+1æŠ˜ä½œä¸ºæµ‹è¯•æ•°æ®é›†ã€‚è¯·æ³¨æ„ï¼Œä¸æ ‡å‡†çš„äº¤å‰éªŒè¯æ–¹æ³•ä¸åŒï¼Œæœ‰å…³æ—¶é—´åºåˆ—çš„æ ·æœ¬åˆ‡åˆ†å¿…é¡»ä¿è¯æ—¶é—´ä¸Šçš„é¡ºåºæ€§ï¼Œä¸èƒ½ç”¨æœªæ¥çš„æ•°æ®å»éªŒè¯ç°åœ¨æ•°æ®çš„æ­£ç¡®æ€§ï¼Œåªèƒ½ä½¿ç”¨æ—¶é—´ä¸Šä¹‹å‰ä¸€æ®µçš„æ•°æ®å»ºæ¨¡ï¼Œè€Œç”¨åä¸€æ®µæ—¶é—´çš„æ•°æ®æ¥éªŒè¯æ¨¡å‹é¢„æµ‹çš„æ•ˆæœï¼Œè¿™ä¹Ÿæ˜¯æ—¶é—´åºåˆ—æ•°æ®åœ¨åšæ¨¡å‹éªŒè¯åˆ’åˆ†æ•°æ®æ—¶ä¸å…¶ä»–å¸¸è§„æ•°æ®åˆ‡åˆ†çš„åŒºåˆ«ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split,cross_val_score,cross_validate <span class="hljs-comment"># äº¤å‰éªŒè¯æ‰€éœ€çš„å‡½æ•°</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> KFold,LeaveOneOut,LeavePOut,ShuffleSplit <span class="hljs-comment"># äº¤å‰éªŒè¯æ‰€éœ€çš„å­é›†åˆ’åˆ†æ–¹æ³•</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> StratifiedKFold,StratifiedShuffleSplit <span class="hljs-comment"># åˆ†å±‚åˆ†å‰²</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> GroupKFold,LeaveOneGroupOut,LeavePGroupsOut,GroupShuffleSplit <span class="hljs-comment"># åˆ†ç»„åˆ†å‰²</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> TimeSeriesSplit <span class="hljs-comment"># æ—¶é—´åºåˆ—åˆ†å‰²</span><br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> datasets  <span class="hljs-comment"># è‡ªå¸¦æ•°æ®é›†</span><br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> svm  <span class="hljs-comment"># SVMç®—æ³•</span><br><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> preprocessing  <span class="hljs-comment"># é¢„å¤„ç†æ¨¡å—</span><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> recall_score  <span class="hljs-comment"># æ¨¡å‹åº¦é‡</span><br><br>iris = datasets.load_iris()  <span class="hljs-comment"># åŠ è½½æ•°æ®é›†</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æ ·æœ¬é›†å¤§å°ï¼š&#x27;</span>,iris.data.shape,iris.target.shape)<br><br><span class="hljs-comment"># ===================================æ•°æ®é›†åˆ’åˆ†,è®­ç»ƒæ¨¡å‹==========================</span><br>X_train, X_test, y_train, y_test = train_test_split(iris.data, iris.target, test_size=<span class="hljs-number">0.4</span>, random_state=<span class="hljs-number">0</span>)  <span class="hljs-comment"># äº¤å‰éªŒè¯åˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†.test_sizeä¸ºæµ‹è¯•é›†æ‰€å çš„æ¯”ä¾‹</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;è®­ç»ƒé›†å¤§å°ï¼š&#x27;</span>,X_train.shape,y_train.shape)  <span class="hljs-comment"># è®­ç»ƒé›†æ ·æœ¬å¤§å°</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æµ‹è¯•é›†å¤§å°ï¼š&#x27;</span>,X_test.shape,y_test.shape)  <span class="hljs-comment"># æµ‹è¯•é›†æ ·æœ¬å¤§å°</span><br>clf = svm.SVC(kernel=<span class="hljs-string">&#x27;linear&#x27;</span>, C=<span class="hljs-number">1</span>).fit(X_train, y_train) <span class="hljs-comment"># ä½¿ç”¨è®­ç»ƒé›†è®­ç»ƒæ¨¡å‹</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;å‡†ç¡®ç‡ï¼š&#x27;</span>,clf.score(X_test, y_test))  <span class="hljs-comment"># è®¡ç®—æµ‹è¯•é›†çš„åº¦é‡å€¼ï¼ˆå‡†ç¡®ç‡ï¼‰</span><br><br><br><span class="hljs-comment">#  å¦‚æœæ¶‰åŠåˆ°å½’ä¸€åŒ–ï¼Œåˆ™åœ¨æµ‹è¯•é›†ä¸Šä¹Ÿè¦ä½¿ç”¨è®­ç»ƒé›†æ¨¡å‹æå–çš„å½’ä¸€åŒ–å‡½æ•°ã€‚</span><br>scaler = preprocessing.StandardScaler().fit(X_train)  <span class="hljs-comment"># é€šè¿‡è®­ç»ƒé›†è·å¾—å½’ä¸€åŒ–å‡½æ•°æ¨¡å‹ã€‚ï¼ˆä¹Ÿå°±æ˜¯å…ˆå‡å‡ ï¼Œå†é™¤ä»¥å‡ çš„å‡½æ•°ï¼‰ã€‚åœ¨è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸Šéƒ½ä½¿ç”¨è¿™ä¸ªå½’ä¸€åŒ–å‡½æ•°</span><br>X_train_transformed = scaler.transform(X_train)<br>clf = svm.SVC(kernel=<span class="hljs-string">&#x27;linear&#x27;</span>, C=<span class="hljs-number">1</span>).fit(X_train_transformed, y_train) <span class="hljs-comment"># ä½¿ç”¨è®­ç»ƒé›†è®­ç»ƒæ¨¡å‹</span><br>X_test_transformed = scaler.transform(X_test)<br><span class="hljs-built_in">print</span>(clf.score(X_test_transformed, y_test))  <span class="hljs-comment"># è®¡ç®—æµ‹è¯•é›†çš„åº¦é‡å€¼ï¼ˆå‡†ç¡®åº¦ï¼‰</span><br><br><span class="hljs-comment"># ===================================ç›´æ¥è°ƒç”¨äº¤å‰éªŒè¯è¯„ä¼°æ¨¡å‹==========================</span><br>clf = svm.SVC(kernel=<span class="hljs-string">&#x27;linear&#x27;</span>, C=<span class="hljs-number">1</span>)<br>scores = cross_val_score(clf, iris.data, iris.target, cv=<span class="hljs-number">5</span>)  <span class="hljs-comment">#cvä¸ºè¿­ä»£æ¬¡æ•°ã€‚</span><br><span class="hljs-built_in">print</span>(scores)  <span class="hljs-comment"># æ‰“å°è¾“å‡ºæ¯æ¬¡è¿­ä»£çš„åº¦é‡å€¼ï¼ˆå‡†ç¡®åº¦ï¼‰</span><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Accuracy: %0.2f (+/- %0.2f)&quot;</span> % (scores.mean(), scores.std() * <span class="hljs-number">2</span>))  <span class="hljs-comment"># è·å–ç½®ä¿¡åŒºé—´ã€‚ï¼ˆä¹Ÿå°±æ˜¯å‡å€¼å’Œæ–¹å·®ï¼‰</span><br><br><span class="hljs-comment"># ===================================å¤šç§åº¦é‡ç»“æœ======================================</span><br>scoring = [<span class="hljs-string">&#x27;precision_macro&#x27;</span>, <span class="hljs-string">&#x27;recall_macro&#x27;</span>] <span class="hljs-comment"># precision_macroä¸ºç²¾åº¦ï¼ˆå‡†ç¡®ç‡ï¼‰ï¼Œrecall_macroä¸ºå¬å›ç‡</span><br>scores = cross_validate(clf, iris.data, iris.target, scoring=scoring,cv=<span class="hljs-number">5</span>, return_train_score=<span class="hljs-literal">True</span>)<br><span class="hljs-built_in">sorted</span>(scores.keys())<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&#x27;æµ‹è¯•ç»“æœï¼š&#x27;</span>,scores)  <span class="hljs-comment"># scoresç±»å‹ä¸ºå­—å…¸ã€‚åŒ…å«è®­ç»ƒå¾—åˆ†ï¼Œæ‹Ÿåˆæ¬¡æ•°ï¼Œ score-times ï¼ˆå¾—åˆ†æ¬¡æ•°ï¼‰</span><br><br><br><span class="hljs-comment"># ==================================KæŠ˜äº¤å‰éªŒè¯ã€ç•™ä¸€äº¤å‰éªŒè¯ã€ç•™päº¤å‰éªŒè¯ã€éšæœºæ’åˆ—äº¤å‰éªŒè¯==========================================</span><br><span class="hljs-comment"># kæŠ˜åˆ’åˆ†å­é›†</span><br>kf = KFold(n_splits=<span class="hljs-number">2</span>)<br><span class="hljs-keyword">for</span> train, test <span class="hljs-keyword">in</span> kf.split(iris.data):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;kæŠ˜åˆ’åˆ†ï¼š%s %s&quot;</span> % (train.shape, test.shape))<br>    <span class="hljs-keyword">break</span><br><br><span class="hljs-comment"># ç•™ä¸€åˆ’åˆ†å­é›†</span><br>loo = LeaveOneOut()<br><span class="hljs-keyword">for</span> train, test <span class="hljs-keyword">in</span> loo.split(iris.data):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç•™ä¸€åˆ’åˆ†ï¼š%s %s&quot;</span> % (train.shape, test.shape))<br>    <span class="hljs-keyword">break</span><br><br><span class="hljs-comment"># ç•™påˆ’åˆ†å­é›†</span><br>lpo = LeavePOut(p=<span class="hljs-number">2</span>)<br><span class="hljs-keyword">for</span> train, test <span class="hljs-keyword">in</span> loo.split(iris.data):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç•™påˆ’åˆ†ï¼š%s %s&quot;</span> % (train.shape, test.shape))<br>    <span class="hljs-keyword">break</span><br><br><span class="hljs-comment"># éšæœºæ’åˆ—åˆ’åˆ†å­é›†</span><br>ss = ShuffleSplit(n_splits=<span class="hljs-number">3</span>, test_size=<span class="hljs-number">0.25</span>,random_state=<span class="hljs-number">0</span>)<br><span class="hljs-keyword">for</span> train_index, test_index <span class="hljs-keyword">in</span> ss.split(iris.data):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;éšæœºæ’åˆ—åˆ’åˆ†ï¼š%s %s&quot;</span> % (train.shape, test.shape))<br>    <span class="hljs-keyword">break</span><br><br><span class="hljs-comment"># ==================================åˆ†å±‚KæŠ˜äº¤å‰éªŒè¯ã€åˆ†å±‚éšæœºäº¤å‰éªŒè¯==========================================</span><br>skf = StratifiedKFold(n_splits=<span class="hljs-number">3</span>)  <span class="hljs-comment">#å„ä¸ªç±»åˆ«çš„æ¯”ä¾‹å¤§è‡´å’Œå®Œæ•´æ•°æ®é›†ä¸­ç›¸åŒ</span><br><span class="hljs-keyword">for</span> train, test <span class="hljs-keyword">in</span> skf.split(iris.data, iris.target):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åˆ†å±‚KæŠ˜åˆ’åˆ†ï¼š%s %s&quot;</span> % (train.shape, test.shape))<br>    <span class="hljs-keyword">break</span><br><br>skf = StratifiedShuffleSplit(n_splits=<span class="hljs-number">3</span>)  <span class="hljs-comment"># åˆ’åˆ†ä¸­æ¯ä¸ªç±»çš„æ¯”ä¾‹å’Œå®Œæ•´æ•°æ®é›†ä¸­çš„ç›¸åŒ</span><br><span class="hljs-keyword">for</span> train, test <span class="hljs-keyword">in</span> skf.split(iris.data, iris.target):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;åˆ†å±‚éšæœºåˆ’åˆ†ï¼š%s %s&quot;</span> % (train.shape, test.shape))<br>    <span class="hljs-keyword">break</span><br><br><br><span class="hljs-comment"># ==================================ç»„ k-foldäº¤å‰éªŒè¯ã€ç•™ä¸€ç»„äº¤å‰éªŒè¯ã€ç•™ P ç»„äº¤å‰éªŒè¯ã€Group Shuffle Split==========================================</span><br>X = [<span class="hljs-number">0.1</span>, <span class="hljs-number">0.2</span>, <span class="hljs-number">2.2</span>, <span class="hljs-number">2.4</span>, <span class="hljs-number">2.3</span>, <span class="hljs-number">4.55</span>, <span class="hljs-number">5.8</span>, <span class="hljs-number">8.8</span>, <span class="hljs-number">9</span>, <span class="hljs-number">10</span>]<br>y = [<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>, <span class="hljs-string">&quot;d&quot;</span>, <span class="hljs-string">&quot;d&quot;</span>, <span class="hljs-string">&quot;d&quot;</span>]<br>groups = [<span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>, <span class="hljs-number">3</span>]<br><br><span class="hljs-comment"># kæŠ˜åˆ†ç»„</span><br>gkf = GroupKFold(n_splits=<span class="hljs-number">3</span>)  <span class="hljs-comment"># è®­ç»ƒé›†å’Œæµ‹è¯•é›†å±äºä¸åŒçš„ç»„</span><br><span class="hljs-keyword">for</span> train, test <span class="hljs-keyword">in</span> gkf.split(X, y, groups=groups):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç»„ k-foldåˆ†å‰²ï¼š%s %s&quot;</span> % (train, test))<br><br><span class="hljs-comment"># ç•™ä¸€åˆ†ç»„</span><br>logo = LeaveOneGroupOut()<br><span class="hljs-keyword">for</span> train, test <span class="hljs-keyword">in</span> logo.split(X, y, groups=groups):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç•™ä¸€ç»„åˆ†å‰²ï¼š%s %s&quot;</span> % (train, test))<br><br><span class="hljs-comment"># ç•™påˆ†ç»„</span><br>lpgo = LeavePGroupsOut(n_groups=<span class="hljs-number">2</span>)<br><span class="hljs-keyword">for</span> train, test <span class="hljs-keyword">in</span> lpgo.split(X, y, groups=groups):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;ç•™ P ç»„åˆ†å‰²ï¼š%s %s&quot;</span> % (train, test))<br><br><span class="hljs-comment"># éšæœºåˆ†ç»„</span><br>gss = GroupShuffleSplit(n_splits=<span class="hljs-number">4</span>, test_size=<span class="hljs-number">0.5</span>, random_state=<span class="hljs-number">0</span>)<br><span class="hljs-keyword">for</span> train, test <span class="hljs-keyword">in</span> gss.split(X, y, groups=groups):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;éšæœºåˆ†å‰²ï¼š%s %s&quot;</span> % (train, test))<br><br><br><span class="hljs-comment"># ==================================æ—¶é—´åºåˆ—åˆ†å‰²==========================================</span><br>tscv = TimeSeriesSplit(n_splits=<span class="hljs-number">3</span>)<br>TimeSeriesSplit(max_train_size=<span class="hljs-literal">None</span>, n_splits=<span class="hljs-number">3</span>)<br><span class="hljs-keyword">for</span> train, test <span class="hljs-keyword">in</span> tscv.split(iris.data):<br>    <span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;æ—¶é—´åºåˆ—åˆ†å‰²ï¼š%s %s&quot;</span> % (train, test))<br></code></pre></td></tr></table></figure><pre><code class="hljs">æ ·æœ¬é›†å¤§å°ï¼š (150, 4) (150,)è®­ç»ƒé›†å¤§å°ï¼š (90, 4) (90,)æµ‹è¯•é›†å¤§å°ï¼š (60, 4) (60,)å‡†ç¡®ç‡ï¼š 0.96666666666666670.9333333333333333[0.96666667 1.         0.96666667 0.96666667 1.        ]Accuracy: 0.98 (+/- 0.03)æµ‹è¯•ç»“æœï¼š &#123;&#39;fit_time&#39;: array([0.00000000e+00, 1.00016594e-03, 1.00016594e-03, 4.05311584e-05,       0.00000000e+00]), &#39;score_time&#39;: array([0.00100017, 0.        , 0.00100017, 0.        , 0.        ]), &#39;test_precision_macro&#39;: array([0.96969697, 1.        , 0.96969697, 0.96969697, 1.        ]), &#39;train_precision_macro&#39;: array([0.97674419, 0.97674419, 0.99186992, 0.98412698, 0.98333333]), &#39;test_recall_macro&#39;: array([0.96666667, 1.        , 0.96666667, 0.96666667, 1.        ]), &#39;train_recall_macro&#39;: array([0.975     , 0.975     , 0.99166667, 0.98333333, 0.98333333])&#125;kæŠ˜åˆ’åˆ†ï¼š(75,) (75,)ç•™ä¸€åˆ’åˆ†ï¼š(149,) (1,)ç•™påˆ’åˆ†ï¼š(149,) (1,)éšæœºæ’åˆ—åˆ’åˆ†ï¼š(149,) (1,)åˆ†å±‚KæŠ˜åˆ’åˆ†ï¼š(100,) (50,)åˆ†å±‚éšæœºåˆ’åˆ†ï¼š(135,) (15,)ç»„ k-foldåˆ†å‰²ï¼š[0 1 2 3 4 5] [6 7 8 9]ç»„ k-foldåˆ†å‰²ï¼š[0 1 2 6 7 8 9] [3 4 5]ç»„ k-foldåˆ†å‰²ï¼š[3 4 5 6 7 8 9] [0 1 2]ç•™ä¸€ç»„åˆ†å‰²ï¼š[3 4 5 6 7 8 9] [0 1 2]ç•™ä¸€ç»„åˆ†å‰²ï¼š[0 1 2 6 7 8 9] [3 4 5]ç•™ä¸€ç»„åˆ†å‰²ï¼š[0 1 2 3 4 5] [6 7 8 9]ç•™ P ç»„åˆ†å‰²ï¼š[6 7 8 9] [0 1 2 3 4 5]ç•™ P ç»„åˆ†å‰²ï¼š[3 4 5] [0 1 2 6 7 8 9]ç•™ P ç»„åˆ†å‰²ï¼š[0 1 2] [3 4 5 6 7 8 9]éšæœºåˆ†å‰²ï¼š[0 1 2] [3 4 5 6 7 8 9]éšæœºåˆ†å‰²ï¼š[3 4 5] [0 1 2 6 7 8 9]éšæœºåˆ†å‰²ï¼š[3 4 5] [0 1 2 6 7 8 9]éšæœºåˆ†å‰²ï¼š[3 4 5] [0 1 2 6 7 8 9]æ—¶é—´åºåˆ—åˆ†å‰²ï¼š[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38] [39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75]æ—¶é—´åºåˆ—åˆ†å‰²ï¼š[ 0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75] [ 76  77  78  79  80  81  82  83  84  85  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100 101 102 103 104 105 106 107 108 109 110 111 112]æ—¶é—´åºåˆ—åˆ†å‰²ï¼š[  0   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72  73  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90  91  92  93  94  95  96  97  98  99 100 101 102 103 104 105 106 107 108 109 110 111 112] [113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149]</code></pre><h1 id="æ¨¡å‹è°ƒå‚">2 æ¨¡å‹è°ƒå‚</h1><p>å‚æ•°å¯åˆ†ä¸ºä¸¤ç±»ï¼šè¿‡ç¨‹å½±å“ç±»å‚æ•°å’Œå­æ¨¡å‹å½±å“ç±»å‚æ•°ã€‚</p><h2 id="ç½‘æ ¼æœç´¢">2.1 ç½‘æ ¼æœç´¢</h2><p>Grid Searchï¼šä¸€ç§ç©·ä¸¾æœç´¢çš„è°ƒå‚æ‰‹æ®µï¼›ç©·ä¸¾æœç´¢ï¼šåœ¨æ‰€æœ‰å€™é€‰çš„å‚æ•°é€‰æ‹©ä¸­ï¼Œé€šè¿‡å¾ªç¯éå†ï¼Œå°è¯•æ¯ä¸€ç§å¯èƒ½æ€§ï¼Œè¡¨ç°æœ€å¥½çš„å‚æ•°å°±æ˜¯æœ€ç»ˆçš„ç»“æœã€‚</p><h3 id="ç®€å•çš„ç½‘æ ¼æœç´¢">ç®€å•çš„ç½‘æ ¼æœç´¢</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_iris<br><span class="hljs-keyword">from</span> sklearn.svm <span class="hljs-keyword">import</span> SVC<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split<br><br>iris = load_iris()<br><br>X_train,X_test,y_train,y_test = train_test_split(iris.data,iris.target,random_state=<span class="hljs-number">0</span>)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Size of training set:&#123;&#125; size of testing set:&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(X_train.shape[<span class="hljs-number">0</span>],X_test.shape[<span class="hljs-number">0</span>]))<br><br><span class="hljs-comment">####   grid search start</span><br>best_score = <span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> gamma <span class="hljs-keyword">in</span> [<span class="hljs-number">0.001</span>,<span class="hljs-number">0.01</span>,<span class="hljs-number">0.1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">10</span>,<span class="hljs-number">100</span>]:<br>    <span class="hljs-keyword">for</span> C <span class="hljs-keyword">in</span> [<span class="hljs-number">0.001</span>,<span class="hljs-number">0.01</span>,<span class="hljs-number">0.1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">10</span>,<span class="hljs-number">100</span>]:<br>        svm = SVC(gamma=gamma,C=C)<span class="hljs-comment">#å¯¹äºæ¯ç§å‚æ•°å¯èƒ½çš„ç»„åˆï¼Œè¿›è¡Œä¸€æ¬¡è®­ç»ƒï¼›</span><br>        svm.fit(X_train,y_train)<br>        score = svm.score(X_test,y_test)<br>        <span class="hljs-keyword">if</span> score &gt; best_score:<span class="hljs-comment">#æ‰¾åˆ°è¡¨ç°æœ€å¥½çš„å‚æ•°</span><br>            best_score = score<br>            best_parameters = &#123;<span class="hljs-string">&#x27;gamma&#x27;</span>:gamma,<span class="hljs-string">&#x27;C&#x27;</span>:C&#125;<br><span class="hljs-comment">####   grid search end</span><br><br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Best score:&#123;:.2f&#125;&quot;</span>.<span class="hljs-built_in">format</span>(best_score))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;Best parameters:&#123;&#125;&quot;</span>.<span class="hljs-built_in">format</span>(best_parameters))<br></code></pre></td></tr></table></figure><pre><code class="hljs">Size of training set:112 size of testing set:38Best score:0.97Best parameters:&#123;&#39;gamma&#39;: 0.001, &#39;C&#39;: 100&#125;</code></pre><h2 id="å­¦ä¹ æ›²çº¿å’ŒéªŒè¯æ›²çº¿">2.2 å­¦ä¹ æ›²çº¿å’ŒéªŒè¯æ›²çº¿</h2><h3 id="å­¦ä¹ æ›²çº¿">2.2.1 å­¦ä¹ æ›²çº¿</h3><p>é€šè¿‡å­¦ä¹ æ›²çº¿æ¥ç»˜åˆ¶æ¨¡å‹åœ¨è®­ç»ƒé›†å’Œäº¤å‰éªŒè¯é›†ä¸Šçš„å‡†ç¡®ç‡ï¼Œè§‚å¯Ÿæ¨¡å‹åœ¨æ–°æ•°æ®ä¸Šçš„è¡¨ç°è¿›è€Œåˆ¤æ–­æ¨¡å‹çš„æ–¹å·®æˆ–åå·®æ˜¯å¦è¿‡é«˜ï¼Œä»¥åŠå¢å¤§è®­ç»ƒé›†æ˜¯å¦å¯ä»¥å‡å°è¿‡æ‹Ÿåˆã€‚ <img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-05%201æ¨¡å‹éªŒè¯/05_3.png" /></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><br><span class="hljs-keyword">from</span> sklearn.naive_bayes <span class="hljs-keyword">import</span> GaussianNB <span class="hljs-comment"># é«˜æ–¯æœ´ç´ è´å¶æ–¯åˆ†ç±»å™¨</span><br><span class="hljs-keyword">from</span> sklearn.svm <span class="hljs-keyword">import</span> SVC <span class="hljs-comment"># æ”¯æŒå‘é‡æœºï¼ˆSVMï¼‰åˆ†ç±»å™¨</span><br><br><span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_digits <span class="hljs-comment"># æ‰‹å†™æ•°å­—æ•°æ®é›†</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> learning_curve <span class="hljs-comment"># ç»˜åˆ¶å­¦ä¹ æ›²çº¿</span><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> ShuffleSplit <span class="hljs-comment"># åˆ›å»ºéšæœºäº¤å‰éªŒè¯ç­–ç•¥</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ç»˜åˆ¶å­¦ä¹ æ›²çº¿</span><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">plot_learning_curve</span>(<span class="hljs-params">estimator, title, X, y, ylim=<span class="hljs-literal">None</span>, cv=<span class="hljs-literal">None</span>,</span><br><span class="hljs-params">                        n_jobs=<span class="hljs-number">1</span>, train_sizes=np.linspace(<span class="hljs-params"><span class="hljs-number">.1</span>, <span class="hljs-number">1.0</span>, <span class="hljs-number">5</span></span>)</span>):<br>    plt.figure()<br>    plt.title(title)<br>    <span class="hljs-keyword">if</span> ylim <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>        plt.ylim(*ylim)<br>    plt.xlabel(<span class="hljs-string">&quot;Training examples&quot;</span>)<br>    plt.ylabel(<span class="hljs-string">&quot;Score&quot;</span>)<br>    train_sizes, train_scores, test_scores = learning_curve(<br>        estimator, X, y, cv=cv, n_jobs=n_jobs, train_sizes=train_sizes)<br>    train_scores_mean = np.mean(train_scores, axis=<span class="hljs-number">1</span>)<br>    train_scores_std = np.std(train_scores, axis=<span class="hljs-number">1</span>)<br>    test_scores_mean = np.mean(test_scores, axis=<span class="hljs-number">1</span>)<br>    test_scores_std = np.std(test_scores, axis=<span class="hljs-number">1</span>)<br>    plt.grid() <span class="hljs-comment"># åœ¨ç»˜å›¾ä¸­æ·»åŠ ç½‘æ ¼çº¿</span><br><br>    plt.fill_between(train_sizes, train_scores_mean - train_scores_std,<br>                     train_scores_mean + train_scores_std, alpha=<span class="hljs-number">0.1</span>,<br>                     color=<span class="hljs-string">&quot;r&quot;</span>)<br>    plt.fill_between(train_sizes, test_scores_mean - test_scores_std,<br>                     test_scores_mean + test_scores_std, alpha=<span class="hljs-number">0.1</span>, color=<span class="hljs-string">&quot;g&quot;</span>)<br>    plt.plot(train_sizes, train_scores_mean, <span class="hljs-string">&#x27;o-&#x27;</span>, color=<span class="hljs-string">&quot;r&quot;</span>,<br>             label=<span class="hljs-string">&quot;Training score&quot;</span>)<br>    plt.plot(train_sizes, test_scores_mean, <span class="hljs-string">&#x27;o-&#x27;</span>, color=<span class="hljs-string">&quot;g&quot;</span>,<br>             label=<span class="hljs-string">&quot;Cross-validation score&quot;</span>)<br><br>    plt.legend(loc=<span class="hljs-string">&quot;best&quot;</span>)<br>    <span class="hljs-keyword">return</span> plt <br></code></pre></td></tr></table></figure><h4 id="ä»£ç è§£é‡Š-3">ä»£ç è§£é‡Š</h4><p>å®šä¹‰ <code>plot_learning_curve</code> çš„å‡½æ•°ã€‚è¯¥å‡½æ•°ç”¨äºç»˜åˆ¶å­¦ä¹ æ›²çº¿ï¼Œè¯„ä¼°æ¨¡å‹åœ¨ä¸åŒè®­ç»ƒé›†å¤§å°ä¸‹çš„æ€§èƒ½è¡¨ç°ã€‚</p><p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p><ul><li><code>estimator</code>ï¼šè¦è¯„ä¼°çš„åˆ†ç±»å™¨æˆ–å›å½’å™¨å¯¹è±¡</li><li><code>title</code>ï¼šå›¾å½¢çš„æ ‡é¢˜</li><li><code>X</code>ï¼šç‰¹å¾çŸ©é˜µ</li><li><code>y</code>ï¼šç›®æ ‡å˜é‡</li><li><code>ylim</code>ï¼šyè½´ä¸Šçš„å–å€¼èŒƒå›´</li><li><code>cv</code>ï¼šäº¤å‰éªŒè¯ç­–ç•¥å¯¹è±¡ï¼Œé»˜è®¤ä¸º<code>None</code></li><li><code>n_jobs</code>ï¼šå¹¶è¡Œå¤„ç†çš„å·¥ä½œè¿›ç¨‹æ•°ï¼Œé»˜è®¤ä¸º1</li><li><code>train_sizes</code>ï¼šå¯é€‰çš„è®­ç»ƒé›†å¤§å°ï¼Œç”¨äºç»˜åˆ¶å­¦ä¹ æ›²çº¿ï¼Œé»˜è®¤ä¸º <code>[0.1, 0.3, 0.5, 0.7, 0.9, 1.0]</code></li></ul><p><strong>å‡½æ•°å†…éƒ¨çš„æ“ä½œå¦‚ä¸‹ï¼š</strong></p><ol type="1"><li>åˆ›å»ºä¸€ä¸ªæ–°çš„å›¾å½¢å¯¹è±¡</li><li>è®¾ç½®å›¾å½¢çš„æ ‡é¢˜å’Œè½´æ ‡ç­¾</li><li>å¦‚æœæŒ‡å®šäº† <code>ylim</code> å‚æ•°ï¼Œåˆ™è®¾ç½® y è½´ä¸Šçš„å–å€¼èŒƒå›´</li><li>è°ƒç”¨ <code>learning_curve</code> æ–¹æ³•è®¡ç®—è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„å¾—åˆ† (<code>train_scores</code> å’Œ <code>test_scores</code>)ï¼Œä»¥åŠç›¸åº”çš„å‡å€¼ (<code>train_scores_mean</code> å’Œ <code>test_scores_mean</code>) å’Œæ ‡å‡†å·® (<code>train_scores_std</code> å’Œ <code>test_scores_std</code>)</li><li>ç»˜åˆ¶å­¦ä¹ æ›²çº¿å›¾å½¢ï¼šä½¿ç”¨ <code>fill_between</code> æ–¹æ³•ç»˜åˆ¶è®­ç»ƒé›†å’Œæµ‹è¯•é›†å¾—åˆ†çš„åŒºé—´èŒƒå›´ï¼Œä½¿ç”¨ <code>plot</code> æ–¹æ³•ç»˜åˆ¶è®­ç»ƒé›†å’Œæµ‹è¯•é›†å¾—åˆ†çš„å‡å€¼</li><li>æ·»åŠ å›¾ä¾‹å¹¶æ˜¾ç¤ºç½‘æ ¼çº¿</li><li>è¿”å›å›¾å½¢å¯¹è±¡</li></ol><p><strong>éƒ¨åˆ†ä»£ç è¯¦è§£ï¼š</strong></p><ol type="1"><li><code>plt.ylim(*ylim)</code><ul><li><code>plt.ylim</code> æ˜¯ Matplotlib åº“ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºè®¾ç½® y è½´ä¸Šçš„å–å€¼èŒƒå›´ã€‚è¯¥å‡½æ•°æ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œè¡¨ç¤º y è½´çš„ä¸‹é™å’Œä¸Šé™ã€‚åœ¨ä¸Šè¿°ä»£ç ä¸­ï¼Œ<code>plt.ylim(*ylim)</code> è¡¨ç¤ºå°†ä¼ å…¥çš„ <code>ylim</code> å‚æ•°è§£åŒ…ï¼Œå¹¶å°†è§£åŒ…åå¾—åˆ°çš„ä¸¤ä¸ªå€¼åˆ†åˆ«ä½œä¸ºä¸‹é™å’Œä¸Šé™ä¼ é€’ç»™ <code>plt.ylim</code> å‡½æ•°ã€‚</li><li><code>*ylim</code> ä½¿ç”¨äº† <code>*</code> è¿ç®—ç¬¦ï¼Œè¡¨ç¤ºå°† <code>ylim</code> å‚æ•°è§£åŒ…ã€‚å½“å‡½æ•°è°ƒç”¨æ—¶ï¼Œå¦‚æœä¸€ä¸ªå‚æ•°å‰é¢æœ‰ <code>*</code>ï¼Œåˆ™è¡¨ç¤ºå°†è¯¥å‚æ•°è§£åŒ…ä¸ºå¤šä¸ªç‹¬ç«‹çš„å€¼ã€‚åœ¨è¿™é‡Œï¼Œ<code>*ylim</code> çš„ä½œç”¨æ˜¯å°† <code>ylim</code> å‚æ•°è§£åŒ…ä¸ºä¸¤ä¸ªå€¼ï¼Œä»¥ä¾¿ä¼ é€’ç»™ <code>plt.ylim</code> å‡½æ•°ã€‚è§£åŒ…åçš„ç¬¬ä¸€ä¸ªå€¼å°†æˆä¸ºä¸‹é™ï¼Œç¬¬äºŒä¸ªå€¼å°†æˆä¸ºä¸Šé™ã€‚</li></ul></li></ol><hr /><ol start="2" type="1"><li><code>learning_curve</code> å‡½æ•°</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> learning_curve<br><br>train_sizes, train_scores, test_scores = learning_curve(<br>    estimator, X, y, train_sizes=<span class="hljs-literal">None</span>, cv=<span class="hljs-literal">None</span>, scoring=<span class="hljs-literal">None</span>, n_jobs=<span class="hljs-literal">None</span>, <br>    shuffle=<span class="hljs-literal">True</span>, random_state=<span class="hljs-literal">None</span>, verbose=<span class="hljs-number">0</span>, error_score=<span class="hljs-string">&#x27;raise&#x27;</span>, **kwargs)<br></code></pre></td></tr></table></figure><pre><code class="hljs">å‚æ•°è¯´æ˜ï¼š </code></pre><ul><li><code>estimator</code>: æ‰€ä½¿ç”¨çš„åˆ†ç±»æˆ–å›å½’ç®—æ³•ã€‚</li><li><code>X</code>: ç‰¹å¾çŸ©é˜µã€‚</li><li><code>y</code>: ç›®æ ‡å˜é‡ã€‚</li><li><code>train_sizes</code>: æ˜¯å¦è‡ªå®šä¹‰è®­ç»ƒé›†å¤§å°ï¼Œå¦‚æœæŒ‡å®šä¸º <code>None</code>ï¼Œåˆ™é»˜è®¤ç”Ÿæˆ 5 ä¸ªç­‰é—´éš”çš„è®­ç»ƒé›†å¤§å°ï¼Œæœ€å°å¤§å°ä¸º 0.1ï¼Œæœ€å¤§å¤§å°ä¸º 1ï¼Œå³ <code>train_sizes=np.linspace(0.1, 1.0, 5)</code>ã€‚</li><li><code>cv</code>: äº¤å‰éªŒè¯ç­–ç•¥å¯¹è±¡ï¼Œé»˜è®¤ä¸º Noneã€‚å¯ä»¥ä½¿ç”¨æ•´æ•°ã€ç”¨äºæŒ‡å®šæŠ˜å æ•°é‡çš„äº¤å‰éªŒè¯ç”Ÿæˆå™¨ï¼Œæˆ–è€…ç”¨äºåˆ’åˆ†æ•°æ®é›†çš„å¯è¿­ä»£å¯¹è±¡ã€‚</li><li><code>scoring</code>: æ¨¡å‹æ€§èƒ½è¯„ä¼°æŒ‡æ ‡ï¼Œå¯ä»¥é€‰æ‹©é¢„å®šä¹‰çš„æ€§èƒ½è¯„ä¼°æŒ‡æ ‡å­—ç¬¦ä¸²ï¼Œæˆ–è€…è‡ªå®šä¹‰çš„è¯„ä¼°å‡½æ•°ã€‚</li><li><code>n_jobs</code>: å¹¶è¡Œå¤„ç†çš„å·¥ä½œè¿›ç¨‹æ•°ï¼Œé»˜è®¤ä¸º Noneï¼Œè¡¨ç¤ºä½¿ç”¨å•ä¸ªè¿›ç¨‹ï¼ˆå¦‚æœè®¾ä¸º -1ï¼Œåˆ™ä½¿ç”¨æ‰€æœ‰å¯ç”¨çš„CPUï¼‰ã€‚</li><li><code>shuffle</code>: æ¯æ¬¡äº¤å‰éªŒè¯æ—¶ï¼Œæ˜¯å¦å¯¹è®­ç»ƒæ•°æ®é¡ºåºè¿›è¡Œéšæœºæ´—ç‰Œã€‚</li><li><code>random_state</code>: ç”¨äºç”Ÿæˆéšæœºæ•°çš„ç§å­ï¼Œè®¾å®šåå¯ä»¥ä¿è¯æ¯æ¬¡è¿è¡Œéƒ½èƒ½å¾—åˆ°ç›¸åŒçš„ç»“æœã€‚</li><li><code>verbose</code>: æ§åˆ¶è¾“å‡ºä¿¡æ¯çš„è¯¦ç»†ç¨‹åº¦ã€‚</li><li><code>error_score</code>: å¦‚æœæŸä¸ªå‚æ•°è®¾ç½®å¯¼è‡´æ¨¡å‹æ— æ³•æœ‰æ•ˆçš„è®­ç»ƒï¼Œåˆ™ä¼šäº§ç”Ÿä¸€ä¸ªé”™è¯¯åˆ†æ•°ã€‚</li></ul><pre><code class="hljs">å‡½æ•°è¿”å›ä¸‰ä¸ªæ•°ç»„ï¼š</code></pre><ul><li><code>train_sizes</code>: è®­ç»ƒé›†å¤§å°çš„æ•°ç»„ã€‚</li><li><code>train_scores</code>: æ¯ç»„è®­ç»ƒé›†å¤§å°ä¸‹æ¨¡å‹åœ¨è®­ç»ƒé›†ä¸Šçš„å¾—åˆ†çš„æ•°ç»„ã€‚</li><li><code>test_scores</code>: æ¯ç»„è®­ç»ƒé›†å¤§å°ä¸‹æ¨¡å‹åœ¨æµ‹è¯•é›†ä¸Šçš„å¾—åˆ†çš„æ•°ç»„ã€‚</li></ul><hr /><ol start="3" type="1"><li><code>plt.fill_between()</code> å‡½æ•°</li></ol><p>ç”¨äºåœ¨ä¸¤æ¡æ›²çº¿ä¹‹é—´å¡«å……é¢œè‰²æˆ–å¡«å……åŒºåŸŸã€‚å®ƒå¯ä»¥ç”¨äºå¯è§†åŒ–è¯¯å·®èŒƒå›´ã€ç½®ä¿¡åŒºé—´æˆ–æ•°æ®é›†åˆ†å¸ƒç­‰æƒ…å†µã€‚æ–‡ä¸­å³åœ¨å­¦ä¹ æ›²çº¿å›¾ä¸­å¡«å……äº†è®­ç»ƒé›†å¾—åˆ†å‡å€¼çš„ä¸Šä¸‹æ–¹å·®åŒºåŸŸã€‚å…·ä½“æ¥è¯´ï¼Œå®ƒå°†è®­ç»ƒé›†å¾—åˆ†å‡å€¼å‡å»æ ‡å‡†å·®çš„ç»“æœå’ŒåŠ ä¸Šæ ‡å‡†å·®çš„ç»“æœä¹‹é—´çš„åŒºåŸŸè¿›è¡Œå¡«å……ï¼Œå¹¶æŒ‡å®šäº†å¡«å……çš„é¢œè‰²ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.fill_between(x, y1, y2=<span class="hljs-number">0</span>, where=<span class="hljs-literal">None</span>, interpolate=<span class="hljs-literal">False</span>, step=<span class="hljs-literal">None</span>, **kwargs)<br></code></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>x</code>ï¼šè¡¨ç¤º x è½´ä¸Šçš„æ•°æ®ç‚¹ã€‚</li><li><code>y1</code>ï¼šè¡¨ç¤ºç¬¬ä¸€æ¡æ›²çº¿çš„ y å€¼ã€‚</li><li><code>y2</code>ï¼šè¡¨ç¤ºç¬¬äºŒæ¡æ›²çº¿çš„ y å€¼ï¼Œé»˜è®¤ä¸º 0ã€‚å¦‚æœè®¾ç½®ä¸ºæ•°ç»„ï¼Œåˆ™å¿…é¡»å’Œ <code>y1</code> çš„é•¿åº¦ç›¸åŒï¼Œç”¨äºå¡«å……ä¸¤æ¡æ›²çº¿ä¹‹é—´çš„åŒºåŸŸã€‚</li><li><code>where</code>ï¼šä¸€ä¸ªæ¡ä»¶æ•°ç»„æˆ–å¸ƒå°”è¡¨è¾¾å¼ï¼ŒæŒ‡å®šåº”è¯¥å¡«å……åŒºåŸŸçš„ä½ç½®ã€‚é»˜è®¤ä¸º Noneï¼Œè¡¨ç¤ºåœ¨æ•´ä¸ª x èŒƒå›´å†…å¡«å……åŒºåŸŸã€‚</li><li><code>interpolate</code>ï¼šä¸€ä¸ªå¸ƒå°”å€¼ï¼ŒæŒ‡å®šæ˜¯å¦å¯¹å¡«å……åŒºåŸŸè¿›è¡Œæ’å€¼ã€‚é»˜è®¤ä¸º Falseï¼Œè¡¨ç¤ºä¸è¿›è¡Œæ’å€¼ã€‚</li><li><code>step</code>ï¼šä¸€ä¸ªå­—ç¬¦ä¸²ï¼ŒæŒ‡å®šå¡«å……åŒºåŸŸçš„ç±»å‹ï¼Œå¯ä»¥æ˜¯ "pre"ã€"post" æˆ–è€… "mid"ã€‚é»˜è®¤ä¸º Noneï¼Œè¡¨ç¤ºä¸è¿›è¡Œä»»ä½•å˜åŒ–ã€‚</li><li><code>**kwargs</code>ï¼šå¯é€‰å‚æ•°ï¼Œç”¨äºæŒ‡å®šå¡«å……åŒºåŸŸçš„å±æ€§ï¼Œä¾‹å¦‚å¡«å……é¢œè‰²ã€é€æ˜åº¦ç­‰ã€‚</li></ul><p>å¸¸ç”¨å±æ€§å‚æ•°ï¼š</p><ul><li><code>color</code>ï¼šæŒ‡å®šå¡«å……çš„é¢œè‰²ã€‚</li><li><code>alpha</code>ï¼šæŒ‡å®šå¡«å……é¢œè‰²çš„é€æ˜åº¦ã€‚</li><li><code>edgecolor</code>ï¼šæŒ‡å®šè¾¹ç¼˜çº¿çš„é¢œè‰²ã€‚</li><li><code>linewidth</code>ï¼šæŒ‡å®šè¾¹ç¼˜çº¿çš„å®½åº¦ã€‚</li></ul><hr /><ol start="4" type="1"><li><code>plt.plot()</code> å‡½æ•° ç”¨äºç»˜åˆ¶çº¿å›¾ã€‚å¯ä»¥ç”¨æ¥å¯è§†åŒ–æ•°æ®é›†ã€ç»˜åˆ¶å‡½æ•°æ›²çº¿ç­‰ã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.plot(x, y, fmt, **kwargs)<br></code></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>x</code>ï¼šè¡¨ç¤º x è½´ä¸Šçš„æ•°æ®ç‚¹ã€‚</li><li><code>y</code>ï¼šè¡¨ç¤º y è½´ä¸Šçš„æ•°æ®ç‚¹ã€‚</li><li><code>fmt</code>ï¼šä¸€ä¸ªå¯é€‰å‚æ•°ï¼Œç”¨äºæŒ‡å®šçº¿æ¡çš„æ ·å¼ï¼ŒåŒ…æ‹¬é¢œè‰²ã€çº¿å‹å’Œæ ‡è®°ã€‚ä¾‹å¦‚ï¼Œ'b-' è¡¨ç¤ºè“è‰²å®çº¿ï¼›'g--' è¡¨ç¤ºç»¿è‰²è™šçº¿ï¼›'ro' è¡¨ç¤ºçº¢è‰²åœ†ç‚¹ã€‚å‚è€ƒä¸‹é¢çš„å±æ€§å‚æ•°éƒ¨åˆ†ã€‚</li><li><code>**kwargs</code>ï¼šå¯é€‰å‚æ•°ï¼Œç”¨äºè®¾ç½®çº¿æ¡çš„å…¶ä»–å±æ€§ï¼Œä¾‹å¦‚çº¿å®½ã€æ ‡ç­¾ã€é€æ˜åº¦ç­‰ã€‚</li></ul><p>å¸¸ç”¨çš„å±æ€§å‚æ•°ï¼š</p><ul><li><code>color</code>ï¼šæŒ‡å®šçº¿æ¡çš„é¢œè‰²ï¼Œä¾‹å¦‚ 'red'ã€'green'ã€‚</li><li><code>linestyle</code>ï¼šæŒ‡å®šçº¿æ¡çš„æ ·å¼ï¼Œä¾‹å¦‚ '-'ï¼ˆå®çº¿ï¼‰ã€'--'ï¼ˆè™šçº¿ï¼‰ã€‚</li><li><code>marker</code>ï¼šæŒ‡å®šæ ‡è®°ç±»å‹ï¼Œä¾‹å¦‚ 'o'ï¼ˆåœ†ç‚¹ï¼‰ã€'s'ï¼ˆæ–¹å—ï¼‰ã€‚</li><li><code>linewidth</code>ï¼šæŒ‡å®šçº¿æ¡çš„å®½åº¦ã€‚</li><li><code>label</code>ï¼šæŒ‡å®šçº¿æ¡çš„æ ‡ç­¾ã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python">digits = load_digits()<br>X, y = digits.data, digits.target<br><br><br>title = <span class="hljs-string">&quot;Learning Curves (Naive Bayes)&quot;</span><br><span class="hljs-comment"># Cross validation with 100 iterations to get smoother mean test and train</span><br><span class="hljs-comment"># score curves, each time with 20% data randomly selected as a validation set.</span><br>cv = ShuffleSplit(n_splits=<span class="hljs-number">100</span>, test_size=<span class="hljs-number">0.2</span>, random_state=<span class="hljs-number">0</span>)<br><br>estimator = GaussianNB()<br>plot_learning_curve(estimator, title, X, y, ylim=(<span class="hljs-number">0.7</span>, <span class="hljs-number">1.01</span>), cv=cv, n_jobs=<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><pre><code class="hljs">&lt;module &#39;matplotlib.pyplot&#39; from &#39;D:\\Development\\anaconda3\\envs\\ml\\lib\\site-packages\\matplotlib\\pyplot.py&#39;&gt;</code></pre><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-05%201æ¨¡å‹éªŒè¯/output_39_1.png" /> â€‹</p><h4 id="ä»£ç è§£é‡Š-4">ä»£ç è§£é‡Š</h4><p><code>ShuffleSplit()</code> ç”¨äºç”Ÿæˆéšæœºåˆ’åˆ†çš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†ã€‚å®ƒåœ¨æ¯æ¬¡åˆ’åˆ†æ—¶éƒ½ä¼šå¯¹æ•°æ®é›†è¿›è¡Œæ´—ç‰Œï¼ˆéšæœºæ‰“ä¹±ï¼‰ï¼Œä»¥ç¡®ä¿è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„åˆ’åˆ†æ˜¯éšæœºçš„ã€‚</p><p>ä¸¤ä¸ªä¸»è¦ä½œç”¨ï¼š</p><ol type="1"><li>è¯„ä¼°æ¨¡å‹æ€§èƒ½ï¼šé€šè¿‡å¤šæ¬¡éšæœºåˆ’åˆ†æ•°æ®é›†å¹¶åœ¨æ¯ä¸ªåˆ’åˆ†ä¸Šè®­ç»ƒå’Œè¯„ä¼°æ¨¡å‹ï¼Œå¯ä»¥å¾—åˆ°æ¨¡å‹åœ¨ä¸åŒè®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸Šçš„æ€§èƒ½æŒ‡æ ‡ï¼Œå¦‚å‡†ç¡®ç‡ã€å›å½’çš„ R2 åˆ†æ•°ç­‰ã€‚</li><li>å‚æ•°è°ƒä¼˜ï¼šé€šè¿‡äº¤å‰éªŒè¯è¯„ä¼°æ¨¡å‹çš„æ€§èƒ½ï¼Œå¯ä»¥å¸®åŠ©é€‰æ‹©æœ€ä¼˜çš„æ¨¡å‹å‚æ•°ã€‚ä¾‹å¦‚ï¼Œåœ¨ç½‘æ ¼æœç´¢è°ƒä¼˜ä¸­ä½¿ç”¨ <code>ShuffleSplit()</code> å¯ä»¥è¯„ä¼°ä¸åŒå‚æ•°ç»„åˆä¸‹çš„æ¨¡å‹æ€§èƒ½ã€‚</li></ol><p>å¸¸ç”¨å‚æ•°ï¼š</p><ul><li><code>n_splits</code>ï¼šæŒ‡å®šå°†æ•°æ®é›†åˆ’åˆ†ä¸ºå¤šå°‘ä¸ªä¸åŒçš„è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„ç»„åˆã€‚</li><li><code>test_size</code>ï¼šæŒ‡å®šæµ‹è¯•é›†çš„å¤§å°ã€‚å¯ä»¥æ˜¯ä¸€ä¸ªæ•´æ•°ï¼ˆè¡¨ç¤ºæ ·æœ¬æ•°é‡ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°ï¼ˆè¡¨ç¤ºæ¯”ä¾‹ï¼‰ã€‚</li><li><code>train_size</code>ï¼šæŒ‡å®šè®­ç»ƒé›†çš„å¤§å°ã€‚å¯ä»¥æ˜¯ä¸€ä¸ªæ•´æ•°ï¼ˆè¡¨ç¤ºæ ·æœ¬æ•°é‡ï¼‰ï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸€ä¸ªæµ®ç‚¹æ•°ï¼ˆè¡¨ç¤ºæ¯”ä¾‹ï¼‰ã€‚ä¸ <code>test_size</code> äºŒé€‰ä¸€ã€‚</li><li><code>random_state</code>ï¼šæŒ‡å®šéšæœºç§å­ã€‚ä¿æŒç›¸åŒçš„ <code>random_state</code> å€¼ä¼šå¾—åˆ°ç›¸åŒçš„éšæœºç»“æœã€‚</li></ul><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python">title = <span class="hljs-string">&quot;Learning Curves (SVM, RBF kernel, $\gamma=0.001$)&quot;</span><br><span class="hljs-comment"># SVC is more expensive so we do a lower number of CV iterations:</span><br>cv = ShuffleSplit(n_splits=<span class="hljs-number">10</span>, test_size=<span class="hljs-number">0.2</span>, random_state=<span class="hljs-number">0</span>)<br>estimator = SVC(gamma=<span class="hljs-number">0.001</span>)<br>plot_learning_curve(estimator, title, X, y, (<span class="hljs-number">0.7</span>, <span class="hljs-number">1.01</span>), cv=cv, n_jobs=<span class="hljs-number">1</span>)<br><br></code></pre></td></tr></table></figure><pre><code class="hljs">&lt;module &#39;matplotlib.pyplot&#39; from &#39;D:\\Development\\anaconda3\\envs\\ml\\lib\\site-packages\\matplotlib\\pyplot.py&#39;&gt;</code></pre><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-05%201æ¨¡å‹éªŒè¯/output_41_1.png" /> â€‹</p><h3 id="éªŒè¯æ›²çº¿">2.2.2 éªŒè¯æ›²çº¿</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">from</span> sklearn.datasets <span class="hljs-keyword">import</span> load_digits<br><span class="hljs-keyword">from</span> sklearn.svm <span class="hljs-keyword">import</span> SVC<br><span class="hljs-keyword">from</span> sklearn. model_selection <span class="hljs-keyword">import</span> validation_curve<br><br>digits = load_digits()<br>X, y = digits.data, digits.target<br><br>param_range = np.logspace(-<span class="hljs-number">6</span>, -<span class="hljs-number">1</span>, <span class="hljs-number">5</span>)<br>train_scores, test_scores = validation_curve(<br>    SVC(), X, y, param_name=<span class="hljs-string">&quot;gamma&quot;</span>, param_range=param_range,<br>    cv=<span class="hljs-number">10</span>, scoring=<span class="hljs-string">&quot;accuracy&quot;</span>, n_jobs=<span class="hljs-number">1</span>)<br>train_scores_mean = np.mean(train_scores, axis=<span class="hljs-number">1</span>)<br>train_scores_std = np.std(train_scores, axis=<span class="hljs-number">1</span>)<br>test_scores_mean = np.mean(test_scores, axis=<span class="hljs-number">1</span>)<br>test_scores_std = np.std(test_scores, axis=<span class="hljs-number">1</span>)<br><br>plt.title(<span class="hljs-string">&quot;Validation Curve with SVM&quot;</span>)<br>plt.xlabel(<span class="hljs-string">&quot;$\gamma$&quot;</span>)<br>plt.ylabel(<span class="hljs-string">&quot;Score&quot;</span>)<br>plt.ylim(<span class="hljs-number">0.0</span>, <span class="hljs-number">1.1</span>)<br>plt.semilogx(param_range, train_scores_mean, label=<span class="hljs-string">&quot;Training score&quot;</span>, color=<span class="hljs-string">&quot;r&quot;</span>)<br>plt.fill_between(param_range, train_scores_mean - train_scores_std,<br>                 train_scores_mean + train_scores_std, alpha=<span class="hljs-number">0.2</span>, color=<span class="hljs-string">&quot;r&quot;</span>)<br>plt.semilogx(param_range, test_scores_mean, label=<span class="hljs-string">&quot;Cross-validation score&quot;</span>,<br>             color=<span class="hljs-string">&quot;g&quot;</span>)<br>plt.fill_between(param_range, test_scores_mean - test_scores_std,<br>                 test_scores_mean + test_scores_std, alpha=<span class="hljs-number">0.2</span>, color=<span class="hljs-string">&quot;g&quot;</span>)<br>plt.legend(loc=<span class="hljs-string">&quot;best&quot;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-05%201æ¨¡å‹éªŒè¯/output_43_0.png" /> â€‹</p><h4 id="ä»£ç è§£é‡Š-5">ä»£ç è§£é‡Š</h4><ol type="1"><li><code>np.logspace()</code> ç”¨äºç”Ÿæˆåœ¨å¯¹æ•°åˆ»åº¦ä¸Šå‡åŒ€åˆ†å¸ƒçš„æ•°å€¼åºåˆ—ã€‚</li></ol><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">np.logspace(start, stop, <span class="hljs-attribute">num</span>=50, <span class="hljs-attribute">endpoint</span>=<span class="hljs-literal">True</span>, <span class="hljs-attribute">base</span>=10.0, <span class="hljs-attribute">dtype</span>=None)<br></code></pre></td></tr></table></figure><p>å‚æ•°è§£é‡Šï¼š</p><ul><li><code>start</code>ï¼šèµ·å§‹å€¼ï¼Œè¡¨ç¤ºæ•°åˆ—çš„èµ·ç‚¹ã€‚</li><li><code>stop</code>ï¼šç»“æŸå€¼ï¼Œè¡¨ç¤ºæ•°åˆ—çš„ç»ˆç‚¹ã€‚</li><li><code>num</code>ï¼šè¦ç”Ÿæˆçš„æ•°çš„ä¸ªæ•°ï¼Œé»˜è®¤ä¸º 50ã€‚</li><li><code>endpoint</code>ï¼šæ˜¯å¦åŒ…å«ç»ˆç‚¹å€¼ï¼Œé»˜è®¤ä¸º Trueã€‚å¦‚æœä¸º Falseï¼Œåˆ™ç”Ÿæˆçš„æ•°åˆ—ä¸åŒ…å«ç»“æŸå€¼ã€‚</li><li><code>base</code>ï¼šå¯¹æ•°çš„åº•æ•°ï¼Œé»˜è®¤ä¸º 10.0ã€‚</li><li><code>dtype</code>ï¼šè¿”å›å€¼çš„æ•°æ®ç±»å‹ã€‚</li></ul><p><code>np.logspace()</code> å‡½æ•°å°†èµ·å§‹å€¼å’Œç»“æŸå€¼åœ¨å¯¹æ•°åˆ»åº¦ä¸Šç­‰åˆ†ä¸ºæŒ‡å®šä¸ªæ•°çš„æ•°åˆ—ï¼Œå¹¶è¿”å›è¯¥æ•°åˆ—ã€‚</p><p><code>param_range = np.logspace(-6, -1, 5)</code> ç”Ÿæˆä¸€ä¸ªä» 10 çš„ -6 æ¬¡æ–¹åˆ° 10 çš„ -1 æ¬¡æ–¹ä¹‹é—´çš„ç­‰æ¯”æ•°åˆ—ï¼Œå…±åŒ…å« 5 ä¸ªå€¼ã€‚</p><hr /><ol start="2" type="1"><li><code>validation_curve()</code>å‡½æ•° ç”¨äºç»˜åˆ¶éªŒè¯æ›²çº¿ï¼ˆvalidation curveï¼‰ã€‚</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">sklearn.model_selection.validation_curve(estimator, X, y, param_name, param_range, cv=<span class="hljs-literal">None</span>, scoring=<span class="hljs-literal">None</span>, n_jobs=<span class="hljs-literal">None</span>, pre_dispatch=<span class="hljs-string">&quot;all&quot;</span>, verbose=<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><p>å‚æ•°è§£é‡Šï¼š</p><ul><li><code>estimator</code>ï¼šç”¨äºè®­ç»ƒå’Œé¢„æµ‹çš„æ¨¡å‹å¯¹è±¡ã€‚</li><li><code>X</code>ï¼šç‰¹å¾æ•°æ®ã€‚</li><li><code>y</code>ï¼šç›®æ ‡æ•°æ®ã€‚</li><li><code>param_name</code>ï¼šè¦è°ƒæ•´çš„æ§åˆ¶æ¨¡å‹è¡Œä¸ºçš„å‚æ•°åç§°ã€‚</li><li><code>param_range</code>ï¼šå‚æ•°çš„å–å€¼èŒƒå›´ã€‚</li><li><code>cv</code>ï¼šäº¤å‰éªŒè¯çš„æŠ˜æ•°ï¼Œé»˜è®¤ä¸º Noneã€‚å¦‚æœä¸ºæ•´æ•°ï¼Œåˆ™è¡¨ç¤º K æŠ˜äº¤å‰éªŒè¯ï¼›å¦‚æœä¸ºäº¤å‰éªŒè¯ç”Ÿæˆå™¨å¯¹è±¡ï¼Œåˆ™å¯ä»¥æ›´çµæ´»åœ°å®šä¹‰äº¤å‰éªŒè¯ç­–ç•¥ã€‚</li><li><code>scoring</code>ï¼šè¯„ä¼°æŒ‡æ ‡ï¼Œé»˜è®¤ä¸º Noneã€‚å¦‚æœä¸º Noneï¼Œåˆ™ä½¿ç”¨æ¨¡å‹çš„é»˜è®¤è¯„ä¼°æŒ‡æ ‡ï¼›å¦‚æœä¸ºå­—ç¬¦ä¸²æˆ–å¯è°ƒç”¨å¯¹è±¡ï¼Œåˆ™ä½¿ç”¨æŒ‡å®šçš„è¯„ä¼°æŒ‡æ ‡ã€‚</li><li><code>n_jobs</code>ï¼šå¹¶è¡Œè¿è¡Œçš„ä½œä¸šæ•°ï¼Œé»˜è®¤ä¸º Noneï¼Œè¡¨ç¤ºä½¿ç”¨å•ä¸ªè¿›ç¨‹è¿è¡Œã€‚</li><li><code>pre_dispatch</code>ï¼šæ§åˆ¶å¹¶è¡Œè¿è¡Œçš„å†…éƒ¨ä½œä¸šæ•°é‡ï¼Œé»˜è®¤ä¸º "all"ï¼Œè¡¨ç¤ºå¹¶è¡Œè¿è¡Œæ‰€æœ‰ä½œä¸šã€‚</li><li><code>verbose</code>ï¼šè¯¦ç»†ç¨‹åº¦ï¼Œé»˜è®¤ä¸º 0ï¼Œè¡¨ç¤ºä¸è¾“å‡ºæ‰§è¡Œä¿¡æ¯ï¼›å¤§äº 0 çš„å€¼è¡¨ç¤ºè¾“å‡ºä¸€äº›æ‰§è¡Œä¿¡æ¯ã€‚</li></ul><p><code>validation_curve()</code> å‡½æ•°é€šè¿‡åœ¨ç»™å®šå‚æ•°çš„ä¸åŒå–å€¼ä¸Šè®¡ç®—è®­ç»ƒå¾—åˆ†å’ŒéªŒè¯å¾—åˆ†ï¼Œç»˜åˆ¶äº†æ¨¡å‹å¤æ‚åº¦ï¼ˆå‚æ•°ï¼‰ä¸æ€§èƒ½ä¹‹é—´çš„å…³ç³»æ›²çº¿ã€‚å®ƒæœ‰åŠ©äºåˆ¤æ–­æ¨¡å‹åœ¨ä¸åŒå‚æ•°å–å€¼ä¸‹çš„è¿‡/æ¬ æ‹Ÿåˆæƒ…å†µï¼Œå¹¶é€‰æ‹©æœ€ä½³å‚æ•°å–å€¼ã€‚</p><p>è¿”å›å€¼ï¼š</p><ul><li>è¿”å›ä¸€ä¸ªåŒ…å«è®­ç»ƒå¾—åˆ†å’ŒéªŒè¯å¾—åˆ†çš„å…ƒç»„ <code>(train_scores, test_scores)</code>ã€‚æ¯ä¸ªå¾—åˆ†éƒ½æ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„ï¼Œè¡Œæ•°è¡¨ç¤ºä¸åŒå‚æ•°å–å€¼ï¼Œåˆ—æ•°è¡¨ç¤ºäº¤å‰éªŒè¯çš„æ¬¡æ•°ã€‚</li></ul><p>æœ¬ç¤ºä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ SVM æ¨¡å‹å¯¹ iris æ•°æ®é›†è¿›è¡Œè®­ç»ƒã€‚<code>param_name="gamma"</code> è¡¨ç¤ºå°†è°ƒæ•´ gamma å‚æ•°çš„å€¼ã€‚<code>param_range</code> å®šä¹‰äº† gamma å‚æ•°çš„å–å€¼èŒƒå›´ã€‚</p><p><code>cv=5</code> è¡¨ç¤ºè¿›è¡Œ 5 æŠ˜äº¤å‰éªŒè¯ã€‚<code>scoring="accuracy"</code> è¡¨ç¤ºè¯„ä¼°æŒ‡æ ‡ä¸ºå‡†ç¡®ç‡ã€‚</p><hr /><ol start="3" type="1"><li><code>plt.semilogx()</code> å‡½æ•° åœ¨ x è½´ä¸ºå¯¹æ•°åˆ»åº¦çš„æƒ…å†µä¸‹ï¼Œç»˜åˆ¶æ›²çº¿ã€‚</li></ol><p><code>plt.semilogx(param_range, train_scores_mean, label="Training score", color="r")</code> ä¸­ï¼š</p><ul><li><code>param_range</code>ï¼šè¡¨ç¤º x è½´ä¸Šçš„æ•°æ®ç‚¹ä½ç½®ã€‚</li><li><code>train_scores_mean</code>ï¼šè¡¨ç¤º y è½´ä¸Šçš„æ•°æ®ç‚¹ä½ç½®ã€‚</li><li><code>label="Training score"</code>ï¼šæŒ‡å®šå›¾ä¾‹ä¸­è¦æ˜¾ç¤ºçš„æ›²çº¿åç§°ä¸º "Training score"ã€‚</li><li><code>color="r"</code>ï¼šæŒ‡å®šæ›²çº¿çš„é¢œè‰²ä¸ºçº¢è‰²ã€‚</li></ul><hr /><ol start="4" type="1"><li><code>plt.legend()</code> å‡½æ•° ç”¨äºæ·»åŠ å›¾ä¾‹ã€‚</li></ol><p><code>plt.legend(loc="best")</code> çš„ä½œç”¨æ˜¯æ ¹æ®å·²ç»æ ‡è¯†çš„çº¿æ¡å¯¹åº”çš„æ ‡ç­¾åç§°ï¼Œè‡ªåŠ¨åœ¨æœ€ä½³ä½ç½®æ·»åŠ å›¾ä¾‹ã€‚å…¶ä¸­ <code>loc</code> å‚æ•°æŒ‡å®šäº†å›¾ä¾‹çš„ä½ç½®ï¼Œ"best" è¡¨ç¤ºè‡ªåŠ¨é€‰æ‹©æœ€ä½³ä½ç½®ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å…·ä½“çš„åæ ‡ç³»ä½ç½®æˆ–å­—ç¬¦ä¸²è¡¨ç¤ºæ¥æŒ‡å®šå›ºå®šçš„ä½ç½®ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ å®æˆ˜å…¥é—¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123</title>
    <link href="/2023/08/30/C%E8%AF%AD%E8%A8%8001-C%E8%AF%AD%E8%A8%80%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86123/"/>
    <url>/2023/08/30/C%E8%AF%AD%E8%A8%8001-C%E8%AF%AD%E8%A8%80%E7%9A%84%E5%9F%BA%E7%A1%80%E7%9F%A5%E8%AF%86123/</url>
    
    <content type="html"><![CDATA[<h1 id="cè¯­è¨€01-cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123">Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123</h1><p>æœ¬ç« é‡ç‚¹</p><ul><li>ç¬¬ä¸€ä¸ªCè¯­è¨€ç¨‹åº</li><li>æ•°æ®ç±»å‹</li><li>å˜é‡ã€å¸¸é‡</li><li>å­—ç¬¦ä¸²+è½¬ä¹‰å­—ç¬¦+æ³¨é‡Š</li><li>é€‰æ‹©è¯­å¥</li><li>å¾ªç¯è¯­å¥</li><li>å‡½æ•°</li><li>æ•°ç»„</li><li>æ“ä½œç¬¦</li><li>å¸¸è§å…³é”®å­—</li><li>define å®šä¹‰å¸¸é‡å’Œå®</li><li>æŒ‡é’ˆ</li></ul><h1 id="ç¬¬ä¸€ä¸ªcè¯­è¨€ç¨‹åº">1 ç¬¬ä¸€ä¸ªCè¯­è¨€ç¨‹åº</h1><ol type="1"><li><p>æ‰“å¼€VS</p></li><li><p>åˆ›å»ºé¡¹ç›® <img src="/img/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123/5.png" /></p></li><li><p>åˆ›å»ºæºæ–‡ä»¶</p></li></ol><p><img src="/img/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123/7.png" /></p><p><img src="/img/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123/8.png" /></p><ol start="4" type="1"><li>æ‰“å° hello word</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;hello word\n&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è§£é‡Šï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// 1ã€ä¸»å‡½æ•°</span><br><span class="hljs-comment">// cè¯­è¨€ä»£ç ä¸­ä¸€å®šè¦æœ‰mainå‡½æ•°ï¼Œä¸»å‡½æ•°</span><br><span class="hljs-comment">// ä¸»å‡½æ•°å†™æ³•</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">// 2ã€#include &lt;stdio.h&gt;</span><br><span class="hljs-comment">// printfæ˜¯ä¸€ä¸ªåº“å‡½æ•°ï¼Œä¸“é—¨ç”¨æ¥æ‰“å°æ•°æ®çš„</span><br><span class="hljs-comment">// ä¸èƒ½ç›´æ¥ç”¨,éœ€è¦åŒ…å«&lt;stdio.h&gt;å¤´æ–‡ä»¶ï¼Œå³ï¼š#include &lt;stdio.h&gt;</span><br><span class="hljs-comment">// std - æ ‡å‡†</span><br><span class="hljs-comment">// i - input</span><br><span class="hljs-comment">// o - output</span><br><br><span class="hljs-comment">// 3ã€/n æ¢è¡Œ æ‰“å°å®Œæ¢è¡Œ</span><br><br><span class="hljs-comment">// 4ã€return 0;</span><br><span class="hljs-comment">// ä»£ç æ­£å¸¸è¿è¡Œï¼Œè¿”å›0ï¼Œå¼‚å¸¸è¿”å›é0.</span><br><br><br></code></pre></td></tr></table></figure><h1 id="æ•°æ®ç±»å‹">2 æ•°æ®ç±»å‹</h1><table><thead><tr class="header"><th>æ•°æ®ç±»å‹</th><th style="text-align: left;">è¯´æ˜</th><th>å­—èŠ‚</th></tr></thead><tbody><tr class="odd"><td>char</td><td style="text-align: left;">å­—ç¬¦æ•°æ®ç±»å‹</td><td>1</td></tr><tr class="even"><td>short</td><td style="text-align: left;">çŸ­æ•´å‹</td><td>2</td></tr><tr class="odd"><td>int</td><td style="text-align: left;">æ•´å½¢</td><td>4</td></tr><tr class="even"><td>long</td><td style="text-align: left;">é•¿æ•´å‹</td><td>4</td></tr><tr class="odd"><td>long long</td><td style="text-align: left;">æ›´é•¿çš„æ•´å½¢</td><td>8</td></tr><tr class="even"><td>float</td><td style="text-align: left;">å•ç²¾åº¦æµ®ç‚¹æ•°</td><td>4</td></tr><tr class="odd"><td>double</td><td style="text-align: left;">åŒç²¾åº¦æµ®ç‚¹æ•°</td><td>8</td></tr></tbody></table><h1 id="å˜é‡å¸¸é‡">3 å˜é‡ã€å¸¸é‡</h1><p>ç”Ÿæ´»ä¸­çš„æœ‰äº›å€¼æ˜¯ä¸å˜çš„ï¼ˆæ¯”å¦‚ï¼šåœ†å‘¨ç‡ï¼Œæ€§åˆ«ï¼Œèº«ä»½è¯å·ç ï¼Œè¡€å‹ç­‰ç­‰ï¼‰ æœ‰äº›å€¼æ˜¯å¯å˜çš„ï¼ˆæ¯”å¦‚ï¼šå¹´é¾„ï¼Œä½“é‡ï¼Œè–ªèµ„ã€‚ ä¸å˜çš„å€¼ï¼ŒCè¯­è¨€ä¸­ç”¨<strong>å¸¸é‡</strong>çš„æ¦‚å¿µæ¥è¡¨ç¤ºï¼Œå˜å¾—å€¼Cè¯­è¨€ä¸­ç”¨<strong>å˜é‡</strong>æ¥è¡¨ç¤ºã€‚</p><h2 id="å˜é‡å®šä¹‰æ–¹æ³•">3.1 å˜é‡å®šä¹‰æ–¹æ³•</h2><p>æ•°æ®ç±»å‹ å˜é‡å = å€¼</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> age = <span class="hljs-number">150</span>;<br></code></pre></td></tr></table></figure><h2 id="å˜é‡çš„ä½¿ç”¨">3.2 å˜é‡çš„ä½¿ç”¨</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> _CRT_SECURE_NO_WARNINGS</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-comment">// 1.åˆå§‹åŒ–</span><br><span class="hljs-type">int</span> num1 = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> num2 = <span class="hljs-number">0</span>;<br> <br><span class="hljs-comment">// è¾“å…¥ä¸¤ä¸ªæ•´æ•°</span><br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>,&amp;num1,&amp;num2); <span class="hljs-comment">// æŒ‰ä¸¤ä¸ªæ•´å‹æ•°å€¼è¯»å–ï¼Œè¯»å–åæ”¾å…¥åˆ°num1 num2ä¸­ï¼Œ</span><br><span class="hljs-comment">// %d å ä½ç¬¦ï¼Œä¸¤ä¸ªæ•´æ•°ã€‚&amp;numï¼Œå–åœ°å€ï¼Œscanféœ€è¦åœ°å€ï¼Œ&amp;å–åœ°å€ã€‚</span><br><span class="hljs-comment">// scanfå®‰å…¨é—®é¢˜è§£å†³,é¦–è¡ŒåŠ å…¥ï¼š#define _CRT_SECURE_NO_WARNINGS</span><br><br><span class="hljs-comment">// 2.æ±‚å’Œ</span><br><span class="hljs-type">int</span> sum = num1+num2;<br><br><span class="hljs-comment">// 3.è¾“å‡º</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,sum)<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å˜é‡çš„ä½œç”¨åŸŸå’Œç”Ÿå‘½å‘¨æœŸ">3.3 å˜é‡çš„ä½œç”¨åŸŸå’Œç”Ÿå‘½å‘¨æœŸ</h2><p><strong>ä½œç”¨åŸŸ</strong></p><p>ä½œç”¨åŸŸï¼ˆscopeï¼‰æ˜¯ç¨‹åºè®¾è®¡æ¦‚å¿µï¼Œé€šå¸¸æ¥è¯´ï¼Œä¸€æ®µç¨‹åºä»£ç ä¸­æ‰€ç”¨åˆ°çš„åå­—å¹¶ä¸æ€»æ˜¯æœ‰æ•ˆ/å¯ç”¨çš„,è€Œé™å®šè¿™ä¸ªåå­—çš„å¯ç”¨æ€§çš„ä»£ç èŒƒå›´å°±æ˜¯è¿™ä¸ªåå­—çš„ä½œç”¨åŸŸã€‚</p><ol type="1"><li><p>å±€éƒ¨å˜é‡çš„ä½œç”¨åŸŸæ˜¯å˜é‡æ‰€åœ¨çš„å±€éƒ¨èŒƒå›´ã€‚</p></li><li><p>å…¨å±€å˜é‡çš„ä½œç”¨åŸŸæ˜¯æ•´ä¸ªå·¥ç¨‹ã€‚</p></li></ol><p><strong>ç”Ÿå‘½å‘¨æœŸ</strong></p><p>å˜é‡çš„ç”Ÿå‘½å‘¨æœŸæŒ‡çš„æ˜¯å˜é‡çš„åˆ›å»ºåˆ°å˜é‡çš„é”€æ¯ä¹‹é—´çš„ä¸€ä¸ªæ—¶é—´æ®µ</p><ol type="1"><li><p>å±€éƒ¨å˜é‡çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ï¼šè¿›å…¥ä½œç”¨åŸŸç”Ÿå‘½å‘¨æœŸå¼€å§‹ï¼Œå‡ºä½œç”¨åŸŸç”Ÿå‘½å‘¨æœŸç»“æŸã€‚</p></li><li><p>å…¨å±€å˜é‡çš„ç”Ÿå‘½å‘¨æœŸæ˜¯ï¼šæ•´ä¸ªç¨‹åºçš„ç”Ÿå‘½å‘¨æœŸã€‚</p></li></ol><h2 id="å¸¸é‡">3.3 å¸¸é‡</h2><p>Cè¯­è¨€ä¸­çš„å¸¸é‡å’Œå˜é‡çš„å®šä¹‰çš„å½¢å¼æœ‰æ‰€å·®å¼‚ã€‚</p><p>Cè¯­è¨€ä¸­çš„å¸¸é‡åˆ†ä¸ºä»¥ä¸‹å››ç§ï¼š</p><ol type="1"><li>å­—é¢å¸¸é‡ï¼Œè‡ªèº«å°±æ˜¯å¸¸é‡ï¼Œå­—é¢æ„ä¹‰çš„å¸¸é‡</li><li>ç”± <code>const</code> ä¿®é¥°çš„å¸¸å˜é‡</li><li>ç”± <code>#define</code> å®šä¹‰çš„æ ‡è¯†ç¬¦å¸¸é‡</li><li>æšä¸¾å¸¸é‡</li></ol><h2 id="å­—é¢å¸¸é‡">3.1 å­—é¢å¸¸é‡</h2><p>ä¾‹å¦‚ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span>  <br>&#123;  <br>Â Â  Â <span class="hljs-number">30</span>;<span class="hljs-comment">//æ•°å­—å¸¸é‡  </span><br>Â Â  Â <span class="hljs-string">&#x27;a&#x27;</span>;<span class="hljs-comment">//å­—ç¬¦å¸¸é‡  </span><br>Â Â  Â <span class="hljs-string">&#x27;abcd&#x27;</span>;<span class="hljs-comment">//å­—ç¬¦ä¸²å¸¸é‡  </span><br>Â Â  Â <span class="hljs-comment">//ä»¥ä¸Šå¸¸é‡å¯ä»¥ç›´æ¥è¾“å‡º  </span><br>Â Â  Â <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;30,&#x27;a&#x27;,&#x27;abcd&#x27;&quot;</span>);  <br>Â Â  Â <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;  <br>&#125;<br></code></pre></td></tr></table></figure><h2 id="ç”±-const-ä¿®é¥°çš„å¸¸å˜é‡">3.2 ç”± <code>const</code> ä¿®é¥°çš„å¸¸å˜é‡</h2><p>å®šä¹‰å¸¸é‡æ–¹å¼ï¼š<code>const æ•°æ®ç±»å‹ å¸¸é‡å = å€¼;</code></p><p>ç”±constå®šä¹‰çš„å¸¸å˜é‡æœ¬è´¨ä¸Šä¾æ—§ä¸ºå˜é‡ï¼Œä½†å…¶å…·æœ‰==ä¸å¯å˜==çš„å±æ€§Â ;</p><p>é¦–å…ˆå˜é‡å¯ä»¥ä¿®æ”¹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> n = <span class="hljs-number">10</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;n1=%d\n&quot;</span>,n);<br>n = <span class="hljs-number">20</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;n2=%d\n&quot;</span>,n);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç”¨constå®šä¹‰åï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">const</span> <span class="hljs-type">int</span> n = <span class="hljs-number">10</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;n1=%d\n&quot;</span>, n);<br>n = <span class="hljs-number">20</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;n2=%d\n&quot;</span>, n);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æŠ¥é”™ï¼š</p><p><img src="/img/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123/1.jpg" /></p><p><strong>è§£é‡Šï¼š</strong> å˜é‡ n çš„å€¼æ˜¯å¯ä»¥åç»­èµ‹å€¼æ”¹å˜çš„ï¼Œä½†ç”¨constå®šä¹‰ä¹‹åï¼Œç¼–è¯‘å™¨ä¸å…è®¸ä¿®æ”¹å…¶å€¼ï¼Œå…¶å€¼ä¸å¯å†æ”¹å˜ï¼Œå¦‚æœå†æ¬¡è¢«èµ‹å€¼å°±ä¼šè¢«æŠ¥é”™ã€‚</p><p>åœ¨cè¯­è¨€ä¸­ï¼Œconstä¿®é¥°çš„ n ,<strong>æœ¬è´¨</strong>æ˜¯å˜é‡ï¼Œä½†æ˜¯ä¸èƒ½è¢«ä¿®æ”¹ï¼Œæœ‰å¸¸é‡çš„å±æ€§ï¼ŒåŒæ ·å› ä¸ºæ˜¯å˜é‡ä¹Ÿä¸å¯ç”¨äºæ•°ç»„çš„å®šä¹‰ã€‚</p><h2 id="ç”±-define-å®šä¹‰çš„æ ‡è¯†ç¬¦å¸¸é‡">3.3 ç”± <code>#define</code> å®šä¹‰çš„æ ‡è¯†ç¬¦å¸¸é‡</h2><p>å®šä¹‰æ–¹å¼ï¼š`<code>#define å¸¸é‡å å€¼</code></p><p>ç”± <code>#define</code> å®šä¹‰çš„æ ‡è¯†ç¬¦å¸¸é‡ï¼Œå¯è§†ä¸ºä¸€èˆ¬çš„å­—é¢å¸¸é‡ï¼Œä¸å¯ä¿®æ”¹ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX 100</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> STR <span class="hljs-string">&quot;str&quot;</span> </span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,MAX);<br><span class="hljs-type">int</span> a = MAX;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;a=%d&quot;</span>,a);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>,STR);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨ï¼š<code>#define</code> å®šä¹‰çš„ä¸ä¸€å®šæ˜¯æ•´æ•°ç±»å‹çš„ã€‚</p><h2 id="æšä¸¾å¸¸é‡">3.4 æšä¸¾å¸¸é‡</h2><p>ç”Ÿæ´»ä¸­æœ‰äº›å€¼å¯ä»¥ä¸€ ä¸€åˆ—ä¸¾å‡ºæ¥çš„ï¼Œæ¯”å¦‚æ€§åˆ«ï¼ˆç”·ã€å¥³ï¼‰ï¼Œä¸‰åŸè‰²ï¼ˆçº¢ã€ç»¿ã€è“ï¼‰ç­‰ï¼Œå°†è¿™äº›å¯èƒ½çš„å–å€¼æšä¸¾å‡ºæ¥ï¼Œæœªæ¥å¯èƒ½çš„å–å€¼å³ä¸ºæšä¸¾å¸¸é‡ã€‚</p><p>çœ‹ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Color</span> // å£°æ˜å˜é‡(ä¸‰åŸè‰²)</span><br><span class="hljs-class">&#123;</span><br><span class="hljs-comment">//æœªæ¥å¯èƒ½çš„å–å€¼,å³æšä¸¾å¸¸é‡</span><br>RED, <span class="hljs-comment">// å¯¹åº”çš„å€¼ä»0å¼€å§‹</span><br>GERRN,<br>BLUE<br>&#125;;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Color</span> <span class="hljs-title">c</span> =</span> RED;<br><span class="hljs-comment">// RED = 10; // æŠ¥é”™ï¼Œæšä¸¾å¸¸é‡ä¸å¯ä¿®æ”¹</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="å­—ç¬¦ä¸²è½¬ä¹‰å­—ç¬¦æ³¨é‡Š">4 å­—ç¬¦ä¸²+è½¬ä¹‰å­—ç¬¦+æ³¨é‡Š</h1><h2 id="å­—ç¬¦ä¸²">4.1 å­—ç¬¦ä¸²</h2><ul><li><code>"abcdef"</code> è¿™ç§ç”±åŒå¼•å·å¼•èµ·æ¥çš„ä¸€ä¸²å­—ç¬¦ï¼Œç§°ä¸ºå­—ç¬¦ä¸²å­—é¢å€¼ï¼Œæˆ–è€…ç®€ç§°å­—ç¬¦ä¸²ã€‚</li><li>å­—ç¬¦ä¸²å°±æ˜¯å­—ç¬¦æ•°ç»„ï¼Œå¥½å¤šä¸ªå­—ç¬¦ä¸²èµ·æ¥çš„ä¸€ç»„æ•°æ®ã€‚</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">char</span> c = <span class="hljs-string">&#x27;c&#x27;</span>;<span class="hljs-comment">//å®šä¹‰äº†ä¸€ä¸ªå­—ç¬¦æ•°æ®ç±»å‹c</span><br><br><span class="hljs-string">&quot;abcdef&quot;</span> ;<span class="hljs-comment">// è¿™ç§ç”±åŒå¼•å·å¼•èµ·æ¥çš„ä¸€ä¸²å­—ç¬¦ç§°ä¸ºå­—ç¬¦ä¸²å­—é¢å€¼ï¼Œæˆ–è€…ç®€ç§°å­—ç¬¦ä¸²ã€‚</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨ï¼š</strong> cè¯­è¨€ä¸­æœ‰å­—ç¬¦ç±»å‹æ²¡æœ‰å­—ç¬¦ä¸²ç±»å‹ï¼Œè‹¥æƒ³å­˜å‚¨éœ€è¦æ”¾å…¥å­—ç¬¦æ•°ç»„ä¸­ã€‚</p><p>å¦‚ä¸‹ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">char</span> arr[] = <span class="hljs-string">&quot;abcdef&quot;</span>; <span class="hljs-comment">// å­˜å‚¨å­—ç¬¦ä¸²</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ—¢ç„¶å­—ç¬¦ä¸²å­˜å‚¨åœ¨å­—ç¬¦æ•°ç»„ä¸­ï¼Œé‚£ä¹ˆæ•°ç»„ä¸­å­˜å‚¨äº†å“ªäº›ä¸œè¥¿å‘¢ï¼Ÿ</p><ol type="1"><li>åœ¨VSä¸­æŒ‰F10å¯¹ä»£ç è¿›è¡Œè°ƒè¯•ï¼Œé¡µé¢å·¦ç«¯ä¼šæ˜¾ç¤ºé»„è‰²çš„å°ä¸‰è§’ï¼ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼‰ï¼Œä¸‰è§’å·åˆ°å“ªè¡Œä»£ç å³è¿è¡Œåˆ°å“ªè¡Œï¼ŒæŒ‰ä¸€æ¬¡F10 è¿è¡Œä¸€è¡Œï¼Œç›´åˆ°è¿è¡Œåˆ°æœ€åä¸€è¡Œã€‚</li></ol><p><img src="/img/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123/2.jpg" /></p><ol start="2" type="1"><li>è°ƒè¯•åï¼Œç‚¹å‡» <code>è°ƒè¯•-&gt;çª—å£-&gt;ç›‘è§†-&gt;ç›‘è§†(1)</code></li></ol><p><img src="/img/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123/3.jpg" /></p><ol start="3" type="1"><li>è¾“å…¥ç›‘è§†çš„å¯¹è±¡ï¼Œæ­¤æ–‡ä¸­ä¸º<code>arr</code> , å¹¶å±•å¼€ã€‚</li></ol><p><img src="/img/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123/4.jpg" /></p><p>æˆ‘ä»¬å‘ç°æ•°ç»„<code>arr</code>å¤§å°ä¸º7å¹¶ä¸æ˜¯6ï¼Œé™¤äº†æ‰€è¦å­˜å‚¨çš„ <code>abcdef</code> å¤–è¿˜å¦å¤–æ”¾å…¥äº† <code>\0</code> ï¼Œè¯´æ˜è¿˜é»˜è®¤å­˜å‚¨äº†ä¸€ä¸ª <code>\0</code> ï¼Œè¿™ä¸ª <code>\0</code> å³ä¸ºå­—ç¬¦ä¸²çš„<strong>ç»“æŸæ ‡å¿—</strong>ã€‚</p><p><strong><code>\0</code> ä½œä¸ºå­—ç¬¦ä¸²çš„ç»“æŸæ ‡å¿—éå¸¸é‡è¦</strong></p><p>ä¸ºä»€ä¹ˆé‡è¦å‘¢ï¼Ÿ</p><p>æ€è€ƒä»¥ä¸‹ä»£ç è¾“å‡ºç»“æœï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">char</span> arr1[] = <span class="hljs-string">&quot;abcdef&quot;</span>;<br><span class="hljs-type">char</span> arr2[] = &#123; <span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>,<span class="hljs-string">&#x27;d&#x27;</span>,<span class="hljs-string">&#x27;e&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span> &#125;;<br><span class="hljs-type">char</span> arr3[] = &#123; <span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>,<span class="hljs-string">&#x27;d&#x27;</span>,<span class="hljs-string">&#x27;e&#x27;</span>,<span class="hljs-string">&#x27;f&#x27;</span>,<span class="hljs-string">&#x27;\0&#x27;</span>&#125;;<br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, arr1); <span class="hljs-comment">// %s ä¸ºè¾“å‡ºå­—ç¬¦ä¸²</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, arr2);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, arr3);<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>è¾“å‡ºç»“æœï¼š</p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs ruby">abc<span class="hljs-keyword">def</span><br><span class="hljs-title function_">abcdef</span>çƒ«çƒ«çƒ«çƒ«çƒ«abc<span class="hljs-keyword">def</span><br><span class="hljs-title function_">abcdef</span><br></code></pre></td></tr></table></figure><p><strong>è§£é‡Šï¼š</strong></p><ol type="1"><li>é¦–å…ˆæŸ¥çœ‹ä¸€ä¸‹ arr1 å’Œ arr2 å­˜å‚¨çš„å†…å®¹</li></ol><p><img src="/img/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123/10.png" /></p><p>arr1ç”¨å­—ç¬¦ä¸²åˆå§‹åŒ–ï¼Œç¼–è¯‘ç³»ç»Ÿä¼šè‡ªåŠ¨åŠ å…¥ <code>\0</code> ï¼Œæ‰€ä»¥arr1ä¸­æœ‰ <code>\0</code> ; å½“æˆ‘ä»¬ä¸»åŠ¨ç»™arr2ä¸­æ”¾å…¥ <code>abcdef</code> ï¼Œæ•°ç»„ä¸­å¹¶æ²¡æœ‰ <code>\0</code> ã€‚</p><ol start="2" type="1"><li>å½“æˆ‘ä»¬ç”¨ <code>%s</code> è¾“å‡ºå­—ç¬¦ä¸²æ—¶ï¼Œè¾“å‡ºç»“æœä¸ºï¼š</li></ol><p><img src="/img/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123/9.png" /></p><p>å­—ç¬¦ä¸²ä½œä¸ºä¸€ç»´æ•°ç»„å­˜æ”¾åœ¨å†…å­˜ä¸­ï¼Œå½“ç¨‹åºé‡åˆ° <code>\0</code> æ—¶åˆ¤æ–­å­—ç¬¦ä¸²ç»“æŸï¼Œå¦‚æœæ²¡é‡åˆ°ï¼Œç¼–è¯‘å™¨è‡ªåŠ¨å‘åæ‰“å°ç›´åˆ°é‡è§ <code>\0</code> ç»“æŸ ã€‚</p><p><strong>å¯¹äºarr1</strong> <img src="/img/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123/11.png" /> æ•°ç»„ arr1 ä» <code>a</code> å¼€å§‹è¾“å‡ºï¼Œé‡åˆ° <code>\0</code> ç»“æŸï¼Œarr1æ˜¯ä»¥å­—ç¬¦ä¸²åˆå§‹åŒ–ï¼Œæ‰€ä»¥ç¼–è¯‘ç³»ç»Ÿä¼šé»˜è®¤åŠ å…¥ <code>\0</code> ã€‚ åœ¨è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦çš„æ—¶å€™<code>\0</code> æ˜¯ç»“æŸ<strong>æ ‡å¿—</strong>ï¼Œä¸ç®—ä½œå­—ç¬¦ä¸²å†…å®¹ï¼Œä¸æ‰“å°ã€‚æ‰€ä»¥arr1æ‰“å°ç»“æœä¸º <code>abcdef</code></p><p><strong>å¯¹äºarr2</strong> <img src="/img/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123/12.png" /> å½“æˆ‘ä»¬ä¸»åŠ¨ç»™arr2ä¸­æ”¾å…¥ <code>abcdef</code> ï¼Œç¼–è¯‘ç³»ç»Ÿå¹¶ä¸ä¼šè‡ªåŠ¨åŠ å…¥ <code>\0</code>ã€‚ æ•°ç»„arr2ä¹Ÿæ˜¯ä» <code>a</code> å¼€å§‹æ‰“å°ï¼Œä½†æ˜¯ä¸åŒçš„æ˜¯ arr2 ä¸­å¹¶æ²¡æœ‰ <code>\0</code> ï¼Œè€Œä¸”arr2åé¢è¿˜æœ‰å†…å­˜ï¼Œå†…å­˜ä¸­å­˜å‚¨äº†å…¶ä»–å†…å®¹ï¼Œæ‰€ä»¥ç¨‹åºç»§ç»­å¾€åæ‰“å°ï¼Œç›´åˆ°é‡åˆ°äº†ä¸€ä¸ª <code>\0</code> ç»“æŸæ‰“å°ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆarr2ä¼šæ‰“å°æˆ‘ä»¬æŒ‡å®šå¤–çš„å†…å®¹ã€‚</p><p><strong>å¯¹äºarr3</strong> <img src="/img/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123/13.png" /> arr3ä¸­ä¸»åŠ¨æ·»åŠ  <code>\0</code> å’Œarr1æ•ˆæœç›¸åŒã€‚</p><hr /><p>å¦ä¸€ä¸ªæ¡ˆä¾‹ï¼šç”¨ <code>strlen</code> æ±‚å­—ç¬¦ä¸²é•¿åº¦</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;string.h&gt;</span></span><br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">char</span> arr1[] = &#123;<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>&#125;;<br><span class="hljs-type">char</span> arr2[<span class="hljs-number">4</span>] = &#123;<span class="hljs-string">&#x27;a&#x27;</span>,<span class="hljs-string">&#x27;b&#x27;</span>,<span class="hljs-string">&#x27;c&#x27;</span>&#125;;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,<span class="hljs-built_in">strlen</span>(arr1));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,<span class="hljs-built_in">strlen</span>(arr2));<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>ç»“æœï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c">arr1 éšæœº<br>arr2 ä¸º<span class="hljs-number">3</span><br></code></pre></td></tr></table></figure><p>å› ä¸º <code>strlen</code> æ˜¯è®¡ç®—å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œarr1ä¸­æ²¡æœ‰ <code>\0</code> æ‰€ä»¥ä¸çŸ¥é“å­—ç¬¦ä¸²ä»€ä¹ˆæ—¶å€™æˆªæ­¢ï¼Œé•¿åº¦éšæœºã€‚</p><p>å¯¹äºarr2ï¼Œé•¿åº¦ä¸º4ï¼Œä½†æ˜¯åªæ”¾å…¥äº†3ä¸ªå€¼ï¼Œä¸ºä¸å®Œå…¨åˆå§‹åŒ–ï¼Œæœªæ”¾å…¥å€¼çš„ä½ç½®é»˜è®¤ä¸º 0 ï¼Œæ•°å­—0å¯¹åº”çš„å€¼ä¸º0ï¼Œ<code>\0</code> å¯¹åº”çš„ASCIIå€¼ä¹Ÿä¸º0ï¼Œè¿™ä¸¤ä¸ªæœ¬è´¨æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œæ‰€ä»¥ç¼–è¯‘å™¨é‡åˆ°äº†å€¼0ï¼Œå°±ä½œä¸ºå­—ç¬¦ä¸²çš„ç»“æŸæ ‡å¿—ï¼Œæ‰€ä»¥arr2çš„å­—ç¬¦ä¸²é•¿åº¦åªæœ‰3ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-number">0</span> - æ•°å­—é›¶ï¼Œå€¼ä¸º<span class="hljs-number">0</span><br><span class="hljs-string">&#x27;0&#x27;</span> - å­—ç¬¦é›¶ï¼ŒASCIIå€¼ä¸º<span class="hljs-number">48</span><br><span class="hljs-string">&#x27;\0&#x27;</span> - å­—ç¬¦ï¼ŒASCIIå€¼ä¸º<span class="hljs-number">0</span><br></code></pre></td></tr></table></figure><p>==æ€»ç»“ï¼š==</p><ul><li>cè¯­è¨€ä¸­æ²¡æœ‰å­—ç¬¦ä¸²ç±»å‹ï¼Œè‹¥æƒ³å­˜å‚¨éœ€è¦æ”¾å…¥å­—ç¬¦æ•°ç»„ä¸­ã€‚</li><li>å­—ç¬¦ä¸²çš„ç»“æŸæ ‡å¿—æ˜¯ä¸€ä¸ª \0çš„è½¬ä¹‰å­—ç¬¦ã€‚åœ¨è®¡ç®—å­—ç¬¦ä¸²é•¿åº¦çš„æ—¶å€™ \0æ˜¯ç»“æŸæ ‡å¿—ï¼Œä¸ç®—ä½œå­—ç¬¦ä¸²å†…å®¹ã€‚</li></ul><h2 id="è½¬ä¹‰å­—ç¬¦">4.2 è½¬ä¹‰å­—ç¬¦</h2><h3 id="æ¦‚å¿µ">4.2.1 æ¦‚å¿µ</h3><p>Cä¸­å®šä¹‰äº†ä¸€äº›å­—æ¯å‰åŠ ""æ¥è¡¨ç¤ºå¸¸è§çš„é‚£äº›ä¸èƒ½æ˜¾ç¤ºçš„ASCIIå­—ç¬¦ï¼Œå¦‚\0,\t,\nç­‰ï¼Œå°±ç§°ä¸ºè½¬ä¹‰å­—ç¬¦ã€‚</p><table><thead><tr class="header"><th>è½¬ä¹‰å­—ç¬¦</th><th>é‡Šä¹‰</th></tr></thead><tbody><tr class="odd"><td>\?</td><td>åœ¨ä¹¦å†™è¿ç»­å¤šä¸ªé—®å·æ—¶ä½¿ç”¨ï¼Œé˜²æ­¢ä»–ä»¬è¢«è§£ææˆä¸‰å­—æ¯è¯</td></tr><tr class="even"><td>\`</td><td>ç”¨äºè¡¨ç¤ºå­—ç¬¦å¸¸é‡`</td></tr><tr class="odd"><td>\"</td><td>ç”¨äºè¡¨ç¤ºä¸€ä¸ªå­—ç¬¦äº§å†…éƒ¨çš„åŒå¼•å·</td></tr><tr class="even"><td>\\</td><td>ç”¨äºè¡¨ç¤ºä¸€ä¸ªåæ–œæ ï¼Œé˜²æ­¢å®ƒè¢«è§£é‡Šä¸ºä¸€ä¸ªè½¬ä¹‰åºåˆ—ç¬¦</td></tr><tr class="odd"><td>\a</td><td>è­¦å‘Šå­—ç¬¦ï¼Œèœ‚é¸£</td></tr><tr class="even"><td>\b</td><td>é€€æ ¼ç¬¦</td></tr><tr class="odd"><td>\f</td><td>è¿›çº¸ç¬¦</td></tr><tr class="even"><td>\n</td><td>æ¢è¡Œ</td></tr><tr class="odd"><td>\r</td><td>å›è½¦</td></tr><tr class="even"><td>\t</td><td>æ°´å¹³åˆ¶è¡¨ç¬¦</td></tr><tr class="odd"><td>\v</td><td>å‚ç›´åˆ¶è¡¨ç¬¦</td></tr><tr class="even"><td>\ddd</td><td>dddè¡¨ç¤º1~3ä¸ªå…«è¿›åˆ¶çš„æ•°å­—ã€‚å¦‚ï¼š\130</td></tr><tr class="odd"><td>\xdd</td><td>ddè¡¨ç¤º2ä¸ªåå…­è¿›åˆ¶æ•°å­—ã€‚å¦‚:\x30</td></tr></tbody></table><h3 id="è¯¦è§£">4.2.2 è¯¦è§£</h3><p><strong>1. <code>\?</code></strong></p><p>æ—©æœŸç¼–è¯‘å™¨ä¼šæŠŠä¸‰å­—æ¯è¯ <code>??)</code> è§£ææˆ <code>]</code> ï¼›æŠŠä¸‰å­—æ¯è¯ <code>??(</code> è§£ææˆ <code>[</code> ã€‚è‹¥ä¸æƒ³è¿™æ ·è§£æï¼Œåœ¨é—®å·å‰é¢åŠ ä¸Š <code>\</code> ,æ­¤æ—¶çš„ <code>?</code> ä¸å†æ˜¯ä¸‰å­—æ¯è¯é‡Œçš„é—®å·ã€‚ç›®å‰ç¼–è¯‘å™¨ä¸åœ¨æ”¯æŒä¸‰å­—æ¯è¯ã€‚</p><p><strong>2. <code>\'</code></strong></p><p>å½“æƒ³æ‰“å°å­—ç¬¦ <code>'</code> æ—¶ï¼ŒæŒ‰å¦‚ä¸‹ç¼–å†™ä¼šæŠ¥é”™ã€‚</p><p><img src="/img/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123/14.png" /></p><p>å› ä¸ºç¼–è¯‘å™¨æŠŠå‰ä¸¤ä¸ªå•å¼•å·çœ‹æˆäº†ä¸€å¯¹ï¼Œè®¤ä¸ºå‰ä¸¤ä¸ªå•å¼•å·ä¸­é—´æ‹¬äº†ä¸€ä¸ªå­—ç¬¦ï¼Œæœ€åä¸€ä¸ªå•å¼•å·è½å•äº†ï¼Œç¼–è¯‘å™¨æ— æ³•è§£æã€‚</p><p>åœ¨ä¸­é—´å•å¼•å·å‰åŠ  <code>\</code> è½¬ä¹‰å³å¯ï¼Œè®©å®ƒå•çº¯çš„å°±æ˜¯ä¸€ä¸ªå•å¼•å·ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c\n&quot;</span>, <span class="hljs-string">&#x27;\&#x27;&#x27;</span>);<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>3. <code>\"</code></strong></p><p>å½“æƒ³æ‰“å°å­—ç¬¦ <code>"</code> æ—¶ï¼Œç”¨ <code>\"</code>ï¼Œä¸ <code>\'</code> é“ç†ç›¸åŒã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%s\n&quot;</span>, <span class="hljs-string">&quot;\&quot;&quot;</span>);<br><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>4. <code>\\</code></strong></p><p>å°† <code>\</code> è½¬ä¹‰æˆå•çº¯çš„æ–œæ ã€‚</p><p>å½“æ‰“å°å­—ç¬¦ä¸² <code>abcd\0ef</code> æ—¶åªä¼šè¾“å‡º <code>abcd</code> ,å› ä¸ºé‡åˆ°äº†å­—ç¬¦ä¸²çš„ç»“æŸæ ‡å¿—\0ï¼Œæ­¤æ—¶åœ¨ <code>\</code> å‰åœ¨åŠ ä¸€ä¸ª <code>\</code> ï¼ŒæŠŠæ–œæ è½¬ç§»æˆæ™®é€šçš„æ–œæ ï¼Œä¸è®©<code>\0</code> ç»„æˆè½¬ä¹‰å­—ç¬¦ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;abcd\\0ef&quot;</span>);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">// ç»“æœ</span><br><span class="hljs-comment">// abcd\0ef</span><br></code></pre></td></tr></table></figure><p><strong>5. <code>\n</code> å’Œ<code>\r</code></strong></p><p>\n : å¯¹è¾“å‡ºè¿›è¡Œæ¢è¡Œ</p><p>\r : å¯¹è¾“å‡ºè¿›è¡Œå›è½¦</p><p><strong>6. <code>\t</code></strong></p><p>å’Œç”µè„‘çš„Tabé”®æ•ˆæœç›¸åŒã€‚</p><p><strong>7. <code>\ddd</code></strong></p><p>dddè¡¨ç¤º1~3ä¸ªå…«è¿›åˆ¶çš„æ•°å­—ã€‚å¦‚ï¼š\130ã€‚130ä¸ºå…«è¿›åˆ¶çš„æ•°å­—ï¼ˆå¹ºå„é›¶ï¼‰ï¼Œä¸æ˜¯ä¸€ç™¾ä¸‰ã€‚</p><p>å½“æ‰“å° \130 æ—¶æ‰“å°å‡ºæ¥çš„æ˜¯å¤§å†™çš„X</p><p><img src="/img/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123/15.png" /></p><p>å› ä¸º \ddd è¡¨ç¤ºçš„æ˜¯8è¿›åˆ¶çš„dddè½¬æ¢æˆ10è¿›åˆ¶çš„æ•°å­—ï¼Œå³8è¿›åˆ¶çš„130ï¼Œè½¬æ¢æˆ10è¿›åˆ¶çš„88ï¼Œ è€Œ88åœ¨ASCIIç ä¸Šå¯¹åº”çš„å³ä¸ºå¤§å†™çš„Xï¼Œæ‰€ä»¥æ‰“å°å­—ç¬¦88ï¼Œå³æ‰“å°88åœ¨ASCIIç ä¸Šå¯¹åº”çš„å€¼Xã€‚</p><p><img src="/img/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123/16.png" /></p><p><strong>8. <code>\xdd</code></strong></p><p>ddè¡¨ç¤º2ä¸ªåå…­è¿›åˆ¶æ•°å­—ã€‚å¦‚:\x60 ã€‚<code>\x60</code> æ˜¯å°†60è¿™ä¸ªåå…­è¿›åˆ¶çš„æ•°å­—è½¬æ¢æˆåè¿›åˆ¶çš„96ã€‚ç„¶åæ‰“å°å‡º96å¯¹åº”çš„ASCIIç çš„å€¼ã€‚</p><p>==æ€»ç»“ï¼š==</p><p>åªéœ€çŸ¥é“ <code>\?</code> <code>\'</code> <code>\"</code> <code>\\</code> <code>\n</code> <code>\r</code> <code>\t</code> <code>\ddd</code> <code>\xdd</code> å³å¯ã€‚</p><h2 id="æ³¨é‡Š">4.3 æ³¨é‡Š</h2><p>æ³¨é‡Šæ˜¯å¯¹ä»£ç çš„è§£é‡Šå’Œè¯´æ˜æ–‡å­—ã€‚</p><p>Cè¯­è¨€ä¸­çš„æ³¨é‡Šåˆ†ä¸ºä¸¤ç§ï¼š</p><h3 id="cé£æ ¼çš„æ³¨é‡Š">4.3.1 C++é£æ ¼çš„æ³¨é‡Š</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// è¿™æ˜¯å•è¡Œæ³¨é‡Šæ–‡å­—</span><br></code></pre></td></tr></table></figure><h3 id="cè¯­è¨€é£æ ¼çš„æ³¨é‡Š">4.3.2 Cè¯­è¨€é£æ ¼çš„æ³¨é‡Š</h3><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">/*</span><br><span class="hljs-comment">è¿™æ˜¯å¤šè¡Œæ³¨é‡Šæ–‡å­—</span><br><span class="hljs-comment">è¿™æ˜¯å¤šè¡Œæ³¨é‡Šæ–‡å­—</span><br><span class="hljs-comment">è¿™æ˜¯å¤šè¡Œæ³¨é‡Šæ–‡å­—</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><h3 id="ä½¿ç”¨çš„æŠ€å·§">4.3.3 ä½¿ç”¨çš„æŠ€å·§</h3><p>å¦‚æœæˆ‘ä»¬è¦å¯¹ä»£ç è¿›è¡Œè§£é‡Šï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨æ³¨é‡Šã€‚</p><p>å½“æ³¨é‡Šçš„å†…å®¹æ¯”è¾ƒå°‘ï¼Œä¸€è¡Œå°±å†™å®Œäº†ï¼Œå¯ä»¥ç”¨C++é£æ ¼çš„æ³¨é‡Šã€‚</p><p>å¦‚æœæ³¨é‡Šçš„å†…å®¹æ¯”è¾ƒå¤šï¼Œéœ€è¦å†™åœ¨å¤šè¡Œï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨Cé£æ ¼çš„æ³¨é‡Šã€‚</p><h3 id="æ³¨æ„">4.3.4 æ³¨æ„</h3><p>æ³¨é‡Šçš„å†…å®¹ä¸ä¼šå‚ä¸ç¼–è¯‘å’Œè¿è¡Œçš„ï¼Œä»…ä»…æ˜¯å¯¹ä»£ç çš„è§£é‡Šè¯´æ˜è€Œå·²ã€‚</p><p>æ‰€ä»¥ï¼Œä¸ç®¡åœ¨æ³¨é‡Šå½“ä¸­å†™ä»€ä¹ˆå†…å®¹ï¼Œéƒ½ä¸ä¼šå½±å“ä»£ç è¿è¡Œçš„ç»“æœã€‚</p><p>Cè¯­è¨€é£æ ¼çš„æ³¨é‡Šä¸èƒ½åµŒå¥—æ³¨é‡Š</p><p>C++é£æ ¼çš„æ³¨é‡Šå¯ä»¥æ³¨é‡Šä¸€è¡Œä¹Ÿå¯ä»¥æ³¨é‡Šå¤šè¡Œ</p><h1 id="é€‰æ‹©è¯­å¥">5 é€‰æ‹©è¯­å¥</h1><p>é€‰æ‹©ç»“æ„æŒ‡çš„æ˜¯è¿›è¡Œé€»è¾‘åˆ¤æ–­ï¼Œå½“æ»¡è¶³ä¸æŸäº›æ¡ä»¶çš„æ—¶å€™æ‰ä¼šæ‰§è¡ŒæŸäº›è¯­å¥ã€‚ Cè¯­è¨€åŒ…æ‹¬ä¸¤ç±»é€‰æ‹©è¯­å¥ï¼Œifè¯­å¥å’Œswitchè¯­å¥ã€‚</p><h1 id="å¾ªç¯è¯­å¥">6 å¾ªç¯è¯­å¥</h1><p>Cè¯­è¨€åŒ…æ‹¬ä¸‰ç±»å¾ªç¯è¯­å¥ï¼Œwhileè¯­å¥ã€forè¯­å¥ã€do ... whileè¯­å¥ã€‚</p><h1 id="å‡½æ•°">7 å‡½æ•°</h1><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> num1 = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> num2 = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> sum = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;è¾“å…¥ä¸¤ä¸ªæ“ä½œæ•°:&gt;&quot;</span>);<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>, &amp;num1, &amp;num2);<br>sum = num1 + num2;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum = %d\n&quot;</span>, sum);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">// ä¸Šè¿°ä»£ç ï¼Œå†™æˆå‡½æ•°å¦‚ä¸‹ï¼š</span><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">Add</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span><br>&#123;<br><span class="hljs-type">int</span> z = x+y;<br><span class="hljs-keyword">return</span> z;<br>&#125;<br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> num1 = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> num2 = <span class="hljs-number">0</span>;<br><span class="hljs-type">int</span> sum = <span class="hljs-number">0</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;è¾“å…¥ä¸¤ä¸ªæ“ä½œæ•°:&gt;&quot;</span>);<br><span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d %d&quot;</span>, &amp;num1, &amp;num2);<br>sum = Add(num1, num2);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;sum = %d\n&quot;</span>, sum);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br><br></code></pre></td></tr></table></figure><ul><li>å‡½æ•°çš„ç‰¹ç‚¹å°±æ˜¯ç®€åŒ–ä»£ç ï¼Œä»£ç å¤ç”¨ã€‚</li></ul><h1 id="æ•°ç»„">8 æ•°ç»„</h1><ul><li>ä¸€ç»„ç›¸åŒç±»å‹çš„é›†åˆ</li></ul><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> arr[<span class="hljs-number">3</span>] = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>&#125;<br></code></pre></td></tr></table></figure><p>Cè¯­è¨€è§„å®šï¼šæ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½æœ‰ä¸€ä¸ªä¸‹æ ‡ï¼Œä¸‹æ ‡æ˜¯ä»0å¼€å§‹çš„ã€‚ æ•°ç»„å¯ä»¥é€šè¿‡ä¸‹æ ‡æ¥è®¿é—®çš„ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d &quot;</span>,arr[<span class="hljs-number">0</span>])<br><br><span class="hljs-comment">// 0</span><br></code></pre></td></tr></table></figure><h1 id="æ“ä½œç¬¦">9 æ“ä½œç¬¦</h1><h2 id="ç®—æ•°æ“ä½œç¬¦">ç®—æ•°æ“ä½œç¬¦</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">+ - * / %<br></code></pre></td></tr></table></figure><h2 id="ç§»ä½æ“ä½œç¬¦">ç§»ä½æ“ä½œç¬¦</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">&gt;&gt; &lt;&lt;<br></code></pre></td></tr></table></figure><p>&lt;&lt;ï¼ˆå·¦ç§»ï¼‰å’Œ&gt;&gt;ï¼ˆå³ç§»ï¼‰ã€‚</p><p>å·¦ç§»è¿ç®—æ˜¯å°†ä¸€ä¸ªäºŒè¿›åˆ¶ä½çš„æ“ä½œæ•°æŒ‰æŒ‡å®šç§»åŠ¨çš„ä½æ•°å‘å·¦ç§»åŠ¨ï¼Œç§»å‡ºä½è¢«ä¸¢å¼ƒï¼Œå³è¾¹ç§»å‡ºçš„ç©ºä½ä¸€å¾‹è¡¥ 0 ã€‚</p><p>å³ç§»è¿ç®—æ˜¯å°†ä¸€ä¸ªäºŒè¿›åˆ¶ä½çš„æ“ä½œæ•°æŒ‰æŒ‡å®šç§»åŠ¨çš„ä½æ•°å‘å³ç§»åŠ¨ï¼Œç§»å‡ºä½è¢«ä¸¢å¼ƒï¼Œå·¦è¾¹ç§»å‡ºçš„ç©ºä½ä¸€å¾‹è¡¥ 0 ï¼Œæˆ–è€…è¡¥ç¬¦å·ä½ï¼Œè¿™ç”±ä¸åŒçš„æœºå™¨è€Œå®šã€‚åœ¨ä½¿ç”¨è¡¥ç ä½œä¸ºæœºå™¨æ•°çš„æœºå™¨ä¸­ï¼Œæ­£æ•°çš„ç¬¦å·ä½ä¸º Â 0 ï¼Œè´Ÿæ•°çš„ç¬¦å·ä½ä¸º 1 ã€‚</p><h2 id="ä½æ“ä½œç¬¦">ä½æ“ä½œç¬¦</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">&amp; ^ |<br></code></pre></td></tr></table></figure><table><thead><tr class="header"><th>ç¬¦å·</th><th>æè¿°</th><th>è¿ç®—è§„åˆ™</th></tr></thead><tbody><tr class="odd"><td>&amp;</td><td>ä¸</td><td>ä¸¤ä¸ªä½éƒ½ä¸º1æ—¶ï¼Œç»“æœæ‰ä¸º1</td></tr><tr class="even"><td>|</td><td>æˆ–</td><td>ä¸¤ä¸ªä½éƒ½ä¸º0æ—¶ï¼Œç»“æœæ‰ä¸º0</td></tr><tr class="odd"><td>^</td><td>å¼‚æˆ–</td><td>ä¸¤ä¸ªä½ç›¸åŒä¸º0ï¼Œç›¸å¼‚ä¸º1</td></tr><tr class="even"><td></td><td></td><td></td></tr></tbody></table><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> a = <span class="hljs-number">3</span>;<br><span class="hljs-type">int</span> b = <span class="hljs-number">5</span>;<br><br><span class="hljs-type">int</span> c = a &amp; b;<br><span class="hljs-type">int</span> d = a | b;<br><span class="hljs-type">int</span> e = a ^ b;<br><br><span class="hljs-comment">// a 011</span><br><span class="hljs-comment">// b 101</span><br><br><span class="hljs-comment">// c 001</span><br><span class="hljs-comment">// d 111</span><br><span class="hljs-comment">// e 110</span><br></code></pre></td></tr></table></figure><h2 id="èµ‹å€¼æ“ä½œç¬¦">èµ‹å€¼æ“ä½œç¬¦</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">= += -= *= /= &amp;= ^= |= &gt;&gt;= &lt;&lt;= <br></code></pre></td></tr></table></figure><h2 id="å•ç›®æ“ä½œç¬¦">å•ç›®æ“ä½œç¬¦</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs c">! é€»è¾‘åæ“ä½œ<br><br>- è´Ÿå€¼<br><br>+ æ­£å€¼<br><br>&amp; å–åœ°å€<br><br><span class="hljs-keyword">sizeof</span> æ“ä½œæ•°çš„ç±»å‹é•¿åº¦ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰<br><br>~ å¯¹ä¸€ä¸ªæ•°çš„äºŒè¿›åˆ¶æŒ‰ä½å–å<br><br>-- å‰ç½®ã€åç½® --<br><br>++ å‰ç½®ã€åç½®++<br><br>* é—´æ¥è®¿é—®æ“ä½œç¬¦(è§£å¼•ç”¨æ“ä½œç¬¦)<br><br>(ç±»å‹) å¼ºåˆ¶ç±»å‹è½¬æ¢ <span class="hljs-type">int</span> a = (<span class="hljs-type">int</span>)<span class="hljs-number">3.14</span>;<br></code></pre></td></tr></table></figure><p><strong>sizeofï¼š</strong> <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> a = <span class="hljs-number">10</span>;<br><span class="hljs-comment">//sizeofè®¡ç®—çš„æ˜¯å˜æ˜Ÿ/ç±»å‹æ‰€ç‚¹äº¤é—´çš„å¤ªå°ï¼Œå•ä½æ˜¯å­—èŠ‚</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,<span class="hljs-keyword">sizeof</span> (a));<span class="hljs-comment">//4</span><br><span class="hljs-built_in">printf</span> (<span class="hljs-string">&quot;%din&quot;</span>,<span class="hljs-keyword">sizeof</span>(<span class="hljs-type">int</span>));<span class="hljs-comment">//4</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,<span class="hljs-keyword">sizeof</span> a);<span class="hljs-comment">//4</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,<span class="hljs-keyword">sizeof</span> <span class="hljs-type">int</span>);<span class="hljs-comment">//æŠ¥é”™</span><br><br><span class="hljs-type">int</span> arr[<span class="hljs-number">10</span>] = &#123;<span class="hljs-number">0</span>&#125;;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,<span class="hljs-keyword">sizeof</span> (arr));<span class="hljs-comment">//40</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,<span class="hljs-keyword">sizeof</span> (arr)/<span class="hljs-keyword">sizeof</span> (arr[<span class="hljs-number">0</span>]));<span class="hljs-comment">//è®¡ç®—æ•°ç»„å…ƒç´ ä¸ªæ•°</span><br>&#125;<br><br></code></pre></td></tr></table></figure></p><p><strong>~ï¼š</strong> <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> a = <span class="hljs-number">0</span>;<span class="hljs-comment">//4å­—èŠ‚ 32bitä½</span><br><span class="hljs-type">int</span> b = ~a;<span class="hljs-comment">//æŒ‰(2è¿›åˆ¶)ä½å–å</span><br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>,b);<span class="hljs-comment">// -1</span><br>&#125;<br></code></pre></td></tr></table></figure></p><p>åŸç ã€åç ã€è¡¥ç æ˜¯è®¡ç®—æœºä¸­å¯¹æ•°å­—çš„äºŒè¿›åˆ¶è¡¨ç¤ºæ–¹æ³•ã€‚ åªè¦æ˜¯æ•´æ•°åœ¨å†…å­˜ä¸­å­˜å‚¨çš„éƒ½æ˜¯äºŒè¿›åˆ¶çš„è¡¥ç ï¼Œä½¿ç”¨çš„ã€æ‰“å°çš„æ˜¯åŸç ã€‚</p><p>æ­£æ•°ï¼šåŸç ï¼Œåç ï¼Œè¡¥ç ç›¸åŒ è´Ÿæ•°ï¼š åŸç -ç›´æ¥æŒ‰ç…§æ­£è´Ÿå†™å‡ºçš„äºŒè¿›åˆ¶åºåˆ— åç -åŸç çš„ç¬¦å·ä½ä¸å˜ï¼Œå…¶ä»–ä½æŒ‰ä½å–å è¡¥ç -åç +1</p><p>åŸç ã€åç ã€è¡¥ç ä¹‹é—´è®¡ç®—è§„åˆ™ä¸ºï¼š 1ã€æ­£æ•´æ•°çš„åŸç ã€åç ã€è¡¥ç å®Œå…¨ä¸€æ ·ï¼Œå³ç¬¦å·ä½å›ºå®šä¸º0ï¼Œæ•°å€¼ä½ç›¸åŒã€‚</p><p>2ã€è´Ÿæ•´æ•°çš„ç¬¦å·ä½å›ºå®šä¸º1ï¼Œç”±åŸç å˜ä¸ºè¡¥ç æ—¶ï¼Œè§„åˆ™å¦‚ä¸‹ï¼šåŸç ç¬¦å·ä½1ä¸å˜ï¼Œæ•´æ•°çš„æ¯ä¸€ä½äºŒè¿›åˆ¶æ•°ä½æ±‚åï¼Œå¾—åˆ°åç ï¼›åç ç¬¦å·ä½1ä¸å˜ï¼Œåç æ•°å€¼ä½æœ€ä½ä½åŠ 1ï¼Œå¾—åˆ°è¡¥ç ã€‚</p><p>0çš„äºŒè¿›åˆ¶ï¼š 00000000 00000000 00000000 00000000</p><p>å¯¹0æŒ‰ä½å–åï¼š11111111 11111111 11111111 11111111</p><p>æ‰€ä»¥è¦æƒ³å°†bæ‰“å°å‡ºæ¥ï¼Œéœ€è¦å°†è¡¥ç è½¬æ¢ä¸ºåŸç ï¼Œå³ä¸ºä»¥ä¸‹æ­¥éª¤ï¼š è¡¥ç å‡ä¸€å¾—åˆ°åç ï¼Œåç ç¬¦å·ä½ä¸å˜å…¶ä»–ä¸ºæŒ‰ä½å–åå¾—åˆ°åŸç  è¡¥ç ï¼š11111111 11111111 11111111 11111111 åç ï¼š11111111 11111111 11111111 11111110 åŸç ï¼š10000000 00000000 00000000 00000001</p><h2 id="å…³ç³»æ“ä½œç¬¦">å…³ç³»æ“ä½œç¬¦</h2><p>&gt; &gt;= &lt; &lt;= != ==</p><h2 id="é€»è¾‘æ“ä½œç¬¦">é€»è¾‘æ“ä½œç¬¦</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c">&amp;&amp;<br>||<br></code></pre></td></tr></table></figure><h2 id="æ¡ä»¶æ“ä½œç¬¦">æ¡ä»¶æ“ä½œç¬¦</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">exp1 ? exp2 : exp3<br></code></pre></td></tr></table></figure><p>exp1ä¸ºçœŸï¼Œexp2æ‰§è¡Œ exp1ä¸ºå‡ï¼Œexp3æ‰§è¡Œ</p><h2 id="é€—å·è¡¨è¾¾å¼">é€—å·è¡¨è¾¾å¼</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">exp1, exp2, exp3, â€¦expN<br></code></pre></td></tr></table></figure><h2 id="ä¸‹æ ‡å¼•ç”¨å‡½æ•°è°ƒç”¨å’Œç»“æ„æˆå‘˜">ä¸‹æ ‡å¼•ç”¨ã€å‡½æ•°è°ƒç”¨å’Œç»“æ„æˆå‘˜</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs c">[] () . -&gt;<br></code></pre></td></tr></table></figure><h1 id="å¸¸è§å…³é”®å­—">10 å¸¸è§å…³é”®å­—</h1><p>Cè¯­è¨€æä¾›äº†ä¸°å¯Œçš„å…³é”®å­—ï¼Œè¿™äº›å…³é”®å­—éƒ½æ˜¯è¯­è¨€æœ¬èº«é¢„å…ˆè®¾å®šå¥½çš„ï¼Œç”¨æˆ·è‡ªå·±æ˜¯ä¸èƒ½åˆ›é€ å…³é”®å­—çš„ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">auto</span> (çœç•¥ä¸å†™) <span class="hljs-keyword">break</span> <span class="hljs-keyword">case</span> <span class="hljs-type">char</span> <span class="hljs-title function_">const</span><span class="hljs-params">(ä¿®é¥°å˜é‡ã€å¸¸å±æ€§)</span><br><span class="hljs-keyword">continue</span> <span class="hljs-title function_">default</span><span class="hljs-params">(<span class="hljs-keyword">switch</span> cause ä¸­)</span> <span class="hljs-keyword">do</span> <span class="hljs-type">long</span> <span class="hljs-title function_">register</span><span class="hljs-params">(å®šä¹‰å¯„å­˜å™¨)</span> <span class="hljs-type">double</span> <span class="hljs-keyword">else</span> <span class="hljs-title function_">enum</span><span class="hljs-params">(æšä¸¾)</span> <span class="hljs-title function_">extern</span><span class="hljs-params">(å£°æ˜å¤–éƒ¨ç¬¦å·)</span> <span class="hljs-type">float</span> <span class="hljs-keyword">for</span><br><span class="hljs-keyword">goto</span> <span class="hljs-keyword">if</span> <span class="hljs-type">int</span> <span class="hljs-keyword">return</span> <span class="hljs-type">short</span> <span class="hljs-type">signed</span> <span class="hljs-keyword">sizeof</span> <span class="hljs-type">static</span> <span class="hljs-title function_">struct</span><span class="hljs-params">(ç»“æ„ä½“)</span> <span class="hljs-keyword">switch</span> <span class="hljs-title function_">typedef</span><span class="hljs-params">(ç±»å‹é‡å‘½å)</span> <span class="hljs-keyword">union</span> <span class="hljs-type">unsigned</span> <span class="hljs-type">void</span> <span class="hljs-keyword">volatile</span> <span class="hljs-keyword">while</span><br></code></pre></td></tr></table></figure><p><strong>typedfï¼š</strong> ç±»å‹å®šä¹‰-ç±»å‹é‡å®šä¹‰ <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c">typedf <span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> u_int <span class="hljs-comment">//å°†æ— ç¬¦å·æ•´å½¢é‡å‘½åä¸ºu_int</span><br><br><span class="hljs-type">unsigned</span> <span class="hljs-type">int</span> num1 = <span class="hljs-number">20</span><br>u_int num2 = <span class="hljs-number">20</span> <span class="hljs-comment">// ä¸¤ç§å®šä¹‰æ–¹æ³•ç›¸åŒ</span><br></code></pre></td></tr></table></figure></p><p><strong>externï¼š</strong> å£°æ˜å¤–éƒ¨ç¬¦å·</p><p>test.c <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> g_val = <span class="hljs-number">2020</span>;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">Add</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y)</span><br>&#123;<br><span class="hljs-type">int</span> z = x+y;<br><span class="hljs-keyword">return</span> z;<br>&#125;<br></code></pre></td></tr></table></figure></p><p>demo.c <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-keyword">extern</span> <span class="hljs-type">int</span> g_val;<br><span class="hljs-keyword">extern</span> <span class="hljs-type">int</span> <span class="hljs-title function_">Add</span><span class="hljs-params">(<span class="hljs-type">int</span>,<span class="hljs-type">int</span>)</span>; <span class="hljs-comment">//å£°æ˜å¤–éƒ¨å‡½æ•° ç±»ä¼¼äºimport</span><br></code></pre></td></tr></table></figure></p><p><strong>staticï¼š</strong> 1ã€ä¿®é¥°å±€éƒ¨å˜é‡ å±€éƒ¨å˜é‡ç”Ÿå‘½å‘¨æœŸè¾¹é•¿ <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// æ— static</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> a = <span class="hljs-number">1</span>;<br>a++;<br><span class="hljs-built_in">printf</span>(a);<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span> <span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span>(i&lt;<span class="hljs-number">5</span>)<br>&#123;<br>test();<br>i++;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure> ç»“æœï¼š2 2 2 2 2</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">// æœ‰static</span><br><span class="hljs-type">void</span> <span class="hljs-title function_">test</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">static</span> <span class="hljs-type">int</span> a = <span class="hljs-number">1</span>;<br>a++;<br><span class="hljs-built_in">printf</span>(a);<br>&#125;<br><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span> <span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">while</span>(i&lt;<span class="hljs-number">5</span>)<br>&#123;<br>test();<br>i++;<br>&#125;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“æœï¼š2 3 4 5 6</p><p>2ã€ä¿®é¥°å…¨å±€å˜é‡ æ”¹å˜äº†å…¨å±€å˜é‡çš„ä½œç”¨åŸŸï¼Œè®©é™æ€çš„å…¨å±€å˜é‡åªèƒ½åœ¨è‡ªå·±æ‰€åœ¨çš„æºæ–‡ä»¶å†…éƒ¨ä½¿ç”¨ï¼Œå‡ºäº†æºæ–‡ä»¶å°±æ²¡æ³•å†ä½¿ç”¨äº†</p><p>test.c <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> g_val1 = <span class="hljs-number">2023</span>;<br><span class="hljs-type">static</span> <span class="hljs-type">int</span> g_val2 = <span class="hljs-number">2023</span>;<br></code></pre></td></tr></table></figure></p><p>demo.c <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, g_val1);<span class="hljs-comment">// 2023</span><br><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, g_val2);<span class="hljs-comment">// æŠ¥é”™</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p><p>ä¸€ä¸ªå…¨å±€å˜é‡è¢«staticä¿®é¥°ï¼Œä½¿å¾—è¿™ä¸ªå…¨å±€å˜é‡åªèƒ½åœ¨æœ¬æºæ–‡ä»¶å†…ä½¿ç”¨ï¼Œä¸èƒ½åœ¨å…¶ä»–æºæ–‡ä»¶å†…ä½¿ç”¨ã€‚</p><p>3ã€ä¿®é¥°å‡½æ•° ä¹Ÿæ˜¯æ”¹å˜äº†å‡½æ•°çš„ä½œç”¨åŸŸ-ä¸å‡†ç¡® æ”¹å˜äº†å‡½æ•°çš„é“¾æ¥å±æ€§ï¼Œå¤–éƒ¨é“¾æ¥å±æ€§å˜æˆå†…éƒ¨é“¾æ¥å±æ€§</p><p>test.c <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><br><span class="hljs-type">int</span> <span class="hljs-title function_">Add1</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span><br>&#123;<br><span class="hljs-keyword">return</span> x+y;<br>&#125;<br><span class="hljs-type">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">Add2</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> y)</span><br>&#123;<br><span class="hljs-keyword">return</span> x+y;<br>&#125;<br></code></pre></td></tr></table></figure></p><p>demo.c <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, Add1(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>));<span class="hljs-comment">// 5</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, Add2(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>));<span class="hljs-comment">// æŠ¥é”™</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p><p>ä¸€ä¸ªå‡½æ•°è¢«staticä¿®é¥°ï¼Œä½¿å¾—è¿™ä¸ªå‡½æ•°åªèƒ½åœ¨æœ¬æºæ–‡ä»¶å†…ä½¿ç”¨ï¼Œä¸èƒ½åœ¨å…¶ä»–æºæ–‡ä»¶å†…ä½¿ç”¨ã€‚</p><h1 id="define-å®šä¹‰å¸¸é‡å’Œå®">11 define å®šä¹‰å¸¸é‡å’Œå®</h1><p><strong>å®šä¹‰å¸¸é‡ï¼š</strong> <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//defineå®šä¹‰æ ‡è¯†ç¬¦å¸¸é‡,å®šä¹‰ç¬¦å·MAXï¼Œå…¶å€¼ä¸º100</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX 1000</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> a = MAX;<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p><p><strong>å®šä¹‰å®ï¼š</strong> <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-comment">//å‡½æ•°å®ç°</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">MAX</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> y)</span><br>&#123;<br><span class="hljs-keyword">if</span> (x&gt;y)<br><span class="hljs-keyword">return</span> x;<br><span class="hljs-keyword">else</span><br><span class="hljs-keyword">return</span> y;<br>&#125;<br><br><span class="hljs-comment">//defineå®šä¹‰å®</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> MAX(x, y) (x&gt;y?x:y)</span><br><br><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> a = <span class="hljs-number">20</span>;<br><span class="hljs-type">int</span> b = <span class="hljs-number">30</span>;<br><br><span class="hljs-comment">// å‡½æ•°</span><br><span class="hljs-type">int</span> max = MAX(a, b);<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;max = %d\n&quot;</span>, max);<br><br><span class="hljs-comment">// å®çš„æ–¹å¼</span><br>max = MAX(a, b); <span class="hljs-comment">// max = (a&gt;b?a:b);</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;max = %d\n&quot;</span>, max);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure></p><p><code>#define MAX(x, y) (x&gt;y?x:y)</code> å°†<code>MAX(x, y)</code> æ›¿æ¢æˆ <code>(x&gt;y?x:y)</code></p><h1 id="æŒ‡é’ˆ">12 æŒ‡é’ˆ</h1><h2 id="å†…å­˜">12.1 å†…å­˜</h2><p>å†…å­˜æ˜¯ç”µè„‘ä¸Šç‰¹åˆ«é‡è¦çš„å­˜å‚¨å™¨ï¼Œè®¡ç®—æœºä¸­ç¨‹åºçš„è¿è¡Œéƒ½æ˜¯åœ¨å†…å­˜ä¸­è¿›è¡Œçš„ ã€‚ æ‰€ä»¥ä¸ºäº†æœ‰æ•ˆçš„ä½¿ç”¨å†…å­˜ï¼Œå°±æŠŠå†…å­˜åˆ’åˆ†æˆä¸€ä¸ªä¸ªå°çš„å†…å­˜å•å…ƒï¼Œæ¯ä¸ªå†…å­˜å•å…ƒçš„å¤§å°æ˜¯1ä¸ªå­—èŠ‚ã€‚ ä¸ºäº†èƒ½å¤Ÿæœ‰æ•ˆçš„è®¿é—®åˆ°å†…å­˜çš„æ¯ä¸ªå•å…ƒï¼Œå°±ç»™å†…å­˜å•å…ƒè¿›è¡Œäº†ç¼–å·ï¼Œè¿™äº›ç¼–å·è¢«ç§°ä¸ºè¯¥å†…å­˜å•å…ƒçš„åœ°å€ã€‚ <img src="/img/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123.png" /> å†…å­˜çš„åœ°å€æ˜¯æ€ä¹ˆäº§ç”Ÿçš„ï¼Œä¸€ä¸ªå†…å­˜å•å…ƒæ˜¯å¤šå¤§çš„ç©ºé—´ï¼Ÿ</p><p>ç”µè„‘æœ‰32ä½çš„å’Œ64ä½çš„ï¼Œé˜Ÿå‹32ä½çš„ç”µè„‘ï¼Œæœ‰32æ ¹åœ°å€çº¿/æ•°æ®çº¿ï¼Œæ¯æ ¹çº¿æ— éå°±æ˜¯é€šç”µï¼Œä¸é€šç”µï¼Œä¸¤ç§æƒ…å†µã€‚æ‰€ä»¥ï¼Œä¸€å…±æœ‰ <span class="math inline">\(2^{32}\)</span> ä¸­æƒ…å†µï¼Œå¯¹åº” <span class="math inline">\(2^{32}\)</span> ä¸ªåœ°å€ã€‚é€šå¸¸ï¼Œä¸€ä¸ªå†…å­˜å•å…ƒå¯ä»¥å­˜å‚¨ä¸€ä¸ªå­—èŠ‚ï¼ˆå³8ä½ï¼‰çš„æ•°æ®ï¼Œå› æ­¤åœ¨å¤§å¤šæ•°è®¡ç®—æœºç³»ç»Ÿä¸­ï¼Œä¸€ä¸ªå†…å­˜å•å…ƒçš„å¤§å°ä¸º 8 bitä½æˆ– 1 å­—èŠ‚ã€‚</p><p>å˜é‡æ˜¯åˆ›å»ºå†…å­˜ä¸­çš„ï¼ˆåœ¨å†…å­˜ä¸­åˆ†é…ç©ºé—´çš„ï¼‰ï¼Œæ¯ä¸ªå†…å­˜å•å…ƒéƒ½æœ‰åœ°å€ï¼Œæ‰€ä»¥å˜é‡ä¹Ÿæ˜¯æœ‰åœ°å€çš„ã€‚å–å‡ºå˜é‡åœ°å€å¦‚ä¸‹ï¼š <figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> num = <span class="hljs-number">10</span>;<br>&amp;num;<span class="hljs-comment">//å–å‡ºnumçš„åœ°å€</span><br><span class="hljs-comment">//æ³¨ï¼šè¿™é‡Œnumçš„4ä¸ªå­—èŠ‚ï¼Œæ¯ä¸ªå­—èŠ‚éƒ½æœ‰åœ°å€ï¼Œå–å‡ºçš„æ˜¯ç¬¬ä¸€ä¸ªå­—èŠ‚çš„åœ°å€ï¼ˆè¾ƒå°çš„åœ°å€ï¼‰</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%p\n&quot;</span>, &amp;num);<span class="hljs-comment">//æ‰“å°åœ°å€ï¼Œ%pæ˜¯ä»¥åœ°å€çš„å½¢å¼æ‰“å°</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125; <br></code></pre></td></tr></table></figure></p><p><img src="/img/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123_1.png" /> é‚£å¦‚ä½•å­˜å‚¨åœ°å€ï¼Œéœ€è¦å®šä¹‰æŒ‡é’ˆå˜é‡ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-type">int</span> num = <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span>* p = &amp;num;<span class="hljs-comment">//pçš„ç±»å‹ä¸ºint*ï¼Œpæ˜¯æ•´å½¢æŒ‡é’ˆå˜é‡</span><br></code></pre></td></tr></table></figure><p>pä¸­å­˜çš„æ˜¯åœ°å€å€¼ï¼Œå¯¹pè¿›è¡Œè§£å¼•ç”¨æ“ä½œ <code>*p</code> ,æ‰¾åˆ°æŒ‡å‘çš„å¯¹è±¡<code>num</code> ,<code>*</code> å³ä¸ºè§£å¼•ç”¨æ“ä½œç¬¦ã€‚</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">int</span> num = <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span>* p = &amp;num;<br>*p = <span class="hljs-number">20</span>; <span class="hljs-comment">// å°†p</span><br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;num = %d\n&quot;</span>,num) <span class="hljs-comment">// 20</span><br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p><img src="/img/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123/Cè¯­è¨€01-Cè¯­è¨€çš„åŸºç¡€çŸ¥è¯†123_2.png" /> ä»¥æ•´å½¢æŒ‡é’ˆä¸¾ä¾‹ï¼Œå¯ä»¥æ¨å¹¿åˆ°å…¶ä»–ç±»å‹ï¼Œå¦‚ï¼š</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-type">char</span> ch = <span class="hljs-string">&#x27;w&#x27;</span>;<br><span class="hljs-type">char</span>* pc = &amp;ch;<br>*pc = <span class="hljs-string">&#x27;q&#x27;</span>;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%c\n&quot;</span>, ch);<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æŒ‡é’ˆå˜é‡çš„å¤§å°">12.2 æŒ‡é’ˆå˜é‡çš„å¤§å°</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-keyword">include</span> <span class="hljs-string">&lt;stdio.h&gt;</span></span><br><span class="hljs-comment">//æŒ‡é’ˆå˜é‡çš„å¤§å°å–å†³äºåœ°å€çš„å¤§å°</span><br><span class="hljs-comment">//32ä½å¹³å°ä¸‹åœ°å€æ˜¯32ä¸ªbitä½ï¼ˆå³4ä¸ªå­—èŠ‚ï¼‰</span><br><span class="hljs-comment">//64ä½å¹³å°ä¸‹åœ°å€æ˜¯64ä¸ªbitä½ï¼ˆå³8ä¸ªå­—èŠ‚ï¼‰</span><br><span class="hljs-type">int</span> <span class="hljs-title function_">main</span><span class="hljs-params">()</span><br>&#123;<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">char</span> *));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">short</span> *));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">int</span> *));<br><span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, <span class="hljs-keyword">sizeof</span>(<span class="hljs-type">double</span> *));<br><span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç»“è®ºï¼šæŒ‡é’ˆå¤§å°åœ¨32ä½å¹³å°æ˜¯4ä¸ªå­—èŠ‚ï¼Œ64ä½å¹³å°æ˜¯8ä¸ªå­—èŠ‚ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>Cè¯­è¨€åŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>C/C++</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å·¥ä¸šè’¸æ±½é¢„æµ‹-04æ¨¡å‹è®­ç»ƒ</title>
    <link href="/2023/08/01/%E5%B7%A5%E4%B8%9A%E8%92%B8%E6%B1%BD%E9%A2%84%E6%B5%8B-04%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83/"/>
    <url>/2023/08/01/%E5%B7%A5%E4%B8%9A%E8%92%B8%E6%B1%BD%E9%A2%84%E6%B5%8B-04%E6%A8%A1%E5%9E%8B%E8%AE%AD%E7%BB%83/</url>
    
    <content type="html"><![CDATA[<h1 id="æ•°æ®å¤„ç†">æ•°æ®å¤„ç†</h1><p>æ•°æ®æŒ‰<code>02ç‰¹å¾å·¥ç¨‹</code>å¤„ç†ï¼Œæ­¤å¤„ä¸åœ¨èµ˜è¿°</p><h2 id="å¯¼å…¥æ•°æ®">å¯¼å…¥æ•°æ®</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><br><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats<br><br><span class="hljs-keyword">import</span> warnings<br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>)<br> <br>%matplotlib inline<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">train_data_file = <span class="hljs-string">&quot;./data/zhengqi_train.txt&quot;</span><br>test_data_file =  <span class="hljs-string">&quot;./data/zhengqi_test.txt&quot;</span><br><br>train_data = pd.read_csv(train_data_file, sep=<span class="hljs-string">&#x27;\t&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>test_data = pd.read_csv(test_data_file, sep=<span class="hljs-string">&#x27;\t&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="å¼‚å¸¸å€¼åˆ†æ">å¼‚å¸¸å€¼åˆ†æ</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.figure(figsize=(<span class="hljs-number">18</span>, <span class="hljs-number">10</span>))<br>plt.boxplot(x=train_data.values,labels=train_data.columns)<br>plt.hlines([-<span class="hljs-number">7.5</span>, <span class="hljs-number">7.5</span>], <span class="hljs-number">0</span>, <span class="hljs-number">40</span>, colors=<span class="hljs-string">&#x27;r&#x27;</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-04æ¨¡å‹è®­ç»ƒ/output_6_0.png" /></p><h2 id="åˆ é™¤å¼‚å¸¸å€¼">åˆ é™¤å¼‚å¸¸å€¼</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">train_data = train_data[train_data[<span class="hljs-string">&#x27;V9&#x27;</span>]&gt;-<span class="hljs-number">7.5</span>]<br><span class="hljs-comment"># print(train_data.describe())</span><br><span class="hljs-comment"># print(test_data.describe())</span><br></code></pre></td></tr></table></figure><h2 id="å½’ä¸€åŒ–">å½’ä¸€åŒ–</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> preprocessing <br><br>features_columns = [col <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> train_data.columns <span class="hljs-keyword">if</span> col <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;target&#x27;</span>]]<br><br>min_max_scaler = preprocessing.MinMaxScaler()<br><br>min_max_scaler = min_max_scaler.fit(train_data[features_columns])<br><br>train_data_scaler = min_max_scaler.transform(train_data[features_columns])<br>test_data_scaler = min_max_scaler.transform(test_data[features_columns])<br><br>train_data_scaler = pd.DataFrame(train_data_scaler)<br>train_data_scaler.columns = features_columns<br><br>test_data_scaler = pd.DataFrame(test_data_scaler)<br>test_data_scaler.columns = features_columns<br><br>train_data_scaler[<span class="hljs-string">&#x27;target&#x27;</span>] = train_data[<span class="hljs-string">&#x27;target&#x27;</span>]<br></code></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹æ•°æ®åˆ†å¸ƒæƒ…å†µ">æŸ¥çœ‹æ•°æ®åˆ†å¸ƒæƒ…å†µ</h2><p>æŸ¥çœ‹ç‰¹å¾'V5', 'V17', 'V28', 'V22', 'V11', 'V9'æ•°æ®çš„æ•°æ®åˆ†å¸ƒ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python">drop_col = <span class="hljs-number">6</span><br>drop_row = <span class="hljs-number">1</span><br><br>plt.figure(figsize=(<span class="hljs-number">5</span>*drop_col,<span class="hljs-number">5</span>*drop_row))<br><br><span class="hljs-keyword">for</span> i, col <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>([<span class="hljs-string">&quot;V5&quot;</span>,<span class="hljs-string">&quot;V9&quot;</span>,<span class="hljs-string">&quot;V11&quot;</span>,<span class="hljs-string">&quot;V17&quot;</span>,<span class="hljs-string">&quot;V22&quot;</span>,<span class="hljs-string">&quot;V28&quot;</span>]):<br>    ax =plt.subplot(drop_row,drop_col,i+<span class="hljs-number">1</span>)<br>    ax = sns.kdeplot(train_data_scaler[col], color=<span class="hljs-string">&quot;Red&quot;</span>, shade=<span class="hljs-literal">True</span>)<br>    ax= sns.kdeplot(test_data_scaler[col], color=<span class="hljs-string">&quot;Blue&quot;</span>, shade=<span class="hljs-literal">True</span>)<br>    ax.set_xlabel(col)<br>    ax.set_ylabel(<span class="hljs-string">&quot;Frequency&quot;</span>)<br>    ax = ax.legend([<span class="hljs-string">&quot;train&quot;</span>,<span class="hljs-string">&quot;test&quot;</span>])<br>plt.show()<br><br>data_train_scaler = train_data_scaler.drop([<span class="hljs-string">&#x27;V5&#x27;</span>,<span class="hljs-string">&#x27;V9&#x27;</span>,<span class="hljs-string">&#x27;V11&#x27;</span>,<span class="hljs-string">&#x27;V17&#x27;</span>,<span class="hljs-string">&#x27;V22&#x27;</span>,<span class="hljs-string">&#x27;V28&#x27;</span>],axis=<span class="hljs-number">1</span>)<br></code></pre></td></tr></table></figure><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-04æ¨¡å‹è®­ç»ƒ/output_13_0.png" /></p><p>è¿™å‡ ä¸ªç‰¹å¾ä¸‹ï¼Œè®­ç»ƒé›†çš„æ•°æ®å’Œæµ‹è¯•é›†çš„æ•°æ®åˆ†å¸ƒä¸ä¸€è‡´ï¼Œä¼šå½±å“æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œæ•…åˆ é™¤è¿™äº›ç‰¹å¾</p><h2 id="ç‰¹å¾ç›¸å…³æ€§">ç‰¹å¾ç›¸å…³æ€§</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.figure(figsize=(<span class="hljs-number">20</span>, <span class="hljs-number">16</span>))  <br>column = train_data_scaler.columns.tolist()  <br>mcorr = train_data_scaler[column].corr(method=<span class="hljs-string">&quot;spearman&quot;</span>)  <br>mask = np.zeros_like(mcorr, dtype=np.<span class="hljs-built_in">bool</span>)  <br>mask[np.triu_indices_from(mask)] = <span class="hljs-literal">True</span>  <br>cmap = sns.diverging_palette(<span class="hljs-number">220</span>, <span class="hljs-number">10</span>, as_cmap=<span class="hljs-literal">True</span>)  <br>g = sns.heatmap(mcorr, mask=mask, cmap=cmap, square=<span class="hljs-literal">True</span>, annot=<span class="hljs-literal">True</span>, fmt=<span class="hljs-string">&#x27;0.2f&#x27;</span>)  <br>plt.show()<br></code></pre></td></tr></table></figure><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-04æ¨¡å‹è®­ç»ƒ/output_16_0.png" /></p><h2 id="ç‰¹å¾é™ç»´">ç‰¹å¾é™ç»´</h2><h3 id="ç›¸å…³æ–°åˆ†æ">ç›¸å…³æ–°åˆ†æ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python">mcorr=mcorr.<span class="hljs-built_in">abs</span>()<br>numerical_corr=mcorr[mcorr[<span class="hljs-string">&#x27;target&#x27;</span>]&gt;<span class="hljs-number">0.1</span>][<span class="hljs-string">&#x27;target&#x27;</span>]<br><span class="hljs-built_in">print</span>(numerical_corr.sort_values(ascending=<span class="hljs-literal">False</span>))<br></code></pre></td></tr></table></figure><pre><code class="hljs">target    1.000000V0        0.712403V31       0.711636V1        0.682909V8        0.679469V27       0.657398V2        0.585850V16       0.545793V3        0.501622V4        0.478683V12       0.460300V10       0.448682V36       0.425991V37       0.376443V24       0.305526V5        0.286076V6        0.280195V20       0.278381V11       0.234551V15       0.221290V29       0.190109V7        0.185321V19       0.180111V18       0.149741V13       0.149199V17       0.126262V22       0.112743V30       0.101378Name: target, dtype: float64</code></pre><h3 id="ç›¸å…³æ€§åˆç­›">ç›¸å…³æ€§åˆç­›</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">features_corr = numerical_corr.sort_values(ascending=<span class="hljs-literal">False</span>).reset_index()<br>features_corr.columns = [<span class="hljs-string">&#x27;features_and_target&#x27;</span>, <span class="hljs-string">&#x27;corr&#x27;</span>]<br>features_corr_select = features_corr[features_corr[<span class="hljs-string">&#x27;corr&#x27;</span>]&gt;<span class="hljs-number">0.3</span>] <span class="hljs-comment"># ç­›é€‰å‡ºå¤§äºç›¸å…³æ€§å¤§äº0.3çš„ç‰¹å¾</span><br><span class="hljs-built_in">print</span>(features_corr_select)<br>select_features = [col <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> features_corr_select[<span class="hljs-string">&#x27;features_and_target&#x27;</span>] <span class="hljs-keyword">if</span> col <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;target&#x27;</span>]]<br>new_train_data_corr_select = train_data_scaler[select_features+[<span class="hljs-string">&#x27;target&#x27;</span>]]<br>new_test_data_corr_select = test_data_scaler[select_features]<br></code></pre></td></tr></table></figure><pre><code class="hljs">   features_and_target      corr0               target  1.0000001                   V0  0.7124032                  V31  0.7116363                   V1  0.6829094                   V8  0.6794695                  V27  0.6573986                   V2  0.5858507                  V16  0.5457938                   V3  0.5016229                   V4  0.47868310                 V12  0.46030011                 V10  0.44868212                 V36  0.42599113                 V37  0.37644314                 V24  0.305526</code></pre><h3 id="å¤šé‡å…±çº¿æ€§åˆ†æ">å¤šé‡å…±çº¿æ€§åˆ†æ</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> statsmodels.stats.outliers_influence <span class="hljs-keyword">import</span> variance_inflation_factor <span class="hljs-comment">#å¤šé‡å…±çº¿æ€§æ–¹å·®è†¨èƒ€å› å­</span><br><br><span class="hljs-comment">#å¤šé‡å…±çº¿æ€§</span><br>new_numerical=[<span class="hljs-string">&#x27;V0&#x27;</span>, <span class="hljs-string">&#x27;V2&#x27;</span>, <span class="hljs-string">&#x27;V3&#x27;</span>, <span class="hljs-string">&#x27;V4&#x27;</span>, <span class="hljs-string">&#x27;V5&#x27;</span>, <span class="hljs-string">&#x27;V6&#x27;</span>, <span class="hljs-string">&#x27;V10&#x27;</span>,<span class="hljs-string">&#x27;V11&#x27;</span>, <br>                         <span class="hljs-string">&#x27;V13&#x27;</span>, <span class="hljs-string">&#x27;V15&#x27;</span>, <span class="hljs-string">&#x27;V16&#x27;</span>, <span class="hljs-string">&#x27;V18&#x27;</span>, <span class="hljs-string">&#x27;V19&#x27;</span>, <span class="hljs-string">&#x27;V20&#x27;</span>, <span class="hljs-string">&#x27;V22&#x27;</span>,<span class="hljs-string">&#x27;V24&#x27;</span>,<span class="hljs-string">&#x27;V30&#x27;</span>, <span class="hljs-string">&#x27;V31&#x27;</span>, <span class="hljs-string">&#x27;V37&#x27;</span>]<br>X=np.matrix(train_data_scaler[new_numerical])<br>VIF_list=[variance_inflation_factor(X, i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(X.shape[<span class="hljs-number">1</span>])]<br>VIF_list<br></code></pre></td></tr></table></figure><pre><code class="hljs">[216.73387180903222, 114.38118723828812, 27.863778129686356, 201.96436579080174, 78.93722825798903, 151.06983667656212, 14.519604941508451, 82.69750284665385, 28.479378440614585, 27.759176471505945, 526.6483470743831, 23.50166642638334, 19.920315849901424, 24.640481765008683, 11.816055964845381, 4.958208708452915, 37.09877416736591, 298.26442986612767, 47.854002539887034]</code></pre><h3 id="pcaé™ç»´">PCAé™ç»´</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.decomposition <span class="hljs-keyword">import</span> PCA   <span class="hljs-comment">#ä¸»æˆåˆ†åˆ†ææ³•</span><br><span class="hljs-comment">#PCAæ–¹æ³•é™ç»´</span><br><span class="hljs-comment">#ä¿ç•™16ä¸ªä¸»æˆåˆ†</span><br>pca = PCA(n_components=<span class="hljs-number">16</span>)<br>new_train_pca_16 = pca.fit_transform(train_data_scaler.iloc[:,<span class="hljs-number">0</span>:-<span class="hljs-number">1</span>])<br>new_test_pca_16 = pca.transform(test_data_scaler)<br>new_train_pca_16 = pd.DataFrame(new_train_pca_16)<br>new_test_pca_16 = pd.DataFrame(new_test_pca_16)<br>new_train_pca_16[<span class="hljs-string">&#x27;target&#x27;</span>] = train_data_scaler[<span class="hljs-string">&#x27;target&#x27;</span>]<br>new_train_pca_16.describe()<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>10</th><th>11</th><th>12</th><th>13</th><th>14</th><th>15</th><th>target</th></tr></thead><tbody><tr><th>count</th><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2884.000000</td></tr><tr><th>mean</th><td>-8.309602e-17</td><td>-5.653059e-17</td><td>7.698662e-17</td><td>1.023282e-16</td><td>1.123303e-17</td><td>-2.096575e-17</td><td>1.186440e-16</td><td>2.303347e-17</td><td>-8.889286e-17</td><td>7.044204e-17</td><td>2.085635e-17</td><td>7.888604e-17</td><td>1.061271e-17</td><td>-8.522866e-17</td><td>-3.927472e-18</td><td>1.403527e-16</td><td>0.127274</td></tr><tr><th>std</th><td>3.998976e-01</td><td>3.500240e-01</td><td>2.938631e-01</td><td>2.728023e-01</td><td>2.077128e-01</td><td>1.951842e-01</td><td>1.877104e-01</td><td>1.607670e-01</td><td>1.512707e-01</td><td>1.443772e-01</td><td>1.368790e-01</td><td>1.286192e-01</td><td>1.193301e-01</td><td>1.149758e-01</td><td>1.133507e-01</td><td>1.019258e-01</td><td>0.983462</td></tr><tr><th>min</th><td>-1.071795e+00</td><td>-9.429479e-01</td><td>-9.948314e-01</td><td>-7.103085e-01</td><td>-7.703982e-01</td><td>-5.340293e-01</td><td>-5.993765e-01</td><td>-5.870824e-01</td><td>-6.282791e-01</td><td>-4.902512e-01</td><td>-6.340717e-01</td><td>-5.906511e-01</td><td>-4.174969e-01</td><td>-4.310403e-01</td><td>-4.170661e-01</td><td>-3.599371e-01</td><td>-3.044000</td></tr><tr><th>25%</th><td>-2.804085e-01</td><td>-2.613727e-01</td><td>-2.090798e-01</td><td>-1.945196e-01</td><td>-1.315622e-01</td><td>-1.264097e-01</td><td>-1.236367e-01</td><td>-1.016457e-01</td><td>-9.662180e-02</td><td>-9.297320e-02</td><td>-8.202288e-02</td><td>-7.721862e-02</td><td>-7.139615e-02</td><td>-7.473615e-02</td><td>-7.710889e-02</td><td>-6.599455e-02</td><td>-0.348500</td></tr><tr><th>50%</th><td>-1.417104e-02</td><td>-1.277241e-02</td><td>2.112159e-02</td><td>-2.337402e-02</td><td>-5.122768e-03</td><td>-1.355318e-02</td><td>-1.749546e-04</td><td>-4.655494e-03</td><td>2.574985e-03</td><td>-1.480464e-03</td><td>7.296441e-03</td><td>-5.733519e-03</td><td>-4.165757e-03</td><td>1.036940e-03</td><td>-1.762762e-03</td><td>-7.954922e-04</td><td>0.313000</td></tr><tr><th>75%</th><td>2.287306e-01</td><td>2.317720e-01</td><td>2.069571e-01</td><td>1.657590e-01</td><td>1.281659e-01</td><td>9.993165e-02</td><td>1.272086e-01</td><td>9.657155e-02</td><td>1.002626e-01</td><td>9.059782e-02</td><td>8.835004e-02</td><td>7.147987e-02</td><td>6.785346e-02</td><td>7.576130e-02</td><td>7.115629e-02</td><td>6.364658e-02</td><td>0.794250</td></tr><tr><th>max</th><td>1.597730e+00</td><td>1.382802e+00</td><td>1.010250e+00</td><td>1.448007e+00</td><td>1.034062e+00</td><td>1.358963e+00</td><td>6.191591e-01</td><td>7.370069e-01</td><td>6.449190e-01</td><td>5.839583e-01</td><td>6.404954e-01</td><td>6.780797e-01</td><td>5.156587e-01</td><td>4.977880e-01</td><td>4.675102e-01</td><td>4.571981e-01</td><td>2.538000</td></tr></tbody></table></div><h1 id="æ¨¡å‹è®­ç»ƒ">æ¨¡å‹è®­ç»ƒ</h1><h2 id="å¯¼å…¥ç›¸å…³åº“">1 å¯¼å…¥ç›¸å…³åº“</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LinearRegression  <span class="hljs-comment">#çº¿æ€§å›å½’</span><br><span class="hljs-keyword">from</span> sklearn.neighbors <span class="hljs-keyword">import</span> KNeighborsRegressor  <span class="hljs-comment">#Kè¿‘é‚»å›å½’</span><br><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeRegressor     <span class="hljs-comment">#å†³ç­–æ ‘å›å½’</span><br><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> RandomForestRegressor <span class="hljs-comment">#éšæœºæ£®æ—å›å½’</span><br><span class="hljs-keyword">from</span> sklearn.svm <span class="hljs-keyword">import</span> SVR  <span class="hljs-comment">#æ”¯æŒå‘é‡å›å½’</span><br><span class="hljs-keyword">import</span> lightgbm <span class="hljs-keyword">as</span> lgb <span class="hljs-comment">#lightGbmæ¨¡å‹</span><br><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split <span class="hljs-comment"># åˆ‡åˆ†æ•°æ®</span><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> mean_squared_error <span class="hljs-comment">#è¯„ä»·æŒ‡æ ‡</span><br><br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> learning_curve<br><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> ShuffleSplit<br><br></code></pre></td></tr></table></figure><h2 id="åˆ‡åˆ†æ•°æ®">2 åˆ‡åˆ†æ•°æ®</h2><p>å¯¹è®­ç»ƒé›†è¿›è¡Œåˆ‡åˆ†ï¼Œå¾—åˆ°80%çš„è®­ç»ƒæ•°æ®å’Œ20%çš„éªŒè¯æ•°æ®ã€‚ç”¨åˆ‡åˆ†å¾—åˆ°çš„è®­ç»ƒæ•°æ®è®­ç»ƒæ¨¡å‹ï¼Œç”¨åˆ‡åˆ†å¾—åˆ°çš„éªŒè¯æ•°æ®è¯„ä¼°æ¨¡å‹çš„æ€§èƒ½ä¼˜åŠ£ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#é‡‡ç”¨ pca ä¿ç•™16ç»´ç‰¹å¾çš„æ•°æ®</span><br>new_train_pca_16 = new_train_pca_16.fillna(<span class="hljs-number">0</span>)<br>train = new_train_pca_16[new_test_pca_16.columns]<br>target = new_train_pca_16[<span class="hljs-string">&#x27;target&#x27;</span>]<br><br><span class="hljs-comment"># åˆ‡åˆ†æ•°æ® è®­ç»ƒæ•°æ®80% éªŒè¯æ•°æ®20%</span><br>train_data,test_data,train_target,test_target=train_test_split(train,target,test_size=<span class="hljs-number">0.2</span>,random_state=<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><h2 id="å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹">3 å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">clf = LinearRegression()<br>clf.fit(train_data, train_target)<br>score = mean_squared_error(test_target, clf.predict(test_data))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;LinearRegression:   &quot;</span>, score)<br></code></pre></td></tr></table></figure><pre><code class="hljs">LinearRegression:    0.271697499977603</code></pre><p>ä¼˜ç‚¹ï¼šæ¨¡å‹ç®€å•ï¼Œéƒ¨ç½²æ–¹ä¾¿ï¼Œå›å½’æƒé‡å¯ä»¥ç”¨äºç»“æœåˆ†æï¼›è®­ç»ƒå¿«ã€‚</p><p>ç¼ºç‚¹ï¼šç²¾åº¦ä½ï¼Œç‰¹å¾å­˜åœ¨ä¸€å®šçš„å…±çº¿æ€§é—®é¢˜ã€‚</p><p>ä½¿ç”¨æŠ€å·§ï¼šéœ€è¦è¿›è¡Œ<strong>å½’ä¸€åŒ–</strong>å¤„ç†ï¼Œå»ºè®®è¿›è¡Œä¸€å®šçš„ç‰¹å¾é€‰æ‹©ï¼Œå°½é‡é¿å…é«˜åº¦ç›¸å…³çš„ç‰¹å¾åŒæ—¶å­˜åœ¨ã€‚</p><p>æœ¬é¢˜ç»“æœï¼šæ•ˆæœä¸€èˆ¬ï¼Œé€‚åˆåˆ†æä½¿ç”¨ã€‚</p><h2 id="kè¿‘é‚»å›å½’">4 Kè¿‘é‚»å›å½’</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">clf = KNeighborsRegressor(n_neighbors=<span class="hljs-number">8</span>) <span class="hljs-comment"># æœ€è¿‘8ä¸ª</span><br>clf.fit(train_data, train_target)<br>score = mean_squared_error(test_target, clf.predict(test_data))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;KNeighborsRegressor:   &quot;</span>, score)<br></code></pre></td></tr></table></figure><pre><code class="hljs">KNeighborsRegressor:    0.2734753438581315</code></pre><p>ä¼˜ç‚¹ï¼šæ¨¡å‹ç®€å•ï¼Œæ˜“äºç†è§£ï¼Œå¯¹äºæ•°æ®é‡å°çš„æƒ…å†µæ–¹ä¾¿å¿«æ·ï¼Œå¯è§†åŒ–æ–¹ä¾¿ã€‚</p><p>ç¼ºç‚¹ï¼šè®¡ç®—é‡å¤§ï¼Œä¸é€‚åˆæ•°æ®é‡å¤§çš„æƒ…å†µï¼šéœ€è¦è°ƒå‚æ•°ã€‚</p><p>ä½¿ç”¨æŠ€å·§ï¼šç‰¹å¾éœ€è¦<strong>å½’ä¸€åŒ–</strong>ï¼Œé‡è¦çš„ç‰¹å¾å¯ä»¥é€‚å½“åŠ ä¸€å®šæ¯”ä¾‹çš„æƒé‡ã€‚</p><p>æœ¬é¢˜ç»“æœï¼šæ•ˆæœä¸€èˆ¬ã€‚</p><h2 id="éšæœºæ£®æ—å›å½’">5 éšæœºæ£®æ—å›å½’</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">clf = RandomForestRegressor(n_estimators=<span class="hljs-number">200</span>) <span class="hljs-comment"># 200æ£µæ ‘æ¨¡å‹</span><br>clf.fit(train_data, train_target)<br>score = mean_squared_error(test_target, clf.predict(test_data))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;RandomForestRegressor:   &quot;</span>, score)<br></code></pre></td></tr></table></figure><pre><code class="hljs">RandomForestRegressor:    0.2477930646584775</code></pre><p>ä¼˜ç‚¹ï¼šä½¿ç”¨æ–¹ä¾¿ï¼Œç‰¹å¾<strong>æ— é¡»åšè¿‡å¤šå˜æ¢</strong>ï¼›ç²¾åº¦è¾ƒé«˜ï¼šæ¨¡å‹å¹¶è¡Œè®­ç»ƒå¿«ã€‚</p><p>ç¼ºç‚¹ï¼šç»“æœä¸å®¹æ˜“è§£é‡Šã€‚</p><p>ä½¿ç”¨æŠ€å·§ï¼šå‚æ•°è°ƒèŠ‚ï¼Œæé«˜ç²¾åº¦ã€‚</p><p>æœ¬é¢˜ç»“æœï¼šæ¯”è¾ƒé€‚åˆã€‚</p><h2 id="lgbæ¨¡å‹å›å½’">6 LGBæ¨¡å‹å›å½’</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># lgbå›å½’æ¨¡å‹</span><br>clf = lgb.LGBMRegressor(<br>        learning_rate=<span class="hljs-number">0.01</span>, <span class="hljs-comment"># å­¦ä¹ ç‡</span><br>        max_depth=-<span class="hljs-number">1</span>, <span class="hljs-comment"># æ ‘çš„æœ€å¤§æ·±åº¦ã€‚-1è¡¨ç¤ºæ²¡æœ‰é™åˆ¶ã€‚</span><br>        n_estimators=<span class="hljs-number">5000</span>, <span class="hljs-comment"># è¿­ä»£æ¬¡æ•°ï¼Œä¹Ÿå°±æ˜¯åŸºç¡€æ¨¡å‹ï¼ˆå†³ç­–æ ‘ï¼‰çš„æ•°é‡ã€‚</span><br>        boosting_type=<span class="hljs-string">&#x27;gbdt&#x27;</span>, <span class="hljs-comment"># æå‡ç±»å‹ï¼Œé»˜è®¤ä¸º&#x27;gbdt&#x27;ï¼Œè¡¨ç¤ºæ¢¯åº¦æå‡å†³ç­–æ ‘ã€‚</span><br>        random_state=<span class="hljs-number">2019</span>, <span class="hljs-comment"># éšæœºç§å­ï¼Œç”¨äºé‡ç°ç»“æœã€‚</span><br>        objective=<span class="hljs-string">&#x27;regression&#x27;</span>, <span class="hljs-comment"># åŒ–ç›®æ ‡ï¼Œè¿™é‡Œè®¾ç½®ä¸º&#x27;regression&#x27;è¡¨ç¤ºå›å½’é—®é¢˜ã€‚</span><br>    )<br><br><span class="hljs-comment"># è®­ç»ƒæ¨¡å‹</span><br>clf.fit(<br>        X=train_data, y=train_target,<br>        eval_metric=<span class="hljs-string">&#x27;MSE&#x27;</span>, <span class="hljs-comment"># è®¾ç½®è¯„ä¼°æŒ‡æ ‡eval_metricï¼Œè¿™é‡Œä½¿ç”¨å‡æ–¹è¯¯å·®ï¼ˆMSEï¼‰</span><br>        <span class="hljs-comment"># verbose=50 # æ§åˆ¶è®­ç»ƒè¿‡ç¨‹ä¸­çš„è¾“å‡ºä¿¡æ¯ï¼Œ50è¡¨ç¤ºæ¯50è½®è¾“å‡ºä¸€æ¬¡ã€‚</span><br>    )<br><br>score = mean_squared_error(test_target, clf.predict(test_data))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;lightGbm:   &quot;</span>, score)<br></code></pre></td></tr></table></figure><pre><code class="hljs">[LightGBM] [Warning] Auto-choosing col-wise multi-threading, the overhead of testing was 0.000303 seconds.You can set `force_col_wise=true` to remove the overhead.[LightGBM] [Info] Total Bins 4080[LightGBM] [Info] Number of data points in the train set: 2308, number of used features: 16[LightGBM] [Info] Start training from score 0.119128lightGbm:    0.2436390703800861</code></pre><p>ä¼˜ç‚¹ï¼šç²¾åº¦é«˜ã€‚</p><p>ç¼ºç‚¹ï¼šè®­ç»ƒæ—¶é—´é•¿ï¼Œæ¨¡å‹å¤æ‚ã€‚</p><p>ä½¿ç”¨æŠ€å·§ï¼šæœ‰æ•ˆçš„éªŒè¯é›†é˜²æ­¢è¿‡æ‹Ÿåˆï¼›å‚æ•°æœç´¢ã€‚</p><p>æœ¬é¢˜ç»“æœï¼šé€‚ç”¨ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ å®æˆ˜å…¥é—¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å·¥ä¸šè’¸æ±½é¢„æµ‹-03ç‰¹å¾å·¥ç¨‹</title>
    <link href="/2023/07/31/%E5%B7%A5%E4%B8%9A%E8%92%B8%E6%B1%BD%E9%A2%84%E6%B5%8B-03%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B/"/>
    <url>/2023/07/31/%E5%B7%A5%E4%B8%9A%E8%92%B8%E6%B1%BD%E9%A2%84%E6%B5%8B-03%E7%89%B9%E5%BE%81%E5%B7%A5%E7%A8%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="å¯¼å…¥æ•°æ®åˆ†æå·¥å…·åŒ…">1å¯¼å…¥æ•°æ®åˆ†æå·¥å…·åŒ…</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns<br><br><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats<br><br><span class="hljs-keyword">import</span> warnings<br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>)<br> <br>%matplotlib inline<br></code></pre></td></tr></table></figure><h1 id="æ•°æ®è¯»å–">2æ•°æ®è¯»å–</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">train_data_file = <span class="hljs-string">&quot;./data/zhengqi_train.txt&quot;</span><br>test_data_file =  <span class="hljs-string">&quot;./data/zhengqi_test.txt&quot;</span><br><br>train_data = pd.read_csv(train_data_file, sep=<span class="hljs-string">&#x27;\t&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>test_data = pd.read_csv(test_data_file, sep=<span class="hljs-string">&#x27;\t&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br></code></pre></td></tr></table></figure><h1 id="è®­ç»ƒæ•°æ®æ€»è§ˆ">3è®­ç»ƒæ•°æ®æ€»è§ˆ</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">train_data.describe()<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>V0</th><th>V1</th><th>V2</th><th>V3</th><th>V4</th><th>V5</th><th>V6</th><th>V7</th><th>V8</th><th>V9</th><th>...</th><th>V29</th><th>V30</th><th>V31</th><th>V32</th><th>V33</th><th>V34</th><th>V35</th><th>V36</th><th>V37</th><th>target</th></tr></thead><tbody><tr><th>count</th><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>...</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td></tr><tr><th>mean</th><td>0.123048</td><td>0.056068</td><td>0.289720</td><td>-0.067790</td><td>0.012921</td><td>-0.558565</td><td>0.182892</td><td>0.116155</td><td>0.177856</td><td>-0.169452</td><td>...</td><td>0.097648</td><td>0.055477</td><td>0.127791</td><td>0.020806</td><td>0.007801</td><td>0.006715</td><td>0.197764</td><td>0.030658</td><td>-0.130330</td><td>0.126353</td></tr><tr><th>std</th><td>0.928031</td><td>0.941515</td><td>0.911236</td><td>0.970298</td><td>0.888377</td><td>0.517957</td><td>0.918054</td><td>0.955116</td><td>0.895444</td><td>0.953813</td><td>...</td><td>1.061200</td><td>0.901934</td><td>0.873028</td><td>0.902584</td><td>1.006995</td><td>1.003291</td><td>0.985675</td><td>0.970812</td><td>1.017196</td><td>0.983966</td></tr><tr><th>min</th><td>-4.335000</td><td>-5.122000</td><td>-3.420000</td><td>-3.956000</td><td>-4.742000</td><td>-2.182000</td><td>-4.576000</td><td>-5.048000</td><td>-4.692000</td><td>-12.891000</td><td>...</td><td>-2.912000</td><td>-4.507000</td><td>-5.859000</td><td>-4.053000</td><td>-4.627000</td><td>-4.789000</td><td>-5.695000</td><td>-2.608000</td><td>-3.630000</td><td>-3.044000</td></tr><tr><th>25%</th><td>-0.297000</td><td>-0.226250</td><td>-0.313000</td><td>-0.652250</td><td>-0.385000</td><td>-0.853000</td><td>-0.310000</td><td>-0.295000</td><td>-0.159000</td><td>-0.390000</td><td>...</td><td>-0.664000</td><td>-0.283000</td><td>-0.170250</td><td>-0.407250</td><td>-0.499000</td><td>-0.290000</td><td>-0.202500</td><td>-0.413000</td><td>-0.798250</td><td>-0.350250</td></tr><tr><th>50%</th><td>0.359000</td><td>0.272500</td><td>0.386000</td><td>-0.044500</td><td>0.110000</td><td>-0.466000</td><td>0.388000</td><td>0.344000</td><td>0.362000</td><td>0.042000</td><td>...</td><td>-0.023000</td><td>0.053500</td><td>0.299500</td><td>0.039000</td><td>-0.040000</td><td>0.160000</td><td>0.364000</td><td>0.137000</td><td>-0.185500</td><td>0.313000</td></tr><tr><th>75%</th><td>0.726000</td><td>0.599000</td><td>0.918250</td><td>0.624000</td><td>0.550250</td><td>-0.154000</td><td>0.831250</td><td>0.782250</td><td>0.726000</td><td>0.042000</td><td>...</td><td>0.745250</td><td>0.488000</td><td>0.635000</td><td>0.557000</td><td>0.462000</td><td>0.273000</td><td>0.602000</td><td>0.644250</td><td>0.495250</td><td>0.793250</td></tr><tr><th>max</th><td>2.121000</td><td>1.918000</td><td>2.828000</td><td>2.457000</td><td>2.689000</td><td>0.489000</td><td>1.895000</td><td>1.918000</td><td>2.245000</td><td>1.335000</td><td>...</td><td>4.580000</td><td>2.689000</td><td>2.013000</td><td>2.395000</td><td>5.465000</td><td>5.110000</td><td>2.324000</td><td>5.238000</td><td>3.000000</td><td>2.538000</td></tr></tbody></table><p>8 rows Ã— 39 columns</p></div><h1 id="ç‰¹å¾å·¥ç¨‹">4ç‰¹å¾å·¥ç¨‹</h1><h2 id="å¼‚å¸¸å€¼åˆ†æç®±å‹å›¾">4.1å¼‚å¸¸å€¼åˆ†æï¼ˆç®±å‹å›¾ï¼‰</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.figure(figsize=(<span class="hljs-number">18</span>, <span class="hljs-number">10</span>))<br>plt.boxplot(x=train_data.values,labels=train_data.columns)<br>plt.hlines([-<span class="hljs-number">7.5</span>, <span class="hljs-number">7.5</span>], <span class="hljs-number">0</span>, <span class="hljs-number">40</span>, colors=<span class="hljs-string">&#x27;r&#x27;</span>) <span class="hljs-comment"># 0,40ï¼šæ°´å¹³çº¿èµ·å§‹ç»“æŸä½ç½®</span><br>plt.show()<br></code></pre></td></tr></table></figure><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-03ç‰¹å¾å·¥ç¨‹/output_8_0.png" /></p><p>ä»ç®±çº¿å›¾å¯ä»¥çœ‹å‡ºï¼Œæœ‰äº›ç‰¹å¾å­˜åœ¨æ˜æ˜¾çš„å¼‚å¸¸å€¼ã€å¦‚V9å˜é‡ã€‚æ¥ä¸‹æ¥åˆ†åˆ«æŠŠè®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸­çš„å¼‚å¸¸å€¼åˆ é™¤ã€‚</p><h4 id="ä»£ç è¯¦è§£">ä»£ç è¯¦è§£ï¼š</h4><ol type="1"><li><p><code>plt.boxplot(x=train_data.values,labels=train_data.columns)</code>ï¼šä½¿ç”¨<code>boxplot</code>å‡½æ•°ç»˜åˆ¶ç®±çº¿å›¾ã€‚å…¶ä¸­ï¼Œ<code>train_data.values</code>æ˜¯è¦ç»˜åˆ¶ç®±çº¿å›¾çš„æ•°æ®ï¼Œ<code>labels=train_data.columns</code>è¡¨ç¤ºç®±çº¿å›¾ä¸­æ¯ä¸ªç®±å­å¯¹åº”çš„æ ‡ç­¾æ˜¯<code>train_data</code>æ•°æ®é›†çš„åˆ—åã€‚</p></li><li><p><code>plt.hlines([-7.5, 7.5], 0, 40, colors='r')</code>ï¼šä½¿ç”¨<code>hlines</code>å‡½æ•°ç»˜åˆ¶æ°´å¹³çº¿ã€‚<code>[-7.5, 7.5]</code>è¡¨ç¤ºè¦ç»˜åˆ¶çš„æ°´å¹³çº¿çš„ä½ç½®ï¼Œ0å’Œ40åˆ†åˆ«è¡¨ç¤ºæ°´å¹³çº¿çš„èµ·å§‹å’Œç»“æŸä½ç½®ï¼Œ<code>colors='r'</code>è¡¨ç¤ºçº¿æ¡é¢œè‰²ä¸ºçº¢è‰²ã€‚</p></li></ol><p>è¯¥æ®µä»£ç ä½¿ç”¨matplotlibåº“ç»˜åˆ¶äº†ä¸€ä¸ªç®±çº¿å›¾ï¼Œå±•ç¤ºäº†<code>train_data</code>æ•°æ®é›†ä¸­å„ä¸ªç‰¹å¾åˆ—çš„åˆ†å¸ƒæƒ…å†µï¼Œå¹¶åœ¨å›¾ä¸­æ·»åŠ äº†ä¸¤æ¡æ°´å¹³çº¿ï¼ˆ-7.5å’Œ7.5ï¼‰ï¼Œç”¨äºæ ‡è®°å¼‚å¸¸å€¼çš„é˜ˆå€¼ã€‚</p><h3 id="åˆ é™¤å¼‚å¸¸å€¼">4.1.1åˆ é™¤å¼‚å¸¸å€¼</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">train_data = train_data[train_data[<span class="hljs-string">&#x27;V9&#x27;</span>]&gt;-<span class="hljs-number">7.5</span>] <span class="hljs-comment"># ä¿ç•™å¤§äº-7.5çš„å€¼</span><br>test_data = test_data[test_data[<span class="hljs-string">&#x27;V9&#x27;</span>]&gt;-<span class="hljs-number">7.5</span>]<br><br>display(train_data.describe())<br>display(test_data.describe())<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>V0</th><th>V1</th><th>V2</th><th>V3</th><th>V4</th><th>V5</th><th>V6</th><th>V7</th><th>V8</th><th>V9</th><th>...</th><th>V29</th><th>V30</th><th>V31</th><th>V32</th><th>V33</th><th>V34</th><th>V35</th><th>V36</th><th>V37</th><th>target</th></tr></thead><tbody><tr><th>count</th><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.00000</td><td>...</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td></tr><tr><th>mean</th><td>0.123725</td><td>0.056856</td><td>0.290340</td><td>-0.068364</td><td>0.012254</td><td>-0.558971</td><td>0.183273</td><td>0.116274</td><td>0.178138</td><td>-0.16213</td><td>...</td><td>0.097019</td><td>0.058619</td><td>0.127617</td><td>0.023626</td><td>0.008271</td><td>0.006959</td><td>0.198513</td><td>0.030099</td><td>-0.131957</td><td>0.127451</td></tr><tr><th>std</th><td>0.927984</td><td>0.941269</td><td>0.911231</td><td>0.970357</td><td>0.888037</td><td>0.517871</td><td>0.918211</td><td>0.955418</td><td>0.895552</td><td>0.91089</td><td>...</td><td>1.060824</td><td>0.894311</td><td>0.873300</td><td>0.896509</td><td>1.007175</td><td>1.003411</td><td>0.985058</td><td>0.970258</td><td>1.015666</td><td>0.983144</td></tr><tr><th>min</th><td>-4.335000</td><td>-5.122000</td><td>-3.420000</td><td>-3.956000</td><td>-4.742000</td><td>-2.182000</td><td>-4.576000</td><td>-5.048000</td><td>-4.692000</td><td>-7.07100</td><td>...</td><td>-2.912000</td><td>-4.507000</td><td>-5.859000</td><td>-4.053000</td><td>-4.627000</td><td>-4.789000</td><td>-5.695000</td><td>-2.608000</td><td>-3.630000</td><td>-3.044000</td></tr><tr><th>25%</th><td>-0.292000</td><td>-0.224250</td><td>-0.310000</td><td>-0.652750</td><td>-0.385000</td><td>-0.853000</td><td>-0.310000</td><td>-0.295000</td><td>-0.158750</td><td>-0.39000</td><td>...</td><td>-0.664000</td><td>-0.282000</td><td>-0.170750</td><td>-0.405000</td><td>-0.499000</td><td>-0.290000</td><td>-0.199750</td><td>-0.412750</td><td>-0.798750</td><td>-0.347500</td></tr><tr><th>50%</th><td>0.359500</td><td>0.273000</td><td>0.386000</td><td>-0.045000</td><td>0.109500</td><td>-0.466000</td><td>0.388500</td><td>0.345000</td><td>0.362000</td><td>0.04200</td><td>...</td><td>-0.023000</td><td>0.054500</td><td>0.299500</td><td>0.040000</td><td>-0.040000</td><td>0.160000</td><td>0.364000</td><td>0.137000</td><td>-0.186000</td><td>0.314000</td></tr><tr><th>75%</th><td>0.726000</td><td>0.599000</td><td>0.918750</td><td>0.623500</td><td>0.550000</td><td>-0.154000</td><td>0.831750</td><td>0.782750</td><td>0.726000</td><td>0.04200</td><td>...</td><td>0.745000</td><td>0.488000</td><td>0.635000</td><td>0.557000</td><td>0.462000</td><td>0.273000</td><td>0.602000</td><td>0.643750</td><td>0.493000</td><td>0.793750</td></tr><tr><th>max</th><td>2.121000</td><td>1.918000</td><td>2.828000</td><td>2.457000</td><td>2.689000</td><td>0.489000</td><td>1.895000</td><td>1.918000</td><td>2.245000</td><td>1.33500</td><td>...</td><td>4.580000</td><td>2.689000</td><td>2.013000</td><td>2.395000</td><td>5.465000</td><td>5.110000</td><td>2.324000</td><td>5.238000</td><td>3.000000</td><td>2.538000</td></tr></tbody></table><p>8 rows Ã— 39 columns</p></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>V0</th><th>V1</th><th>V2</th><th>V3</th><th>V4</th><th>V5</th><th>V6</th><th>V7</th><th>V8</th><th>V9</th><th>...</th><th>V28</th><th>V29</th><th>V30</th><th>V31</th><th>V32</th><th>V33</th><th>V34</th><th>V35</th><th>V36</th><th>V37</th></tr></thead><tbody><tr><th>count</th><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>...</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td></tr><tr><th>mean</th><td>-0.184404</td><td>-0.083912</td><td>-0.434762</td><td>0.101671</td><td>-0.019172</td><td>0.838049</td><td>-0.274092</td><td>-0.173971</td><td>-0.266709</td><td>0.255114</td><td>...</td><td>-0.206871</td><td>-0.146463</td><td>-0.083215</td><td>-0.191729</td><td>-0.030782</td><td>-0.011433</td><td>-0.009985</td><td>-0.296895</td><td>-0.046270</td><td>0.195735</td></tr><tr><th>std</th><td>1.073333</td><td>1.076670</td><td>0.969541</td><td>1.034925</td><td>1.147286</td><td>0.963043</td><td>1.054119</td><td>1.040101</td><td>1.085916</td><td>1.014394</td><td>...</td><td>1.064140</td><td>0.880593</td><td>1.126414</td><td>1.138454</td><td>1.130228</td><td>0.989732</td><td>0.995213</td><td>0.946896</td><td>1.040854</td><td>0.940599</td></tr><tr><th>min</th><td>-4.814000</td><td>-5.488000</td><td>-4.283000</td><td>-3.276000</td><td>-4.921000</td><td>-1.168000</td><td>-5.649000</td><td>-5.625000</td><td>-6.059000</td><td>-6.784000</td><td>...</td><td>-2.435000</td><td>-2.413000</td><td>-4.507000</td><td>-7.698000</td><td>-4.057000</td><td>-4.627000</td><td>-4.789000</td><td>-7.477000</td><td>-2.608000</td><td>-3.346000</td></tr><tr><th>25%</th><td>-0.664000</td><td>-0.451000</td><td>-0.978000</td><td>-0.644000</td><td>-0.497000</td><td>0.122000</td><td>-0.732000</td><td>-0.509000</td><td>-0.775000</td><td>-0.390000</td><td>...</td><td>-0.453000</td><td>-0.818000</td><td>-0.339000</td><td>-0.476000</td><td>-0.472000</td><td>-0.460000</td><td>-0.290000</td><td>-0.349000</td><td>-0.593000</td><td>-0.432000</td></tr><tr><th>50%</th><td>0.065000</td><td>0.195000</td><td>-0.267000</td><td>0.220000</td><td>0.118000</td><td>0.437000</td><td>-0.082000</td><td>0.018000</td><td>-0.004000</td><td>0.401000</td><td>...</td><td>-0.445000</td><td>-0.199000</td><td>0.010000</td><td>0.100000</td><td>0.155000</td><td>-0.040000</td><td>0.160000</td><td>-0.270000</td><td>0.083000</td><td>0.152000</td></tr><tr><th>75%</th><td>0.549000</td><td>0.589000</td><td>0.278000</td><td>0.793000</td><td>0.610000</td><td>1.928000</td><td>0.457000</td><td>0.515000</td><td>0.482000</td><td>0.904000</td><td>...</td><td>-0.434000</td><td>0.468000</td><td>0.447000</td><td>0.471000</td><td>0.627000</td><td>0.419000</td><td>0.273000</td><td>0.364000</td><td>0.651000</td><td>0.797000</td></tr><tr><th>max</th><td>2.100000</td><td>2.120000</td><td>1.946000</td><td>2.603000</td><td>4.475000</td><td>3.176000</td><td>1.528000</td><td>1.394000</td><td>2.408000</td><td>1.766000</td><td>...</td><td>4.656000</td><td>3.022000</td><td>3.139000</td><td>1.428000</td><td>2.299000</td><td>5.465000</td><td>5.110000</td><td>1.671000</td><td>2.861000</td><td>3.021000</td></tr></tbody></table><p>8 rows Ã— 38 columns</p></div><h2 id="ç‰¹å¾ç¼©æ”¾æœ€å¤§æœ€å°å€¼å½’ä¸€åŒ–">4.2ç‰¹å¾ç¼©æ”¾ï¼ˆæœ€å¤§æœ€å°å€¼å½’ä¸€åŒ–ï¼‰</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn <span class="hljs-keyword">import</span> preprocessing <br><br>features_columns = [col <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> train_data.columns <span class="hljs-keyword">if</span> col <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;target&#x27;</span>]]<br><br>min_max_scaler = preprocessing.MinMaxScaler()<br>min_max_scaler = min_max_scaler.fit(train_data[features_columns])<br><br>train_data_scaler = min_max_scaler.transform(train_data[features_columns])<br>test_data_scaler = min_max_scaler.transform(test_data[features_columns])<br><br>train_data_scaler = pd.DataFrame(train_data_scaler)<br>train_data_scaler.columns = features_columns<br><br>test_data_scaler = pd.DataFrame(test_data_scaler)<br>test_data_scaler.columns = features_columns<br><br>train_data_scaler[<span class="hljs-string">&#x27;target&#x27;</span>] = train_data[<span class="hljs-string">&#x27;target&#x27;</span>]<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">display(train_data_scaler.describe())<br>display(test_data_scaler.describe())<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>V0</th><th>V1</th><th>V2</th><th>V3</th><th>V4</th><th>V5</th><th>V6</th><th>V7</th><th>V8</th><th>V9</th><th>...</th><th>V29</th><th>V30</th><th>V31</th><th>V32</th><th>V33</th><th>V34</th><th>V35</th><th>V36</th><th>V37</th><th>target</th></tr></thead><tbody><tr><th>count</th><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>...</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2884.000000</td></tr><tr><th>mean</th><td>0.690633</td><td>0.735633</td><td>0.593844</td><td>0.606212</td><td>0.639787</td><td>0.607649</td><td>0.735477</td><td>0.741354</td><td>0.702053</td><td>0.821897</td><td>...</td><td>0.401631</td><td>0.634466</td><td>0.760495</td><td>0.632231</td><td>0.459302</td><td>0.484489</td><td>0.734944</td><td>0.336235</td><td>0.527608</td><td>0.127274</td></tr><tr><th>std</th><td>0.143740</td><td>0.133703</td><td>0.145844</td><td>0.151311</td><td>0.119504</td><td>0.193887</td><td>0.141896</td><td>0.137154</td><td>0.129098</td><td>0.108362</td><td>...</td><td>0.141594</td><td>0.124279</td><td>0.110938</td><td>0.139037</td><td>0.099799</td><td>0.101365</td><td>0.122840</td><td>0.123663</td><td>0.153192</td><td>0.983462</td></tr><tr><th>min</th><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>...</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>-3.044000</td></tr><tr><th>25%</th><td>0.626239</td><td>0.695703</td><td>0.497759</td><td>0.515087</td><td>0.586328</td><td>0.497566</td><td>0.659249</td><td>0.682314</td><td>0.653489</td><td>0.794789</td><td>...</td><td>0.300053</td><td>0.587132</td><td>0.722593</td><td>0.565757</td><td>0.409037</td><td>0.454490</td><td>0.685279</td><td>0.279792</td><td>0.427036</td><td>-0.348500</td></tr><tr><th>50%</th><td>0.727153</td><td>0.766335</td><td>0.609155</td><td>0.609855</td><td>0.652873</td><td>0.642456</td><td>0.767192</td><td>0.774189</td><td>0.728557</td><td>0.846181</td><td>...</td><td>0.385611</td><td>0.633894</td><td>0.782330</td><td>0.634770</td><td>0.454518</td><td>0.499949</td><td>0.755580</td><td>0.349860</td><td>0.519457</td><td>0.313000</td></tr><tr><th>75%</th><td>0.783922</td><td>0.812642</td><td>0.694422</td><td>0.714096</td><td>0.712152</td><td>0.759266</td><td>0.835690</td><td>0.837030</td><td>0.781029</td><td>0.846181</td><td>...</td><td>0.488121</td><td>0.694136</td><td>0.824949</td><td>0.714950</td><td>0.504261</td><td>0.511365</td><td>0.785260</td><td>0.414447</td><td>0.621870</td><td>0.794250</td></tr><tr><th>max</th><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>...</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>2.538000</td></tr></tbody></table><p>8 rows Ã— 39 columns</p></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>V0</th><th>V1</th><th>V2</th><th>V3</th><th>V4</th><th>V5</th><th>V6</th><th>V7</th><th>V8</th><th>V9</th><th>...</th><th>V28</th><th>V29</th><th>V30</th><th>V31</th><th>V32</th><th>V33</th><th>V34</th><th>V35</th><th>V36</th><th>V37</th></tr></thead><tbody><tr><th>count</th><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>...</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td></tr><tr><th>mean</th><td>0.642905</td><td>0.715637</td><td>0.477791</td><td>0.632726</td><td>0.635558</td><td>1.130681</td><td>0.664798</td><td>0.699688</td><td>0.637926</td><td>0.871534</td><td>...</td><td>0.313556</td><td>0.369132</td><td>0.614756</td><td>0.719928</td><td>0.623793</td><td>0.457349</td><td>0.482778</td><td>0.673164</td><td>0.326501</td><td>0.577034</td></tr><tr><th>std</th><td>0.166253</td><td>0.152936</td><td>0.155176</td><td>0.161379</td><td>0.154392</td><td>0.360555</td><td>0.162899</td><td>0.149311</td><td>0.156540</td><td>0.120675</td><td>...</td><td>0.149752</td><td>0.117538</td><td>0.156533</td><td>0.144621</td><td>0.175284</td><td>0.098071</td><td>0.100537</td><td>0.118082</td><td>0.132661</td><td>0.141870</td></tr><tr><th>min</th><td>-0.074195</td><td>-0.051989</td><td>-0.138124</td><td>0.106035</td><td>-0.024088</td><td>0.379633</td><td>-0.165817</td><td>-0.082831</td><td>-0.197059</td><td>0.034142</td><td>...</td><td>0.000000</td><td>0.066604</td><td>0.000000</td><td>-0.233613</td><td>-0.000620</td><td>0.000000</td><td>0.000000</td><td>-0.222222</td><td>0.000000</td><td>0.042836</td></tr><tr><th>25%</th><td>0.568618</td><td>0.663494</td><td>0.390845</td><td>0.516451</td><td>0.571256</td><td>0.862598</td><td>0.594035</td><td>0.651593</td><td>0.564653</td><td>0.794789</td><td>...</td><td>0.278919</td><td>0.279498</td><td>0.579211</td><td>0.683816</td><td>0.555366</td><td>0.412901</td><td>0.454490</td><td>0.666667</td><td>0.256819</td><td>0.482353</td></tr><tr><th>50%</th><td>0.681537</td><td>0.755256</td><td>0.504641</td><td>0.651177</td><td>0.654017</td><td>0.980532</td><td>0.694483</td><td>0.727247</td><td>0.675796</td><td>0.888889</td><td>...</td><td>0.280045</td><td>0.362120</td><td>0.627710</td><td>0.756987</td><td>0.652605</td><td>0.454518</td><td>0.499949</td><td>0.676518</td><td>0.342977</td><td>0.570437</td></tr><tr><th>75%</th><td>0.756506</td><td>0.811222</td><td>0.591869</td><td>0.740527</td><td>0.720226</td><td>1.538750</td><td>0.777778</td><td>0.798593</td><td>0.745856</td><td>0.948727</td><td>...</td><td>0.281593</td><td>0.451148</td><td>0.688438</td><td>0.804116</td><td>0.725806</td><td>0.500000</td><td>0.511365</td><td>0.755580</td><td>0.415371</td><td>0.667722</td></tr><tr><th>max</th><td>0.996747</td><td>1.028693</td><td>0.858835</td><td>1.022766</td><td>1.240345</td><td>2.005990</td><td>0.943285</td><td>0.924777</td><td>1.023497</td><td>1.051273</td><td>...</td><td>0.997889</td><td>0.792045</td><td>1.062535</td><td>0.925686</td><td>0.985112</td><td>1.000000</td><td>1.000000</td><td>0.918568</td><td>0.697043</td><td>1.003167</td></tr></tbody></table><p>8 rows Ã— 38 columns</p></div><h4 id="ä»£ç è¯¦è§£-1">ä»£ç è¯¦è§£ï¼š</h4><ol type="1"><li><p><code>features_columns = [col for col in train_data.columns if col not in ['target']]</code>ï¼šä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼åˆ›å»ºä¸€ä¸ªåˆ—è¡¨<code>features_columns</code>ï¼Œå…¶ä¸­åŒ…å«é™¤äº†'target'åˆ—ä¹‹å¤–çš„æ‰€æœ‰è®­ç»ƒæ•°æ®çš„ç‰¹å¾åˆ—ã€‚</p></li><li><p><code>min_max_scaler = preprocessing.MinMaxScaler()</code>ï¼šåˆ›å»ºä¸€ä¸ªMinMaxScalerå¯¹è±¡ï¼Œç”¨äºè¿›è¡Œç‰¹å¾ç¼©æ”¾ã€‚</p></li><li><p><code>min_max_scaler = min_max_scaler.fit(train_data[features_columns])</code>ï¼šä½¿ç”¨è®­ç»ƒæ•°æ®çš„ç‰¹å¾åˆ—æ‹Ÿåˆï¼ˆfitï¼‰MinMaxScalerå¯¹è±¡ï¼Œè®¡ç®—è®­ç»ƒé›†ä¸­æ¯ä¸ªç‰¹å¾çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚</p></li><li><p><code>train_data_scaler = min_max_scaler.transform(train_data[features_columns])</code>ï¼šå°†è®­ç»ƒæ•°æ®çš„ç‰¹å¾åˆ—ä½¿ç”¨MinMaxScalerè¿›è¡Œç¼©æ”¾è½¬æ¢ï¼Œå¾—åˆ°ç¼©æ”¾åçš„è®­ç»ƒæ•°æ®ã€‚</p></li><li><p><code>test_data_scaler = min_max_scaler.transform(test_data[features_columns])</code>ï¼šå°†æµ‹è¯•æ•°æ®çš„ç‰¹å¾åˆ—ä½¿ç”¨ç›¸åŒçš„MinMaxScalerè¿›è¡Œç¼©æ”¾è½¬æ¢ï¼Œå¾—åˆ°ç¼©æ”¾åçš„æµ‹è¯•æ•°æ®ã€‚è¿™é‡Œä½¿ç”¨çš„æ˜¯åœ¨è®­ç»ƒæ•°æ®ä¸Šæ‹Ÿåˆçš„MinMaxScalerå¯¹è±¡ï¼Œä¿è¯äº†è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®çš„ç¼©æ”¾æ–¹å¼ä¸€è‡´ã€‚</p></li><li><p><code>train_data_scaler = pd.DataFrame(train_data_scaler)</code>ï¼šå°†ç¼©æ”¾åçš„è®­ç»ƒæ•°æ®è½¬æ¢ä¸ºDataFrameæ ¼å¼ã€‚</p></li><li><p><code>train_data_scaler.columns = features_columns</code>ï¼šå°†ç¼©æ”¾åçš„è®­ç»ƒæ•°æ®çš„åˆ—åè®¾ç½®ä¸ºåŸå§‹ç‰¹å¾åˆ—çš„åˆ—åï¼Œä¿æŒä¸€è‡´æ€§ã€‚</p></li><li><p><code>test_data_scaler = pd.DataFrame(test_data_scaler)</code>ï¼šå°†ç¼©æ”¾åçš„æµ‹è¯•æ•°æ®è½¬æ¢ä¸ºDataFrameæ ¼å¼ã€‚</p></li><li><p><code>test_data_scaler.columns = features_columns</code>ï¼šå°†ç¼©æ”¾åçš„æµ‹è¯•æ•°æ®çš„åˆ—åè®¾ç½®ä¸ºåŸå§‹ç‰¹å¾åˆ—çš„åˆ—åï¼Œä¿æŒä¸€è‡´æ€§ã€‚</p></li><li><p><code>train_data_scaler['target'] = train_data['target']</code>ï¼šå°†ç¼©æ”¾åçš„è®­ç»ƒæ•°æ®ä¸­çš„'target'åˆ—è®¾ç½®ä¸ºåŸå§‹è®­ç»ƒæ•°æ®çš„'target'åˆ—ï¼Œè¿™æ ·ä¿ç•™äº†ç›®æ ‡å˜é‡ã€‚</p></li></ol><hr /><p><strong>fitä¸transformï¼š</strong></p><ol type="1"><li>fitæ–¹æ³•ï¼š<ul><li>fitæ–¹æ³•ç”¨äºä»è®­ç»ƒæ•°æ®ä¸­å­¦ä¹ æ¨¡å‹çš„å‚æ•°æˆ–æ•°æ®è½¬æ¢æ‰€éœ€çš„ç»Ÿè®¡ä¿¡æ¯ã€‚</li><li>åœ¨fitæ–¹æ³•ä¸­ï¼Œæ¨¡å‹ä¼šæ ¹æ®è®­ç»ƒæ•°æ®è‡ªåŠ¨è®¡ç®—å¹¶ç¡®å®šè½¬æ¢æ‰€éœ€çš„å‚æ•°ï¼Œä¾‹å¦‚å‡å€¼ã€æ ‡å‡†å·®ç­‰ã€‚</li><li>fitæ–¹æ³•é€šå¸¸åªé’ˆå¯¹è®­ç»ƒæ•°æ®é›†è¿›è¡Œè°ƒç”¨ï¼Œä»¥ä¾¿ä½¿æ¨¡å‹èƒ½å¤Ÿæ ¹æ®è®­ç»ƒæ•°æ®é€‚åº”æœ€ä½³çš„å‚æ•°è®¾ç½®ã€‚</li></ul></li><li>transformæ–¹æ³•ï¼š<ul><li>transformæ–¹æ³•ç”¨äºå°†åŸå§‹æ•°æ®è½¬æ¢ä¸ºç»è¿‡é¢„å¤„ç†åçš„æ•°æ®ã€‚</li><li>åœ¨transformæ–¹æ³•ä¸­ï¼Œæ¨¡å‹ä¼šæ ¹æ®ä¹‹å‰å­¦ä¹ åˆ°çš„å‚æ•°æˆ–ç»Ÿè®¡ä¿¡æ¯ï¼Œå¯¹æ•°æ®è¿›è¡Œç›¸åº”çš„è½¬æ¢æ“ä½œã€‚</li><li>transformæ–¹æ³•é€šå¸¸åœ¨è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®ä¸Šåˆ†åˆ«è°ƒç”¨ï¼Œä»¥ä¾¿å°†å®ƒä»¬éƒ½è½¬æ¢ä¸ºç›¸åŒçš„é¢„å¤„ç†æ ¼å¼ï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚</li></ul></li></ol><p>fitå’Œtransformæ–¹æ³•åœ¨ä¸åŒçš„é¢„å¤„ç†ç±»ä¸­å…·æœ‰ç›¸å¯¹åº”çš„æ–¹æ³•åï¼š</p><ul><li><p>MinMaxScalerç±»ï¼Œfitæ–¹æ³•ç”¨äºè®¡ç®—æ¯ä¸ªç‰¹å¾çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œtransformæ–¹æ³•ç”¨äºå°†æ•°æ®ç¼©æ”¾åˆ°ç»™å®šçš„èŒƒå›´ï¼Œé»˜è®¤ä¸º[0, 1]ã€‚</p></li><li><p>StandardScalerç±»ï¼Œfitæ–¹æ³•ç”¨äºè®¡ç®—æ¯ä¸ªç‰¹å¾çš„å‡å€¼å’Œæ ‡å‡†å·®ï¼Œtransformæ–¹æ³•ç”¨äºå°†æ•°æ®è¿›è¡Œæ ‡å‡†åŒ–å¤„ç†ï¼Œä½¿å…¶å‡å€¼ä¸º0ï¼Œæ ‡å‡†å·®ä¸º1ã€‚</p></li><li><p>OneHotEncoderç±»ï¼Œfitæ–¹æ³•ç”¨äºç¡®å®šç±»åˆ«ç‰¹å¾çš„æ‰€æœ‰å¯èƒ½å–å€¼ï¼Œå¹¶æ„å»ºæ˜ å°„å…³ç³»ï¼Œtransformæ–¹æ³•ç”¨äºå°†ç±»åˆ«ç‰¹å¾è½¬æ¢ä¸ºäºŒè¿›åˆ¶çŸ©é˜µè¡¨ç¤ºã€‚</p></li></ul><p>fitæ–¹æ³•ç”¨äºä» ==è®­ç»ƒæ•°æ®== ä¸­ ==å­¦ä¹ == æ¨¡å‹çš„ ==å‚æ•°== æˆ–ç»Ÿè®¡ä¿¡æ¯ï¼Œtransformæ–¹æ³•ç”¨äºå°†åŸå§‹æ•°æ®æŒ‰ç…§ä¹‹å‰å­¦ä¹ åˆ°çš„å‚æ•°æˆ–ç»Ÿè®¡ä¿¡æ¯è¿›è¡Œè½¬æ¢ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œé€šå¸¸å…ˆè°ƒç”¨fitæ–¹æ³•å¯¹æ¨¡å‹è¿›è¡Œè®­ç»ƒï¼Œç„¶åå†è°ƒç”¨transformæ–¹æ³•å¯¹è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®è¿›è¡Œç›¸åŒçš„æ•°æ®é¢„å¤„ç†æ“ä½œã€‚</p><p>ä½¿ç”¨MinMaxScalerå¯¹æ•°æ®è¿›è¡Œç¼©æ”¾æ—¶ï¼Œé€šå¸¸å°†å…¶fitåœ¨è®­ç»ƒé›†ä¸Šçš„åŸå› æ˜¯ä¸ºäº†é¿å…ä¿¡æ¯æ³„æ¼ï¼ˆinformation leakageï¼‰ã€‚</p><p>ä¿¡æ¯æ³„æ¼æ˜¯æŒ‡åœ¨æ•°æ®é¢„å¤„ç†è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨äº†ä¸åº”è¯¥åœ¨å½“å‰æ­¥éª¤ä¸­å¯ç”¨çš„é¢å¤–ä¿¡æ¯ã€‚è¿™å¯èƒ½å¯¼è‡´æ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­æ€§èƒ½ä¸‹é™ï¼Œå› ä¸ºä¼šåœ¨æµ‹è¯•é›†ä¸Šäº§ç”Ÿè¿‡äºä¹è§‚çš„ä¼°è®¡ã€‚</p><p>å°†MinMaxScalerä»…æ‹Ÿåˆï¼ˆfitï¼‰äºè®­ç»ƒæ•°æ®çš„ä¼˜åŠ¿æœ‰ä¸¤ä¸ªï¼š</p><ul><li>æ¨¡å‹åªèƒ½ä½¿ç”¨è®­ç»ƒé›†çš„ä¿¡æ¯è¿›è¡Œè®­ç»ƒå’Œé¢„æµ‹ï¼Œè¿™ç¬¦åˆæœºå™¨å­¦ä¹ çš„åŸºæœ¬åŸåˆ™ã€‚æ¨¡å‹æ— æ³•ç›´æ¥è®¿é—®æµ‹è¯•é›†çš„ä»»ä½•ä¿¡æ¯ï¼Œä»¥ç¡®ä¿å…¶åœ¨çœŸå®ä¸–ç•Œä¸­çš„æ€§èƒ½ã€‚</li><li>é˜²æ­¢ä¿¡æ¯æ³„æ¼ã€‚å¦‚æœå°†MinMaxScaleråŒæ—¶æ‹Ÿåˆäºè®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œå°±ç›¸å½“äºä½¿ç”¨äº†æµ‹è¯•é›†çš„ä¿¡æ¯æ¥è¿›è¡Œé¢„å¤„ç†ï¼Œå°†æµ‹è¯•é›†çš„ä¿¡æ¯å¼•å…¥åˆ°äº†è®­ç»ƒè¿‡ç¨‹ä¸­ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´è¿‡äºä¹è§‚çš„ç»“æœã€‚</li><li>æµ‹è¯•é›†æ˜¯ç”¨äºè¯„ä¼°æ¨¡å‹æ€§èƒ½çš„ç‹¬ç«‹æ•°æ®é›†ã€‚å¦‚æœå¯¹æµ‹è¯•é›†æ‹Ÿåˆï¼ˆfitï¼‰ï¼Œåˆ™ä½¿ç”¨ä¸åŒçš„é¢„å¤„ç†å‚æ•°ï¼Œé‚£ä¹ˆæµ‹è¯•é›†çš„æ•°æ®èŒƒå›´å’Œåˆ†å¸ƒå°±ä¼šä¸è®­ç»ƒé›†ä¸ä¸€è‡´ï¼Œè¿™å¯èƒ½å¯¼è‡´æ¨¡å‹åœ¨å®é™…åº”ç”¨ä¸­è¡¨ç°ä¸ä½³ã€‚</li></ul><hr /><p><strong><code>column = train_data.columns.tolist()[:39]</code>ä¸ <code>columns = [col for col in train_data.columns]</code> è¿™ä¸¤ç§è·å–åˆ—åçš„åŒºåˆ«å’Œä¼˜åŠ£ï¼š</strong></p><ol type="1"><li><code>column = train_data.columns.tolist()[:39]</code>ï¼š<ul><li>è¿™ç§æ–¹å¼å°†DataFrameçš„åˆ—åè½¬æ¢ä¸ºä¸€ä¸ªPythonåˆ—è¡¨ã€‚</li><li>ä¼˜ç‚¹ï¼šç®€å•ç›´æ¥ï¼Œè·å–æŒ‡å®šæ•°é‡çš„åˆ—åã€‚</li><li>ç¼ºç‚¹ï¼šåªèƒ½è·å–æŒ‡å®šæ•°é‡çš„åˆ—åï¼Œä¸é€‚ç”¨äºéœ€è¦é€‰æ‹©ç‰¹å®šåˆ—æˆ–åŸºäºæŸäº›æ¡ä»¶ç­›é€‰åˆ—åçš„æƒ…å†µã€‚</li></ul></li><li><code>columns = [col for col in train_data.columns]</code>ï¼š<ul><li>è¿™ç§æ–¹å¼ä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼å°†DataFrameçš„æ‰€æœ‰åˆ—åå­˜å‚¨åˆ°ä¸€ä¸ªåˆ—è¡¨ä¸­ã€‚</li><li>ä¼˜ç‚¹ï¼šå¯ä»¥è·å–DataFrameä¸­çš„æ‰€æœ‰åˆ—åï¼Œæä¾›äº†æ›´å¤§çš„çµæ´»æ€§ã€‚å¯ä»¥é€šè¿‡æ¡ä»¶ç­›é€‰ã€ä¿®æ”¹ç­‰æ–¹å¼æ¥æ“ä½œåˆ—åã€‚</li><li>ç¼ºç‚¹ï¼šç›¸å¯¹äºç¬¬ä¸€ç§æ–¹å¼æ¥è¯´ï¼Œä»£ç ç¨å¾®å¤æ‚ä¸€äº›ã€‚</li></ul></li></ol><p>æ‰€ä»¥ï¼Œé€‰æ‹©å“ªç§æ–¹å¼å–å†³äºå…·ä½“çš„éœ€æ±‚ï¼š</p><ul><li>å¦‚æœåªéœ€è¦è·å–ç‰¹å®šæ•°é‡çš„åˆ—åï¼Œä¸”æ•°é‡å›ºå®šï¼Œå¯ä»¥ä½¿ç”¨<code>train_data.columns.tolist()[:39]</code>æ–¹å¼ï¼Œç®€å•ä¸”æ˜ç¡®ã€‚</li><li>å¦‚æœéœ€è¦å¯¹åˆ—åè¿›è¡Œæ›´å¤šçš„æ“ä½œï¼Œå¦‚æ¡ä»¶ç­›é€‰ã€ä¿®æ”¹ç­‰ï¼Œæˆ–è€…éœ€è¦è·å–æ‰€æœ‰åˆ—åï¼Œä¾‹å¦‚<code>col for col in train_data.columns if col not in ['target']</code> é‚£ä¹ˆä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼ä¼šæ›´çµæ´»ã€‚</li></ul><h2 id="æŸ¥çœ‹æ•°æ®åˆ†å¸ƒæƒ…å†µ">4.3æŸ¥çœ‹æ•°æ®åˆ†å¸ƒæƒ…å†µ</h2><p>æˆ‘ä»¬åˆ©ç”¨KDEåˆ†å¸ƒå¯¹æ¯”ç‰¹å¾å˜é‡åœ¨è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸­çš„åˆ†å¸ƒæƒ…å†µã€‚å¯¹æ¯”åå‘ç°ï¼šç‰¹å¾å˜é‡V5, V9, V11, V17, V22, V28åœ¨è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸­çš„åˆ†å¸ƒå·®å¼‚è¾ƒå¤§ï¼Œä¼šå½±å“æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œæ•…åˆ é™¤è¿™äº›ç‰¹å¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># KDEåˆ†å¸ƒ</span><br>dist_cols = <span class="hljs-number">6</span><br>dist_rows = <span class="hljs-built_in">len</span>(test_data_scaler.columns)<br><br>plt.figure(figsize=(<span class="hljs-number">4</span>*dist_cols,<span class="hljs-number">4</span>*dist_rows))<br><br><br><span class="hljs-keyword">for</span> i, col <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>(test_data_scaler.columns):<br>    ax=plt.subplot(dist_rows,dist_cols,i+<span class="hljs-number">1</span>)<br>    ax = sns.kdeplot(train_data_scaler[col], color=<span class="hljs-string">&quot;Red&quot;</span>, shade=<span class="hljs-literal">True</span>)<br>    ax = sns.kdeplot(test_data_scaler[col], color=<span class="hljs-string">&quot;Blue&quot;</span>, shade=<span class="hljs-literal">True</span>)<br>    ax.set_xlabel(col)<br>    ax.set_ylabel(<span class="hljs-string">&quot;Frequency&quot;</span>)<br>    ax = ax.legend([<span class="hljs-string">&quot;train&quot;</span>,<span class="hljs-string">&quot;test&quot;</span>])<br> <br>plt.show()<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-03ç‰¹å¾å·¥ç¨‹/output_19_0.png" /> â€‹</p><h4 id="ä»£ç è§£é‡Š">ä»£ç è§£é‡Šï¼š</h4><p><code>for i, col in enumerate(test_data_scaler.columns)</code>ï¼šè¿­ä»£å¾ªç¯ï¼Œéå†<code>test_data_scaler.columns</code>ä¸­çš„æ¯ä¸€åˆ—ï¼Œå¹¶ä½¿ç”¨<code>enumerate</code>å‡½æ•°åŒæ—¶å°†åˆ—çš„ç´¢å¼•èµ‹å€¼ç»™<code>i</code>ï¼Œåˆ—åèµ‹å€¼ç»™<code>col</code>ã€‚</p><p>æŸ¥çœ‹ç‰¹å¾'V5', 'V17', 'V28', 'V22', 'V11', 'V9'æ•°æ®çš„æ•°æ®åˆ†å¸ƒ</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">drop_col = <span class="hljs-number">6</span><br>drop_row = <span class="hljs-number">1</span><br><br>plt.figure(figsize=(<span class="hljs-number">5</span>*drop_col,<span class="hljs-number">5</span>*drop_row))<br><br><span class="hljs-keyword">for</span> i, col <span class="hljs-keyword">in</span> <span class="hljs-built_in">enumerate</span>([<span class="hljs-string">&quot;V5&quot;</span>,<span class="hljs-string">&quot;V9&quot;</span>,<span class="hljs-string">&quot;V11&quot;</span>,<span class="hljs-string">&quot;V17&quot;</span>,<span class="hljs-string">&quot;V22&quot;</span>,<span class="hljs-string">&quot;V28&quot;</span>]):<br>    ax =plt.subplot(drop_row,drop_col,i+<span class="hljs-number">1</span>)<br>    ax = sns.kdeplot(train_data_scaler[col], color=<span class="hljs-string">&quot;Red&quot;</span>, shade=<span class="hljs-literal">True</span>)<br>    ax= sns.kdeplot(test_data_scaler[col], color=<span class="hljs-string">&quot;Blue&quot;</span>, shade=<span class="hljs-literal">True</span>)<br>    ax.set_xlabel(col)<br>    ax.set_ylabel(<span class="hljs-string">&quot;Frequency&quot;</span>)<br>    ax = ax.legend([<span class="hljs-string">&quot;train&quot;</span>,<span class="hljs-string">&quot;test&quot;</span>])<br>plt.show()<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-03ç‰¹å¾å·¥ç¨‹/output_22_0.png" /> â€‹</p><p>è¿™å‡ ä¸ªç‰¹å¾ä¸‹ï¼Œè®­ç»ƒé›†çš„æ•°æ®å’Œæµ‹è¯•é›†çš„æ•°æ®åˆ†å¸ƒä¸ä¸€è‡´ï¼Œä¼šå½±å“æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œæ•…åˆ é™¤è¿™äº›ç‰¹å¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python">data_train_scaler = train_data_scaler.drop([<span class="hljs-string">&#x27;V5&#x27;</span>,<span class="hljs-string">&#x27;V9&#x27;</span>,<span class="hljs-string">&#x27;V11&#x27;</span>,<span class="hljs-string">&#x27;V17&#x27;</span>,<span class="hljs-string">&#x27;V22&#x27;</span>,<span class="hljs-string">&#x27;V28&#x27;</span>],axis=<span class="hljs-number">1</span>)<br>data_train_scaler.head()<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>V0</th><th>V1</th><th>V2</th><th>V3</th><th>V4</th><th>V6</th><th>V7</th><th>V8</th><th>V10</th><th>V12</th><th>...</th><th>V29</th><th>V30</th><th>V31</th><th>V32</th><th>V33</th><th>V34</th><th>V35</th><th>V36</th><th>V37</th><th>target</th></tr></thead><tbody><tr><th>0</th><td>0.759139</td><td>0.729830</td><td>0.524488</td><td>0.680337</td><td>0.698964</td><td>0.427136</td><td>0.385874</td><td>0.613522</td><td>0.221743</td><td>0.698875</td><td>...</td><td>0.406834</td><td>0.641467</td><td>0.666159</td><td>0.679280</td><td>0.00000</td><td>0.000000</td><td>0.074074</td><td>0.000000</td><td>0.018401</td><td>0.175</td></tr><tr><th>1</th><td>0.821406</td><td>0.789631</td><td>0.557939</td><td>0.705130</td><td>0.664244</td><td>0.465152</td><td>0.385874</td><td>0.724232</td><td>0.373887</td><td>0.690502</td><td>...</td><td>0.371596</td><td>0.643552</td><td>0.748349</td><td>0.721619</td><td>0.37495</td><td>0.499949</td><td>0.755580</td><td>0.289702</td><td>0.437406</td><td>0.676</td></tr><tr><th>2</th><td>0.828377</td><td>0.808239</td><td>0.584987</td><td>0.674567</td><td>0.653210</td><td>0.495905</td><td>0.385874</td><td>0.733458</td><td>0.466415</td><td>0.699012</td><td>...</td><td>0.387480</td><td>0.676487</td><td>0.779472</td><td>0.610577</td><td>0.37495</td><td>0.499949</td><td>0.755580</td><td>0.429901</td><td>0.458673</td><td>0.633</td></tr><tr><th>3</th><td>0.785006</td><td>0.779830</td><td>0.592670</td><td>0.642601</td><td>0.718746</td><td>0.521712</td><td>0.425208</td><td>0.734467</td><td>0.350013</td><td>0.706972</td><td>...</td><td>0.390683</td><td>0.684269</td><td>0.779726</td><td>0.722084</td><td>0.37495</td><td>0.477220</td><td>0.755580</td><td>0.374841</td><td>0.530618</td><td>0.206</td></tr><tr><th>4</th><td>0.777416</td><td>0.818182</td><td>0.588988</td><td>0.649462</td><td>0.683488</td><td>0.541338</td><td>0.425208</td><td>0.721638</td><td>0.314675</td><td>0.736206</td><td>...</td><td>0.413107</td><td>0.776126</td><td>0.785950</td><td>0.693393</td><td>0.37495</td><td>0.462067</td><td>0.755580</td><td>0.296712</td><td>0.543288</td><td>0.384</td></tr></tbody></table><p>5 rows Ã— 33 columns</p></div><h2 id="ç‰¹å¾ç›¸å…³æ€§">4.4ç‰¹å¾ç›¸å…³æ€§</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python">plt.figure(figsize=(<span class="hljs-number">20</span>, <span class="hljs-number">16</span>))  <br>column = train_data_scaler.columns.tolist()  <br>mcorr = train_data_scaler[column].corr(method=<span class="hljs-string">&quot;spearman&quot;</span>)  <br>mask = np.zeros_like(mcorr, dtype=np.<span class="hljs-built_in">bool</span>)  <br>mask[np.triu_indices_from(mask)] = <span class="hljs-literal">True</span>  <br>cmap = sns.diverging_palette(<span class="hljs-number">220</span>, <span class="hljs-number">10</span>, as_cmap=<span class="hljs-literal">True</span>)  <br>g = sns.heatmap(mcorr, mask=mask, cmap=cmap, square=<span class="hljs-literal">True</span>, annot=<span class="hljs-literal">True</span>, fmt=<span class="hljs-string">&#x27;0.2f&#x27;</span>)  <br>plt.show()<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-03ç‰¹å¾å·¥ç¨‹/output_26_0.png" /> â€‹</p><h2 id="ç‰¹å¾é™ç»´">4.5ç‰¹å¾é™ç»´</h2><h3 id="ç›¸å…³æ€§åˆç­›1">4.5.1ç›¸å…³æ€§åˆç­›1</h3><p>è¿›è¡Œç‰¹å¾ç›¸å…³æ€§åˆç­›ï¼Œè®¡ç®—ç›¸å…³æ€§ç³»æ•°å¹¶ç­›é€‰å¤§äº0.1çš„ç‰¹å¾å˜é‡</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python">mcorr=mcorr.<span class="hljs-built_in">abs</span>()<br>numerical_corr=mcorr[mcorr[<span class="hljs-string">&#x27;target&#x27;</span>]&gt;<span class="hljs-number">0.1</span>][<span class="hljs-string">&#x27;target&#x27;</span>]<br><span class="hljs-built_in">print</span>(numerical_corr.sort_values(ascending=<span class="hljs-literal">False</span>))<br><br></code></pre></td></tr></table></figure><pre><code class="hljs">target    1.000000V0        0.712403V31       0.711636V1        0.682909V8        0.679469V27       0.657398V2        0.585850V16       0.545793V3        0.501622V4        0.478683V12       0.460300V10       0.448682V36       0.425991V37       0.376443V24       0.305526V5        0.286076V6        0.280195V20       0.278381V11       0.234551V15       0.221290V29       0.190109V7        0.185321V19       0.180111V18       0.149741V13       0.149199V17       0.126262V22       0.112743V30       0.101378Name: target, dtype: float64</code></pre><h4 id="ä»£ç è¯¦è§£-2">ä»£ç è¯¦è§£ï¼š</h4><ol type="1"><li><p>ä½¿ç”¨ <code>mcorr.abs()</code>å¯¹ç›¸å…³æ€§çŸ©é˜µ <code>mcorr</code> ä¸­çš„å„ä¸ªå…ƒç´ å–ç»å¯¹å€¼ã€‚</p></li><li><p><code>mcorr[mcorr['target']&gt;0.1]</code> ä» <code>mcorr</code> ä¸­ç­›é€‰å‡ºç›®æ ‡å˜é‡ï¼ˆ<code>target</code>ï¼‰ç›¸å…³æ€§å¤§äº 0.1 çš„ç‰¹å¾è¡Œï¼Œæ¥ç€ <code>mcorr[mcorr['target']&gt;0.1]['target']</code>æå–å‡º <code>target</code> åˆ—ã€‚</p></li><li><p>å¯¹ <code>numerical_corr</code> è¿›è¡Œé™åºæ’åºï¼Œ<code>.sort_values(ascending=False)</code> è¡¨ç¤ºæŒ‰ç…§é™åºæ’åˆ—ï¼Œå³ç›¸å…³æ€§ç³»æ•°è¾ƒé«˜çš„ç‰¹å¾æ˜¾ç¤ºåœ¨å‰é¢ã€‚</p></li><li><p><code>numerical_corr.sort_values(ascending=False).index</code> å¯¹ <code>numerical_corr</code> è¿›è¡Œé™åºæ’åºï¼Œå¹¶æå–æ’åºåçš„ç´¢å¼•ï¼Œå¹¶å°†å…¶èµ‹å€¼ç»™ <code>index0</code>ã€‚</p></li><li><p>é€šè¿‡ <code>train_data_scaler[index0]</code> è·å– <code>train_data_scaler</code> ä¸­ä¸ <code>index0</code> ä¸­ç‰¹å¾åç§°ç´¢å¼•å¯¹åº”çš„ç‰¹å¾åˆ—ï¼Œå¹¶ä½¿ç”¨ <code>.corr('spearman')</code> è®¡ç®—è¿™äº›ç‰¹å¾ä¹‹é—´çš„æ–¯çš®å°”æ›¼ç›¸å…³ç³»æ•°ã€‚</p></li></ol><h3 id="ç›¸å…³æ€§åˆç­›2">4.5.2ç›¸å…³æ€§åˆç­›2</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python">features_corr = numerical_corr.sort_values(ascending=<span class="hljs-literal">False</span>).reset_index()<br>features_corr.columns = [<span class="hljs-string">&#x27;features_and_target&#x27;</span>, <span class="hljs-string">&#x27;corr&#x27;</span>]<br>features_corr_select = features_corr[features_corr[<span class="hljs-string">&#x27;corr&#x27;</span>]&gt;<span class="hljs-number">0.3</span>] <span class="hljs-comment"># ç­›é€‰å‡ºå¤§äºç›¸å…³æ€§å¤§äº0.3çš„ç‰¹å¾</span><br><span class="hljs-built_in">print</span>(features_corr_select)<br>select_features = [col <span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> features_corr_select[<span class="hljs-string">&#x27;features_and_target&#x27;</span>] <span class="hljs-keyword">if</span> col <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> [<span class="hljs-string">&#x27;target&#x27;</span>]]<br>new_train_data_corr_select = train_data_scaler[select_features+[<span class="hljs-string">&#x27;target&#x27;</span>]]<br>new_test_data_corr_select = test_data_scaler[select_features]<br></code></pre></td></tr></table></figure><pre><code class="hljs">   features_and_target      corr0               target  1.0000001                   V0  0.7124032                  V31  0.7116363                   V1  0.6829094                   V8  0.6794695                  V27  0.6573986                   V2  0.5858507                  V16  0.5457938                   V3  0.5016229                   V4  0.47868310                 V12  0.46030011                 V10  0.44868212                 V36  0.42599113                 V37  0.37644314                 V24  0.305526</code></pre><h2 id="å¤šé‡å…±çº¿æ€§åˆ†æ">4.6å¤šé‡å…±çº¿æ€§åˆ†æ</h2><p>å¤šé‡å…±çº¿æ€§åˆ†æçš„åŸåˆ™æ˜¯ç‰¹å¾ç»„ä¹‹é—´çš„ç›¸å…³æ€§ç³»æ•°è¾ƒå¤§ï¼Œå³æ¯ä¸ªç‰¹å¾å˜é‡ä¸å…¶ä»–ç‰¹å¾å˜é‡ä¹‹é—´çš„ç›¸å…³æ€§ç³»æ•°è¾ƒå¤§ï¼Œæ•…å¯èƒ½å­˜åœ¨è¾ƒå¤§çš„å…±çº¿æ€§å½±å“ï¼Œè¿™ä¼šå¯¼è‡´æ¨¡å‹ä¼°è®¡ä¸å‡†ç¡®ã€‚å› æ­¤ï¼Œåç»­è¦ä½¿ç”¨PCAå¯¹æ•°æ®è¿›è¡Œå¤„ç†ï¼Œå»é™¤å¤šé‡å…±çº¿æ€§ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è®¡ç®—å¤šé‡å…±çº¿æ€§</span><br><span class="hljs-keyword">from</span> statsmodels.stats.outliers_influence <span class="hljs-keyword">import</span> variance_inflation_factor <span class="hljs-comment">#å¤šé‡å…±çº¿æ€§æ–¹å·®è†¨èƒ€å› å­</span><br><br><span class="hljs-comment">#å¤šé‡å…±çº¿æ€§</span><br>new_numerical=[<span class="hljs-string">&#x27;V0&#x27;</span>, <span class="hljs-string">&#x27;V2&#x27;</span>, <span class="hljs-string">&#x27;V3&#x27;</span>, <span class="hljs-string">&#x27;V4&#x27;</span>, <span class="hljs-string">&#x27;V5&#x27;</span>, <span class="hljs-string">&#x27;V6&#x27;</span>, <span class="hljs-string">&#x27;V10&#x27;</span>,<span class="hljs-string">&#x27;V11&#x27;</span>, <br>                         <span class="hljs-string">&#x27;V13&#x27;</span>, <span class="hljs-string">&#x27;V15&#x27;</span>, <span class="hljs-string">&#x27;V16&#x27;</span>, <span class="hljs-string">&#x27;V18&#x27;</span>, <span class="hljs-string">&#x27;V19&#x27;</span>, <span class="hljs-string">&#x27;V20&#x27;</span>, <span class="hljs-string">&#x27;V22&#x27;</span>,<span class="hljs-string">&#x27;V24&#x27;</span>,<span class="hljs-string">&#x27;V30&#x27;</span>, <span class="hljs-string">&#x27;V31&#x27;</span>, <span class="hljs-string">&#x27;V37&#x27;</span>]<br>X=np.matrix(train_data_scaler[new_numerical])<br>VIF_list=[variance_inflation_factor(X, i) <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(X.shape[<span class="hljs-number">1</span>])]<br>VIF_list<br></code></pre></td></tr></table></figure><pre><code class="hljs">[216.73387180903222, 114.38118723828812, 27.863778129686356, 201.96436579080174, 78.93722825798903, 151.06983667656212, 14.519604941508451, 82.69750284665385, 28.479378440614585, 27.759176471505945, 526.6483470743831, 23.50166642638334, 19.920315849901424, 24.640481765008683, 11.816055964845381, 4.958208708452915, 37.09877416736591, 298.26442986612767, 47.854002539887034]</code></pre><p>è¯´æ˜ï¼šnew_numericalçš„ç‰¹å¾å˜é‡å¯ä»¥æ ¹æ®ç›¸å…³æ€§çŸ©é˜µçœ‹å‡ºå¹¶è¿‡æ»¤ç­›é€‰ï¼Œå‰”é™¤é‚£äº›ä¸å…¶ä»–ç‰¹å¾é«˜åº¦ç›¸å…³çš„ç‰¹å¾ï¼Œç„¶åï¼Œä½¿ç”¨å‰©ä½™çš„ç‰¹å¾çŸ©é˜µæ¥è®¡ç®—æ¯ä¸ªç‰¹å¾çš„VIFå€¼ï¼Œä»¥è¯„ä¼°è‡ªå˜é‡ä¹‹é—´çš„å¤šé‡å…±çº¿æ€§ç¨‹åº¦ã€‚</p><h4 id="ä»£ç è¯¦è§£-3">ä»£ç è¯¦è§£ï¼š</h4><ol type="1"><li><p><code>new_numerical=[ ]</code>ï¼šå®šä¹‰äº†ä¸€ä¸ªåŒ…å«ç‰¹å¾åˆ—åç§°çš„åˆ—è¡¨<code>new_numerical</code>ï¼Œè¿™äº›ç‰¹å¾å°†è¢«ç”¨äºè®¡ç®—VIFã€‚</p></li><li><p><code>X=np.matrix(train_data_scaler[new_numerical])</code>ï¼šå°†è®­ç»ƒæ•°æ®<code>train_data_scaler</code>ä¸­<code>new_numerical</code>åˆ—è¡¨ä¸­çš„ç‰¹å¾åˆ—ç”¨ <code>np.matrix</code> è½¬æ¢ä¸ºäºŒç»´çŸ©é˜µ<code>X</code>ã€‚è¯¥çŸ©é˜µå°†ä½œä¸ºVIFè®¡ç®—çš„è¾“å…¥ã€‚</p></li><li><p><code>VIF_list=[variance_inflation_factor(X, i) for i in range(X.shape[1])]</code>ï¼šä½¿ç”¨åˆ—è¡¨æ¨å¯¼å¼è®¡ç®—VIFåˆ—è¡¨ã€‚å¯¹äºçŸ©é˜µ<code>X</code>çš„æ¯ä¸€åˆ—ï¼ˆå³ç‰¹å¾ï¼‰ï¼Œè°ƒç”¨<code>variance_inflation_factor</code>å‡½æ•°æ¥è®¡ç®—VIFï¼Œå¹¶å°†ç»“æœæ·»åŠ åˆ°<code>VIF_list</code>ä¸­ã€‚<code>range(X.shape[1])</code>ç”Ÿæˆäº†ä¸€ä¸ªè¡¨ç¤ºåˆ—ç´¢å¼•çš„è¿­ä»£å™¨ã€‚ï¼ˆä¸‹æ–¹è¯¦è§£variance_inflation_factorï¼‰</p></li><li><p><code>VIF_list</code>ï¼šè¾“å‡ºVIFåˆ—è¡¨ï¼Œè¯¥åˆ—è¡¨åŒ…å«äº†æ¯ä¸ªç‰¹å¾çš„æ–¹å·®è†¨èƒ€å› å­ã€‚</p></li></ol><hr /><p><strong>variance_inflation_factorç”¨æ³•</strong></p><p><code>variance_inflation_factor</code> æ˜¯ä¸€ä¸ªç”¨äºè®¡ç®—æ–¹å·®è†¨èƒ€å› å­ï¼ˆVariance Inflation Factorï¼ŒVIFï¼‰çš„å‡½æ•°ã€‚æ–¹å·®è†¨èƒ€å› å­æ˜¯ç”¨äºæ£€æµ‹å¤šé‡å…±çº¿æ€§ï¼ˆmulticollinearityï¼‰é—®é¢˜çš„ä¸€ç§ç»Ÿè®¡æŒ‡æ ‡ã€‚</p><p>å¤šé‡å…±çº¿æ€§æŒ‡çš„æ˜¯åœ¨å›å½’åˆ†æä¸­ï¼Œè‡ªå˜é‡ä¹‹é—´å­˜åœ¨é«˜åº¦çº¿æ€§ç›¸å…³æ€§çš„æƒ…å†µã€‚å®ƒä¼šå¯¼è‡´å›å½’æ¨¡å‹ä¸­çš„ä¼°è®¡ä¸ç¨³å®šï¼Œä½¿å¾—å¯¹è‡ªå˜é‡çš„è§£é‡Šå˜å¾—å›°éš¾ã€‚æ–¹å·®è†¨èƒ€å› å­é€šè¿‡è¡¡é‡æ¯ä¸ªè‡ªå˜é‡å¯¹å…¶ä»–è‡ªå˜é‡çš„çº¿æ€§ç›¸å…³æ€§æ¥æ£€æµ‹å¤šé‡å…±çº¿æ€§ã€‚</p><p><code>variance_inflation_factor</code> å‡½æ•°é€šå¸¸éœ€è¦ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼š</p><ol type="1"><li><code>X</code>ï¼šä¸€ä¸ªäºŒç»´æ•°ç»„æˆ–æ•°æ®å¸§ï¼Œè¡¨ç¤ºè‡ªå˜é‡çŸ©é˜µã€‚æ¯ä¸€åˆ—ä»£è¡¨ä¸€ä¸ªè‡ªå˜é‡ã€‚</li><li><code>idx</code>ï¼šä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºè¦è®¡ç®—æ–¹å·®è†¨èƒ€å› å­çš„è‡ªå˜é‡çš„ç´¢å¼•ã€‚</li></ol><p>ä»¥ä¸‹æ˜¯ <code>variance_inflation_factor</code> å‡½æ•°çš„ç”¨æ³•ç¤ºä¾‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> statsmodels.stats.outliers_influence <span class="hljs-keyword">import</span> variance_inflation_factor<br><br><span class="hljs-comment"># å‡è®¾ X æ˜¯è‡ªå˜é‡çŸ©é˜µï¼Œå…¶ä¸­æ¯ä¸€åˆ—ä»£è¡¨ä¸€ä¸ªè‡ªå˜é‡</span><br>vif = variance_inflation_factor(X, idx)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">f&quot;Variance inflation factor for variable <span class="hljs-subst">&#123;idx&#125;</span>: <span class="hljs-subst">&#123;vif&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure><p>è¿™æ®µä»£ç è®¡ç®—è‡ªå˜é‡çŸ©é˜µ <code>X</code> ä¸­ç»™å®šç´¢å¼• <code>idx</code> çš„è‡ªå˜é‡çš„æ–¹å·®è†¨èƒ€å› å­ï¼Œå¹¶å°†ç»“æœæ‰“å°è¾“å‡ºã€‚</p><p>æ–¹å·®è†¨èƒ€å› å­çš„å¸¸è§é˜ˆå€¼ä¸º 5 æˆ– 10ã€‚å½“æ–¹å·®è†¨èƒ€å› å­è¶…è¿‡è¿™ä¸ªé˜ˆå€¼æ—¶ï¼Œè¡¨ç¤ºè¯¥è‡ªå˜é‡ä¸å…¶ä»–è‡ªå˜é‡å­˜åœ¨é«˜åº¦çº¿æ€§ç›¸å…³æ€§ï¼Œå¯èƒ½ä¼šå¯¼è‡´å¤šé‡å…±çº¿æ€§é—®é¢˜ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œæ–¹å·®è†¨èƒ€å› å­è¶Šå¤§ï¼Œè¯´æ˜è‡ªå˜é‡ä¹‹é—´çš„ç›¸å…³æ€§è¶Šé«˜ã€‚</p><h2 id="pcaå¤„ç†">4.7PCAå¤„ç†</h2><p>åˆ©ç”¨PCAæ–¹æ³•å»é™¤æ•°æ®çš„å¤šé‡å…±çº¿æ€§ï¼Œå¹¶è¿›è¡Œé™ç»´ã€‚</p><p>åœ¨scikit-learnï¼ˆsklearnï¼‰åº“ä¸­ï¼ŒPCAè¢«å®ç°<code>sklearn.decomposition.PCA</code>ç±»ï¼Œä¸»è¦å‚æ•°<code>n_components</code>æŒ‡å®šé™ç»´åçš„ç‰¹å¾æ•°é‡æˆ–ä¿ç•™çš„ä¿¡æ¯é‡çš„æ¯”ä¾‹ã€‚å¯ä»¥è®¾ç½®ä¸ºä¸€ä¸ªæ•´æ•°æ¥æŒ‡å®šå…·ä½“çš„ç‰¹å¾æ•°é‡ï¼Œä¹Ÿå¯ä»¥è®¾ç½®ä¸ºä¸€ä¸ª0åˆ°1ä¹‹é—´çš„æµ®ç‚¹æ•°æ¥è¡¨ç¤ºä¿ç•™çš„ä¿¡æ¯é‡æ¯”ä¾‹ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.decomposition <span class="hljs-keyword">import</span> PCA   <span class="hljs-comment">#ä¸»æˆåˆ†åˆ†ææ³•</span><br><br><span class="hljs-comment">#PCAæ–¹æ³•é™ç»´</span><br><span class="hljs-comment">#ä¿æŒ90%çš„ä¿¡æ¯</span><br>pca = PCA(n_components=<span class="hljs-number">0.9</span>)<br>new_train_pca_90 = pca.fit_transform(train_data_scaler.iloc[:,<span class="hljs-number">0</span>:-<span class="hljs-number">1</span>])<br>new_test_pca_90 = pca.transform(test_data_scaler)<br><br>new_train_pca_90 = pd.DataFrame(new_train_pca_90)<br>new_test_pca_90 = pd.DataFrame(new_test_pca_90)<br><br>new_train_pca_90[<span class="hljs-string">&#x27;target&#x27;</span>] = train_data_scaler[<span class="hljs-string">&#x27;target&#x27;</span>]<br><br><span class="hljs-comment"># æŸ¥çœ‹åŸæ•°æ®ä¿¡æ¯å¹¶ä¸PCAå¤„ç†åçš„æ•°æ®è¿›è¡Œå¯¹æ¯”</span><br>display(new_train_pca_90.describe())<br>display(train_data_scaler.describe())<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>10</th><th>11</th><th>12</th><th>13</th><th>14</th><th>15</th><th>target</th></tr></thead><tbody><tr><th>count</th><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2884.000000</td></tr><tr><th>mean</th><td>2.089242e-17</td><td>-1.012126e-16</td><td>1.057905e-17</td><td>-1.002894e-16</td><td>8.509402e-17</td><td>-5.249131e-17</td><td>5.271732e-17</td><td>6.668166e-17</td><td>-4.468205e-17</td><td>9.163379e-17</td><td>7.636149e-18</td><td>1.237075e-16</td><td>-5.053900e-18</td><td>-5.874257e-17</td><td>-2.122542e-17</td><td>1.230265e-16</td><td>0.127274</td></tr><tr><th>std</th><td>3.998976e-01</td><td>3.500240e-01</td><td>2.938631e-01</td><td>2.728023e-01</td><td>2.077128e-01</td><td>1.951842e-01</td><td>1.877104e-01</td><td>1.607670e-01</td><td>1.512707e-01</td><td>1.443772e-01</td><td>1.368790e-01</td><td>1.286192e-01</td><td>1.193301e-01</td><td>1.149758e-01</td><td>1.133507e-01</td><td>1.019259e-01</td><td>0.983462</td></tr><tr><th>min</th><td>-1.071795e+00</td><td>-9.429479e-01</td><td>-9.948314e-01</td><td>-7.103087e-01</td><td>-7.703987e-01</td><td>-5.340294e-01</td><td>-5.993766e-01</td><td>-5.870755e-01</td><td>-6.282818e-01</td><td>-4.902583e-01</td><td>-6.341045e-01</td><td>-5.906753e-01</td><td>-4.175153e-01</td><td>-4.310613e-01</td><td>-4.170535e-01</td><td>-3.601627e-01</td><td>-3.044000</td></tr><tr><th>25%</th><td>-2.804085e-01</td><td>-2.613727e-01</td><td>-2.090797e-01</td><td>-1.945196e-01</td><td>-1.315620e-01</td><td>-1.264097e-01</td><td>-1.236360e-01</td><td>-1.016452e-01</td><td>-9.662098e-02</td><td>-9.297088e-02</td><td>-8.202809e-02</td><td>-7.721868e-02</td><td>-7.139961e-02</td><td>-7.474073e-02</td><td>-7.709743e-02</td><td>-6.603914e-02</td><td>-0.348500</td></tr><tr><th>50%</th><td>-1.417104e-02</td><td>-1.277241e-02</td><td>2.112166e-02</td><td>-2.337401e-02</td><td>-5.122797e-03</td><td>-1.355336e-02</td><td>-1.747870e-04</td><td>-4.656359e-03</td><td>2.572054e-03</td><td>-1.479172e-03</td><td>7.286444e-03</td><td>-5.745946e-03</td><td>-4.140670e-03</td><td>1.054915e-03</td><td>-1.758387e-03</td><td>-7.533392e-04</td><td>0.313000</td></tr><tr><th>75%</th><td>2.287306e-01</td><td>2.317720e-01</td><td>2.069571e-01</td><td>1.657590e-01</td><td>1.281660e-01</td><td>9.993122e-02</td><td>1.272081e-01</td><td>9.657222e-02</td><td>1.002626e-01</td><td>9.059634e-02</td><td>8.833765e-02</td><td>7.148033e-02</td><td>6.786199e-02</td><td>7.574868e-02</td><td>7.116829e-02</td><td>6.357449e-02</td><td>0.794250</td></tr><tr><th>max</th><td>1.597730e+00</td><td>1.382802e+00</td><td>1.010250e+00</td><td>1.448007e+00</td><td>1.034061e+00</td><td>1.358962e+00</td><td>6.191589e-01</td><td>7.370089e-01</td><td>6.449125e-01</td><td>5.839586e-01</td><td>6.405187e-01</td><td>6.780732e-01</td><td>5.156118e-01</td><td>4.978126e-01</td><td>4.673189e-01</td><td>4.570870e-01</td><td>2.538000</td></tr></tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>V0</th><th>V1</th><th>V2</th><th>V3</th><th>V4</th><th>V5</th><th>V6</th><th>V7</th><th>V8</th><th>V9</th><th>...</th><th>V29</th><th>V30</th><th>V31</th><th>V32</th><th>V33</th><th>V34</th><th>V35</th><th>V36</th><th>V37</th><th>target</th></tr></thead><tbody><tr><th>count</th><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>...</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2886.000000</td><td>2884.000000</td></tr><tr><th>mean</th><td>0.690633</td><td>0.735633</td><td>0.593844</td><td>0.606212</td><td>0.639787</td><td>0.607649</td><td>0.735477</td><td>0.741354</td><td>0.702053</td><td>0.821897</td><td>...</td><td>0.401631</td><td>0.634466</td><td>0.760495</td><td>0.632231</td><td>0.459302</td><td>0.484489</td><td>0.734944</td><td>0.336235</td><td>0.527608</td><td>0.127274</td></tr><tr><th>std</th><td>0.143740</td><td>0.133703</td><td>0.145844</td><td>0.151311</td><td>0.119504</td><td>0.193887</td><td>0.141896</td><td>0.137154</td><td>0.129098</td><td>0.108362</td><td>...</td><td>0.141594</td><td>0.124279</td><td>0.110938</td><td>0.139037</td><td>0.099799</td><td>0.101365</td><td>0.122840</td><td>0.123663</td><td>0.153192</td><td>0.983462</td></tr><tr><th>min</th><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>...</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>-3.044000</td></tr><tr><th>25%</th><td>0.626239</td><td>0.695703</td><td>0.497759</td><td>0.515087</td><td>0.586328</td><td>0.497566</td><td>0.659249</td><td>0.682314</td><td>0.653489</td><td>0.794789</td><td>...</td><td>0.300053</td><td>0.587132</td><td>0.722593</td><td>0.565757</td><td>0.409037</td><td>0.454490</td><td>0.685279</td><td>0.279792</td><td>0.427036</td><td>-0.348500</td></tr><tr><th>50%</th><td>0.727153</td><td>0.766335</td><td>0.609155</td><td>0.609855</td><td>0.652873</td><td>0.642456</td><td>0.767192</td><td>0.774189</td><td>0.728557</td><td>0.846181</td><td>...</td><td>0.385611</td><td>0.633894</td><td>0.782330</td><td>0.634770</td><td>0.454518</td><td>0.499949</td><td>0.755580</td><td>0.349860</td><td>0.519457</td><td>0.313000</td></tr><tr><th>75%</th><td>0.783922</td><td>0.812642</td><td>0.694422</td><td>0.714096</td><td>0.712152</td><td>0.759266</td><td>0.835690</td><td>0.837030</td><td>0.781029</td><td>0.846181</td><td>...</td><td>0.488121</td><td>0.694136</td><td>0.824949</td><td>0.714950</td><td>0.504261</td><td>0.511365</td><td>0.785260</td><td>0.414447</td><td>0.621870</td><td>0.794250</td></tr><tr><th>max</th><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>...</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>2.538000</td></tr></tbody></table><p>8 rows Ã— 39 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#PCAæ–¹æ³•é™ç»´</span><br><span class="hljs-comment">#ä¿ç•™16ä¸ªä¸»æˆåˆ†</span><br>pca = PCA(n_components=<span class="hljs-number">16</span>)<br>new_train_pca_16 = pca.fit_transform(train_data_scaler.iloc[:,<span class="hljs-number">0</span>:-<span class="hljs-number">1</span>])<br>new_test_pca_16 = pca.transform(test_data_scaler)<br>new_train_pca_16 = pd.DataFrame(new_train_pca_16)<br>new_test_pca_16 = pd.DataFrame(new_test_pca_16)<br>new_train_pca_16[<span class="hljs-string">&#x27;target&#x27;</span>] = train_data_scaler[<span class="hljs-string">&#x27;target&#x27;</span>]<br><br>display(new_train_pca_16.describe())<br>display(new_test_pca_16.describe())<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>10</th><th>11</th><th>12</th><th>13</th><th>14</th><th>15</th><th>target</th></tr></thead><tbody><tr><th>count</th><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2.886000e+03</td><td>2884.000000</td></tr><tr><th>mean</th><td>-8.025530e-17</td><td>9.902951e-17</td><td>2.481268e-17</td><td>-9.296098e-17</td><td>6.399362e-17</td><td>-2.711122e-17</td><td>8.112207e-17</td><td>3.819036e-17</td><td>-6.028134e-17</td><td>7.289445e-17</td><td>1.754800e-17</td><td>1.437164e-16</td><td>-1.772471e-17</td><td>-4.583132e-17</td><td>-4.687240e-18</td><td>1.133413e-16</td><td>0.127274</td></tr><tr><th>std</th><td>3.998976e-01</td><td>3.500240e-01</td><td>2.938631e-01</td><td>2.728023e-01</td><td>2.077128e-01</td><td>1.951842e-01</td><td>1.877104e-01</td><td>1.607670e-01</td><td>1.512707e-01</td><td>1.443772e-01</td><td>1.368790e-01</td><td>1.286192e-01</td><td>1.193301e-01</td><td>1.149758e-01</td><td>1.133504e-01</td><td>1.019258e-01</td><td>0.983462</td></tr><tr><th>min</th><td>-1.071795e+00</td><td>-9.429479e-01</td><td>-9.948314e-01</td><td>-7.103086e-01</td><td>-7.703992e-01</td><td>-5.340298e-01</td><td>-5.993763e-01</td><td>-5.870643e-01</td><td>-6.282915e-01</td><td>-4.902772e-01</td><td>-6.340438e-01</td><td>-5.906787e-01</td><td>-4.175381e-01</td><td>-4.310506e-01</td><td>-4.168836e-01</td><td>-3.602406e-01</td><td>-3.044000</td></tr><tr><th>25%</th><td>-2.804085e-01</td><td>-2.613727e-01</td><td>-2.090798e-01</td><td>-1.945196e-01</td><td>-1.315621e-01</td><td>-1.264102e-01</td><td>-1.236360e-01</td><td>-1.016531e-01</td><td>-9.661879e-02</td><td>-9.296451e-02</td><td>-8.202614e-02</td><td>-7.723983e-02</td><td>-7.137032e-02</td><td>-7.476121e-02</td><td>-7.689358e-02</td><td>-6.605108e-02</td><td>-0.348500</td></tr><tr><th>50%</th><td>-1.417105e-02</td><td>-1.277241e-02</td><td>2.112167e-02</td><td>-2.337400e-02</td><td>-5.122561e-03</td><td>-1.355336e-02</td><td>-1.746698e-04</td><td>-4.655969e-03</td><td>2.574279e-03</td><td>-1.483695e-03</td><td>7.272187e-03</td><td>-5.778147e-03</td><td>-4.141567e-03</td><td>1.056716e-03</td><td>-1.924285e-03</td><td>-7.935672e-04</td><td>0.313000</td></tr><tr><th>75%</th><td>2.287306e-01</td><td>2.317720e-01</td><td>2.069571e-01</td><td>1.657590e-01</td><td>1.281662e-01</td><td>9.993117e-02</td><td>1.272076e-01</td><td>9.657352e-02</td><td>1.002620e-01</td><td>9.059130e-02</td><td>8.833726e-02</td><td>7.147819e-02</td><td>6.780737e-02</td><td>7.573818e-02</td><td>7.113472e-02</td><td>6.362983e-02</td><td>0.794250</td></tr><tr><th>max</th><td>1.597730e+00</td><td>1.382802e+00</td><td>1.010250e+00</td><td>1.448007e+00</td><td>1.034058e+00</td><td>1.358961e+00</td><td>6.191591e-01</td><td>7.370478e-01</td><td>6.449824e-01</td><td>5.839721e-01</td><td>6.405928e-01</td><td>6.781944e-01</td><td>5.156549e-01</td><td>4.978232e-01</td><td>4.677552e-01</td><td>4.569075e-01</td><td>2.538000</td></tr></tbody></table></div><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>0</th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th><th>6</th><th>7</th><th>8</th><th>9</th><th>10</th><th>11</th><th>12</th><th>13</th><th>14</th><th>15</th></tr></thead><tbody><tr><th>count</th><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td></tr><tr><th>mean</th><td>0.381177</td><td>0.081992</td><td>0.281879</td><td>-0.197930</td><td>-0.100701</td><td>-0.142780</td><td>0.004071</td><td>-0.060480</td><td>-0.154322</td><td>0.086993</td><td>-0.100815</td><td>0.046543</td><td>0.019935</td><td>0.165712</td><td>-0.091402</td><td>0.098503</td></tr><tr><th>std</th><td>0.476428</td><td>0.401721</td><td>0.286971</td><td>0.469295</td><td>0.247697</td><td>0.240629</td><td>0.181197</td><td>0.182679</td><td>0.205765</td><td>0.194124</td><td>0.169021</td><td>0.150554</td><td>0.186972</td><td>0.133136</td><td>0.113115</td><td>0.156939</td></tr><tr><th>min</th><td>-0.669864</td><td>-0.811128</td><td>-0.867655</td><td>-1.464873</td><td>-0.835855</td><td>-0.885696</td><td>-0.598268</td><td>-1.178334</td><td>-1.263819</td><td>-0.551279</td><td>-0.907768</td><td>-0.552060</td><td>-0.647384</td><td>-0.249090</td><td>-0.530208</td><td>-0.404869</td></tr><tr><th>25%</th><td>0.038180</td><td>-0.212454</td><td>0.115846</td><td>-0.574960</td><td>-0.255649</td><td>-0.276799</td><td>-0.115316</td><td>-0.174018</td><td>-0.310445</td><td>-0.047362</td><td>-0.204719</td><td>-0.060321</td><td>-0.107933</td><td>0.071293</td><td>-0.168086</td><td>-0.011253</td></tr><tr><th>50%</th><td>0.287710</td><td>0.014673</td><td>0.282676</td><td>-0.087425</td><td>-0.125262</td><td>-0.150075</td><td>0.003478</td><td>-0.053806</td><td>-0.175642</td><td>0.107260</td><td>-0.107033</td><td>0.036827</td><td>0.034512</td><td>0.148576</td><td>-0.087650</td><td>0.084981</td></tr><tr><th>75%</th><td>0.684349</td><td>0.348803</td><td>0.478167</td><td>0.170079</td><td>0.031784</td><td>-0.028064</td><td>0.116061</td><td>0.062062</td><td>-0.015697</td><td>0.235243</td><td>0.002403</td><td>0.142344</td><td>0.149126</td><td>0.261064</td><td>-0.018204</td><td>0.207740</td></tr><tr><th>max</th><td>2.265144</td><td>1.727923</td><td>1.228726</td><td>1.300934</td><td>0.893993</td><td>1.232575</td><td>0.635610</td><td>0.468097</td><td>0.639576</td><td>0.758273</td><td>0.691010</td><td>0.793413</td><td>0.627588</td><td>0.665948</td><td>0.301437</td><td>0.631095</td></tr></tbody></table></div><h1 id="æ¨¡å‹åˆæ­¥è®­ç»ƒ">5æ¨¡å‹åˆæ­¥è®­ç»ƒ</h1><h2 id="åˆ‡åˆ†æ•°æ®é›†">åˆ‡åˆ†æ•°æ®é›†</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split <span class="hljs-comment"># åˆ‡åˆ†æ•°æ®</span><br><br><span class="hljs-comment">#é‡‡ç”¨ pca ä¿ç•™16ç»´ç‰¹å¾çš„æ•°æ®</span><br>new_train_pca_16 = new_train_pca_16.fillna(<span class="hljs-number">0</span>) <span class="hljs-comment"># ç¼ºå¤±å€¼å¡«å……ä¸º0</span><br>train = new_train_pca_16[new_test_pca_16.columns] <span class="hljs-comment"># ç‰¹å¾</span><br>target = new_train_pca_16[<span class="hljs-string">&#x27;target&#x27;</span>] <span class="hljs-comment"># æ ‡ç­¾</span><br><br><span class="hljs-comment"># åˆ‡åˆ†æ•°æ® è®­ç»ƒæ•°æ®80% éªŒè¯æ•°æ®20%</span><br>train_data,test_data,train_target,test_target=train_test_split(train,target,test_size=<span class="hljs-number">0.2</span>,random_state=<span class="hljs-number">0</span>)<br></code></pre></td></tr></table></figure><p><code>train_data,test_data,train_target,test_target</code> é¡ºåºä¸€å®šä¸èƒ½é”™ï¼Œä¾æ¬¡ä¸ºï¼šè®­ç»ƒé›†ç‰¹å¾ã€æµ‹è¯•é›†ç‰¹å¾ã€è®­ç»ƒé›†æ ‡ç­¾ã€æµ‹è¯•é›†æ ‡ç­¾</p><h2 id="å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹">5.1 å¤šå…ƒçº¿æ€§å›å½’æ¨¡å‹</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.linear_model <span class="hljs-keyword">import</span> LinearRegression  <span class="hljs-comment">#çº¿æ€§å›å½’</span><br><span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> mean_squared_error <span class="hljs-comment">#è¯„ä»·æŒ‡æ ‡</span><br><br>clf = LinearRegression()<br>clf.fit(train_data, train_target)<br>test_pred = clf.predict(test_data)<br>score = mean_squared_error(test_target, test_pred)<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;LinearRegression:   &quot;</span>, score)<br></code></pre></td></tr></table></figure><pre><code class="hljs">LinearRegression:    0.27167848406515294</code></pre><h4 id="ä»£ç è¯¦è§£-4">ä»£ç è¯¦è§£ï¼š</h4><p><code>mean_squared_error</code>æ˜¯ä¸€ä¸ªç”¨äºè®¡ç®—å‡æ–¹è¯¯å·®ï¼ˆMean Squared Error, MSEï¼‰çš„å‡½æ•°ã€‚å®ƒè¡¡é‡äº†é¢„æµ‹å€¼ä¸çœŸå®å€¼ä¹‹é—´çš„å¹³å‡å¹³æ–¹å·®ã€‚</p><p>å‡½æ•°è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">mean_squared_error(y_true, y_pred, squared=<span class="hljs-literal">True</span>)<br></code></pre></td></tr></table></figure><p>å‚æ•°è¯´æ˜ï¼š</p><ul><li><code>y_true</code>ï¼šçœŸå®çš„ç›®æ ‡å˜é‡å€¼ï¼Œä¹Ÿå°±æ˜¯çœŸå®çš„æ ‡ç­¾å€¼ã€‚</li><li><code>y_pred</code>ï¼šé¢„æµ‹çš„ç›®æ ‡å˜é‡å€¼ï¼Œä¹Ÿå°±æ˜¯æ¨¡å‹çš„é¢„æµ‹ç»“æœã€‚</li><li><code>squared</code>ï¼šå¯é€‰å‚æ•°ï¼Œé»˜è®¤ä¸º<code>True</code>ã€‚å¦‚æœè®¾ç½®ä¸º<code>False</code>ï¼Œå°†è¿”å›å‡æ–¹æ ¹è¯¯å·®ï¼ˆRMSEï¼‰ï¼Œå³å¹³æ–¹æ ¹å€¼ã€‚</li></ul><p>å‡½æ•°è¿”å›ä¸€ä¸ªæµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºè®¡ç®—å¾—åˆ°çš„å‡æ–¹è¯¯å·®æˆ–å‡æ–¹æ ¹è¯¯å·®ã€‚</p><h2 id="kè¿‘é‚»å›å½’">5.2 Kè¿‘é‚»å›å½’</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.neighbors <span class="hljs-keyword">import</span> KNeighborsRegressor  <span class="hljs-comment">#Kè¿‘é‚»å›å½’</span><br><br>clf = KNeighborsRegressor(n_neighbors=<span class="hljs-number">3</span>) <span class="hljs-comment"># 3ä¸ªèšç±»</span><br>clf.fit(train_data, train_target)<br>score = mean_squared_error(test_target, clf.predict(test_data))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;KNeighborsRegressor:   &quot;</span>, score)<br></code></pre></td></tr></table></figure><pre><code class="hljs">KNeighborsRegressor:    0.2677332937331796</code></pre><h2 id="å†³ç­–æ ‘å›å½’">5.3 å†³ç­–æ ‘å›å½’</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.tree <span class="hljs-keyword">import</span> DecisionTreeRegressor     <span class="hljs-comment">#å†³ç­–æ ‘å›å½’</span><br><br>clf = DecisionTreeRegressor() <br>clf.fit(train_data, train_target)<br>score = mean_squared_error(test_target, clf.predict(test_data))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;DecisionTreeRegressor:   &quot;</span>, score)<br></code></pre></td></tr></table></figure><pre><code class="hljs">DecisionTreeRegressor:    0.5939244757785467</code></pre><h2 id="éšæœºæ£®æ—å›å½’">5.4 éšæœºæ£®æ—å›å½’</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">from</span> sklearn.ensemble <span class="hljs-keyword">import</span> RandomForestRegressor <span class="hljs-comment">#éšæœºæ£®æ—å›å½’</span><br><br>clf = RandomForestRegressor(n_estimators=<span class="hljs-number">200</span>) <span class="hljs-comment"># 200æ£µæ ‘æ¨¡å‹</span><br>clf.fit(train_data, train_target)<br>score = mean_squared_error(test_target, clf.predict(test_data))<br><span class="hljs-built_in">print</span>(<span class="hljs-string">&quot;RandomForestRegressor:   &quot;</span>, score)<br></code></pre></td></tr></table></figure><pre><code class="hljs">RandomForestRegressor:    0.2512481316266003</code></pre>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ å®æˆ˜å…¥é—¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢</title>
    <link href="/2023/07/29/%E5%B7%A5%E4%B8%9A%E8%92%B8%E6%B1%BD%E9%A2%84%E6%B5%8B-02%E6%95%B0%E6%8D%AE%E6%8E%A2%E7%B4%A2/"/>
    <url>/2023/07/29/%E5%B7%A5%E4%B8%9A%E8%92%B8%E6%B1%BD%E9%A2%84%E6%B5%8B-02%E6%95%B0%E6%8D%AE%E6%8E%A2%E7%B4%A2/</url>
    
    <content type="html"><![CDATA[<h2 id="å¯¼å…¥æ•°æ®æ¢ç´¢çš„å·¥å…·åŒ…">1å¯¼å…¥æ•°æ®æ¢ç´¢çš„å·¥å…·åŒ…</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<br><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<br><span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt<br><span class="hljs-keyword">import</span> seaborn <span class="hljs-keyword">as</span> sns <span class="hljs-comment"># æ•°æ®å¯è§†åŒ–ã€‚å…¶ä¸­boxplotç”¨äºç»˜åˆ¶ç®±å½¢å›¾</span><br><br><span class="hljs-keyword">from</span> scipy <span class="hljs-keyword">import</span> stats<br><br><span class="hljs-keyword">import</span> warnings<br>warnings.filterwarnings(<span class="hljs-string">&quot;ignore&quot;</span>)<br> <br>%matplotlib inline<br></code></pre></td></tr></table></figure><h2 id="è¯»å–æ•°æ®">2è¯»å–æ•°æ®</h2><p>ä½¿ç”¨Pandasåº“<code>read_csv()</code>å‡½æ•°è¿›è¡Œæ•°æ®è¯»å–ï¼Œç”±äºè¯»å–çš„æ˜¯æ–‡æœ¬æ–‡ä»¶(.txt)ï¼Œéœ€è¦è®¾ç½®åˆ†å‰²ç¬¦ä¸ºâ€˜</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs python">train_data_file = <span class="hljs-string">&quot;./data/zhengqi_train.txt&quot;</span><br>test_data_file =  <span class="hljs-string">&quot;./data/zhengqi_test.txt&quot;</span><br><br>train_data = pd.read_csv(train_data_file, sep=<span class="hljs-string">&#x27;\t&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br>test_data = pd.read_csv(test_data_file, sep=<span class="hljs-string">&#x27;\t&#x27;</span>, encoding=<span class="hljs-string">&#x27;utf-8&#x27;</span>)<br></code></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹æ•°æ®ä¿¡æ¯">3æŸ¥çœ‹æ•°æ®ä¿¡æ¯</h2><h3 id="æŸ¥çœ‹æ•°æ®åŸºæœ¬ä¿¡æ¯">3.1æŸ¥çœ‹æ•°æ®åŸºæœ¬ä¿¡æ¯</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è®­ç»ƒé›†</span><br>train_data.info()<br></code></pre></td></tr></table></figure><pre><code class="hljs">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;RangeIndex: 2888 entries, 0 to 2887Data columns (total 39 columns): #   Column  Non-Null Count  Dtype  ---  ------  --------------  -----   0   V0      2888 non-null   float64 1   V1      2888 non-null   float64 2   V2      2888 non-null   float64 3   V3      2888 non-null   float64 4   V4      2888 non-null   float64 5   V5      2888 non-null   float64 6   V6      2888 non-null   float64 7   V7      2888 non-null   float64 8   V8      2888 non-null   float64 9   V9      2888 non-null   float64 10  V10     2888 non-null   float64 11  V11     2888 non-null   float64 12  V12     2888 non-null   float64 13  V13     2888 non-null   float64 14  V14     2888 non-null   float64 15  V15     2888 non-null   float64 16  V16     2888 non-null   float64 17  V17     2888 non-null   float64 18  V18     2888 non-null   float64 19  V19     2888 non-null   float64 20  V20     2888 non-null   float64 21  V21     2888 non-null   float64 22  V22     2888 non-null   float64 23  V23     2888 non-null   float64 24  V24     2888 non-null   float64 25  V25     2888 non-null   float64 26  V26     2888 non-null   float64 27  V27     2888 non-null   float64 28  V28     2888 non-null   float64 29  V29     2888 non-null   float64 30  V30     2888 non-null   float64 31  V31     2888 non-null   float64 32  V32     2888 non-null   float64 33  V33     2888 non-null   float64 34  V34     2888 non-null   float64 35  V35     2888 non-null   float64 36  V36     2888 non-null   float64 37  V37     2888 non-null   float64 38  target  2888 non-null   float64dtypes: float64(39)memory usage: 880.1 KB</code></pre><ol type="1"><li>æ­¤è®­ç»ƒé›†æ•°æ®å…±æœ‰2888ä¸ªæ ·æœ¬ï¼Œæ•°æ®ä¸­æœ‰V0-V37å…±è®¡38ä¸ªç‰¹å¾å˜é‡ï¼Œå˜é‡ç±»å‹éƒ½ä¸ºæ•°å€¼ç±»å‹ï¼Œæ‰€æœ‰æ•°æ®ç‰¹å¾æ²¡æœ‰ç¼ºå¤±å€¼æ•°æ®ï¼›</li><li>æ•°æ®å­—æ®µç”±äºé‡‡ç”¨äº†è„±æ•å¤„ç†ï¼Œåˆ é™¤äº†ç‰¹å¾æ•°æ®çš„å…·ä½“å«ä¹‰ï¼›</li><li>targetå­—æ®µä¸ºæ ‡ç­¾å˜é‡</li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æµ‹è¯•é›†</span><br>test_data.info()<br></code></pre></td></tr></table></figure><pre><code class="hljs">&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;RangeIndex: 1925 entries, 0 to 1924Data columns (total 38 columns): #   Column  Non-Null Count  Dtype  ---  ------  --------------  -----   0   V0      1925 non-null   float64 1   V1      1925 non-null   float64 2   V2      1925 non-null   float64 3   V3      1925 non-null   float64 4   V4      1925 non-null   float64 5   V5      1925 non-null   float64 6   V6      1925 non-null   float64 7   V7      1925 non-null   float64 8   V8      1925 non-null   float64 9   V9      1925 non-null   float64 10  V10     1925 non-null   float64 11  V11     1925 non-null   float64 12  V12     1925 non-null   float64 13  V13     1925 non-null   float64 14  V14     1925 non-null   float64 15  V15     1925 non-null   float64 16  V16     1925 non-null   float64 17  V17     1925 non-null   float64 18  V18     1925 non-null   float64 19  V19     1925 non-null   float64 20  V20     1925 non-null   float64 21  V21     1925 non-null   float64 22  V22     1925 non-null   float64 23  V23     1925 non-null   float64 24  V24     1925 non-null   float64 25  V25     1925 non-null   float64 26  V26     1925 non-null   float64 27  V27     1925 non-null   float64 28  V28     1925 non-null   float64 29  V29     1925 non-null   float64 30  V30     1925 non-null   float64 31  V31     1925 non-null   float64 32  V32     1925 non-null   float64 33  V33     1925 non-null   float64 34  V34     1925 non-null   float64 35  V35     1925 non-null   float64 36  V36     1925 non-null   float64 37  V37     1925 non-null   float64dtypes: float64(38)memory usage: 571.6 KB</code></pre><ol type="1"><li>æµ‹è¯•é›†æ•°æ®å…±æœ‰1925ä¸ªæ ·æœ¬ï¼Œæ•°æ®ä¸­æœ‰V0-V37å…±è®¡38ä¸ªç‰¹å¾å˜é‡ï¼Œå˜é‡ç±»å‹éƒ½ä¸ºæ•°å€¼ç±»å‹ï¼Œæ— ç¼ºå¤±å€¼ã€‚</li><li>æµ‹è¯•é›†ä¸­æ²¡æœ‰targetå­—æ®µï¼ˆæ ‡ç­¾å˜é‡ï¼‰ï¼Œéœ€è¦æˆ‘ä»¬é¢„æµ‹å¹¶æäº¤ã€‚</li></ol><h3 id="æŸ¥çœ‹æ•°æ®ç»Ÿè®¡ä¿¡æ¯">3.2æŸ¥çœ‹æ•°æ®ç»Ÿè®¡ä¿¡æ¯</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è®­ç»ƒé›†</span><br>train_data.describe()<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>V0</th><th>V1</th><th>V2</th><th>V3</th><th>V4</th><th>V5</th><th>V6</th><th>V7</th><th>V8</th><th>V9</th><th>...</th><th>V29</th><th>V30</th><th>V31</th><th>V32</th><th>V33</th><th>V34</th><th>V35</th><th>V36</th><th>V37</th><th>target</th></tr></thead><tbody><tr><th>count</th><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>...</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td><td>2888.000000</td></tr><tr><th>mean</th><td>0.123048</td><td>0.056068</td><td>0.289720</td><td>-0.067790</td><td>0.012921</td><td>-0.558565</td><td>0.182892</td><td>0.116155</td><td>0.177856</td><td>-0.169452</td><td>...</td><td>0.097648</td><td>0.055477</td><td>0.127791</td><td>0.020806</td><td>0.007801</td><td>0.006715</td><td>0.197764</td><td>0.030658</td><td>-0.130330</td><td>0.126353</td></tr><tr><th>std</th><td>0.928031</td><td>0.941515</td><td>0.911236</td><td>0.970298</td><td>0.888377</td><td>0.517957</td><td>0.918054</td><td>0.955116</td><td>0.895444</td><td>0.953813</td><td>...</td><td>1.061200</td><td>0.901934</td><td>0.873028</td><td>0.902584</td><td>1.006995</td><td>1.003291</td><td>0.985675</td><td>0.970812</td><td>1.017196</td><td>0.983966</td></tr><tr><th>min</th><td>-4.335000</td><td>-5.122000</td><td>-3.420000</td><td>-3.956000</td><td>-4.742000</td><td>-2.182000</td><td>-4.576000</td><td>-5.048000</td><td>-4.692000</td><td>-12.891000</td><td>...</td><td>-2.912000</td><td>-4.507000</td><td>-5.859000</td><td>-4.053000</td><td>-4.627000</td><td>-4.789000</td><td>-5.695000</td><td>-2.608000</td><td>-3.630000</td><td>-3.044000</td></tr><tr><th>25%</th><td>-0.297000</td><td>-0.226250</td><td>-0.313000</td><td>-0.652250</td><td>-0.385000</td><td>-0.853000</td><td>-0.310000</td><td>-0.295000</td><td>-0.159000</td><td>-0.390000</td><td>...</td><td>-0.664000</td><td>-0.283000</td><td>-0.170250</td><td>-0.407250</td><td>-0.499000</td><td>-0.290000</td><td>-0.202500</td><td>-0.413000</td><td>-0.798250</td><td>-0.350250</td></tr><tr><th>50%</th><td>0.359000</td><td>0.272500</td><td>0.386000</td><td>-0.044500</td><td>0.110000</td><td>-0.466000</td><td>0.388000</td><td>0.344000</td><td>0.362000</td><td>0.042000</td><td>...</td><td>-0.023000</td><td>0.053500</td><td>0.299500</td><td>0.039000</td><td>-0.040000</td><td>0.160000</td><td>0.364000</td><td>0.137000</td><td>-0.185500</td><td>0.313000</td></tr><tr><th>75%</th><td>0.726000</td><td>0.599000</td><td>0.918250</td><td>0.624000</td><td>0.550250</td><td>-0.154000</td><td>0.831250</td><td>0.782250</td><td>0.726000</td><td>0.042000</td><td>...</td><td>0.745250</td><td>0.488000</td><td>0.635000</td><td>0.557000</td><td>0.462000</td><td>0.273000</td><td>0.602000</td><td>0.644250</td><td>0.495250</td><td>0.793250</td></tr><tr><th>max</th><td>2.121000</td><td>1.918000</td><td>2.828000</td><td>2.457000</td><td>2.689000</td><td>0.489000</td><td>1.895000</td><td>1.918000</td><td>2.245000</td><td>1.335000</td><td>...</td><td>4.580000</td><td>2.689000</td><td>2.013000</td><td>2.395000</td><td>5.465000</td><td>5.110000</td><td>2.324000</td><td>5.238000</td><td>3.000000</td><td>2.538000</td></tr></tbody></table><p>8 rows Ã— 39 columns</p></div><p>ä¸Šé¢æ•°æ®æ˜¾ç¤ºäº†æ•°æ®çš„ç»Ÿè®¡ä¿¡æ¯ï¼Œä¾‹å¦‚æ ·æœ¬æ•°countï¼Œæ•°æ®çš„å¹³å‡å€¼meanï¼Œæ ‡å‡†å·®stdï¼Œæœ€å°å€¼minï¼Œæœ€å¤§å€¼maxç­‰</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æµ‹è¯•é›†</span><br>test_data.describe()<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>V0</th><th>V1</th><th>V2</th><th>V3</th><th>V4</th><th>V5</th><th>V6</th><th>V7</th><th>V8</th><th>V9</th><th>...</th><th>V28</th><th>V29</th><th>V30</th><th>V31</th><th>V32</th><th>V33</th><th>V34</th><th>V35</th><th>V36</th><th>V37</th></tr></thead><tbody><tr><th>count</th><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>...</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td><td>1925.000000</td></tr><tr><th>mean</th><td>-0.184404</td><td>-0.083912</td><td>-0.434762</td><td>0.101671</td><td>-0.019172</td><td>0.838049</td><td>-0.274092</td><td>-0.173971</td><td>-0.266709</td><td>0.255114</td><td>...</td><td>-0.206871</td><td>-0.146463</td><td>-0.083215</td><td>-0.191729</td><td>-0.030782</td><td>-0.011433</td><td>-0.009985</td><td>-0.296895</td><td>-0.046270</td><td>0.195735</td></tr><tr><th>std</th><td>1.073333</td><td>1.076670</td><td>0.969541</td><td>1.034925</td><td>1.147286</td><td>0.963043</td><td>1.054119</td><td>1.040101</td><td>1.085916</td><td>1.014394</td><td>...</td><td>1.064140</td><td>0.880593</td><td>1.126414</td><td>1.138454</td><td>1.130228</td><td>0.989732</td><td>0.995213</td><td>0.946896</td><td>1.040854</td><td>0.940599</td></tr><tr><th>min</th><td>-4.814000</td><td>-5.488000</td><td>-4.283000</td><td>-3.276000</td><td>-4.921000</td><td>-1.168000</td><td>-5.649000</td><td>-5.625000</td><td>-6.059000</td><td>-6.784000</td><td>...</td><td>-2.435000</td><td>-2.413000</td><td>-4.507000</td><td>-7.698000</td><td>-4.057000</td><td>-4.627000</td><td>-4.789000</td><td>-7.477000</td><td>-2.608000</td><td>-3.346000</td></tr><tr><th>25%</th><td>-0.664000</td><td>-0.451000</td><td>-0.978000</td><td>-0.644000</td><td>-0.497000</td><td>0.122000</td><td>-0.732000</td><td>-0.509000</td><td>-0.775000</td><td>-0.390000</td><td>...</td><td>-0.453000</td><td>-0.818000</td><td>-0.339000</td><td>-0.476000</td><td>-0.472000</td><td>-0.460000</td><td>-0.290000</td><td>-0.349000</td><td>-0.593000</td><td>-0.432000</td></tr><tr><th>50%</th><td>0.065000</td><td>0.195000</td><td>-0.267000</td><td>0.220000</td><td>0.118000</td><td>0.437000</td><td>-0.082000</td><td>0.018000</td><td>-0.004000</td><td>0.401000</td><td>...</td><td>-0.445000</td><td>-0.199000</td><td>0.010000</td><td>0.100000</td><td>0.155000</td><td>-0.040000</td><td>0.160000</td><td>-0.270000</td><td>0.083000</td><td>0.152000</td></tr><tr><th>75%</th><td>0.549000</td><td>0.589000</td><td>0.278000</td><td>0.793000</td><td>0.610000</td><td>1.928000</td><td>0.457000</td><td>0.515000</td><td>0.482000</td><td>0.904000</td><td>...</td><td>-0.434000</td><td>0.468000</td><td>0.447000</td><td>0.471000</td><td>0.627000</td><td>0.419000</td><td>0.273000</td><td>0.364000</td><td>0.651000</td><td>0.797000</td></tr><tr><th>max</th><td>2.100000</td><td>2.120000</td><td>1.946000</td><td>2.603000</td><td>4.475000</td><td>3.176000</td><td>1.528000</td><td>1.394000</td><td>2.408000</td><td>1.766000</td><td>...</td><td>4.656000</td><td>3.022000</td><td>3.139000</td><td>1.428000</td><td>2.299000</td><td>5.465000</td><td>5.110000</td><td>1.671000</td><td>2.861000</td><td>3.021000</td></tr></tbody></table><p>8 rows Ã— 38 columns</p></div><h3 id="æŸ¥çœ‹æ•°æ®å­—æ®µä¿¡æ¯">3.3æŸ¥çœ‹æ•°æ®å­—æ®µä¿¡æ¯</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">train_data.head()<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>V0</th><th>V1</th><th>V2</th><th>V3</th><th>V4</th><th>V5</th><th>V6</th><th>V7</th><th>V8</th><th>V9</th><th>...</th><th>V29</th><th>V30</th><th>V31</th><th>V32</th><th>V33</th><th>V34</th><th>V35</th><th>V36</th><th>V37</th><th>target</th></tr></thead><tbody><tr><th>0</th><td>0.566</td><td>0.016</td><td>-0.143</td><td>0.407</td><td>0.452</td><td>-0.901</td><td>-1.812</td><td>-2.360</td><td>-0.436</td><td>-2.114</td><td>...</td><td>0.136</td><td>0.109</td><td>-0.615</td><td>0.327</td><td>-4.627</td><td>-4.789</td><td>-5.101</td><td>-2.608</td><td>-3.508</td><td>0.175</td></tr><tr><th>1</th><td>0.968</td><td>0.437</td><td>0.066</td><td>0.566</td><td>0.194</td><td>-0.893</td><td>-1.566</td><td>-2.360</td><td>0.332</td><td>-2.114</td><td>...</td><td>-0.128</td><td>0.124</td><td>0.032</td><td>0.600</td><td>-0.843</td><td>0.160</td><td>0.364</td><td>-0.335</td><td>-0.730</td><td>0.676</td></tr><tr><th>2</th><td>1.013</td><td>0.568</td><td>0.235</td><td>0.370</td><td>0.112</td><td>-0.797</td><td>-1.367</td><td>-2.360</td><td>0.396</td><td>-2.114</td><td>...</td><td>-0.009</td><td>0.361</td><td>0.277</td><td>-0.116</td><td>-0.843</td><td>0.160</td><td>0.364</td><td>0.765</td><td>-0.589</td><td>0.633</td></tr><tr><th>3</th><td>0.733</td><td>0.368</td><td>0.283</td><td>0.165</td><td>0.599</td><td>-0.679</td><td>-1.200</td><td>-2.086</td><td>0.403</td><td>-2.114</td><td>...</td><td>0.015</td><td>0.417</td><td>0.279</td><td>0.603</td><td>-0.843</td><td>-0.065</td><td>0.364</td><td>0.333</td><td>-0.112</td><td>0.206</td></tr><tr><th>4</th><td>0.684</td><td>0.638</td><td>0.260</td><td>0.209</td><td>0.337</td><td>-0.454</td><td>-1.073</td><td>-2.086</td><td>0.314</td><td>-2.114</td><td>...</td><td>0.183</td><td>1.078</td><td>0.328</td><td>0.418</td><td>-0.843</td><td>-0.215</td><td>0.364</td><td>-0.280</td><td>-0.028</td><td>0.384</td></tr></tbody></table><p>5 rows Ã— 39 columns</p></div><p>ä¸Šé¢æ˜¾ç¤ºè®­ç»ƒé›†å‰5æ¡æ•°æ®çš„åŸºæœ¬ä¿¡æ¯ï¼Œå¯ä»¥çœ‹åˆ°æ•°æ®éƒ½æ˜¯æµ®ç‚¹å‹æ•°æ®ï¼Œæ•°æ®éƒ½æ˜¯æ•°å€¼å‹è¿ç»­å‹ç‰¹å¾</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">test_data.head()<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>V0</th><th>V1</th><th>V2</th><th>V3</th><th>V4</th><th>V5</th><th>V6</th><th>V7</th><th>V8</th><th>V9</th><th>...</th><th>V28</th><th>V29</th><th>V30</th><th>V31</th><th>V32</th><th>V33</th><th>V34</th><th>V35</th><th>V36</th><th>V37</th></tr></thead><tbody><tr><th>0</th><td>0.368</td><td>0.380</td><td>-0.225</td><td>-0.049</td><td>0.379</td><td>0.092</td><td>0.550</td><td>0.551</td><td>0.244</td><td>0.904</td><td>...</td><td>-0.449</td><td>0.047</td><td>0.057</td><td>-0.042</td><td>0.847</td><td>0.534</td><td>-0.009</td><td>-0.190</td><td>-0.567</td><td>0.388</td></tr><tr><th>1</th><td>0.148</td><td>0.489</td><td>-0.247</td><td>-0.049</td><td>0.122</td><td>-0.201</td><td>0.487</td><td>0.493</td><td>-0.127</td><td>0.904</td><td>...</td><td>-0.443</td><td>0.047</td><td>0.560</td><td>0.176</td><td>0.551</td><td>0.046</td><td>-0.220</td><td>0.008</td><td>-0.294</td><td>0.104</td></tr><tr><th>2</th><td>-0.166</td><td>-0.062</td><td>-0.311</td><td>0.046</td><td>-0.055</td><td>0.063</td><td>0.485</td><td>0.493</td><td>-0.227</td><td>0.904</td><td>...</td><td>-0.458</td><td>-0.398</td><td>0.101</td><td>0.199</td><td>0.634</td><td>0.017</td><td>-0.234</td><td>0.008</td><td>0.373</td><td>0.569</td></tr><tr><th>3</th><td>0.102</td><td>0.294</td><td>-0.259</td><td>0.051</td><td>-0.183</td><td>0.148</td><td>0.474</td><td>0.504</td><td>0.010</td><td>0.904</td><td>...</td><td>-0.456</td><td>-0.398</td><td>1.007</td><td>0.137</td><td>1.042</td><td>-0.040</td><td>-0.290</td><td>0.008</td><td>-0.666</td><td>0.391</td></tr><tr><th>4</th><td>0.300</td><td>0.428</td><td>0.208</td><td>0.051</td><td>-0.033</td><td>0.116</td><td>0.408</td><td>0.497</td><td>0.155</td><td>0.904</td><td>...</td><td>-0.458</td><td>-0.776</td><td>0.291</td><td>0.370</td><td>0.181</td><td>-0.040</td><td>-0.290</td><td>0.008</td><td>-0.140</td><td>-0.497</td></tr></tbody></table><p>5 rows Ã— 38 columns</p></div><h2 id="å¯è§†åŒ–æ•°æ®åˆ†å¸ƒ">4å¯è§†åŒ–æ•°æ®åˆ†å¸ƒ</h2><h3 id="ç®±å½¢å›¾">4.1ç®±å½¢å›¾</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># é¦–å…ˆç»˜åˆ¶è®­ç»ƒé›†ä¸­ç‰¹å¾å˜é‡V0çš„ç®±å½¢å›¾ï¼š</span><br>fig = plt.figure(figsize=(<span class="hljs-number">4</span>, <span class="hljs-number">6</span>))  <span class="hljs-comment"># æŒ‡å®šç»˜å›¾å¯¹è±¡å®½åº¦å’Œé«˜åº¦</span><br>sns.boxplot(train_data[<span class="hljs-string">&#x27;V0&#x27;</span>],orient=<span class="hljs-string">&quot;v&quot;</span>, width=<span class="hljs-number">0.5</span>) <br></code></pre></td></tr></table></figure><pre><code class="hljs">&lt;AxesSubplot:&gt;</code></pre><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_20_1.png" /> â€‹</p><p>ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºæœ‰åç¦»å€¼ï¼Œè®¸å¤šæ•°æ®ç‚¹ä½äºä¸‹å››åˆ†ä½ç‚¹ä»¥ä¸‹ã€‚</p><h4 id="ä»£ç è¯¦è§£">ä»£ç è¯¦è§£ï¼š</h4><ol type="1"><li><p><code>fig = plt.figure(figsize=(4, 6))</code> åˆ›å»ºä¸€ä¸ªç”»å¸ƒï¼Œå¹¶æŒ‡å®šå®½åº¦ä¸º4ï¼Œé«˜åº¦ä¸º6ã€‚<code>plt</code> æ˜¯ matplotlib åº“çš„ä¸€ä¸ªæ¨¡å—ï¼Œç”¨äºç»˜åˆ¶æ•°æ®å¯è§†åŒ–å›¾å½¢ã€‚</p></li><li><p><code>sns.boxplot(train_data['V0'],orient="v", width=0.5)</code> ç»˜åˆ¶ç®±å½¢å›¾ã€‚<code>sns</code> æ˜¯ seaborn åº“çš„ä¸€ä¸ªæ¨¡å—ï¼Œç”¨äºæ•°æ®å¯è§†åŒ–ã€‚<code>boxplot</code> æ˜¯ç”¨äºç»˜åˆ¶ç®±å½¢å›¾çš„å‡½æ•°ã€‚<code>train_data['V0']</code> è¡¨ç¤ºä»è®­ç»ƒé›†ä¸­è·å–ç‰¹å¾å˜é‡ V0 çš„æ•°æ®è¿›è¡Œç»˜åˆ¶ã€‚<code>orient="v"</code> è¡¨ç¤ºå°†ç®±å½¢å›¾å‚ç›´ç»˜åˆ¶ï¼Œå³ä»¥ç«–ç›´æ–¹å‘ä¸ºä¸»è½´ã€‚<code>width=0.5</code> è¡¨ç¤ºç®±å½¢å›¾çš„å®½åº¦ä¸º0.5ã€‚</p></li></ol><p>ç®±å½¢å›¾æ˜¯ä¸€ç§ç”¨äºå±•ç¤ºæ•°æ®åˆ†å¸ƒå’Œç¦»ç¾¤å€¼çš„å›¾å½¢ã€‚å®ƒç”±ä¸€ä¸ªçŸ©å½¢æ¡†å’Œä¸¤æ¡çº¿ï¼ˆå³â€œé¡»â€ä¸Šé™ã€ä¸‹é™ï¼‰ç»„æˆã€‚çŸ©å½¢æ¡†è¡¨ç¤ºæ•°æ®çš„å››åˆ†ä½æ•°èŒƒå›´ï¼ˆä¸Šä¸‹å››åˆ†ä½æ•°ä¹‹é—´çš„è·ç¦»ï¼‰ï¼Œä¸­é—´çš„çº¿è¡¨ç¤ºä¸­ä½æ•°ï¼Œé¡»è¡¨ç¤ºæ•°æ®çš„æ•´ä½“åˆ†å¸ƒæƒ…å†µã€‚ç®±å½¢å›¾å¯ä»¥å¸®åŠ©æˆ‘ä»¬è§‚å¯Ÿæ•°æ®çš„åæ€ã€é›†ä¸­è¶‹åŠ¿ä»¥åŠç¦»ç¾¤å€¼ç­‰ä¿¡æ¯</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># V0-V37çš„ç®±å½¢å›¾ï¼š</span><br>column = train_data.columns.tolist()[:<span class="hljs-number">39</span>]  <span class="hljs-comment"># åˆ—è¡¨å¤´,å…±39åˆ—ï¼ŒV0-target</span><br>fig = plt.figure(figsize=(<span class="hljs-number">20</span>, <span class="hljs-number">40</span>))  <span class="hljs-comment"># æŒ‡å®šç»˜å›¾å¯¹è±¡å®½åº¦å’Œé«˜åº¦</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> <span class="hljs-built_in">range</span>(<span class="hljs-number">38</span>):<br>    plt.subplot(<span class="hljs-number">13</span>, <span class="hljs-number">3</span>, i + <span class="hljs-number">1</span>)  <span class="hljs-comment"># 13è¡Œ3åˆ—å­å›¾</span><br>    sns.boxplot(train_data[column[i]], orient=<span class="hljs-string">&quot;h&quot;</span>, width=<span class="hljs-number">0.5</span>)  <span class="hljs-comment"># ç®±å¼å›¾</span><br>    plt.ylabel(column[i], fontsize=<span class="hljs-number">8</span>)<br>plt.show()<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_23_0.png" /> â€‹</p><p>ä»å›¾ä¸­å‘ç°æ•°æ®å­˜åœ¨è®¸å¤šåç¦»è¾ƒå¤§çš„å¼‚å¸¸å€¼ï¼Œå¯ä»¥è€ƒè™‘ç§»é™¤ã€‚</p><h4 id="ä»£ç è¯¦è§£-1">ä»£ç è¯¦è§£ï¼š</h4><ol type="1"><li><p><code>column = train_data.columns.tolist()[:39]</code> è·å–è®­ç»ƒé›†æ•°æ®ä¸­å‰39ï¼ˆåŒ…å«ï¼‰åˆ—ï¼ˆå³V0åˆ°targetï¼‰çš„åˆ—åï¼Œå¹¶å°†å…¶å­˜å‚¨åœ¨åˆ—è¡¨ <code>column</code> ä¸­ã€‚<code>train_data.columns</code> è¿”å›æ•°æ®é›†çš„æ‰€æœ‰åˆ—åï¼Œ<code>tolist()</code> å°†å…¶è½¬æ¢ä¸ºåˆ—è¡¨ï¼Œ<code>[:39]</code> è¡¨ç¤ºå–åˆ—è¡¨ä¸­çš„å‰39ä¸ªå…ƒç´ ã€‚</p></li><li><p><code>fig = plt.figure(figsize=(20, 40))</code> åˆ›å»ºä¸€ä¸ªç”»å¸ƒï¼Œå¹¶æŒ‡å®šå®½åº¦ä¸º20ï¼Œé«˜åº¦ä¸º40ã€‚</p></li><li><p><code>for i in range(38):</code> å¾ªç¯éå†ä»0åˆ°37çš„æ•´æ•°ï¼Œå¯¹åº”ç‰¹å¾å˜é‡ V0 åˆ° V37ã€‚</p></li><li><p><code>plt.subplot(13, 3, i + 1)</code> åˆ›å»ºä¸€ä¸ªå­å›¾ï¼Œå°†ç”»å¸ƒåˆ†ä¸º13è¡Œ3åˆ—çš„ç½‘æ ¼ï¼Œé€‰ä¸­å½“å‰å­å›¾(i+1)è¿›è¡Œç»˜åˆ¶ã€‚<code>i + 1</code> è¡¨ç¤ºå­å›¾çš„ç¼–å·ï¼Œä»1å¼€å§‹ã€‚</p></li><li><p><code>sns.boxplot(train_data[column[i]], orient="h", width=0.5)</code> ç»˜åˆ¶ç®±å½¢å›¾ã€‚<code>train_data[column[i]]</code> è¡¨ç¤ºä»è®­ç»ƒé›†ä¸­è·å–ç¬¬iä¸ªç‰¹å¾å˜é‡çš„æ•°æ®è¿›è¡Œç»˜åˆ¶ã€‚<code>orient="h"</code> è¡¨ç¤ºå°†ç®±å½¢å›¾æ°´å¹³ç»˜åˆ¶ï¼Œå³ä»¥æ°´å¹³æ–¹å‘ä¸ºä¸»è½´ã€‚<code>width=0.5</code> è¡¨ç¤ºç®±å½¢å›¾çš„å®½åº¦ä¸º0.5ã€‚</p></li><li><p><code>plt.ylabel(column[i], fontsize=8)</code> åœ¨æ¯ä¸ªå­å›¾ä¸Šæ·»åŠ yè½´æ ‡ç­¾ï¼Œæ ‡ç­¾å†…å®¹ä¸ºå¯¹åº”çš„ç‰¹å¾å˜é‡åç§° <code>column[i]</code>ï¼Œå¹¶è®¾ç½®å­—ä½“å¤§å°ä¸º8ã€‚</p></li><li><p><code>plt.show()</code> å±•ç¤ºç»˜åˆ¶çš„ç®±å½¢å›¾ã€‚</p></li></ol><h3 id="ç›´æ–¹å›¾å’Œq-qå›¾">4.2ç›´æ–¹å›¾å’ŒQ-Qå›¾</h3><p>Q-Qå›¾æ˜¯æŒ‡æ•°æ®çš„åˆ†ä½æ•°å’Œæ­£æ€åˆ†å¸ƒçš„åˆ†ä½æ•°å¯¹æ¯”å‚ç…§çš„å›¾ï¼Œå¦‚æœæ•°æ®ç¬¦åˆæ­£æ€åˆ†å¸ƒï¼Œåˆ™æ‰€æœ‰çš„ç‚¹éƒ½ä¼šè½åœ¨ç›´çº¿ä¸Šã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æŸ¥çœ‹ç‰¹å¾å˜é‡â€˜V0â€™çš„æ•°æ®åˆ†å¸ƒç›´æ–¹å›¾ï¼Œå¹¶ç»˜åˆ¶Q-Qå›¾æŸ¥çœ‹æ•°æ®æ˜¯å¦è¿‘ä¼¼äºæ­£æ€åˆ†å¸ƒ</span><br><br>plt.figure(figsize=(<span class="hljs-number">5</span>,<span class="hljs-number">2.5</span>))<br><br>ax=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)<br>sns.distplot(train_data[<span class="hljs-string">&#x27;V0&#x27;</span>],fit=stats.norm)<br>ax=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)<br>res = stats.probplot(train_data[<span class="hljs-string">&#x27;V0&#x27;</span>], plot=plt)<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_28_0.png" /> â€‹</p><p>å¯ä»¥çœ‹åˆ°ï¼Œè®­ç»ƒé›†ä¸­ç‰¹å¾å˜é‡V0çš„åˆ†å¸ƒä¸æ˜¯æ­£æ€åˆ†å¸ƒã€‚</p><h4 id="ä»£ç è¯¦è§£-2">ä»£ç è¯¦è§£ï¼š</h4><ol type="1"><li><p><code>plt.figure(figsize=(10,5))</code> åˆ›å»ºä¸€ä¸ªå®½åº¦ä¸º10ï¼Œé«˜åº¦ä¸º5çš„ç”»å¸ƒå¯¹è±¡ã€‚<code>figsize=(10,5)</code> æŒ‡å®šäº†ç”»å¸ƒçš„å°ºå¯¸ã€‚</p></li><li><p><code>ax=plt.subplot(1,2,1)</code> åˆ›å»ºä¸€ä¸ªå­å›¾å¯¹è±¡ï¼Œå¹¶æŒ‡å®šå®ƒä½äºç”»å¸ƒçš„ç¬¬1è¡Œï¼Œç¬¬2åˆ—ä¸­ã€‚è¿™é‡Œçš„ <code>(1,2,1)</code> è¡¨ç¤ºå°†ç”»å¸ƒåˆ†ä¸º1è¡Œ2åˆ—çš„ç½‘æ ¼ï¼Œå¹¶é€‰ä¸­ç¬¬1ä¸ªä½ç½®çš„å­å›¾ã€‚</p></li><li><p><code>sns.distplot(train_data['V0'],fit=stats.norm)</code> åœ¨ç¬¬ä¸€ä¸ªå­å›¾ä¸­ç»˜åˆ¶ç‰¹å¾å˜é‡ 'V0' çš„ç›´æ–¹å›¾ã€‚<code>train_data['V0']</code> è¡¨ç¤ºä»è®­ç»ƒé›†ä¸­è·å– 'V0' ç‰¹å¾å˜é‡çš„æ•°æ®è¿›è¡Œç»˜åˆ¶ã€‚<code>sns.distplot()</code> æ˜¯ seaborn åº“ä¸­çš„å‡½æ•°ï¼Œç”¨äºç»˜åˆ¶ç›´æ–¹å›¾å¹¶æ‹Ÿåˆå‚æ•°åŒ–çš„æ¦‚ç‡å¯†åº¦å‡½æ•°ï¼ˆé»˜è®¤ä¸ºæ­£æ€åˆ†å¸ƒï¼Œé€šè¿‡ <code>fit=stats.norm</code> æŒ‡å®šï¼Œè¡¨ç¤ºä½¿ç”¨æ­£æ€åˆ†å¸ƒæ‹Ÿåˆï¼‰ã€‚</p></li><li><p><code>ax=plt.subplot(1,2,2)</code> åˆ›å»ºç¬¬äºŒä¸ªå­å›¾ï¼Œå¹¶æŒ‡å®šå®ƒä½äºç”»å¸ƒçš„ç¬¬1è¡Œï¼Œç¬¬2åˆ—ä¸­ã€‚è¿™é‡Œçš„ <code>(1,2,2)</code> è¡¨ç¤ºå°†ç”»å¸ƒåˆ†ä¸º1è¡Œ2åˆ—çš„ç½‘æ ¼ï¼Œå¹¶é€‰ä¸­ç¬¬2ä¸ªä½ç½®çš„å­å›¾ã€‚</p></li><li><p><code>res = stats.probplot(train_data['V0'], plot=plt)</code> åœ¨ç¬¬äºŒä¸ªå­å›¾ä¸­ç»˜åˆ¶ç‰¹å¾å˜é‡ 'V0' çš„æ¦‚ç‡å›¾ã€‚<code>stats.probplot()</code> æ˜¯ scipy åº“ï¼ˆç§‘å­¦è®¡ç®—åº“ï¼‰ä¸­çš„å‡½æ•°ï¼Œç”¨äºç»˜åˆ¶æ¦‚ç‡å›¾ã€‚å®ƒå¯ä»¥åˆ¤æ–­æ•°æ®æ˜¯å¦ç¬¦åˆæŸç§ç†è®ºåˆ†å¸ƒï¼ˆè¿™é‡Œä½¿ç”¨äº†é»˜è®¤çš„æ­£æ€åˆ†å¸ƒï¼‰ã€‚<code>plot=plt</code> è¡¨ç¤ºå°†æ¦‚ç‡å›¾ç»˜åˆ¶åœ¨æŒ‡å®šçš„å­å›¾ä¸Šã€‚</p></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰æ•°æ®çš„ç›´æ–¹å›¾å’ŒQ-Qå›¾</span><br>train_cols = <span class="hljs-number">6</span> <span class="hljs-comment"># ç”»å¸ƒåˆ—æ•°</span><br>train_rows = <span class="hljs-built_in">len</span>(train_data.columns) <span class="hljs-comment"># ç”»å¸ƒè¡Œæ•°</span><br>plt.figure(figsize=(<span class="hljs-number">5</span>*train_cols,<span class="hljs-number">5</span>*train_rows))<br><br>i=<span class="hljs-number">0</span> <span class="hljs-comment"># ä¸€æ¬¡å¾ªç¯ä¸¤ä¸ªè‡ªå¢ï¼Œæ‰€ä»¥åˆå§‹ä¸º0</span><br><span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> train_data.columns:<br>    i+=<span class="hljs-number">1</span><br>    ax=plt.subplot(train_rows,train_cols,i)<br>    sns.distplot(train_data[col],fit=stats.norm)<br>    <br>    i+=<span class="hljs-number">1</span><br>    ax=plt.subplot(train_rows,train_cols,i)<br>    res = stats.probplot(train_data[col], plot=plt)<br>plt.show()<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_31_0.png" /> â€‹</p><p>ç”±ä¸Šé¢çš„æ•°æ®åˆ†å¸ƒå›¾ä¿¡æ¯å¯ä»¥çœ‹å‡ºï¼Œå¾ˆå¤šç‰¹å¾å˜é‡ï¼ˆå¦‚'V1','V9','V24','V28'ç­‰ï¼‰çš„æ•°æ®åˆ†å¸ƒä¸æ˜¯æ­£æ€çš„ï¼Œæ•°æ®å¹¶ä¸è·Ÿéšå¯¹è§’çº¿ï¼Œåç»­å¯ä»¥ä½¿ç”¨æ•°æ®å˜æ¢å¯¹æ•°æ®è¿›è¡Œè½¬æ¢ã€‚</p><h4 id="ä»£ç è§£é‡Š">ä»£ç è§£é‡Šï¼š</h4><p>ç®€å•çš„å›¾å¯ä»¥é€šè¿‡<code>plt.figure(figsize=(10, 5))</code>ç›´æ¥æŒ‡å®šç”»å¸ƒçš„å¤§å°ã€‚</p><p>åœ¨å±•ç¤ºå¤šä¸ªå­å›¾æ—¶ï¼Œç›´æ¥æŒ‡å®šç”»å¸ƒå¤§å°å¯èƒ½ä¼šå¯¼è‡´å­å›¾ä¹‹é—´çš„é‡å æˆ–ç¼ºä¹è¶³å¤Ÿçš„ç©ºé—´æ¥æ˜¾ç¤ºæ‰€æœ‰å­å›¾ã€‚ä»è€Œå¯¼è‡´å¸ƒå±€æ··ä¹±æˆ–ä¿¡æ¯é‡å ã€‚</p><p>ä½¿ç”¨<code>plt.figure(figsize=(5*train_cols, 5*train_rows))</code>çš„æ–¹å¼æ›´åŠ çµæ´»ï¼Œå®ƒä¼šè‡ªåŠ¨æ ¹æ®æ•°æ®é›†ä¸­çš„ç‰¹å¾å˜é‡æ•°é‡æ¥è®¡ç®—æ‰€éœ€çš„è¡Œæ•°å’Œåˆ—æ•°ï¼Œå¹¶ç›¸åº”åœ°è°ƒæ•´ç”»å¸ƒçš„å¤§å°ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿æ¯ä¸ªå­å›¾éƒ½æœ‰è¶³å¤Ÿçš„ç©ºé—´è¿›è¡Œå±•ç¤ºï¼Œå¹¶ä¸”æ•´ä½“å¸ƒå±€æ›´åŠ å‡è¡¡å’Œæ¸…æ™°ã€‚</p><h3 id="kdeå›¾">4.3KDEå›¾</h3><p>KDE(Kernel Density Estimation,æ ¸å¯†åº¦ä¼°è®¡)å¯ä»¥ç†è§£ä¸ºæ˜¯å¯¹ç›´æ–¹å›¾çš„åŠ çª—å¹³æ»‘ã€‚å¯ä»¥æŸ¥çœ‹å¹¶å¯¹æ¯”è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸­ç‰¹å¾å˜é‡çš„åˆ†å¸ƒæƒ…å†µï¼Œå‘ç°ä¸¤ä¸ªæ•°æ®é›†ä¸­åˆ†å¸ƒä¸ä¸€è‡´çš„ç‰¹å¾å˜é‡ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å¯¹æ¯”åŒä¸€ç‰¹å¾å˜é‡â€˜V0â€™ä¸‹ï¼Œè®­ç»ƒé›†æ•°æ®å’Œæµ‹è¯•é›†æ•°æ®çš„åˆ†å¸ƒæƒ…å†µï¼ŒæŸ¥çœ‹æ•°æ®åˆ†å¸ƒæ˜¯å¦ä¸€è‡´</span><br>plt.figure(figsize=(<span class="hljs-number">5</span>,<span class="hljs-number">2.5</span>),dpi=<span class="hljs-number">150</span>)<br>ax = sns.kdeplot(train_data[<span class="hljs-string">&#x27;V0&#x27;</span>], color=<span class="hljs-string">&quot;Red&quot;</span>, shade=<span class="hljs-literal">True</span>)<br>ax = sns.kdeplot(test_data[<span class="hljs-string">&#x27;V0&#x27;</span>], color=<span class="hljs-string">&quot;Blue&quot;</span>, shade=<span class="hljs-literal">True</span>)<br>ax.set_xlabel(<span class="hljs-string">&#x27;V0&#x27;</span>)<br>ax.set_ylabel(<span class="hljs-string">&quot;Frequency&quot;</span>)<br>ax = ax.legend([<span class="hljs-string">&quot;train&quot;</span>,<span class="hljs-string">&quot;test&quot;</span>])<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_35_0.png" /> â€‹</p><p>å¯ä»¥çœ‹åˆ°ï¼ŒV0åœ¨ä¸¤ä¸ªæ•°æ®é›†ä¸­çš„åˆ†å¸ƒåŸºæœ¬ä¸€è‡´ã€‚</p><h4 id="ä»£ç è¯¦è§£-3">ä»£ç è¯¦è§£ï¼š</h4><ol type="1"><li><p><code>plt.figure(figsize=(8,4), dpi=150)</code>ï¼šåˆ›å»ºä¸€ä¸ªç”»å¸ƒï¼ŒæŒ‡å®šå°ºå¯¸ä¸ºå®½åº¦8è‹±å¯¸ï¼Œé«˜åº¦4è‹±å¯¸ï¼Œdpiï¼ˆæ¯è‹±å¯¸åƒç´ ç‚¹æ•°ï¼‰ä¸º150ï¼Œæ•°å€¼è¶Šé«˜è´¨é‡è¶Šå¥½ï¼Œä¸æŒ‡å®šæœ‰é»˜è®¤ã€‚</p></li><li><p><code>ax = sns.kdeplot(train_data['V0'], color="Red", shade=True)</code>ï¼šä½¿ç”¨ Seaborn åº“çš„ <code>kdeplot</code> å‡½æ•°ç»˜åˆ¶è®­ç»ƒæ•°æ®é›†ä¸­ç‰¹å¾å˜é‡ <code>'V0'</code> çš„æ ¸å¯†åº¦ä¼°è®¡æ›²çº¿ã€‚<code>color="Red"</code> æŒ‡å®šæ›²çº¿çš„é¢œè‰²ä¸ºçº¢è‰²ï¼Œ<code>shade=True</code> è¡¨ç¤ºæ›²çº¿ä¸‹æ–¹å¡«å……é˜´å½±ä»¥çªå‡ºå¯†åº¦åˆ†å¸ƒã€‚</p></li><li><p><code>ax = sns.kdeplot(test_data['V0'], color="Blue", shade=True)</code>ï¼šç±»ä¼¼åœ°ï¼Œä½¿ç”¨ <code>kdeplot</code> å‡½æ•°åœ¨åŒä¸€å›¾å½¢ä¸Šç»˜åˆ¶æµ‹è¯•æ•°æ®é›†ä¸­ç‰¹å¾å˜é‡ <code>'V0'</code> çš„æ ¸å¯†åº¦ä¼°è®¡æ›²çº¿ã€‚è¿™é‡Œè®¾ç½®æ›²çº¿é¢œè‰²ä¸ºè“è‰²ã€‚</p></li><li><p><code>ax.set_xlabel('V0')</code>ï¼šè®¾ç½® x è½´çš„æ ‡ç­¾ä¸º <code>'V0'</code>ã€‚</p></li><li><p><code>ax.set_ylabel("Frequency")</code>ï¼šè®¾ç½® y è½´çš„æ ‡ç­¾ä¸º <code>'Frequency'</code>ã€‚</p></li><li><p><code>ax = ax.legend(["train","test"])</code>ï¼šæ·»åŠ å›¾ä¾‹ã€‚è¯¥è¯­å¥é¦–å…ˆé€šè¿‡ <code>ax.legend()</code> æ–¹æ³•åœ¨å½“å‰çš„è½´å¯¹è±¡ <code>ax</code> ä¸Šæ·»åŠ å›¾ä¾‹ï¼Œç„¶åä½¿ç”¨ <code>["train", "test"]</code> æŒ‡å®šå›¾ä¾‹çš„æ ‡ç­¾ã€‚</p></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰å˜é‡åœ¨è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„KDEåˆ†å¸ƒæƒ…å†µï¼Œåˆ†æå¹¶å¯»æ‰¾å‡ºæ•°æ®åˆ†å¸ƒä¸ä¸€è‡´çš„ç‰¹å¾å˜é‡ã€‚</span><br>dist_cols = <span class="hljs-number">6</span><br>dist_rows = <span class="hljs-built_in">len</span>(test_data.columns)<br>plt.figure(figsize=(<span class="hljs-number">4</span>*dist_cols,<span class="hljs-number">4</span>*dist_rows))<br><br>i=<span class="hljs-number">1</span><br><span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> test_data.columns:<br>    ax=plt.subplot(dist_rows,dist_cols,i)<br>    ax = sns.kdeplot(train_data[col], color=<span class="hljs-string">&quot;Red&quot;</span>, shade=<span class="hljs-literal">True</span>)<br>    ax = sns.kdeplot(test_data[col], color=<span class="hljs-string">&quot;Blue&quot;</span>, shade=<span class="hljs-literal">True</span>)<br>    ax.set_xlabel(col)<br>    ax.set_ylabel(<span class="hljs-string">&quot;Frequency&quot;</span>)<br>    ax = ax.legend([<span class="hljs-string">&quot;train&quot;</span>,<span class="hljs-string">&quot;test&quot;</span>])<br>    <br>    i+=<span class="hljs-number">1</span><br>plt.show()<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_38_0.png" /> â€‹</p><p>å¯ä»¥å‘ç°ï¼Œç‰¹å¾å˜é‡V5,V9,V11,V17,V22,V28åœ¨è®­ç»ƒé›†ä¸æµ‹è¯•é›†ä¸­çš„åˆ†å¸ƒä¸ä¸€è‡´</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æŸ¥çœ‹ç‰¹å¾V5,V9,V11,V17,V22,V28æ•°æ®çš„æ•°æ®åˆ†å¸ƒ</span><br>drop_col = <span class="hljs-number">6</span><br>drop_row = <span class="hljs-number">1</span><br><br>plt.figure(figsize=(<span class="hljs-number">5</span>*drop_col,<span class="hljs-number">5</span>*drop_row))<br><br>i=<span class="hljs-number">1</span><br><span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> [<span class="hljs-string">&quot;V5&quot;</span>,<span class="hljs-string">&quot;V9&quot;</span>,<span class="hljs-string">&quot;V11&quot;</span>,<span class="hljs-string">&quot;V17&quot;</span>,<span class="hljs-string">&quot;V22&quot;</span>,<span class="hljs-string">&quot;V28&quot;</span>]:<br>    ax =plt.subplot(drop_row,drop_col,i)<br>    ax = sns.kdeplot(train_data[col], color=<span class="hljs-string">&quot;Red&quot;</span>, shade=<span class="hljs-literal">True</span>)<br>    ax = sns.kdeplot(test_data[col], color=<span class="hljs-string">&quot;Blue&quot;</span>, shade=<span class="hljs-literal">True</span>)<br>    ax.set_xlabel(col)<br>    ax.set_ylabel(<span class="hljs-string">&quot;Frequency&quot;</span>)<br>    ax = ax.legend([<span class="hljs-string">&quot;train&quot;</span>,<span class="hljs-string">&quot;test&quot;</span>])<br>    <br>    i+=<span class="hljs-number">1</span><br>plt.show()<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_40_0.png" /> â€‹</p><p>ç”±ä¸Šå›¾çš„æ•°æ®åˆ†å¸ƒå¯ä»¥çœ‹åˆ°ç‰¹å¾'V5','V9','V11','V17','V22','V28' è®­ç»ƒé›†æ•°æ®ä¸æµ‹è¯•é›†æ•°æ®åˆ†å¸ƒä¸ä¸€è‡´ï¼Œä¼šå¯¼è‡´æ¨¡å‹æ³›åŒ–èƒ½åŠ›å·®ï¼Œé‡‡ç”¨åˆ é™¤æ­¤ç±»ç‰¹å¾æ–¹æ³•ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python">drop_columns = [<span class="hljs-string">&#x27;V5&#x27;</span>,<span class="hljs-string">&#x27;V9&#x27;</span>,<span class="hljs-string">&#x27;V11&#x27;</span>,<span class="hljs-string">&#x27;V17&#x27;</span>,<span class="hljs-string">&#x27;V22&#x27;</span>,<span class="hljs-string">&#x27;V28&#x27;</span>]<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">#åˆå¹¶è®­ç»ƒé›†å’Œæµ‹è¯•é›†æ•°æ®ï¼Œå¹¶å¯è§†åŒ–è®­ç»ƒé›†å’Œæµ‹è¯•é›†æ•°æ®ç‰¹å¾åˆ†å¸ƒå›¾</span><br></code></pre></td></tr></table></figure><h3 id="çº¿æ€§å›å½’å…³ç³»å›¾">4.4çº¿æ€§å›å½’å…³ç³»å›¾</h3><p>çº¿æ€§å›å½’å…³ç³»å›¾ä¸»è¦ç”¨äºåˆ†æå˜é‡ä¹‹é—´çš„çº¿æ€§å›å½’å…³ç³»ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æŸ¥çœ‹â€˜V0â€™ä¸&#x27;target&#x27;å˜é‡çš„çº¿æ€§å›å½’å…³ç³»</span><br>fcols = <span class="hljs-number">2</span><br>frows = <span class="hljs-number">1</span><br>plt.figure(figsize=(<span class="hljs-number">8</span>,<span class="hljs-number">4</span>))<br><br>ax=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">1</span>)<br>sns.regplot(x=<span class="hljs-string">&#x27;V0&#x27;</span>, y=<span class="hljs-string">&#x27;target&#x27;</span>, data=train_data, ax=ax, <br>            scatter_kws=&#123;<span class="hljs-string">&#x27;marker&#x27;</span>:<span class="hljs-string">&#x27;.&#x27;</span>,<span class="hljs-string">&#x27;s&#x27;</span>:<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;alpha&#x27;</span>:<span class="hljs-number">0.3</span>&#125;,<br>            line_kws=&#123;<span class="hljs-string">&#x27;color&#x27;</span>:<span class="hljs-string">&#x27;k&#x27;</span>&#125;);<br>plt.xlabel(<span class="hljs-string">&#x27;V0&#x27;</span>)<br>plt.ylabel(<span class="hljs-string">&#x27;target&#x27;</span>)<br><br>ax=plt.subplot(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>)<br>sns.distplot(train_data[<span class="hljs-string">&#x27;V0&#x27;</span>].dropna())<br>plt.xlabel(<span class="hljs-string">&#x27;V0&#x27;</span>)<br><br>plt.show()<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_45_0.png" /> â€‹</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æŸ¥çœ‹æ‰€æœ‰ç‰¹å¾å˜é‡ä¸&#x27;target&#x27;å˜é‡çš„çº¿æ€§å›å½’å…³ç³»</span><br>fcols = <span class="hljs-number">6</span><br>frows = <span class="hljs-built_in">len</span>(test_data.columns)<br>plt.figure(figsize=(<span class="hljs-number">5</span>*fcols,<span class="hljs-number">4</span>*frows))<br><br>i=<span class="hljs-number">0</span><br><span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> test_data.columns:<br>    i+=<span class="hljs-number">1</span><br>    ax=plt.subplot(frows,fcols,i)<br>    sns.regplot(x=col, y=<span class="hljs-string">&#x27;target&#x27;</span>, data=train_data, ax=ax, <br>                scatter_kws=&#123;<span class="hljs-string">&#x27;marker&#x27;</span>:<span class="hljs-string">&#x27;.&#x27;</span>,<span class="hljs-string">&#x27;s&#x27;</span>:<span class="hljs-number">3</span>,<span class="hljs-string">&#x27;alpha&#x27;</span>:<span class="hljs-number">0.3</span>&#125;,<br>                line_kws=&#123;<span class="hljs-string">&#x27;color&#x27;</span>:<span class="hljs-string">&#x27;k&#x27;</span>&#125;);<br>    plt.xlabel(col)<br>    plt.ylabel(<span class="hljs-string">&#x27;target&#x27;</span>)<br>    <br>    i+=<span class="hljs-number">1</span><br>    ax=plt.subplot(frows,fcols,i)<br>    sns.distplot(train_data[col].dropna())<br>    plt.xlabel(col)<br>    <br>plt.show()<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_46_0.png" /> â€‹</p><h4 id="ä»£ç è§£é‡Š-1">ä»£ç è§£é‡Šï¼š</h4><p>æ•£ç‚¹å›¾ï¼š ä½¿ç”¨ Seaborn åº“ä¸­çš„ <code>regplot</code> å‡½æ•°æ¥ç»˜åˆ¶è‡ªå˜é‡ <code>col</code> ä¸å› å˜é‡ <code>'target'</code> ä¹‹é—´çš„æ•£ç‚¹å›¾ï¼Œå¹¶æ‹Ÿåˆä¸€æ¡çº¿æ€§å›å½’çº¿ã€‚</p><ul><li><code>x=col</code> è¡¨ç¤ºè‡ªå˜é‡çš„æ•°æ®æ˜¯ <code>col</code>ï¼Œå³å½“å‰å¾ªç¯éå†åˆ°çš„ç‰¹å¾å˜é‡ã€‚</li><li><code>y='target'</code> è¡¨ç¤ºå› å˜é‡çš„æ•°æ®æ˜¯ <code>'target'</code>ï¼Œå³ç›®æ ‡å˜é‡ã€‚</li><li><code>data=train_data</code> è¡¨ç¤ºæ•°æ®é›†æ˜¯ <code>train_data</code>ï¼Œå³è®­ç»ƒæ•°æ®é›†ã€‚</li><li><code>ax=ax</code> è¡¨ç¤ºå°†å­å›¾å¯¹è±¡ <code>ax</code> åˆ†é…ç»™ <code>regplot</code> å‡½æ•°æ¥ç»˜åˆ¶å­å›¾ã€‚</li><li><code>scatter_kws=&#123;'marker':'.','s':3,'alpha':0.3&#125;</code> è®¾ç½®æ•£ç‚¹å›¾çš„æ ·å¼å‚æ•°ã€‚è¿™é‡Œä½¿ç”¨äº†å°åœ†ç‚¹ä½œä¸ºæ•£ç‚¹å›¾çš„æ ‡è®°ï¼Œè®¾ç½®äº†é€æ˜åº¦ï¼ˆ<code>alpha</code>ï¼‰ã€å¤§å°ï¼ˆ<code>s</code>ï¼‰å’Œé¢œè‰²ï¼ˆé»˜è®¤é¢œè‰²ï¼‰ã€‚</li><li><code>line_kws=&#123;'color':'k'&#125;</code> è®¾ç½®å›å½’çº¿çš„æ ·å¼å‚æ•°ã€‚è¿™é‡Œå°†å›å½’çº¿çš„é¢œè‰²è®¾ç½®ä¸ºé»‘è‰²ï¼ˆ<code>'k'</code> æ˜¯é»‘è‰²çš„ç®€å†™ï¼‰ã€‚</li></ul><p>ç›´æ–¹å›¾ï¼š <code>sns.distplot(train_data[col].dropna())</code>ç»˜åˆ¶ç‰¹å¾å˜é‡ <code>col</code>çš„ç›´æ–¹å›¾å’Œæ ¸å¯†åº¦ä¼°è®¡æ›²çº¿ã€‚<code>dropna()</code>å‡½æ•°ç”¨äºç§»é™¤å…¶ä¸­çš„ç¼ºå¤±å€¼ï¼ˆNaNå€¼ï¼‰ã€‚</p><h2 id="æŸ¥çœ‹ç‰¹å¾å˜é‡çš„ç›¸å…³æ€§">5æŸ¥çœ‹ç‰¹å¾å˜é‡çš„ç›¸å…³æ€§</h2><p>å¯¹ç‰¹å¾å˜é‡çš„ç›¸å…³æ€§è¿›è¡Œåˆ†æï¼Œå¯ä»¥å‘ç°ç‰¹å¾å˜é‡å’Œç›®æ ‡å˜é‡åŠç‰¹å¾å˜é‡ä¹‹é—´çš„å…³ç³»ï¼Œä¸ºåœ¨ç‰¹å¾å·¥ç¨‹ä¸­æå–ç‰¹å¾åšå‡†å¤‡ã€‚</p><h3 id="è®¡ç®—ç›¸å…³æ€§ç³»æ•°">5.1è®¡ç®—ç›¸å…³æ€§ç³»æ•°</h3><p>åœ¨åˆ é™¤è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸­åˆ†å¸ƒä¸ä¸€è‡´çš„ç‰¹å¾å˜é‡ï¼Œå¦‚V5,V9,V11,V17,V22,V28ä¹‹åï¼Œè®¡ç®—å‰©ä½™ç‰¹å¾å˜é‡åŠtaretå˜é‡çš„ç›¸å…³æ€§ç³»æ•°ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># pd.set_option (&#x27;display.max_columns&#x27;,10) # æ˜¾ç¤ºæœ€å¤§åˆ—æ•°ï¼Œä¸º10åˆ—ï¼Œå…¶ä»–æŠ˜å èµ·æ¥</span><br><span class="hljs-comment"># pd.set_option(&#x27;display.max_rows&#x27;,10) # æ˜¾ç¤ºæœ€å¤§è¡Œæ•°ï¼Œä¸º10è¡Œï¼Œå…¶ä»–æŠ˜å èµ·æ¥</span><br><br>data_train1 = train_data.drop([<span class="hljs-string">&#x27;V5&#x27;</span>,<span class="hljs-string">&#x27;V9&#x27;</span>,<span class="hljs-string">&#x27;V11&#x27;</span>,<span class="hljs-string">&#x27;V17&#x27;</span>,<span class="hljs-string">&#x27;V22&#x27;</span>,<span class="hljs-string">&#x27;V28&#x27;</span>],axis=<span class="hljs-number">1</span>)<br><br>train_corr = data_train1.corr()<br>train_corr<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>V0</th><th>V1</th><th>V2</th><th>V3</th><th>V4</th><th>V6</th><th>V7</th><th>V8</th><th>V10</th><th>V12</th><th>...</th><th>V29</th><th>V30</th><th>V31</th><th>V32</th><th>V33</th><th>V34</th><th>V35</th><th>V36</th><th>V37</th><th>target</th></tr></thead><tbody><tr><th>V0</th><td>1.000000</td><td>0.908607</td><td>0.463643</td><td>0.409576</td><td>0.781212</td><td>0.189267</td><td>0.141294</td><td>0.794013</td><td>0.298443</td><td>0.751830</td><td>...</td><td>0.302145</td><td>0.156968</td><td>0.675003</td><td>0.050951</td><td>0.056439</td><td>-0.019342</td><td>0.138933</td><td>0.231417</td><td>-0.494076</td><td>0.873212</td></tr><tr><th>V1</th><td>0.908607</td><td>1.000000</td><td>0.506514</td><td>0.383924</td><td>0.657790</td><td>0.276805</td><td>0.205023</td><td>0.874650</td><td>0.310120</td><td>0.656186</td><td>...</td><td>0.147096</td><td>0.175997</td><td>0.769745</td><td>0.085604</td><td>0.035129</td><td>-0.029115</td><td>0.146329</td><td>0.235299</td><td>-0.494043</td><td>0.871846</td></tr><tr><th>V2</th><td>0.463643</td><td>0.506514</td><td>1.000000</td><td>0.410148</td><td>0.057697</td><td>0.615938</td><td>0.477114</td><td>0.703431</td><td>0.346006</td><td>0.059941</td><td>...</td><td>-0.275764</td><td>0.175943</td><td>0.653764</td><td>0.033942</td><td>0.050309</td><td>-0.025620</td><td>0.043648</td><td>0.316462</td><td>-0.734956</td><td>0.638878</td></tr><tr><th>V3</th><td>0.409576</td><td>0.383924</td><td>0.410148</td><td>1.000000</td><td>0.315046</td><td>0.233896</td><td>0.197836</td><td>0.411946</td><td>0.321262</td><td>0.306397</td><td>...</td><td>0.117610</td><td>0.043966</td><td>0.421954</td><td>-0.092423</td><td>-0.007159</td><td>-0.031898</td><td>0.080034</td><td>0.324475</td><td>-0.229613</td><td>0.512074</td></tr><tr><th>V4</th><td>0.781212</td><td>0.657790</td><td>0.057697</td><td>0.315046</td><td>1.000000</td><td>-0.117529</td><td>-0.052370</td><td>0.449542</td><td>0.141129</td><td>0.927685</td><td>...</td><td>0.659093</td><td>0.022807</td><td>0.447016</td><td>-0.026186</td><td>0.062367</td><td>0.028659</td><td>0.100010</td><td>0.113609</td><td>-0.031054</td><td>0.603984</td></tr><tr><th>V6</th><td>0.189267</td><td>0.276805</td><td>0.615938</td><td>0.233896</td><td>-0.117529</td><td>1.000000</td><td>0.917502</td><td>0.468233</td><td>0.415660</td><td>-0.087312</td><td>...</td><td>-0.467980</td><td>0.188907</td><td>0.546535</td><td>0.144550</td><td>0.054210</td><td>-0.002914</td><td>0.044992</td><td>0.433804</td><td>-0.404817</td><td>0.370037</td></tr><tr><th>V7</th><td>0.141294</td><td>0.205023</td><td>0.477114</td><td>0.197836</td><td>-0.052370</td><td>0.917502</td><td>1.000000</td><td>0.389987</td><td>0.310982</td><td>-0.036791</td><td>...</td><td>-0.311363</td><td>0.170113</td><td>0.475254</td><td>0.122707</td><td>0.034508</td><td>-0.019103</td><td>0.111166</td><td>0.340479</td><td>-0.292285</td><td>0.287815</td></tr><tr><th>V8</th><td>0.794013</td><td>0.874650</td><td>0.703431</td><td>0.411946</td><td>0.449542</td><td>0.468233</td><td>0.389987</td><td>1.000000</td><td>0.419703</td><td>0.420557</td><td>...</td><td>-0.011091</td><td>0.150258</td><td>0.878072</td><td>0.038430</td><td>0.026843</td><td>-0.036297</td><td>0.179167</td><td>0.326586</td><td>-0.553121</td><td>0.831904</td></tr><tr><th>V10</th><td>0.298443</td><td>0.310120</td><td>0.346006</td><td>0.321262</td><td>0.141129</td><td>0.415660</td><td>0.310982</td><td>0.419703</td><td>1.000000</td><td>0.140462</td><td>...</td><td>-0.105042</td><td>-0.036705</td><td>0.560213</td><td>-0.093213</td><td>0.016739</td><td>-0.026994</td><td>0.026846</td><td>0.922190</td><td>-0.045851</td><td>0.394767</td></tr><tr><th>V12</th><td>0.751830</td><td>0.656186</td><td>0.059941</td><td>0.306397</td><td>0.927685</td><td>-0.087312</td><td>-0.036791</td><td>0.420557</td><td>0.140462</td><td>1.000000</td><td>...</td><td>0.666775</td><td>0.028866</td><td>0.441963</td><td>-0.007658</td><td>0.046674</td><td>0.010122</td><td>0.081963</td><td>0.112150</td><td>-0.054827</td><td>0.594189</td></tr><tr><th>V13</th><td>0.185144</td><td>0.157518</td><td>0.204762</td><td>-0.003636</td><td>0.075993</td><td>0.138367</td><td>0.110973</td><td>0.153299</td><td>-0.059553</td><td>0.098771</td><td>...</td><td>0.008235</td><td>0.027328</td><td>0.113743</td><td>0.130598</td><td>0.157513</td><td>0.116944</td><td>0.219906</td><td>-0.024751</td><td>-0.379714</td><td>0.203373</td></tr><tr><th>V14</th><td>-0.004144</td><td>-0.006268</td><td>-0.106282</td><td>-0.232677</td><td>0.023853</td><td>0.072911</td><td>0.163931</td><td>0.008138</td><td>-0.077543</td><td>0.020069</td><td>...</td><td>0.056814</td><td>-0.004057</td><td>0.010989</td><td>0.106581</td><td>0.073535</td><td>0.043218</td><td>0.233523</td><td>-0.086217</td><td>0.010553</td><td>0.008424</td></tr><tr><th>V15</th><td>0.314520</td><td>0.164702</td><td>-0.224573</td><td>0.143457</td><td>0.615704</td><td>-0.431542</td><td>-0.291272</td><td>0.018366</td><td>-0.046737</td><td>0.642081</td><td>...</td><td>0.951314</td><td>-0.111311</td><td>0.011768</td><td>-0.104618</td><td>0.050254</td><td>0.048602</td><td>0.100817</td><td>-0.051861</td><td>0.245635</td><td>0.154020</td></tr><tr><th>V16</th><td>0.347357</td><td>0.435606</td><td>0.782474</td><td>0.394517</td><td>0.023818</td><td>0.847119</td><td>0.752683</td><td>0.680031</td><td>0.546975</td><td>0.025736</td><td>...</td><td>-0.342210</td><td>0.154794</td><td>0.778538</td><td>0.041474</td><td>0.028878</td><td>-0.054775</td><td>0.082293</td><td>0.551880</td><td>-0.420053</td><td>0.536748</td></tr><tr><th>V18</th><td>0.148622</td><td>0.123862</td><td>0.132105</td><td>0.022868</td><td>0.136022</td><td>0.110570</td><td>0.098691</td><td>0.093682</td><td>-0.024693</td><td>0.119833</td><td>...</td><td>0.053958</td><td>0.470341</td><td>0.079718</td><td>0.411967</td><td>0.512139</td><td>0.365410</td><td>0.152088</td><td>0.019603</td><td>-0.181937</td><td>0.170721</td></tr><tr><th>V19</th><td>-0.100294</td><td>-0.092673</td><td>-0.161802</td><td>-0.246008</td><td>-0.205729</td><td>0.215290</td><td>0.158371</td><td>-0.144693</td><td>0.074903</td><td>-0.148319</td><td>...</td><td>-0.205409</td><td>0.100133</td><td>-0.131542</td><td>0.144018</td><td>-0.021517</td><td>-0.079753</td><td>-0.220737</td><td>0.087605</td><td>0.012115</td><td>-0.114976</td></tr><tr><th>V20</th><td>0.462493</td><td>0.459795</td><td>0.298385</td><td>0.289594</td><td>0.291309</td><td>0.136091</td><td>0.089399</td><td>0.412868</td><td>0.207612</td><td>0.271559</td><td>...</td><td>0.016233</td><td>0.086165</td><td>0.326863</td><td>0.050699</td><td>0.009358</td><td>-0.000979</td><td>0.048981</td><td>0.161315</td><td>-0.322006</td><td>0.444965</td></tr><tr><th>V21</th><td>-0.029285</td><td>-0.012911</td><td>-0.030932</td><td>0.114373</td><td>0.174025</td><td>-0.051806</td><td>-0.065300</td><td>-0.047839</td><td>0.082288</td><td>0.144371</td><td>...</td><td>0.157097</td><td>-0.077945</td><td>0.053025</td><td>-0.159128</td><td>-0.087561</td><td>-0.053707</td><td>-0.199398</td><td>0.047340</td><td>0.315470</td><td>-0.010063</td></tr><tr><th>V23</th><td>0.231136</td><td>0.222574</td><td>0.065509</td><td>0.081374</td><td>0.196530</td><td>0.069901</td><td>0.125180</td><td>0.174124</td><td>-0.066537</td><td>0.180049</td><td>...</td><td>0.116122</td><td>0.363963</td><td>0.129783</td><td>0.367086</td><td>0.183666</td><td>0.196681</td><td>0.635252</td><td>-0.035949</td><td>-0.187582</td><td>0.226331</td></tr><tr><th>V24</th><td>-0.324959</td><td>-0.233556</td><td>0.010225</td><td>-0.237326</td><td>-0.529866</td><td>0.072418</td><td>-0.030292</td><td>-0.136898</td><td>-0.029420</td><td>-0.550881</td><td>...</td><td>-0.642370</td><td>0.033532</td><td>-0.202097</td><td>0.060608</td><td>-0.134320</td><td>-0.095588</td><td>-0.243738</td><td>-0.041325</td><td>-0.137614</td><td>-0.264815</td></tr><tr><th>V25</th><td>-0.200706</td><td>-0.070627</td><td>0.481785</td><td>-0.100569</td><td>-0.444375</td><td>0.438610</td><td>0.316744</td><td>0.173320</td><td>0.079805</td><td>-0.448877</td><td>...</td><td>-0.575154</td><td>0.088238</td><td>0.201243</td><td>0.065501</td><td>-0.013312</td><td>-0.030747</td><td>-0.093948</td><td>0.069302</td><td>-0.246742</td><td>-0.019373</td></tr><tr><th>V26</th><td>-0.125140</td><td>-0.043012</td><td>0.035370</td><td>-0.027685</td><td>-0.080487</td><td>0.106055</td><td>0.160566</td><td>0.015724</td><td>0.072366</td><td>-0.124111</td><td>...</td><td>-0.133694</td><td>-0.057247</td><td>0.062879</td><td>-0.004545</td><td>-0.034596</td><td>0.051294</td><td>0.085576</td><td>0.064963</td><td>0.010880</td><td>-0.046724</td></tr><tr><th>V27</th><td>0.733198</td><td>0.824198</td><td>0.726250</td><td>0.392006</td><td>0.412083</td><td>0.474441</td><td>0.424185</td><td>0.901100</td><td>0.246085</td><td>0.374380</td><td>...</td><td>-0.032772</td><td>0.208074</td><td>0.790239</td><td>0.095127</td><td>0.030135</td><td>-0.036123</td><td>0.159884</td><td>0.226713</td><td>-0.617771</td><td>0.812585</td></tr><tr><th>V29</th><td>0.302145</td><td>0.147096</td><td>-0.275764</td><td>0.117610</td><td>0.659093</td><td>-0.467980</td><td>-0.311363</td><td>-0.011091</td><td>-0.105042</td><td>0.666775</td><td>...</td><td>1.000000</td><td>-0.122817</td><td>-0.004364</td><td>-0.110699</td><td>0.035272</td><td>0.035392</td><td>0.078588</td><td>-0.099309</td><td>0.285581</td><td>0.123329</td></tr><tr><th>V30</th><td>0.156968</td><td>0.175997</td><td>0.175943</td><td>0.043966</td><td>0.022807</td><td>0.188907</td><td>0.170113</td><td>0.150258</td><td>-0.036705</td><td>0.028866</td><td>...</td><td>-0.122817</td><td>1.000000</td><td>0.114318</td><td>0.695725</td><td>0.083693</td><td>-0.028573</td><td>-0.027987</td><td>0.006961</td><td>-0.256814</td><td>0.187311</td></tr><tr><th>V31</th><td>0.675003</td><td>0.769745</td><td>0.653764</td><td>0.421954</td><td>0.447016</td><td>0.546535</td><td>0.475254</td><td>0.878072</td><td>0.560213</td><td>0.441963</td><td>...</td><td>-0.004364</td><td>0.114318</td><td>1.000000</td><td>0.016782</td><td>0.016733</td><td>-0.047273</td><td>0.152314</td><td>0.510851</td><td>-0.357785</td><td>0.750297</td></tr><tr><th>V32</th><td>0.050951</td><td>0.085604</td><td>0.033942</td><td>-0.092423</td><td>-0.026186</td><td>0.144550</td><td>0.122707</td><td>0.038430</td><td>-0.093213</td><td>-0.007658</td><td>...</td><td>-0.110699</td><td>0.695725</td><td>0.016782</td><td>1.000000</td><td>0.105255</td><td>0.069300</td><td>0.016901</td><td>-0.054411</td><td>-0.162417</td><td>0.066606</td></tr><tr><th>V33</th><td>0.056439</td><td>0.035129</td><td>0.050309</td><td>-0.007159</td><td>0.062367</td><td>0.054210</td><td>0.034508</td><td>0.026843</td><td>0.016739</td><td>0.046674</td><td>...</td><td>0.035272</td><td>0.083693</td><td>0.016733</td><td>0.105255</td><td>1.000000</td><td>0.719126</td><td>0.167597</td><td>0.031586</td><td>-0.062715</td><td>0.077273</td></tr><tr><th>V34</th><td>-0.019342</td><td>-0.029115</td><td>-0.025620</td><td>-0.031898</td><td>0.028659</td><td>-0.002914</td><td>-0.019103</td><td>-0.036297</td><td>-0.026994</td><td>0.010122</td><td>...</td><td>0.035392</td><td>-0.028573</td><td>-0.047273</td><td>0.069300</td><td>0.719126</td><td>1.000000</td><td>0.233616</td><td>-0.019032</td><td>-0.006854</td><td>-0.006034</td></tr><tr><th>V35</th><td>0.138933</td><td>0.146329</td><td>0.043648</td><td>0.080034</td><td>0.100010</td><td>0.044992</td><td>0.111166</td><td>0.179167</td><td>0.026846</td><td>0.081963</td><td>...</td><td>0.078588</td><td>-0.027987</td><td>0.152314</td><td>0.016901</td><td>0.167597</td><td>0.233616</td><td>1.000000</td><td>0.025401</td><td>-0.077991</td><td>0.140294</td></tr><tr><th>V36</th><td>0.231417</td><td>0.235299</td><td>0.316462</td><td>0.324475</td><td>0.113609</td><td>0.433804</td><td>0.340479</td><td>0.326586</td><td>0.922190</td><td>0.112150</td><td>...</td><td>-0.099309</td><td>0.006961</td><td>0.510851</td><td>-0.054411</td><td>0.031586</td><td>-0.019032</td><td>0.025401</td><td>1.000000</td><td>-0.039478</td><td>0.319309</td></tr><tr><th>V37</th><td>-0.494076</td><td>-0.494043</td><td>-0.734956</td><td>-0.229613</td><td>-0.031054</td><td>-0.404817</td><td>-0.292285</td><td>-0.553121</td><td>-0.045851</td><td>-0.054827</td><td>...</td><td>0.285581</td><td>-0.256814</td><td>-0.357785</td><td>-0.162417</td><td>-0.062715</td><td>-0.006854</td><td>-0.077991</td><td>-0.039478</td><td>1.000000</td><td>-0.565795</td></tr><tr><th>target</th><td>0.873212</td><td>0.871846</td><td>0.638878</td><td>0.512074</td><td>0.603984</td><td>0.370037</td><td>0.287815</td><td>0.831904</td><td>0.394767</td><td>0.594189</td><td>...</td><td>0.123329</td><td>0.187311</td><td>0.750297</td><td>0.066606</td><td>0.077273</td><td>-0.006034</td><td>0.140294</td><td>0.319309</td><td>-0.565795</td><td>1.000000</td></tr></tbody></table><p>33 rows Ã— 33 columns</p></div><h3 id="ç›¸å…³æ€§çƒ­åŠ›å›¾">5.2ç›¸å…³æ€§çƒ­åŠ›å›¾</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ç”»å‡ºç›¸å…³æ€§çƒ­åŠ›å›¾</span><br>ax = plt.subplots(figsize=(<span class="hljs-number">20</span>, <span class="hljs-number">16</span>))<span class="hljs-comment">#è°ƒæ•´ç”»å¸ƒå¤§å°</span><br><br>ax = sns.heatmap(train_corr, vmax=<span class="hljs-number">.8</span>, square=<span class="hljs-literal">True</span>, annot=<span class="hljs-literal">True</span>)<span class="hljs-comment">#ç”»çƒ­åŠ›å›¾   annot=True æ˜¾ç¤ºç³»æ•°</span><br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_52_0.png" /> â€‹</p><h4 id="ä»£ç è§£é‡Š-2">ä»£ç è§£é‡Šï¼š</h4><p>ä½¿ç”¨Seabornåº“ä¸­çš„<code>heatmap()</code>å‡½æ•°æ¥ç»˜åˆ¶ç›¸å…³æ€§çƒ­åŠ›å›¾ã€‚</p><ul><li><code>ax = sns.heatmap(train_corr, vmax=.8, square=True, annot=True)</code> åœ¨å½“å‰å›¾åƒå¯¹è±¡ä¸­ç»˜åˆ¶çƒ­åŠ›å›¾ã€‚<code>train_corr</code>å…ˆå‰è®¡ç®—çš„ç›¸å…³ç³»æ•°çŸ©é˜µã€‚<code>vmax</code>å‚æ•°ç”¨äºè®¾ç½®é¢œè‰²æ˜ å°„çš„æœ€å¤§å€¼ï¼Œå³ç›¸å…³ç³»æ•°çš„èŒƒå›´ã€‚<code>square=True</code>å°†ä½¿å¾—çƒ­åŠ›å›¾çš„æ¯ä¸ªæ–¹å—ä¸ºæ­£æ–¹å½¢ã€‚<code>annot=True</code>è¡¨ç¤ºåœ¨çƒ­åŠ›å›¾ä¸­æ˜¾ç¤ºç›¸å…³ç³»æ•°çš„æ•°å€¼ã€‚</li></ul><p><code>vmax</code>å‚æ•°ç”¨äºè®¾ç½®é¢œè‰²æ˜ å°„çš„æœ€å¤§å€¼ï¼Œå³ç›¸å…³ç³»æ•°çš„ä¸Šé™ã€‚é€šè¿‡å°†<code>vmax</code>è®¾ç½®ä¸º0.8ï¼Œæ„å‘³ç€ç›¸å…³ç³»æ•°çš„èŒƒå›´å°†è¢«é™åˆ¶åœ¨0åˆ°0.8ä¹‹é—´ã€‚ä»»ä½•å…·æœ‰ç›¸å…³ç³»æ•°å¤§äº0.8çš„å€¼éƒ½å°†è¢«æ˜ å°„ä¸ºæœ€æµ…çš„é¢œè‰²ã€‚</p><p>é€šå¸¸ï¼Œé¢œè‰²æ˜ å°„æ˜¯æ ¹æ®ç›¸å…³ç³»æ•°çš„å€¼æ¥å®šä¹‰çš„ï¼Œä¾‹å¦‚ï¼Œæµ…è‰²å¯èƒ½è¡¨ç¤ºæ­£ç›¸å…³ï¼Œæ·±è‰²å¯èƒ½è¡¨ç¤ºè´Ÿç›¸å…³ï¼Œä¸­é—´è‰²è°ƒå¯èƒ½è¡¨ç¤ºæ— ç›¸å…³æ€§ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># æ‰¾å‡ºç›¸å…³ç¨‹åº¦</span><br>data_train1 = train_data.drop([<span class="hljs-string">&#x27;V5&#x27;</span>,<span class="hljs-string">&#x27;V9&#x27;</span>,<span class="hljs-string">&#x27;V11&#x27;</span>,<span class="hljs-string">&#x27;V17&#x27;</span>,<span class="hljs-string">&#x27;V22&#x27;</span>,<span class="hljs-string">&#x27;V28&#x27;</span>],axis=<span class="hljs-number">1</span>)<br><br>plt.figure(figsize=(<span class="hljs-number">20</span>, <span class="hljs-number">16</span>))  <span class="hljs-comment"># æŒ‡å®šç»˜å›¾å¯¹è±¡å®½åº¦å’Œé«˜åº¦</span><br>colnm = data_train1.columns.tolist()  <span class="hljs-comment"># åˆ—è¡¨å¤´</span><br>mcorr = data_train1[colnm].corr(method=<span class="hljs-string">&quot;spearman&quot;</span>)  <span class="hljs-comment"># ç›¸å…³ç³»æ•°çŸ©é˜µï¼Œå³ç»™å‡ºäº†ä»»æ„ä¸¤ä¸ªå˜é‡ä¹‹é—´çš„ç›¸å…³ç³»æ•°</span><br>mask = np.zeros_like(mcorr, dtype=np.<span class="hljs-built_in">bool</span>)  <span class="hljs-comment"># æ„é€ ä¸mcorråŒç»´æ•°çŸ©é˜µ ä¸ºboolå‹</span><br>mask[np.triu_indices_from(mask)] = <span class="hljs-literal">True</span>  <span class="hljs-comment"># è§’åˆ†çº¿å³ä¾§ä¸ºTrue</span><br>cmap = sns.diverging_palette(<span class="hljs-number">220</span>, <span class="hljs-number">10</span>, as_cmap=<span class="hljs-literal">True</span>)  <span class="hljs-comment"># è¿”å›matplotlib colormapå¯¹è±¡</span><br>g = sns.heatmap(mcorr, mask=mask, cmap=cmap, square=<span class="hljs-literal">True</span>, annot=<span class="hljs-literal">True</span>, fmt=<span class="hljs-string">&#x27;0.2f&#x27;</span>)  <span class="hljs-comment"># çƒ­åŠ›å›¾ï¼ˆçœ‹ä¸¤ä¸¤ç›¸ä¼¼åº¦ï¼‰</span><br>plt.show()<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_54_0.png" /> â€‹</p><p>ä¸Šå›¾ä¸ºæ‰€æœ‰ç‰¹å¾å˜é‡å’Œtargetå˜é‡ä¸¤ä¸¤ä¹‹é—´çš„ç›¸å…³ç³»æ•°ï¼Œç”±æ­¤å¯ä»¥çœ‹å‡ºå„ä¸ªç‰¹å¾å˜é‡V0-V37ä¹‹é—´çš„ç›¸å…³æ€§ä»¥åŠç‰¹å¾å˜é‡V0-V37ä¸targetçš„ç›¸å…³æ€§ã€‚</p><h4 id="ä»£ç è¯¦è§£-4">ä»£ç è¯¦è§£ï¼š</h4><ol type="1"><li><p><code>mcorr = data_train1[colnm].corr(method="spearman")</code>è®¡ç®—äº†ç»™å®šå˜é‡åˆ—è¡¨<code>[colnm]</code>ä¸­ä¸¤ä¸¤å˜é‡ä¹‹é—´çš„ç›¸å…³ç³»æ•°çŸ©é˜µï¼Œä½¿ç”¨Spearmanç§©ç›¸å…³ç³»æ•°æ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ›´é€‚ç”¨äºéçº¿æ€§å…³ç³»çš„æ•°æ®ï¼Œè€Œä¸”å¯¹å¼‚å¸¸å€¼çš„å½±å“è¾ƒå°ã€‚</p></li><li><p><code>np.zeros_like(mcorr, dtype=np.bool)</code>æ„å»ºäº†ä¸€ä¸ªä¸ç›¸å…³ç³»æ•°çŸ©é˜µ <code>mcorr</code> ç»´åº¦ç›¸åŒçš„å¸ƒå°”å‹çŸ©é˜µ <code>mask</code>ï¼Œå¹¶å°†å…¶æ‰€æœ‰å…ƒç´ åˆå§‹åŒ–ä¸ºFalseã€‚è¿™ä¸ªçŸ©é˜µ <code>mask</code> å°†ç”¨äºåœ¨çƒ­åŠ›å›¾ä¸­æ ‡è®°éœ€è¦é®æŒ¡çš„åŒºåŸŸã€‚<code>np.zeros_like</code>ç”¨äºåˆ›å»ºä¸€ä¸ªä¸ç»™å®šæ•°ç»„ï¼ˆæˆ–è€…ä¸ç»™å®šæ•°ç»„å½¢çŠ¶ç›¸åŒï¼‰å…·æœ‰ç›¸åŒå½¢çŠ¶çš„å…¨é›¶æ•°ç»„ã€‚</p></li><li><p><code>mask[np.triu_indices_from(mask)] = True</code>å°†å¯¹è§’çº¿å³ä¸Šæ–¹çš„å…ƒç´ è®¾ä¸ºTrueï¼Œåœ¨çƒ­åŠ›å›¾ä¸­è¿™äº›åŒºåŸŸå°†è¢«é®æŒ¡èµ·æ¥ï¼Œåªæ˜¾ç¤ºå¯¹è§’çº¿å·¦ä¸‹æ–¹çš„ç›¸å…³ç³»æ•°ã€‚</p></li></ol><ul><li><code>np.triu_indices_from()</code> å‡½æ•°ç”¨äºè·å–ä¸€ä¸ªä¸Šä¸‰è§’çŸ©é˜µçš„ç´¢å¼•ã€‚</li><li><code>np.triu_indices_from(mask)</code>æˆ‘ä»¬å¯ä»¥è·å– mask çŸ©é˜µä¸­ä¸Šä¸‰è§’åŒºåŸŸçš„æ‰€æœ‰å…ƒç´ çš„ç´¢å¼•ã€‚ç„¶åï¼Œå°†è¿™äº›ç´¢å¼•å¯¹åº”çš„ä½ç½®åœ¨ mask çŸ©é˜µä¸­è®¾ç½®ä¸º <code>True</code>ï¼Œè¡¨ç¤ºéœ€è¦å°†ç›¸å…³ç³»æ•°çŸ©é˜µä¸­å¯¹åº”çš„å…ƒç´ æ©ç›–èµ·æ¥ã€‚</li></ul><ol start="4" type="1"><li><code>cmap = sns.diverging_palette(220, 10, as_cmap=True)</code>åˆ©ç”¨Seabornåº“ä¸­çš„<code>diverging_palette</code>å‡½æ•°åˆ›å»ºäº†ä¸€ä¸ªé¢œè‰²æ˜ å°„(color map)å¯¹è±¡ <code>cmap</code>ï¼Œç”¨äºæ¸²æŸ“çƒ­åŠ›å›¾çš„é¢œè‰²ã€‚</li></ol><ul><li><code>sns.diverging_palette()</code> å‡½æ•°ç”¨äºç”Ÿæˆä¸€ä¸ªç¦»æ•£çš„ã€å…·æœ‰å¯¹æ¯”åº¦çš„é¢œè‰²è°ƒè‰²æ¿ã€‚å®ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼š<code>start</code>ã€<code>end</code> å’Œ <code>as_cmap</code>ã€‚</li><li><code>start</code> å’Œ <code>end</code> æ˜¯èµ·å§‹é¢œè‰²å’Œç»“æŸé¢œè‰²çš„è‰²è°ƒå€¼ï¼ˆhueï¼‰ï¼Œå–å€¼èŒƒå›´ä¸º [0, 360]ã€‚åœ¨è¿™é‡Œï¼Œèµ·å§‹é¢œè‰²çš„è‰²è°ƒå€¼ä¸º 220ï¼Œç»“æŸé¢œè‰²çš„è‰²è°ƒå€¼ä¸º 10ã€‚è¿™æ„å‘³ç€ç”Ÿæˆçš„è°ƒè‰²æ¿å°†ä»è“ç»¿è‰²æ¸å˜åˆ°æ©™çº¢è‰²ã€‚</li><li><code>as_cmap=True</code> è¡¨ç¤ºå°†è°ƒè‰²æ¿è½¬æ¢ä¸º colormap å¯¹è±¡ï¼Œä»¥ä¾¿åœ¨ç»˜å›¾æ—¶ä½¿ç”¨ã€‚</li></ul><ol start="5" type="1"><li><code>g = sns.heatmap(mcorr, mask=mask, cmap=cmap, square=True, annot=True, fmt='0.2f')</code>ç”Ÿæˆçƒ­åŠ›å›¾ã€‚å…¶ä¸­ï¼Œ<code>mcorr</code>ä¸ºç›¸å…³ç³»æ•°çŸ©é˜µï¼Œ<code>mask</code>ç”¨äºæŒ‡å®šéœ€è¦é®æŒ¡çš„åŒºåŸŸï¼Œ<code>cmap</code>ä¸ºé¢œè‰²æ˜ å°„å¯¹è±¡ï¼Œ<code>square=True</code>è¡¨ç¤ºå°†çƒ­åŠ›å›¾æ˜¾ç¤ºä¸ºæ­£æ–¹å½¢ï¼Œ<code>annot=True</code>è¡¨ç¤ºåœ¨çƒ­åŠ›å›¾ä¸­æ˜¾ç¤ºç›¸å…³ç³»æ•°çš„æ•°å€¼ï¼Œ<code>fmt='0.2f'</code>æŒ‡å®šæ•°å€¼æ˜¾ç¤ºæ ¼å¼ä¸ºä¿ç•™ä¸¤ä½å°æ•°ã€‚</li></ol><h3 id="æ ¹æ®ç›¸å…³ç³»æ•°ç­›é€‰ç‰¹å¾å˜é‡">5.3æ ¹æ®ç›¸å…³ç³»æ•°ç­›é€‰ç‰¹å¾å˜é‡</h3><p>ä»¥æ–¹ä¾¿æˆ‘ä»¬åç»­åšç‰¹å¾å·¥ç¨‹åŠæ¨¡å‹åˆ†æã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># é¦–å…ˆå¯»æ‰¾Kä¸ªä¸targetå˜é‡æœ€ç›¸å…³çš„ç‰¹å¾å˜é‡</span><br>k = <span class="hljs-number">10</span> <span class="hljs-comment"># number of variables for heatmap</span><br>cols = train_corr.nlargest(k, <span class="hljs-string">&#x27;target&#x27;</span>)[<span class="hljs-string">&#x27;target&#x27;</span>].index <span class="hljs-comment"># è¿”å›ç‰¹å¾å</span><br><br>cm = np.corrcoef(train_data[cols].values.T)<br>hm = plt.subplots(figsize=(<span class="hljs-number">6</span>, <span class="hljs-number">6</span>))<span class="hljs-comment">#è°ƒæ•´ç”»å¸ƒå¤§å°</span><br><span class="hljs-comment">#hm1 = sns.heatmap(cm, cbar=True, annot=True, square=True) # ä¸hmç»“æœç›¸åŒï¼Œåªæ˜¯æ— æ ‡ç­¾.cbar=True æ˜¯åœ¨ç»˜åˆ¶ç›¸å…³æ€§çƒ­åŠ›å›¾æ—¶ï¼Œæ·»åŠ äº†ä¸€ä¸ªé¢œè‰²æ¡ï¼ˆcolor barï¼‰æ¥è¡¨ç¤ºç›¸å…³ç³»æ•°çš„èŒƒå›´ã€‚</span><br><span class="hljs-comment">#g = sns.heatmap(train_data[cols].corr(),annot=True,square=True,cmap=&quot;RdYlGn&quot;) # ä¸hmç»“æœç›¸åŒï¼Œåªæ˜¯é…è‰²ä¸åŒ. cmap=&quot;RdYlGn&quot; æŒ‡å®šé¢œè‰²æ˜ å°„ä¸º &quot;RdYlGn&quot;ã€‚</span><br>hm = sns.heatmap(train_data[cols].corr(),annot=<span class="hljs-literal">True</span>,square=<span class="hljs-literal">True</span>)<br><br>plt.show()<br></code></pre></td></tr></table></figure><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_58_0.png" /> â€‹</p><h4 id="ä»£ç è¯¦è§£-5">ä»£ç è¯¦è§£ï¼š</h4><ol type="1"><li><code>train_corr.nlargest(k, 'target')['target'].index</code> ç”¨äºæ‰¾åˆ°ä¸ç›®æ ‡å˜é‡ç›¸å…³æ€§æœ€é«˜çš„kä¸ªç‰¹å¾å˜é‡ï¼Œä»<code>train_corr</code>ä¸­æ‰¾åˆ°ä¸<code>target</code>ç›¸å…³æ€§æœ€é«˜çš„10ä¸ªå˜é‡ã€‚</li></ol><ul><li><p><code>nlargest(n, columns, keep='first')</code>:<code>n</code>ï¼šè¦è·å–çš„æœ€å¤§å€¼çš„æ•°é‡ã€‚<code>columns</code>ï¼šæŒ‡å®šè¦æ¯”è¾ƒå¤§å°çš„åˆ—æˆ–åˆ—çš„åˆ—è¡¨ã€‚<code>keep</code>ï¼šï¼ˆå¯é€‰å‚æ•°ï¼‰è®¾ç½®ç”¨äºå¤„ç†é‡å¤å€¼çš„ç­–ç•¥ã€‚é»˜è®¤å€¼ä¸º 'first'ï¼Œè¡¨ç¤ºä¿ç•™ç¬¬ä¸€ä¸ªå‡ºç°çš„æœ€å¤§å€¼ã€‚è¿˜å¯ä»¥é€‰æ‹© 'last'ï¼Œè¡¨ç¤ºä¿ç•™æœ€åä¸€ä¸ªå‡ºç°çš„æœ€å¤§å€¼ã€‚</p></li><li><p><code>train_corr.nlargest(k, 'target')</code> è¿”å›äº†ä¸€ä¸ª DataFrameï¼Œå…¶ä¸­åŒ…å«äº†ä¸ç›®æ ‡å˜é‡ 'target' æœ€ç›¸å…³çš„ K ä¸ªç‰¹å¾å˜é‡,è¿”å›æ•´è¡Œã€‚ <img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/1.png" /></p></li><li><p><code>['target']</code> ä»è¿™ä¸ª DataFrame ä¸­é€‰æ‹©äº†åä¸º 'target' çš„åˆ—ï¼Œå¹¶è¿”å›ä¸€ä¸ª Series å¯¹è±¡ã€‚ <img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/2.png" /></p></li><li><p><code>.index</code> è°ƒç”¨äº† Series å¯¹è±¡çš„ index å±æ€§ï¼Œç”¨äºè·å–è¯¥ Series çš„ç´¢å¼•ã€‚åœ¨è¿™ä¸ªä¸Šä¸‹æ–‡ä¸­ï¼Œ.index è¿”å›äº†ä¸ç›®æ ‡å˜é‡æœ€ç›¸å…³çš„ K ä¸ªç‰¹å¾å˜é‡æ‰€å¯¹åº”çš„åˆ—çš„ç´¢å¼•ã€‚ <img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/3.png" /></p></li></ul><ol start="2" type="1"><li><code>np.corrcoef(train_data[cols].values.T)</code> è®¡ç®—<code>train_data</code>ä¸­<code>cols</code>æ‰€å¯¹åº”çš„ç‰¹å¾å˜é‡ä¹‹é—´çš„ç›¸å…³ç³»æ•°ã€‚</li></ol><ul><li><p><code>corrcoef(x, y=None, rowvar=True, bias=np._NoValue, ddof=np._NoValue)</code> å‡½æ•°å¸¸ç”¨çš„æ˜¯å‰ä¸‰ä¸ªå‚æ•°ï¼Œxå’Œyåˆ†åˆ«æ˜¯éœ€è¦è®¡ç®—ç›¸å…³ç³»æ•°çš„ä¸¤ä¸ªéšæœºå˜é‡ï¼Œå½“rowvarä¸ºTrue(é»˜è®¤æƒ…å†µ)æ—¶ï¼Œæ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªéšæœºå˜é‡ï¼Œå¦åˆ™æ¯ä¸€åˆ—ä»£è¡¨ä¸€ä¸ªéšæœºå˜é‡ã€‚æ‰€ä»¥éœ€è¦ç”¨<code>.T</code>è¿›è¡Œè½¬ç½®ã€‚</p></li><li><p><code>np.corrcoef(train_data[cols].values.T)</code>å’Œ<code>train_data[cols].corr()</code> è¿”å›çš„æ•°å€¼éƒ½æ˜¯ä¸€æ ·çš„ã€‚æœ€ä¸»è¦çš„åŒºåˆ«æ˜¯å‰è€…è¿”å›çš„ç±»å‹æ˜¯NumPy æ•°ç»„ï¼Œåè€…ä¸º Pandas DataFrame</p></li></ul><ol start="3" type="1"><li><p><code>hm1 = sns.heatmap(cm, cbar=True, annot=True, square=True)</code> # cbar=True æ·»åŠ é¢œè‰²æ¡ï¼ˆcolor barï¼‰æ¥è¡¨ç¤ºç›¸å…³ç³»æ•°çš„èŒƒå›´ã€‚</p></li><li><p><code>g = sns.heatmap(train_data[cols].corr(),annot=True,square=True,cmap="RdYlGn")</code> cmap="RdYlGn" æŒ‡å®šé¢œè‰²æ˜ å°„ä¸º "RdYlGn"ã€‚</p></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ç„¶åæ‰¾å‡ºä¸argetå˜é‡çš„ç›¸å…³ç³»æ•°å¤§äº0.5çš„ç‰¹å¾å˜é‡ï¼š</span><br>threshold = <span class="hljs-number">0.5</span><br><br>corrmat = train_data.corr()<br>top_corr_features = corrmat.index[<span class="hljs-built_in">abs</span>(corrmat[<span class="hljs-string">&quot;target&quot;</span>])&gt;threshold]<br>plt.figure(figsize=(<span class="hljs-number">8</span>,<span class="hljs-number">8</span>))<br>g = sns.heatmap(train_data[top_corr_features].corr(),annot=<span class="hljs-literal">True</span>,cmap=<span class="hljs-string">&quot;RdYlGn&quot;</span>)<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_60_0.png" /> â€‹</p><h4 id="ä»£ç è§£é‡Š-3">ä»£ç è§£é‡Šï¼š</h4><ol type="1"><li><p><code>corrmat["target"]</code>ï¼šä»ç›¸å…³æ€§çŸ©é˜µ <code>corrmat</code> ä¸­é€‰æ‹©åä¸º "target" çš„åˆ—ï¼Œå¾—åˆ°ä¸€ä¸ªåŒ…å«æ‰€æœ‰ç‰¹å¾ä¸ç›®æ ‡å˜é‡çš„ç›¸å…³ç³»æ•°çš„ Series å¯¹è±¡ã€‚</p></li><li><p><code>abs(corrmat["target"]) &gt; threshold</code>ï¼šè®¡ç®—ç›¸å…³ç³»æ•°çš„ç»å¯¹å€¼ï¼Œå¹¶å°†ç»“æœä¸é˜ˆå€¼ <code>threshold</code> è¿›è¡Œæ¯”è¾ƒï¼Œå¾—åˆ°ä¸€ä¸ªå¸ƒå°”ç±»å‹çš„ Series å¯¹è±¡ï¼Œè¡¨ç¤ºå“ªäº›ç‰¹å¾ä¸ç›®æ ‡å˜é‡çš„ç›¸å…³ç³»æ•°å¤§äºé˜ˆå€¼ã€‚</p></li><li><p><code>corrmat.index[abs(corrmat["target"])&gt;threshold]</code>ï¼šæ ¹æ®ä¸Šè¿°å¸ƒå°”ç´¢å¼•ï¼Œä»ç›¸å…³æ€§çŸ©é˜µçš„ç´¢å¼•ä¸­é€‰æ‹©ç›¸åº”çš„ç‰¹å¾åã€‚è¿™å°†å¾—åˆ°ä¸€ä¸ªåŒ…å«ä¸ç›®æ ‡å˜é‡çš„ç›¸å…³ç³»æ•°å¤§äºé˜ˆå€¼çš„ç‰¹å¾åçš„ç´¢å¼•å¯¹è±¡ã€‚<code>.index[]</code> è¿”å›ç´¢å¼•å€¼ã€‚</p></li></ol><p>å¯ä»¥å‘ç°ï¼Œä¸targetå˜é‡çš„ç›¸å…³ç³»æ•°å¤§äº0.5çš„ç‰¹å¾å˜é‡è¢«ç›´è§‚åœ°ç­›é€‰å‡ºæ¥ã€‚è¿™ä¸€æ–¹æ³•å¯ä»¥ç®€å•ã€ç›´è§‚åœ°åˆ¤æ–­å“ªäº›ç‰¹å¾å˜é‡çº¿æ€§ç›¸å…³ï¼Œç›¸å…³ç³»æ•°è¶Šå¤§ï¼Œå°±è®¤ä¸ºè¿™äº›ç‰¹å¾å˜é‡å¯¹targetå˜é‡çš„çº¿æ€§å½±å“è¶Šå¤§ã€‚</p><p>è¯´æ˜ï¼šç›¸å…³æ€§é€‰æ‹©ä¸»è¦ç”¨äºåˆ¤åˆ«çº¿æ€§ç›¸å…³å¯¹äºtargetå˜é‡å¦‚æœå­˜åœ¨æ›´å¤æ‚çš„å‡½æ•°å½¢å¼çš„å½±å“åˆ™å»ºè®®ä½¿ç”¨æ ‘æ¨¡å‹çš„ç‰¹å¾é‡è¦æ€§å»é€‰æ‹©</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># ç”¨ç›¸å…³ç³»æ•°é˜ˆå€¼ç§»é™¤ç›¸å…³ç‰¹å¾ï¼š</span><br>threshold = <span class="hljs-number">0.5</span><br><br><span class="hljs-comment"># Absolute value correlation matrix</span><br>corr_matrix = data_train1.corr().<span class="hljs-built_in">abs</span>()<br>drop_col=corr_matrix[corr_matrix[<span class="hljs-string">&quot;target&quot;</span>]&lt;threshold].index<br><span class="hljs-comment">#data_all.drop(drop_col, axis=1, inplace=True)</span><br></code></pre></td></tr></table></figure><p>ç”±äº'V14', 'V21', 'V25', 'V26', 'V32', 'V33', 'V34'ç‰¹å¾çš„ç›¸å…³ç³»æ•°å€¼å°äº0.5ï¼Œæ•…è®¤ä¸ºè¿™äº›ç‰¹å¾ä¸æœ€ç»ˆçš„é¢„æµ‹targetå€¼ä¸ç›¸å…³ï¼Œåˆ é™¤è¿™äº›ç‰¹å¾å˜é‡ï¼›å…¶å¯ä»¥å‘ç°ä¸€äº›ä¸é‡è¦çš„ç‰¹å¾å¹¶å¿«é€Ÿåˆ é™¤ï¼Œæ–¹ä¾¿å¿«é€Ÿåˆ†æé‡è¦ç‰¹å¾ã€‚è¿™é‡Œå…ˆä¸åˆ é™¤è¿™äº›ç‰¹å¾ï¼ˆæ³¨é‡Šçš„ä»£ç è¡Œç”¨äºåˆ é™¤ç‰¹å¾ï¼‰ï¼Œå› ä¸ºåç»­åˆ†æè¿˜ä¼šç”¨åˆ°ã€‚</p><h3 id="box-coxå˜æ¢">5.4Box-Coxå˜æ¢</h3><p>ç”±äºçº¿æ€§å›å½’æ˜¯åŸºäºæ­£æ€åˆ†å¸ƒçš„ï¼Œå› æ­¤åœ¨è¿›è¡Œç»Ÿè®¡åˆ†ææ—¶ï¼Œéœ€è¦è½¬æ¢æ•°æ®ä½¿å…¶ç¬¦åˆæ­£æ€åˆ†å¸ƒã€‚</p><p>Box-Cox å˜æ¢æ˜¯ä¸€ç§å¸¸è§çš„æ•°æ®è½¬æ¢æŠ€æœ¯ï¼Œç”¨äºå°†éæ­£æ€åˆ†å¸ƒçš„æ•°æ®<strong>è½¬æ¢ä¸ºè¿‘ä¼¼æ­£æ€åˆ†å¸ƒ</strong>çš„æ•°æ®ã€‚è¿™ä¸€å˜æ¢å¯ä»¥ä½¿çº¿æ€§å›å½’æ¨¡å‹åœ¨æ»¡è¶³çº¿æ€§ã€æ­£æ€æ€§ã€ç‹¬ç«‹æ€§åŠæ–¹å·®é½æ€§çš„åŒæ—¶ï¼Œåˆä¸ä¸¢å¤±ä¿¡æ¯ã€‚åœ¨å¯¹æ•°æ®åšBox-Coxå˜æ¢ä¹‹åï¼Œå¯ä»¥åœ¨ä¸€å®šç¨‹åº¦ä¸Šå‡å°ä¸å¯è§‚æµ‹çš„è¯¯å·®å’Œé¢„æµ‹å˜é‡çš„ç›¸å…³æ€§ï¼Œè¿™æœ‰<strong>åˆ©äºçº¿æ€§æ¨¡å‹çš„æ‹ŸåˆåŠåˆ†æå‡ºç‰¹å¾çš„ç›¸å…³æ€§</strong>ã€‚</p><p>åœ¨åšBox-Coxå˜æ¢ä¹‹å‰ï¼Œéœ€è¦å¯¹æ•°æ®åšå½’ä¸€åŒ–é¢„å¤„ç†ã€‚åœ¨å½’ä¸€åŒ–æ—¶ï¼Œå¯¹æ•°æ®è¿›è¡Œåˆå¹¶æ“ä½œå¯ä»¥ä½¿è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®ä¸€è‡´ã€‚è¿™ç§æ–¹å¼å¯ä»¥åœ¨çº¿ä¸‹åˆ†æå»ºæ¨¡ä¸­ä½¿ç”¨ï¼Œè€Œçº¿ä¸Šéƒ¨ç½²åªéœ€é‡‡ç”¨è®­ç»ƒæ•°æ®çš„å½’ä¸€åŒ–å³å¯ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs python">drop_columns.clear()  <span class="hljs-comment"># ç”¨äºæ¸…ç©ºåˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ ã€‚</span><br>drop_columns = [<span class="hljs-string">&#x27;V5&#x27;</span>,<span class="hljs-string">&#x27;V9&#x27;</span>,<span class="hljs-string">&#x27;V11&#x27;</span>,<span class="hljs-string">&#x27;V17&#x27;</span>,<span class="hljs-string">&#x27;V22&#x27;</span>,<span class="hljs-string">&#x27;V28&#x27;</span>]<br><br><span class="hljs-comment"># åˆå¹¶è®­ç»ƒé›†å’Œæµ‹è¯•é›†çš„æ•°æ®</span><br>train_x =  train_data.drop([<span class="hljs-string">&#x27;target&#x27;</span>], axis=<span class="hljs-number">1</span>)<br><br><span class="hljs-comment">#data_all=pd.concat([train_data,test_data],axis=0,ignore_index=True)</span><br>data_all = pd.concat([train_x,test_data]) <br><br><br>data_all.drop(drop_columns,axis=<span class="hljs-number">1</span>,inplace=<span class="hljs-literal">True</span>)<br><span class="hljs-comment">#View data</span><br>data_all.head()<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>V0</th><th>V1</th><th>V2</th><th>V3</th><th>V4</th><th>V6</th><th>V7</th><th>V8</th><th>V10</th><th>V12</th><th>...</th><th>V27</th><th>V29</th><th>V30</th><th>V31</th><th>V32</th><th>V33</th><th>V34</th><th>V35</th><th>V36</th><th>V37</th></tr></thead><tbody><tr><th>0</th><td>0.566</td><td>0.016</td><td>-0.143</td><td>0.407</td><td>0.452</td><td>-1.812</td><td>-2.360</td><td>-0.436</td><td>-0.940</td><td>-0.073</td><td>...</td><td>0.168</td><td>0.136</td><td>0.109</td><td>-0.615</td><td>0.327</td><td>-4.627</td><td>-4.789</td><td>-5.101</td><td>-2.608</td><td>-3.508</td></tr><tr><th>1</th><td>0.968</td><td>0.437</td><td>0.066</td><td>0.566</td><td>0.194</td><td>-1.566</td><td>-2.360</td><td>0.332</td><td>0.188</td><td>-0.134</td><td>...</td><td>0.338</td><td>-0.128</td><td>0.124</td><td>0.032</td><td>0.600</td><td>-0.843</td><td>0.160</td><td>0.364</td><td>-0.335</td><td>-0.730</td></tr><tr><th>2</th><td>1.013</td><td>0.568</td><td>0.235</td><td>0.370</td><td>0.112</td><td>-1.367</td><td>-2.360</td><td>0.396</td><td>0.874</td><td>-0.072</td><td>...</td><td>0.326</td><td>-0.009</td><td>0.361</td><td>0.277</td><td>-0.116</td><td>-0.843</td><td>0.160</td><td>0.364</td><td>0.765</td><td>-0.589</td></tr><tr><th>3</th><td>0.733</td><td>0.368</td><td>0.283</td><td>0.165</td><td>0.599</td><td>-1.200</td><td>-2.086</td><td>0.403</td><td>0.011</td><td>-0.014</td><td>...</td><td>0.277</td><td>0.015</td><td>0.417</td><td>0.279</td><td>0.603</td><td>-0.843</td><td>-0.065</td><td>0.364</td><td>0.333</td><td>-0.112</td></tr><tr><th>4</th><td>0.684</td><td>0.638</td><td>0.260</td><td>0.209</td><td>0.337</td><td>-1.073</td><td>-2.086</td><td>0.314</td><td>-0.251</td><td>0.199</td><td>...</td><td>0.332</td><td>0.183</td><td>1.078</td><td>0.328</td><td>0.418</td><td>-0.843</td><td>-0.215</td><td>0.364</td><td>-0.280</td><td>-0.028</td></tr></tbody></table><p>5 rows Ã— 32 columns</p></div><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># å¯¹åˆå¹¶åçš„æ¯åˆ—æ•°æ®è¿›è¡Œå½’ä¸€åŒ–ï¼š</span><br>cols_numeric=<span class="hljs-built_in">list</span>(data_all.columns)<br><br><span class="hljs-keyword">def</span> <span class="hljs-title function_">scale_minmax</span>(<span class="hljs-params">col</span>):<br>    <span class="hljs-keyword">return</span> (col-col.<span class="hljs-built_in">min</span>())/(col.<span class="hljs-built_in">max</span>()-col.<span class="hljs-built_in">min</span>())<br><br>data_all[cols_numeric] = data_all[cols_numeric].apply(scale_minmax,axis=<span class="hljs-number">0</span>)<br>data_all[cols_numeric].describe()<br></code></pre></td></tr></table></figure><div><style scoped>    .dataframe tbody tr th:only-of-type {        vertical-align: middle;    }    .dataframe tbody tr th {        vertical-align: top;    }        .dataframe thead th {        text-align: right;    }</style><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th></th><th>V0</th><th>V1</th><th>V2</th><th>V3</th><th>V4</th><th>V6</th><th>V7</th><th>V8</th><th>V10</th><th>V12</th><th>...</th><th>V27</th><th>V29</th><th>V30</th><th>V31</th><th>V32</th><th>V33</th><th>V34</th><th>V35</th><th>V36</th><th>V37</th></tr></thead><tbody><tr><th>count</th><td>4813.000000</td><td>4813.000000</td><td>4813.000000</td><td>4813.000000</td><td>4813.000000</td><td>4813.000000</td><td>4813.000000</td><td>4813.000000</td><td>4813.000000</td><td>4813.000000</td><td>...</td><td>4813.000000</td><td>4813.000000</td><td>4813.000000</td><td>4813.000000</td><td>4813.000000</td><td>4813.000000</td><td>4813.000000</td><td>4813.000000</td><td>4813.000000</td><td>4813.000000</td></tr><tr><th>mean</th><td>0.694172</td><td>0.721357</td><td>0.602300</td><td>0.603139</td><td>0.523743</td><td>0.748823</td><td>0.745740</td><td>0.715607</td><td>0.348518</td><td>0.578507</td><td>...</td><td>0.881401</td><td>0.388683</td><td>0.589459</td><td>0.792709</td><td>0.628824</td><td>0.458493</td><td>0.483790</td><td>0.762873</td><td>0.332385</td><td>0.545795</td></tr><tr><th>std</th><td>0.144198</td><td>0.131443</td><td>0.140628</td><td>0.152462</td><td>0.106430</td><td>0.132560</td><td>0.132577</td><td>0.118105</td><td>0.134882</td><td>0.105088</td><td>...</td><td>0.128221</td><td>0.133475</td><td>0.130786</td><td>0.102976</td><td>0.155003</td><td>0.099095</td><td>0.101020</td><td>0.102037</td><td>0.127456</td><td>0.150356</td></tr><tr><th>min</th><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>...</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td><td>0.000000</td></tr><tr><th>25%</th><td>0.626676</td><td>0.679416</td><td>0.514414</td><td>0.503888</td><td>0.478182</td><td>0.683324</td><td>0.696938</td><td>0.664934</td><td>0.284327</td><td>0.532892</td><td>...</td><td>0.888575</td><td>0.292445</td><td>0.550092</td><td>0.761816</td><td>0.562461</td><td>0.409037</td><td>0.454490</td><td>0.727273</td><td>0.270584</td><td>0.445647</td></tr><tr><th>50%</th><td>0.729488</td><td>0.752497</td><td>0.617072</td><td>0.614270</td><td>0.535866</td><td>0.774125</td><td>0.771974</td><td>0.742884</td><td>0.366469</td><td>0.591635</td><td>...</td><td>0.916015</td><td>0.375734</td><td>0.594428</td><td>0.815055</td><td>0.643056</td><td>0.454518</td><td>0.499949</td><td>0.800020</td><td>0.347056</td><td>0.539317</td></tr><tr><th>75%</th><td>0.790195</td><td>0.799553</td><td>0.700464</td><td>0.710474</td><td>0.585036</td><td>0.842259</td><td>0.836405</td><td>0.790835</td><td>0.432965</td><td>0.641971</td><td>...</td><td>0.932555</td><td>0.471837</td><td>0.650798</td><td>0.852229</td><td>0.719777</td><td>0.500000</td><td>0.511365</td><td>0.800020</td><td>0.414861</td><td>0.643061</td></tr><tr><th>max</th><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>...</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td><td>1.000000</td></tr></tbody></table><p>8 rows Ã— 32 columns</p></div><h4 id="ä»£ç è§£é‡Š-4">ä»£ç è§£é‡Šï¼š</h4><ol type="1"><li><code>cols_numeric=list(data_all.columns)</code><ul><li>å°†<code>data_all</code>ä¸­çš„æ‰€æœ‰åˆ—åä¿å­˜åœ¨<code>cols_numeric</code>åˆ—è¡¨ä¸­ã€‚</li></ul></li><li><code>def scale_minmax(col):</code><ul><li>å®šä¹‰<code>scale_minmax</code>çš„å‡½æ•°ï¼Œè¾“å…¥å‚æ•°<code>col</code>è¡¨ç¤ºæ•°æ®çš„æŸä¸€åˆ—ã€‚å³ä½¿ä¼ å…¥çš„æ˜¯æ•´ä¸ªåˆ—ï¼ŒPandasåº“çš„å‘é‡åŒ–æ“ä½œä¼šè‡ªåŠ¨å°†è¿™äº›æ“ä½œåº”ç”¨åˆ°åˆ—ä¸­çš„æ¯ä¸ªå…ƒç´ ä¸Šï¼Œä»è€Œå®ç°å¯¹æ¯ä¸ªå…ƒç´ çš„å½’ä¸€åŒ–å¤„ç†ã€‚</li></ul></li><li><code>return (col-col.min())/(col.max()-col.min())</code><ul><li>è®¡ç®—æ•°æ®åˆ—<code>col</code>çš„å½’ä¸€åŒ–å€¼ã€‚å®ƒç”¨æ•°æ®åˆ—ä¸­æ¯ä¸ªå…ƒç´ å‡å»è¯¥åˆ—çš„æœ€å°å€¼ï¼Œç„¶åé™¤ä»¥è¯¥åˆ—çš„æœ€å¤§å€¼ä¸æœ€å°å€¼ä¹‹å·®ï¼Œä»è€Œå®ç°å½’ä¸€åŒ–å¤„ç†ã€‚</li></ul></li><li><code>data_all[cols_numeric] = data_all[cols_numeric].apply(scale_minmax,axis=0)</code><ul><li>è¿›è¡Œå¹¿æ’­ï¼Œå°†å½’ä¸€åŒ–å¤„ç†çš„ç»“æœåº”ç”¨åˆ°<code>data_all</code>æ•°æ®æ¡†çš„æ‰€æœ‰æ•°å€¼å‹åˆ—ä¸Šã€‚</li><li><code>data_all[cols_numeric]</code>è¡¨ç¤ºé€‰æ‹©<code>data_all</code>æ•°æ®æ¡†ä¸­<code>cols_numeric</code>åˆ—è¡¨ä¸­çš„åˆ—ã€‚</li><li><code>.apply(scale_minmax, axis=0)</code>å°†<code>scale_minmax</code>å‡½æ•°åº”ç”¨åˆ°æ¯åˆ—æ•°æ®ä¸Šï¼Œå¹¶æŒ‡å®š<code>axis=0</code>ä»¥é€åˆ—è¿›è¡Œæ“ä½œã€‚</li></ul></li></ol><p>ä¹Ÿå¯ä»¥<strong>åˆ†å¼€</strong>å¯¹è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®è¿›è¡Œå½’ä¸€åŒ–å¤„ç†ï¼Œä¸è¿‡è¿™ç§æ–¹å¼éœ€è¦å»ºç«‹åœ¨è®­ç»ƒæ•°æ®å’Œæµ‹è¯•æ•°æ®åˆ†å¸ƒä¸€è‡´çš„å‰æä¸‹ï¼Œå»ºè®®åœ¨<strong>æ•°æ®é‡å¤§</strong>çš„æƒ…å†µä¸‹ä½¿ç”¨ï¼ˆæ•°æ®é‡å¤§ï¼Œä¸€èˆ¬åˆ†å¸ƒæ¯”è¾ƒä¸€è‡´)ï¼Œèƒ½åŠ å¿«å½’ä¸€åŒ–çš„é€Ÿåº¦ã€‚è€Œæ•°æ®é‡è¾ƒå°ä¼šå­˜åœ¨åˆ†å¸ƒå·®å¼‚è¾ƒå¤§çš„æƒ…å†µï¼Œæ­¤æ—¶ï¼Œåœ¨æ•°æ®åˆ†æå’Œçº¿ä¸‹å»ºæ¨¡ä¸­åº”è¯¥å°†æ•°æ®ç»Ÿä¸€å½’ä¸€åŒ–ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># è®­ç»ƒé›†æµ‹è¯•é›†åˆ†å¼€å½’ä¸€åŒ–</span><br>train_data_process = train_data[cols_numeric]<br>train_data_process = train_data_process[cols_numeric].apply(scale_minmax,axis=<span class="hljs-number">0</span>)<br><br>test_data_process = test_data[cols_numeric]<br>test_data_process = test_data_process[cols_numeric].apply(scale_minmax,axis=<span class="hljs-number">0</span>)<br><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># Box-Coxå˜æ¢ï¼ˆç‰¹å¾å¤ªå¤šï¼Œåˆ†å·¦å³ä¸¤éƒ¨åˆ†ç»˜åˆ¶ï¼‰</span><br>cols_numeric_left = cols_numeric[<span class="hljs-number">0</span>:<span class="hljs-number">13</span>]<br>cols_numeric_right = cols_numeric[<span class="hljs-number">13</span>:]<br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">## Check effect of Box-Cox transforms on distributions of continuous variables</span><br><br>train_data_process = pd.concat([train_data_process, train_data[<span class="hljs-string">&#x27;target&#x27;</span>]], axis=<span class="hljs-number">1</span>)<span class="hljs-comment"># åˆå¹¶è®­ç»ƒé›†</span><br><br>fcols = <span class="hljs-number">6</span><br>frows = <span class="hljs-built_in">len</span>(cols_numeric_left)<br>plt.figure(figsize=(<span class="hljs-number">4</span>*fcols,<span class="hljs-number">4</span>*frows)) <br>i=<span class="hljs-number">0</span><br><br><span class="hljs-keyword">for</span> var <span class="hljs-keyword">in</span> cols_numeric_left:<br>    dat = train_data_process[[var, <span class="hljs-string">&#x27;target&#x27;</span>]].dropna()<br>        <br>    <span class="hljs-comment">### åŸæ•°æ®ç›´æ–¹å›¾ã€Q-Qå›¾ã€æ•£ç‚¹å›¾    </span><br>    i+=<span class="hljs-number">1</span><br>    plt.subplot(frows,fcols,i)<br>    sns.distplot(dat[var] , fit=stats.norm);<br>    plt.title(var+<span class="hljs-string">&#x27; Original&#x27;</span>)<br>    plt.xlabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <br>    i+=<span class="hljs-number">1</span><br>    plt.subplot(frows,fcols,i)<br>    _=stats.probplot(dat[var], plot=plt)<br>    plt.title(<span class="hljs-string">&#x27;skew=&#x27;</span>+<span class="hljs-string">&#x27;&#123;:.4f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(stats.skew(dat[var]))) <span class="hljs-comment"># ä¸‹æ–¹æœ‰ç”¨æ³•è¯¦è§£</span><br>    plt.xlabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>    plt.ylabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <br>    i+=<span class="hljs-number">1</span><br>    plt.subplot(frows,fcols,i)<br>    plt.plot(dat[var], dat[<span class="hljs-string">&#x27;target&#x27;</span>],<span class="hljs-string">&#x27;.&#x27;</span>,alpha=<span class="hljs-number">0.5</span>)<br>    plt.title(<span class="hljs-string">&#x27;corr=&#x27;</span>+<span class="hljs-string">&#x27;&#123;:.2f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(np.corrcoef(dat[var], dat[<span class="hljs-string">&#x27;target&#x27;</span>])[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>])) <span class="hljs-comment"># ä¸‹æ–¹æœ‰ç”¨æ³•è¯¦è§£</span><br> <br>    <span class="hljs-comment">### Box-Coxå˜æ¢ï¼Œå¹¶ç»˜åˆ¶ç›´æ–¹å›¾ã€Q-Qå›¾ã€æ•£ç‚¹å›¾</span><br>    i+=<span class="hljs-number">1</span><br>    plt.subplot(frows,fcols,i)<br>    trans_var, lambda_var = stats.boxcox(dat[var].dropna()+<span class="hljs-number">1</span>)<br>    trans_var = scale_minmax(trans_var)      <br>    sns.distplot(trans_var , fit=stats.norm);<br>    plt.title(var+<span class="hljs-string">&#x27; Tramsformed&#x27;</span>)<br>    plt.xlabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <br>    i+=<span class="hljs-number">1</span><br>    plt.subplot(frows,fcols,i)<br>    _=stats.probplot(trans_var, plot=plt)<br>    plt.title(<span class="hljs-string">&#x27;skew=&#x27;</span>+<span class="hljs-string">&#x27;&#123;:.4f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(stats.skew(trans_var)))<br>    plt.xlabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>    plt.ylabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <br>    i+=<span class="hljs-number">1</span><br>    plt.subplot(frows,fcols,i)<br>    plt.plot(trans_var, dat[<span class="hljs-string">&#x27;target&#x27;</span>],<span class="hljs-string">&#x27;.&#x27;</span>,alpha=<span class="hljs-number">0.5</span>)<br>    plt.title(<span class="hljs-string">&#x27;corr=&#x27;</span>+<span class="hljs-string">&#x27;&#123;:.2f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(np.corrcoef(trans_var,dat[<span class="hljs-string">&#x27;target&#x27;</span>])[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]))<br></code></pre></td></tr></table></figure><p>â€‹<br /><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_73_0.png" /> â€‹</p><h4 id="ä»£ç è¯¦è§£-6">ä»£ç è¯¦è§£ï¼š</h4><ul><li><p><code>plt.title()</code>ï¼šè¿™æ˜¯Matplotlibåº“ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºè®¾ç½®å½“å‰å­å›¾çš„æ ‡é¢˜ã€‚å®ƒæ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ï¼Œè¡¨ç¤ºè¦è®¾ç½®çš„æ ‡é¢˜å†…å®¹ã€‚</p></li><li><p><code>'skew=' + '&#123;:.4f&#125;'.format(stats.skew(dat[var]))</code>ï¼šè¿™æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æ ¼å¼åŒ–æ“ä½œï¼Œç”¨äºæ„é€ æ ‡é¢˜å†…å®¹ã€‚å…¶ä¸­åŒ…å«äº†ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p><ul><li><code>'skew='</code>ï¼šè¿™æ˜¯ä¸€ä¸ªå›ºå®šçš„å­—ç¬¦ä¸²ï¼Œç”¨äºæ ‡è¯†æ ‡é¢˜å†…å®¹ä¸­çš„éƒ¨åˆ†ã€‚</li><li><code>'&#123;:.4f&#125;'</code>ï¼šè¿™æ˜¯ä¸€ä¸ªæ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œè¡¨ç¤ºå°†è¦æ˜¾ç¤ºçš„æ•°å€¼ï¼ˆå³ååº¦å€¼ï¼‰çš„æ ¼å¼ã€‚<code>&#123;:.4f&#125;</code>ä¸­çš„<code>4</code>è¡¨ç¤ºå°æ•°ç‚¹åå››ä½ï¼Œ<code>.f</code>è¡¨ç¤ºæµ®ç‚¹æ•°ã€‚</li><li><code>format(stats.skew(dat[var]))</code>ï¼šè¿™æ˜¯ä¸€ä¸ªæ ¼å¼åŒ–æ“ä½œï¼Œç”¨äºå°†å®é™…çš„æ•°å€¼ï¼ˆ<code>stats.skew(dat[var])</code>ï¼‰åº”ç”¨åˆ°æ ¼å¼åŒ–å­—ç¬¦ä¸²ä¸­ã€‚</li></ul></li><li><p><code>stats.skew(dat[var])</code>ï¼šè¿™æ˜¯SciPyåº“ä¸­çš„<code>stats.skew()</code>å‡½æ•°ï¼Œç”¨äºè®¡ç®—ç»™å®šæ•°æ®é›†ï¼ˆ<code>dat[var]</code>ï¼‰çš„ååº¦å€¼ã€‚ååº¦æ˜¯è¡¡é‡æ•°æ®åˆ†å¸ƒåæ–œç¨‹åº¦çš„ç»Ÿè®¡é‡ï¼Œè´Ÿå€¼è¡¨ç¤ºå·¦åï¼ˆå·¦ä¾§çš„å°¾éƒ¨æ›´é•¿ï¼‰ï¼Œæ­£å€¼è¡¨ç¤ºå³åï¼ˆå³ä¾§çš„å°¾éƒ¨æ›´é•¿ï¼‰ï¼Œ0è¡¨ç¤ºå¯¹ç§°åˆ†å¸ƒã€‚</p></li></ul><p><code>&#123;:.4f&#125;</code>æ˜¯ä¸€ç§æ ¼å¼åŒ–å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œç”¨äºå°†æµ®ç‚¹æ•°è¿›è¡Œæ ¼å¼åŒ–è¾“å‡ºã€‚</p><ol type="1"><li>å…·ä½“ç”¨æ³•ï¼š<ul><li><code>&#123;&#125;</code>ï¼šèŠ±æ‹¬å·å†…æ”¾ç½®è¦æ ¼å¼åŒ–çš„å€¼çš„å ä½ç¬¦ã€‚</li><li><code>:</code> ï¼šè¡¨ç¤ºæ ¼å¼è¯´æ˜ç¬¦çš„å¼€å§‹ã€‚</li><li><code>.4f</code>ï¼šè¡¨ç¤ºä½¿ç”¨æµ®ç‚¹æ•°æ ¼å¼åŒ–ï¼Œå¹¶ä¿ç•™å°æ•°ç‚¹åå››ä½ã€‚</li></ul></li><li><code>:</code> çš„ç”¨å¤„ï¼š<ul><li>åœ¨æ ¼å¼è¯´æ˜ç¬¦ä¸­ï¼Œå†’å·ï¼ˆ<code>:</code>ï¼‰ç”¨æ¥åˆ†éš”æ ¼å¼è¯´æ˜ç¬¦çš„å„ä¸ªéƒ¨åˆ†ã€‚</li><li>åœ¨ <code>&#123;&#125;</code> å†…çš„å†’å·åé¢ï¼Œå¯ä»¥æ·»åŠ æ ¼å¼è¯´æ˜ç¬¦ï¼Œå¯¹åº”è¦æ ¼å¼åŒ–çš„å€¼æŒ‰ç…§æŒ‡å®šçš„æ ¼å¼è¾“å‡ºã€‚</li></ul></li><li>ä¸­é—´å¯ä»¥å¡«å“ªäº›å‚æ•°ï¼Œè¡¨ç¤ºä»€ä¹ˆï¼š<ul><li>å®½åº¦å‚æ•°ï¼šå¦‚ <code>&#123;:&lt;10&#125;</code> è¡¨ç¤ºå·¦å¯¹é½å¹¶å ç”¨ 10 ä¸ªå­—ç¬¦çš„å®½åº¦ã€‚</li><li>å¯¹é½å‚æ•°ï¼šå¦‚ <code>&#123;:&gt;10&#125;</code> è¡¨ç¤ºå³å¯¹é½å¹¶å ç”¨ 10 ä¸ªå­—ç¬¦çš„å®½åº¦ã€‚</li><li>ç²¾åº¦å‚æ•°ï¼šå¦‚ <code>&#123;:.2f&#125;</code> è¡¨ç¤ºä¿ç•™ä¸¤ä½å°æ•°ã€‚</li><li>ç±»å‹å‚æ•°ï¼šå¦‚ <code>&#123;:s&#125;</code> è¡¨ç¤ºå­—ç¬¦ä¸²ç±»å‹ï¼Œ<code>&#123;:d&#125;</code> è¡¨ç¤ºæ•´æ•°ç±»å‹ï¼Œ<code>&#123;:f&#125;</code> è¡¨ç¤ºæµ®ç‚¹æ•°ç±»å‹ç­‰ã€‚</li></ul></li></ol><p>æ€»ç»“èµ·æ¥ï¼Œå†’å·ï¼ˆ<code>:</code>ï¼‰åœ¨æ ¼å¼åŒ–å­—ç¬¦ä¸²ä¸­çš„ä½œç”¨æ˜¯åˆ†éš”æ ¼å¼è¯´æ˜ç¬¦çš„å„ä¸ªéƒ¨åˆ†ã€‚ç²¾åº¦å‚æ•°å’Œç±»å‹å‚æ•°æ˜¯å†’å·åé¢çš„éƒ¨åˆ†ï¼Œç”¨äºæŒ‡å®šæ ¼å¼åŒ–çš„ç²¾åº¦å’Œç±»å‹ã€‚</p><p><code>[0][1]</code> æ˜¯ç”¨äºè·å– <code>np.corrcoef(dat[var],dat['target'])</code> è¿”å›çš„ç›¸å…³ç³»æ•°çŸ©é˜µä¸­çš„ç‰¹å®šå…ƒç´ çš„ç´¢å¼•è¡¨ç¤ºæ–¹å¼ã€‚</p><p><code>np.corrcoef(dat[var], dat['target'])</code> ç”¨äºè®¡ç®— <code>dat[var]</code> å’Œ <code>dat['target']</code> ä¹‹é—´çš„ç›¸å…³ç³»æ•°çŸ©é˜µã€‚</p><ul><li>ç›¸å…³ç³»æ•°çŸ©é˜µæ˜¯ä¸€ä¸ªäºŒç»´çŸ©é˜µï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ æ˜¯ä¸¤ä¸ªå˜é‡ä¹‹é—´çš„ç›¸å…³ç³»æ•°ã€‚ä¾‹å¦‚ï¼š <img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/4.png" /></li><li>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>[0][1]</code> è¡¨ç¤ºç›¸å…³ç³»æ•°çŸ©é˜µçš„ç¬¬ä¸€è¡Œç¬¬äºŒåˆ—çš„å…ƒç´ ã€‚å…¶ä¸­ï¼Œç¬¬ä¸€è¡Œå¯¹åº”äº <code>dat[var]</code> ä¸ <code>dat[var]</code>è‡ªèº«çš„ç›¸å…³ç³»æ•°ï¼Œè€Œç¬¬äºŒåˆ—å¯¹åº”äº <code>dat[var]</code> ä¸ <code>dat['target']</code> çš„ç›¸å…³ç³»æ•°ã€‚</li></ul><p>å› æ­¤ï¼Œ<code>plt.title('corr='+'&#123;:.2f&#125;'.format(np.corrcoef(dat[var],dat['target'])[0][1]))</code> ä¸­çš„ <code>[0][1]</code> è¡¨ç¤ºæå–ç›¸å…³ç³»æ•°çŸ©é˜µä¸­ä¸ <code>dat[var]</code> ä¸ <code>dat['target']</code> ç›¸å…³ç³»æ•°å¯¹åº”çš„å€¼ï¼Œå¹¶å°†å…¶æ ¼å¼åŒ–ä¸ºå°æ•°ç‚¹åä¸¤ä½çš„å­—ç¬¦ä¸²ã€‚</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment">## Check effect of Box-Cox transforms on distributions of continuous variables</span><br><br>fcols = <span class="hljs-number">6</span><br>frows = <span class="hljs-built_in">len</span>(cols_numeric_right)<br>plt.figure(figsize=(<span class="hljs-number">4</span>*fcols,<span class="hljs-number">4</span>*frows))<br>i=<span class="hljs-number">0</span><br><br><span class="hljs-keyword">for</span> var <span class="hljs-keyword">in</span> cols_numeric_right:<br>    dat = train_data_process[[var, <span class="hljs-string">&#x27;target&#x27;</span>]].dropna() <br>        <br>    i+=<span class="hljs-number">1</span><br>    plt.subplot(frows,fcols,i)<br>    sns.distplot(dat[var] , fit=stats.norm);<br>    plt.title(var+<span class="hljs-string">&#x27; Original&#x27;</span>)<br>    plt.xlabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <br>    i+=<span class="hljs-number">1</span><br>    plt.subplot(frows,fcols,i)<br>    _=stats.probplot(dat[var], plot=plt)<br>    plt.title(<span class="hljs-string">&#x27;skew=&#x27;</span>+<span class="hljs-string">&#x27;&#123;:.4f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(stats.skew(dat[var])))<br>    plt.xlabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>    plt.ylabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <br>    i+=<span class="hljs-number">1</span><br>    plt.subplot(frows,fcols,i)<br>    plt.plot(dat[var], dat[<span class="hljs-string">&#x27;target&#x27;</span>],<span class="hljs-string">&#x27;.&#x27;</span>,alpha=<span class="hljs-number">0.5</span>)<br>    plt.title(<span class="hljs-string">&#x27;corr=&#x27;</span>+<span class="hljs-string">&#x27;&#123;:.2f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(np.corrcoef(dat[var], dat[<span class="hljs-string">&#x27;target&#x27;</span>])[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]))<br> <br>    i+=<span class="hljs-number">1</span><br>    plt.subplot(frows,fcols,i)<br>    trans_var, lambda_var = stats.boxcox(dat[var].dropna()+<span class="hljs-number">1</span>)<br>    trans_var = scale_minmax(trans_var)      <br>    sns.distplot(trans_var , fit=stats.norm);<br>    plt.title(var+<span class="hljs-string">&#x27; Tramsformed&#x27;</span>)<br>    plt.xlabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <br>    i+=<span class="hljs-number">1</span><br>    plt.subplot(frows,fcols,i)<br>    _=stats.probplot(trans_var, plot=plt)<br>    plt.title(<span class="hljs-string">&#x27;skew=&#x27;</span>+<span class="hljs-string">&#x27;&#123;:.4f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(stats.skew(trans_var)))<br>    plt.xlabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>    plt.ylabel(<span class="hljs-string">&#x27;&#x27;</span>)<br>        <br>    i+=<span class="hljs-number">1</span><br>    plt.subplot(frows,fcols,i)<br>    plt.plot(trans_var, dat[<span class="hljs-string">&#x27;target&#x27;</span>],<span class="hljs-string">&#x27;.&#x27;</span>,alpha=<span class="hljs-number">0.5</span>)<br>    plt.title(<span class="hljs-string">&#x27;corr=&#x27;</span>+<span class="hljs-string">&#x27;&#123;:.2f&#125;&#x27;</span>.<span class="hljs-built_in">format</span>(np.corrcoef(trans_var,dat[<span class="hljs-string">&#x27;target&#x27;</span>])[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>]))<br></code></pre></td></tr></table></figure><p><img src="/img/å·¥ä¸šè’¸æ±½é¢„æµ‹-02æ•°æ®æ¢ç´¢/output_77_0.png" /></p>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ å®æˆ˜å…¥é—¨</category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ </title>
    <link href="/2023/07/22/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A007-%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/"/>
    <url>/2023/07/22/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A007-%E5%BC%BA%E5%8C%96%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="å¼ºåŒ–å­¦ä¹ ">å¼ºåŒ–å­¦ä¹ </h1><p>å¼ºåŒ–å­¦ä¹ æ˜¯ä¸€ç§æœºå™¨å­¦ä¹ æ–¹æ³•ï¼Œå®ƒé€šè¿‡ä»£ç†ä¸ç¯å¢ƒçš„äº¤äº’æ¥å­¦ä¹ å¦‚ä½•åšå‡ºæœ€ä¼˜å†³ç­–ã€‚ä»£ç†åœ¨ä¸æ–­å°è¯•ä¸­è·å¾—å¥–åŠ±ä¿¡å·ï¼Œå¹¶é€šè¿‡è°ƒæ•´ç­–ç•¥æ¥æœ€å¤§åŒ–ç´¯ç§¯å¥–åŠ±ã€‚è¿™ç§å­¦ä¹ æ–¹å¼ç±»ä¼¼äºäººç±»é€šè¿‡è¯•é”™æ¥å­¦ä¹ ï¼Œå¸®åŠ©æœºå™¨ä»£ç†é€æ­¥æé«˜åœ¨ç‰¹å®šä»»åŠ¡ä¸Šçš„è¡¨ç°èƒ½åŠ›ã€‚</p><p>å¼ºåŒ–å­¦ä¹ ç®—æ³•çš„æ€è·¯éå¸¸ç®€å•ï¼Œä»¥æ¸¸æˆä¸ºä¾‹ï¼Œå¦‚æœåœ¨æ¸¸æˆä¸­é‡‡å–æŸç§ç­–ç•¥å¯ä»¥å–å¾—è¾ƒé«˜çš„å¾—åˆ†ï¼Œé‚£ä¹ˆå°±è¿›ä¸€æ­¥â€œå¼ºåŒ–â€è¿™ç§ç­–ç•¥ï¼Œä»¥æœŸç»§ç»­å–å¾—è¾ƒå¥½çš„ç»“æœã€‚è¿™ç§ç­–ç•¥ä¸æ—¥å¸¸ç”Ÿæ´»ä¸­çš„å„ç§â€œç»©æ•ˆå¥–åŠ±â€éå¸¸ç±»ä¼¼ã€‚</p><h1 id="ç¦»æ•£çŠ¶æ€ç©ºé—´">ç¦»æ•£çŠ¶æ€ç©ºé—´</h1><h2 id="ç¤ºä¾‹ç«æ˜Ÿæ¢æµ‹å™¨">ç¤ºä¾‹ï¼šç«æ˜Ÿæ¢æµ‹å™¨</h2><p>æ¢æµ‹å™¨åœ¨ç«æ˜Ÿæ‰§è¡Œæ¢æµ‹ä»»åŠ¡ï¼Œå…±æœ‰6ä¸ªä½ç½®ã€‚åœ¨å¼ºåŒ–å­¦ä¹ ä¸­ï¼Œæ¢æµ‹å™¨çš„ä½ç½®è¢«ç§°ä¸ºçŠ¶æ€ï¼Œåˆå§‹æ—¶ï¼Œæ¢æµ‹å™¨ä½äºçŠ¶æ€4ã€‚ ç°åœ¨ï¼Œä½ç½®1å’Œä½ç½®6éƒ½æœ‰ä¸€äº›æœ‰è¶£çš„è¡¨é¢ã€‚ç§‘å­¦å®¶å¸Œæœ›æ¢æµ‹å™¨å¯¹ä½ç½®1è¿›è¡Œé‡‡æ ·ï¼Œå› ä¸ºå®ƒæ¯”ä½ç½®6æ›´é‡è¦ã€‚ä½†æ˜¯ä½ç½®1å¾ˆè¿œï¼Œæ‰€ä»¥æˆ‘ä»¬é€šè¿‡å¥–åŠ±å‡½æ•°æ¥åæ˜ çŠ¶æ€çš„ä»·å€¼ï¼Œåœ¨æ¯ä¸ªçŠ¶æ€å¯ä»¥è·å¾—å¯¹åº”çš„å¥–åŠ±ã€‚çŠ¶æ€1çš„å¥–åŠ±æ˜¯100ï¼ŒçŠ¶æ€6çš„å¥–åŠ±æ˜¯40ï¼Œå…¶ä»–çŠ¶æ€çš„å¥–åŠ±éƒ½æ˜¯0ã€‚åœ¨æ¯ä¸€æ­¥ä¸­ï¼Œæ¢æµ‹å™¨å¯ä»¥é€‰æ‹©å‘å·¦æˆ–å‘å³ç§»åŠ¨ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230721182005.png" /> åœ¨æ¯ä¸ªä½ç½®ï¼Œæœºå™¨äººéƒ½å¤„äºæŸç§çŠ¶æ€sï¼Œå®ƒå¯ä»¥é€‰æ‹©ä¸€ä¸ªåŠ¨ä½œaï¼Œå¹¶ä»è€Œå¾—åˆ°å¥–åŠ±R(s)ï¼ŒçŠ¶æ€éšåŠ¨ä½œå˜ä¸ºæ–°çš„çŠ¶æ€s'ã€‚æ³¨æ„ï¼Œå¥–åŠ±R(s)æ˜¯ä¸çŠ¶æ€sç›¸å…³ï¼Œè€Œä¸æ˜¯ä¸‹ä¸€ä¸ªçŠ¶æ€s'ç›¸å…³ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230721182247.png" /> ä¾‹å¦‚ï¼Œå½“æ¢æµ‹å™¨å¤„äºçŠ¶æ€4ï¼Œå¹¶é‡‡å–äº†å‘å·¦èµ°çš„åŠ¨ä½œï¼ŒçŠ¶æ€4å¥–åŠ±ä¸º0ï¼Œå˜ä¸ºæ–°çš„çŠ¶æ€3ã€‚</p><p>å¼ºåŒ–å­¦ä¹ å››è¦ç´ ï¼š<strong>çŠ¶æ€ã€åŠ¨ä½œã€å¥–åŠ±ã€ä¸‹ä¸€ä¸ªçŠ¶æ€</strong></p><p>æ¢æµ‹å™¨åœ¨ä¸åŒçš„ä½ç½®å¯ä»¥èµ°ä¸åŒçš„è·¯çº¿ï¼Œèµ·ç‚¹ä¸ºä½ç½®4å¯ä»¥èµ°4-3-2-1ï¼Œä¹Ÿå¯ä»¥èµ°4-5-6ã€‚è¾ƒè¿œçš„ä½ç½®è™½ç„¶å¥–åŠ±å¤šï¼Œä½†æ˜¯å®ƒæ‰€èŠ±è´¹çš„æ—¶é—´å’Œè·¯ç¨‹å€¼å¾—è¿™äº›å¥–åŠ±å—ï¼Ÿæ€ä¹ˆçŸ¥é“ä¸€ç»„ç‰¹å®šçš„å¥–åŠ±æ¯”å¦ä¸€ç»„ä¸åŒçš„å¥–åŠ±æ›´å¥½è¿˜æ˜¯æ›´å·®?</p><p>æˆ‘ä»¬ç”¨å¼ºåŒ–å­¦ä¹ ä¸­çš„<strong>å›æŠ¥ï¼ˆReturnï¼‰</strong> æ¥è§£å†³è¿™ä»¶äº‹ã€‚</p><h2 id="å›æŠ¥">å›æŠ¥</h2><p>åŸºäºæŠ˜æ‰£å› å­å’Œå¥–åŠ±å€¼ï¼Œè®¡ç®—ä¸€ç³»åˆ—åŠ¨ä½œä¸‹æ‰€è·å¾—çš„æ€»æ•ˆç”¨å€¼ã€‚æŠ˜æ‰£å› å­ <span class="math inline">\(\gamma\)</span> (Gamma)ï¼šå–å€¼èŒƒå›´åœ¨0åˆ°1ä¹‹é—´ï¼Œä¸€èˆ¬æ˜¯ä¸€ä¸ªéå¸¸æ¥è¿‘1çš„æ•°å€¼ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230721184441.png" /></p><p>å¾—åˆ°çš„å›æŠ¥å–å†³äºå¥–åŠ±ï¼Œè€Œå¥–åŠ±å–å†³äºä½ é‡‡å–çš„è¡ŒåŠ¨ï¼Œå› æ­¤å›æŠ¥å–å†³äºä½ é‡‡å–çš„è¡ŒåŠ¨ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230721185214.png" /></p><h2 id="ç­–ç•¥">ç­–ç•¥</h2><p>ç­–ç•¥ï¼ˆpolicyï¼‰æ˜¯æŒ‡ä»£ç†åœ¨ç‰¹å®šçŠ¶æ€ä¸‹é€‰æ‹©åŠ¨ä½œçš„æ–¹å¼æˆ–è§„åˆ™ã€‚ç­–ç•¥å®šä¹‰äº†ä»£ç†å¯¹äºç»™å®šçŠ¶æ€æ‰€åšå‡ºçš„è¡Œä¸ºï¼Œå°±æ˜¯ä¸€ä¸ªä»çŠ¶æ€åˆ°è¡Œä¸ºçš„æ˜ å°„ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ç­–ç•¥æ¥ç¡®å®šæ¯ä¸ªçŠ¶æ€ä¸‹çš„è¡Œä¸ºã€‚</p><p>å¼ºåŒ–å­¦ä¹ çš„ç›®æ ‡æ˜¯è®­ç»ƒå‡ºä¸€ä¸ªç­–ç•¥å‡½æ•°ï¼Œå®ƒä»¥ä»»æ„çŠ¶æ€sä¸ºè¾“å…¥ï¼Œå¹¶å°†å…¶æ˜ å°„åˆ°é‡‡å–çš„æŸä¸ªåŠ¨ä½œaã€‚</p><p>ä¾‹å¦‚å¯ä»¥æœ‰4ç§ç­–ç•¥ï¼Œä»¥æœ€åä¸€ç§ç­–ç•¥ä¸ºä¾‹ï¼Œå³è¾¹æ˜¯ç­–ç•¥å‡½æ•° <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230721194933.png" /></p><p>å¼ºåŒ–å­¦ä¹ çš„ç›®æ ‡æ˜¯æ‰¾åˆ°ä¸€ä¸ªç­–ç•¥ <span class="math inline">\(\pi\)</span> ï¼Œå‘Šè¯‰ä½ åœ¨æ¯ä¸ªçŠ¶æ€ä¸‹é‡‡å–ä»€ä¹ˆè¡ŒåŠ¨ä»¥æœ€å¤§åŒ–å›æŠ¥ã€‚</p><h2 id="é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹">é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹</h2><p><strong>é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹</strong>ï¼ˆMarkov Decision Process, MDPï¼‰ï¼ŒæŒ‡æœªæ¥ä»…å–å†³äºå½“å‰çŠ¶æ€ï¼Œè€Œä¸å–å†³äºå½“å‰çŠ¶æ€ä¹‹å‰å‘ç”Ÿçš„ä»»ä½•äº‹æƒ…ã€‚æ¢å¥è¯è¯´ï¼Œåœ¨é©¬å°”å¯å¤«å†³ç­–è¿‡ç¨‹ä¸­ï¼Œæœªæ¥åªå–å†³äºä½ ç°åœ¨æ‰€å¤„çš„ä½ç½®ï¼Œè€Œä¸å–å†³äºä½ æ˜¯å¦‚ä½•åˆ°è¾¾è¿™é‡Œçš„ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230721202150.png" /></p><p>æ ¹æ®ç›®æ ‡å½“å‰çŠ¶æ€ sï¼ŒåŸºäºç­–ç•¥é€‰æ‹©åŠ¨ä½œaï¼Œä¸–ç•Œæˆ–ç¯å¢ƒä¼šå‘ç”Ÿå˜åŒ–ï¼Œç„¶åè§‚å¯ŸåŸºäºä¸–ç•ŒçŠ¶æ€ï¼Œç›®æ ‡çš„çŠ¶æ€såŠå¾—åˆ°çš„å¥–åŠ±R</p><h2 id="çŠ¶æ€åŠ¨ä½œä»·å€¼å‡½æ•°qsa">çŠ¶æ€åŠ¨ä½œä»·å€¼å‡½æ•°Q(s,a)</h2><p>çŠ¶æ€åŠ¨ä½œä»·å€¼å‡½æ•° Q(s, a)ï¼ˆä¹Ÿç§°ä¸º Q-value å‡½æ•°ï¼‰æ˜¯åœ¨å¼ºåŒ–å­¦ä¹ ä¸­ç”¨äºè¯„ä¼°åœ¨ç»™å®šçŠ¶æ€ s ä¸‹é‡‡å–åŠ¨ä½œ a çš„ä»·å€¼çš„å‡½æ•°ã€‚å®ƒè¡¨ç¤ºäº†ä»£ç†åœ¨ç‰¹å®šçŠ¶æ€ä¸‹é‡‡å–æŸä¸ªåŠ¨ä½œæ‰€èƒ½è·å¾—çš„é¢„æœŸç´¯ç§¯å›æŠ¥ã€‚</p><p>å…·ä½“è€Œè¨€ï¼Œå¯¹äºç»™å®šçš„çŠ¶æ€åŠ¨ä½œå¯¹ (s, a)ï¼ŒQ(s, a) è¡¨ç¤ºä»çŠ¶æ€ s å¼€å§‹ï¼Œé‡‡å–æŸä¸€è¡ŒåŠ¨ï¼Œä¹‹åä¸€ç›´æŒ‰ç…§æœ€ä½³çš„ç­–ç•¥è¡ŒåŠ¨ï¼Œæœ€ç»ˆè·å¾—çš„é¢„æœŸç´¯ç§¯å›æŠ¥ã€‚è¿™ä¸ªé¢„æœŸç´¯ç§¯å›æŠ¥é€šå¸¸æ˜¯é€šè¿‡ç´¯åŠ æœªæ¥å¥–åŠ±çš„æŠ˜æ‰£å€¼æ¥è®¡ç®—çš„ã€‚ï¼ˆè‡³äºä¸ºä½•èƒ½åœ¨è·å¾—æœ€ä¼˜ç­–ç•¥å‰è®¡ç®—Qï¼Œåé¢ä¼šè®²ï¼Œä¼šåŸºäºå¾ªç¯ï¼‰ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230721224150.png" /></p><p>ä¾‹å¦‚ï¼š è®¡ç®—Qï¼ˆ2ï¼Œâ†’ï¼‰ï¼Œåˆ™ä¸ºä»¥çŠ¶æ€2å¼€å§‹ï¼Œé‡‡å–å‘å³çš„è¡ŒåŠ¨ï¼Œåˆ°çŠ¶æ€3ï¼Œé‚£åé¢æœ€ä¼˜ç­–ç•¥æ˜¯ä¸€ç›´å‘å·¦èµ°ï¼Œè¡ŒåŠ¨è½¨è¿¹ä¸º2-3-2-1ï¼Œæ‰€ä»¥è®¡ç®—Qä¸º12.5ã€‚ Qï¼ˆ2ï¼Œâ†ï¼‰åˆ™ä¸ºä»¥çŠ¶æ€2å¼€å§‹ï¼Œé‡‡å–æŸä¸€è¡ŒåŠ¨ä¸ºå‘å·¦ï¼Œè¡ŒåŠ¨è½¨è¿¹ä¸º2-1ï¼Œæ­¤æ—¶Qä¸º50ã€‚</p><p>å¯¹æ¯ä¸ªçŠ¶æ€ï¼Œæ¯ä¸ªåŠ¨ä½œï¼Œéƒ½å¯è®¡ç®—å¾—åˆ°Qã€‚è€Œä¸”æˆ‘ä»¬å¯ä»¥å‘ç°ï¼ŒQ(s,a)çš„æœ€å¤§å€¼å³ä¸ºä»çŠ¶æ€sè·å¾—çš„æœ€ä½³å¯èƒ½å›æŠ¥ã€‚å› æ­¤å½“æˆ‘ä»¬å¯ä»¥è®¡ç®—Q(s,a)ï¼Œå³å¯çŸ¥é“æœ€ä½³çš„åŠ¨ä½œã€‚ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230721224959.png" /></p><p>å¦‚æœä½ å¯ä»¥è®¡ç®—æ¯ä¸€ä¸ªçŠ¶æ€æ¯ä¸€ä¸ªåŠ¨ä½œçš„Q(s,a)ï¼Œç„¶åæ‰¾å‡ºæœ€å¤§çš„Q(s,a)ï¼Œè¿™ä¸ªQ(s,a)ä¸­çš„aå³ä¸ºæœ€ä½³çš„è¡ŒåŠ¨ï¼Œæ‰€ä»¥è¯¥çŠ¶æ€sçš„ <span class="math inline">\(\pi(s)=a\)</span> ã€‚</p><p>å› æ­¤ï¼ŒQè®¡ç®—å’Œç­–ç•¥ç›¸å¯¹åº”ï¼Œå¦‚æœèƒ½åŸºäºså’Œaè®¡ç®—Qå‡½æ•°ï¼Œå°±èƒ½å¾—åˆ°ç­–ç•¥ã€‚</p><h2 id="è´å°”æ›¼æ–¹ç¨‹">è´å°”æ›¼æ–¹ç¨‹</h2><p>è´å°”æ›¼æ–¹ç¨‹ï¼ˆBellman equationï¼‰æ˜¯å¼ºåŒ–å­¦ä¹ ä¸­çš„å…³é”®æ–¹ç¨‹ï¼Œç”¨æ¥æè¿°çŠ¶æ€å€¼å‡½æ•°æˆ–è€…çŠ¶æ€åŠ¨ä½œå€¼å‡½æ•°ä¹‹é—´çš„é€’å½’å…³ç³»ã€‚ <strong>è´å°”æ›¼æ–¹ç¨‹</strong>ï¼š<span class="math inline">\(Q(s,a)=R(s)+\gamma\max_{a^{\prime}}Q(s^{\prime},a^{\prime})\)</span></p><p>è´å°”æ›¼æ–¹ç¨‹é€šè¿‡å°†<strong>å½“å‰</strong>çŠ¶æ€å’ŒåŠ¨ä½œçš„ä»·å€¼ä¸<strong>ä¸‹ä¸€ä¸ª</strong>çŠ¶æ€çš„ä»·å€¼è”ç³»èµ·æ¥ï¼Œå¸®åŠ©æˆ‘ä»¬è®¡ç®—æœ€ä¼˜ç­–ç•¥ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè´å°”æ›¼æ–¹ç¨‹å‘Šè¯‰æˆ‘ä»¬ä¸€ä¸ªçŠ¶æ€çš„ä»·å€¼å¦‚ä½•ä¸å…¶åç»­çŠ¶æ€çš„ä»·å€¼ç›¸å…³è”ã€‚</p><p>è´å°”æ›¼æ–¹ç¨‹çš„æœ¬è´¨æ˜¯ï¼Œå½“å‰çŠ¶æ€sçš„æ€»å›æŠ¥åŒ…å«ä¸¤éƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯é©¬ä¸Šå¾—åˆ°çš„å¥–åŠ±R(s)ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯ <span class="math inline">\(\gamma\)</span> ä¹˜ä»¥ä¸‹ä¸€çŠ¶æ€s'çš„æœ€ä½³æ€»å›æŠ¥ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722101410.png" /> ä¾‹å¦‚ä»çŠ¶æ€4å¼€å§‹ï¼Œå‘å·¦èµ°ï¼š <span class="math display">\[\begin{aligned}&amp;Q(4,\leftarrow)\\&amp;=0+(0.5)0+(0.5)^20+(0.5)^3100\\&amp;=R(4)+(0.5)\begin{bmatrix}0+(0.5)0+(0.5)^2100\end{bmatrix}\\&amp;=R(4)+(0.5)\max_{a^{\prime}}Q(3,a^{\prime})\end{aligned}\]</span></p><p>å®é™…ä¸Šï¼Œè´å°”æ›¼æ–¹ç¨‹å‘Šè¯‰æˆ‘ä»¬ï¼Œåœ¨å½“å‰çŠ¶æ€ä¸‹é‡‡å–æŸä¸ªåŠ¨ä½œçš„ä»·å€¼ä¸ä¸‹ä¸€ä¸ªçŠ¶æ€çš„ä»·å€¼ä¹‹é—´å­˜åœ¨ä¸€ä¸ªå…³ç³»ã€‚é€šè¿‡ä¸æ–­è¿­ä»£æ›´æ–°è¿™ä¸ªå…³ç³»ï¼Œæœ€ç»ˆå°†èƒ½å¤Ÿæ‰¾åˆ°æœ€ä½³ç­–ç•¥ï¼Œå³åœ¨æ¯ä¸ªçŠ¶æ€ä¸‹éƒ½é€‰æ‹©å¯ä»¥è·å¾—æœ€å¤§é¢„æœŸå›æŠ¥çš„åŠ¨ä½œã€‚ ## éšæœºé©¬å°”å¯å¤«å†³ç­–</p><p>åœ¨éšæœºé©¬å°”å¯å¤«è¿‡ç¨‹ä¸­ï¼Œæ‰§è¡ŒåŠ¨ä½œaæ—¶ï¼Œå­˜åœ¨ä¸€å®šæ¦‚ç‡æ— æ³•æŒ‰ç…§é¢„æœŸè¿›è¡Œã€‚ä»¥ä¸€ä¸ªéšæœºç¯å¢ƒä¸ºä¾‹ï¼Œæˆ‘ä»¬å‘ä¸€ä¸ªæ¢æµ‹å™¨å‘é€å·¦è½¬æŒ‡ä»¤ï¼Œä½†ç”±äºæœªçŸ¥çš„ç¯å¢ƒå› ç´ ï¼Œå·¦ä¾§åœ°é¢å¯èƒ½å¾ˆæ»‘ï¼Œå¯¼è‡´æ¢æµ‹å™¨æ»‘å‘ç›¸åçš„æ–¹å‘ï¼Œæ— æ³•æŒ‰ç…§æˆ‘ä»¬çš„æŒ‡ä»¤æ‰§è¡Œã€‚å› æ­¤ï¼Œæˆ‘ä»¬è·å¾—çš„å¥–åŠ±ä¹Ÿæ˜¯éšæœºçš„ã€‚</p><p>åœ¨éšæœºå¼ºåŒ–å­¦ä¹ é—®é¢˜ä¸­ï¼Œç›®æ ‡çš„ä¸æ˜¯æœ€å¤§åŒ–å›æŠ¥ï¼Œè€Œæ˜¯æŠ˜æ‰£å¥–åŠ±æ€»å’Œçš„å¹³å‡å€¼ï¼Œå³æœŸæœ›å›æŠ¥ <span class="math display">\[\begin{aligned}\text{Expected Return}&amp;=\text{Average}(R_1+\gamma R_2+\gamma^2R_3+\gamma^3R_4+\cdots)\\&amp;=\text{E}[R_1+\gamma R_2+\gamma^2R_3+\gamma^3R_4+\cdots]\end{aligned}\]</span></p><p>éšæœºé©¬å°”å¯å¤«å†³ç­–ä¸­ï¼Œè´å°”æ›¼æ–¹ç¨‹æ”¹ä¸ºï¼š <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722110235.png" /> å‰é¢TensorFlowå®ä¾‹ä¸­ï¼Œmisstep_probå‚æ•°å°±è¡¨ç¤ºå¤±è¯¯æ¦‚ç‡ã€‚</p><h1 id="è¿ç»­çŠ¶æ€ç©ºé—´åº”ç”¨">è¿ç»­çŠ¶æ€ç©ºé—´åº”ç”¨</h1><p>ä¾‹å¦‚åœ¨è‡ªåŠ¨æ§åˆ¶æ±½è½¦ã€é£æœºä¸­ï¼ŒçŠ¶æ€séƒ½æ˜¯è¿ç»­çŠ¶æ€ç©ºé—´ï¼ŒåŒ…å«x,y,zè½´åæ ‡ï¼ŒåŠå„è½´æ–¹å‘ä¸Šé€Ÿåº¦ã€è§’é€Ÿåº¦ç­‰ï¼Œè¿™éƒ½æ˜¯è¿ç»­çŠ¶æ€ç©ºé—´</p><h2 id="ç¤ºä¾‹ç™»æœˆå™¨">ç¤ºä¾‹ï¼šç™»æœˆå™¨</h2><p>ç™»æœˆå™¨çš„ä»»åŠ¡æ˜¯åœ¨é€‚å½“çš„æ—¶å€™å¯åŠ¨ç«åŠ›æ¨è¿›ï¼Œå°†å…¶å®‰å…¨é™è½åˆ°ç€é™†å°ä¸Šã€‚</p><p><strong>çŠ¶æ€ï¼š</strong> <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722112131.png" /> <span class="math inline">\(x\)</span> ï¼šæ°´å¹³ä½ç½® <span class="math inline">\(y\)</span> ï¼šå‚ç›´é«˜åº¦ <span class="math inline">\(\dot{x}\)</span> ï¼šæ°´å¹³æ–¹å‘é€Ÿåº¦ <span class="math inline">\(\dot{y}\)</span> ï¼šå‚ç›´æ–¹å‘é€Ÿåº¦ <span class="math inline">\(\theta\)</span> ï¼šå€¾æ–œè§’ï¼Œå‘å·¦/å³å€¾æ–œå¤šå°‘ <span class="math inline">\(\dot{\theta}\)</span> ï¼šè§’é€Ÿåº¦ <span class="math inline">\(l\)</span> ï¼šå·¦è„šè½åœ° <span class="math inline">\(r\)</span> ï¼šå³è„šè½åœ°</p><p><strong>åŠ¨ä½œï¼š</strong> ä»€ä¹ˆéƒ½ä¸åšï¼Œå‘ä¸‹åŠ é€Ÿï¼Œå‘å·¦åŠ é€Ÿï¼Œå‘å³åŠ é€Ÿ</p><p><strong>å¥–åŠ±å‡½æ•°ï¼š</strong> <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722113031.png" /> åˆ°è¾¾ç€é™†å°ï¼š100-140 é è¿‘/è¿œç¦»ç€é™†å°çš„é¢å¤–å¥–åŠ± å æ¯ï¼š-100 è½¯ç€é™†ï¼š+100 è…¿ç€é™†ï¼š+10 å¯åŠ¨ä¸»æ¨è¿›å™¨ï¼š-0.3 å¯åŠ¨ä¾§æ¨è¿›å™¨ï¼š-0.03</p><p><strong>ç›®æ ‡</strong>æ˜¯æ‰¾åˆ°ç­–ç•¥å‡½æ•°ï¼š <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722113530.png" /></p><h2 id="å­¦ä¹ çŠ¶æ€å€¼å‡½æ•°å¼ºåŒ–å­¦ä¹ ä¸­ä½¿ç”¨ç¥ç»ç½‘ç»œ">å­¦ä¹ çŠ¶æ€å€¼å‡½æ•°ï¼ˆå¼ºåŒ–å­¦ä¹ ä¸­ä½¿ç”¨ç¥ç»ç½‘ç»œï¼‰</h2><p>å…³é”®æ€æƒ³æ˜¯æˆ‘ä»¬è¦è®­ç»ƒä¸€ä¸ªç¥ç»ç½‘ç»œæ¥è®¡ç®—æˆ–è¿‘ä¼¼S,açš„çŠ¶æ€åŠ¨ä½œå€¼å‡½æ•°Q,ç„¶åä¸Šæˆ‘ä»¬æ´—æ‹©å¥½çš„åŠ¨ä½œ</p><p>å­¦ä¹ ç®—æ³•çš„æ ¸å¿ƒæ˜¯æˆ‘ä»¬å°†è®­ç»ƒä¸€ä¸ªç¥ç»ç½‘ç»œï¼Œè¯¥ç½‘ç»œè¾“å…¥å½“å‰çŠ¶æ€å’Œå½“å‰åŠ¨ä½œå¹¶è®¡ç®—æˆ–è¿‘ä¼¼çš„Q ã€‚ æˆ‘ä»¬å°†çŠ¶æ€å’ŒåŠ¨ä½œæ”¾åœ¨ä¸€èµ·ä½œä¸ºè¾“å…¥ï¼Œè¿™ä¸ª12ä¸ªæ•°å­—çš„åˆ—è¡¨ï¼Œ8ä¸ªæ•°å­—ç”¨äºçŠ¶æ€ï¼Œç„¶åæ˜¯ä¸ªæ•°å­—æ˜¯åŠ¨ä½œçš„å•çƒ­ç¼–ç ã€‚è¿™æ˜¯æˆ‘ä»¬å¯¹ç¥ç»ç½‘ç»œçš„è¾“å…¥ï¼Œç§°ä¹‹ä¸ºXã€‚ç¥ç»ç½‘ç»œçš„å·¥ä½œå°±æ˜¯è¾“å‡ºQã€‚</p><p>å› ä¸ºæˆ‘ä»¬ç¨åä¼šä½¿ç”¨ç¥ç»ç½‘ç»œè®­ç»ƒç®—æ³•ï¼Œæ‰€ä»¥æˆ‘è¿˜å°†Qä½œä¸ºè®­ç»ƒç¥ç»ç½‘ç»œé€¼è¿‘çš„ç›®æ ‡å€¼Yã€‚å¼ºåŒ–å­¦ä¹ ä¸ç›‘ç£å­¦ä¹ ä¸åŒï¼Œä½†æˆ‘ä»¬è¦åšçš„ä¸æ˜¯è¾“å…¥çŠ¶æ€å¹¶è®©å®ƒæ¥è¾“å‡ºåŠ¨ä½œã€‚æˆ‘ä»¬è¦åšçš„æ˜¯è¾“å…¥ä¸€ä¸ªçŠ¶æ€åŠ¨ä½œå¯¹ï¼Œè®©å®ƒå°è¯•è¾“å‡ºQ,å¹¶åœ¨å¼ºåŒ–å­¦ä¹ ç®—æ³•ä¸­ä½¿ç”¨ç¥ç»ç½‘ç»œã€‚</p><p><img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722183834.png" /> å¦‚æœæ‚¨å¯ä»¥åœ¨éšè—å±‚å’Œä¸Šå±‚ä¸­é€‰æ‹©é€‚å½“çš„å‚æ•°æ¥è®­ç»ƒç¥ç»ç½‘ç»œï¼Œä»¥ä¾¿ä¸ºæ‚¨æä¾›å¯¹Qçš„è‰¯å¥½ä¼°è®¡ï¼Œé‚£ä¹ˆæ¯å½“æ‚¨åœ¨æœˆçƒç€é™†å™¨å¤„äºæŸç§çŠ¶æ€sæ—¶ï¼Œæ‚¨å°±å¯ä»¥ä½¿ç”¨ç¥ç»ç½‘ç»œè®¡ç®—Qã€‚å¯¹äºæ‰€æœ‰å››ä¸ªåŠ¨ä½œï¼Œéƒ½å¯ä»¥è®¡ç®—Qï¼ŒQ(s,nothing),Q(s,left),Q(s,main),Q(s,right)ï¼Œæœ€åï¼Œå“ªä¸ªå…·æœ‰æœ€é«˜å€¼ï¼Œå°±é€‰æ‹©é‚£ä¸ªç›¸åº”çš„åŠ¨ä½œã€‚ ä¾‹å¦‚ï¼Œå¦‚æœåœ¨è¿™å››ä¸ªå€¼ä¸­ï¼ŒQ(s,main)æœ€å¤§ï¼Œé‚£ä¹ˆå°†å¯åŠ¨ç€é™†å™¨çš„ä¸»æ¨è¿›å™¨ã€‚</p><p>æ‰€ä»¥é—®é¢˜å°±å˜æˆäº†ï¼Œå¦‚ä½•è®­ç»ƒä¸€ä¸ªç¥ç»ç½‘ç»œæ¥è¾“å‡ºQ?</p><p>æ–¹æ³•æ˜¯ä½¿ç”¨è´å°”æ›¼æ–¹ç¨‹æ¥åˆ›å»ºåŒ…å«å¤§é‡ç¤ºä¾‹Ã—å’Œyçš„è®­ç»ƒé›†ï¼Œç„¶åæˆ‘ä»¬ä½¿ç”¨ç›‘ç£å­¦ä¹ ï¼Œå°±åƒç¥ç»ç½‘ç»œæ—¶æ‰€å­¦çš„ä¸€æ ·ã€‚ä½¿ç”¨ç›‘ç£å­¦ä¹ ï¼Œåˆ©ç”¨ç¥ç»ç½‘ç»œå­¦ä¹ ä»xåˆ°yçš„æ˜ å°„ï¼Œå³ä»çŠ¶æ€åŠ¨ä½œå¯¹åˆ°ç›®æ ‡å€¼Qçš„æ˜ å°„ã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚ä½•è·å¾—å…·æœ‰xå’Œyå€¼çš„è®­ç»ƒé›†ï¼Œå¯ä»¥åœ¨å…¶ä¸Šè®­ç»ƒç¥ç»ç½‘ç»œï¼Ÿ</p><p>è¿™æ˜¯è´å°”æ›¼æ–¹ç¨‹ï¼š<span class="math inline">\(Q(s,a)=R(s)+\gamma\max_{a^{\prime}}Q(s^{\prime},a^{\prime})\)</span> ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722185112.png" />æˆ‘ä»¬å°†ç­‰å¼å³è¾¹çš„å€¼ä¸ºç¥ç»ç½‘ç»œçš„è¾“å‡ºyï¼Œç­‰å¼å·¦è¾¹å³ä¸ºè¾“å…¥xã€‚ç¥ç»ç½‘ç»œçš„å·¥ä½œæ˜¯è¾“å…¥xï¼Œå³è¾“å…¥çŠ¶æ€åŠ¨ä½œå¯¹ï¼Œå¹¶å°è¯•å‡†ç¡®é¢„æµ‹å³è¾¹çš„å€¼ã€‚</p><p>åœ¨ç›‘ç£å­¦ä¹ ä¸­ï¼Œæˆ‘ä»¬è®­ç»ƒä¸€ä¸ªç¥ç»ç½‘ç»œæ¥å­¦ä¹ ä¸€ä¸ªå‡½æ•°fï¼Œå®ƒå–å†³äºå‚æ•°Wå’ŒBï¼ˆç¥ç»ç½‘ç»œå„ä¸ªå±‚çš„å‚æ•°ï¼‰ï¼Œç¥ç»ç½‘ç»œçš„æœ€å·¦ç«¯è¾“å…¥Xï¼Œæœ€å³ç«¯æ”¾ä¸€äº›æ¥è¿‘ç›®æ ‡å€¼yçš„ä¸œè¥¿ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722185443.png" /> é—®é¢˜æ˜¯ï¼Œæˆ‘ä»¬å¦‚ä½•æ‰èƒ½ä¸ºæ–°ç½‘ç»œæä¾›ä¸€ä¸ªå…·æœ‰xå’Œyçš„è®­ç»ƒé›†æ¥å­¦ä¹ ï¼Ÿ</p><p>æˆ‘ä»¬å°†ä½¿ç”¨ç€é™†å™¨ï¼Œå¹¶å°è¯•åœ¨å…¶ä¸­éšæœºæ‰§è¡Œä¸åŒçš„æ“ä½œã€‚é€šè¿‡åœ¨æœˆçƒç€é™†å™¨ä¸­å°è¯•åšä¸åŒçš„åŠ¨ä½œï¼Œæˆ‘ä»¬å°†ä¼šå¾—åˆ°å¾ˆå¤šä¾‹å­ï¼Œè¿™äº›ä¾‹å­è¯´æ˜æˆ‘ä»¬ä½•æ—¶å¤„äºå“ªç§çŠ¶æ€å¹¶é‡‡å–äº†å“ªäº›åŠ¨ä½œï¼Œå¯èƒ½æ˜¯ä¸€ä¸ªå¥½çš„åŠ¨ä½œï¼Œä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªåçš„åŠ¨ä½œã€‚ç„¶åï¼Œç”±äºå¤„äºè¯¥çŠ¶æ€ï¼Œæˆ‘ä»¬è·å¾—äº†ä¸€äº›å¥–åŠ±R(s)ï¼Œæ¥ç€ï¼Œæˆ‘ä»¬è¿›å…¥äº†æŸä¸ªæ–°çŠ¶æ€S'ã€‚<span class="math inline">\((s,a,R(s),s^{\prime})\)</span> æˆ‘ä»¬ç§°ä¸ºå…ƒç»„ã€‚</p><p><img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722190456.png" /></p><p>ä¾‹å¦‚ï¼Œä¹Ÿè®¸æœ‰ä¸€æ¬¡å¤„äºæŸä¸ªçŠ¶æ€ <span class="math inline">\(S^{(1)}\)</span>ï¼Œé‡‡å–äº†åŠ¨ä½œ <span class="math inline">\(a^{(1)}\)</span> ï¼Œå¾—åˆ°äº†å¥–åŠ± <span class="math inline">\(R(S^{(1)})\)</span> ï¼Œè¾¾åˆ°äº†ä¸ªæ–°çŠ¶æ€ <span class="math inline">\(S^{\prime(1)}\)</span> ï¼› ä¹Ÿè®¸åœ¨ä¸åŒçš„æ—¶é—´å¤„äºæŸä¸ªçŠ¶æ€ <span class="math inline">\(S^{(2)}\)</span>ï¼Œé‡‡å–äº†åŠ¨ä½œ <span class="math inline">\(a^{(2)}\)</span> ï¼Œå¾—åˆ°äº†å¥–åŠ± <span class="math inline">\(R(S^{(2)})\)</span> ï¼Œè¾¾åˆ°äº†ä¸ªæ–°çŠ¶æ€ <span class="math inline">\(S^{\prime(2)}\)</span> ï¼›ä»¥æ­¤ç±»æ¨ ã€‚ ä¹Ÿè®¸ä½ å·²ç»è¿™æ ·åšäº†10,000æ¬¡ç”šè‡³è¶…è¿‡10,000æ¬¡ã€‚è¿™10,000ä¸ªå…ƒç»„éƒ½æ˜¯è®­ç»ƒç¤ºä¾‹xï¼Œyã€‚ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722191729.png" /> å…ƒç»„ä¸­çš„å‰ä¸¤ä¸ªå°†ç”¨äºè®¡ç®—xï¼Œåä¸¤ä¸ªå°†ç”¨äºè®¡ç®—yã€‚ ä¾‹å¦‚ï¼Œ<span class="math inline">\(x^1\)</span> å°±æ˜¯ <span class="math inline">\(x^{(1)}=(s^{(1)},a^{(1)})\)</span> ï¼›<span class="math inline">\(y^1\)</span> å°†ä½¿ç”¨è´å°”æ›¼æ–¹ç¨‹çš„å³ä¾§è®¡ç®—ã€‚ è´å°”æ›¼æ–¹ç¨‹è¡¨ç¤ºï¼Œå½“æ‚¨è¾“å…¥ <span class="math inline">\(s^{(1)},a^{(1)}\)</span> æ—¶ï¼Œå¸Œæœ› <span class="math inline">\(Q(s^{(1)},a^{(1)})=R(s^{(1)})+\gamma\max_{a^{\prime}}Q(s^{\prime(1)},a^{\prime})\)</span> ã€‚<span class="math inline">\(y^1\)</span> å³ç­‰äº <span class="math inline">\(R(s^{(1)})+\gamma\max_{a^{\prime}}Q(s^{\prime(1)},a^{\prime})\)</span> ã€‚æ³¨æ„ï¼Œå…ƒç»„æœ€åçš„ä¸¤ä¸ªå…ƒç´ æä¾›äº†è¶³å¤Ÿçš„ä¿¡æ¯æ¥è®¡ç®—å³ä¾§ï¼Œè®¡ç®—åè¿™å°†æ˜¯æ•°å­—ï¼Œæ¯”å¦‚12.5æˆ–17ã€‚ æˆ‘ä»¬å°†æ•°å­—ä¿å­˜ä¸º <span class="math inline">\(y^1\)</span> ã€‚è¿™å¯¹ <span class="math inline">\(x^1,y^1\)</span> æˆä¸ºäº†ç¬¬ä¸€ä¸ªè®­ç»ƒç¤ºä¾‹ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722193800.png" /> ç°åœ¨ä½ å¯èƒ½æƒ³è¦çŸ¥é“ <span class="math inline">\(Q(s^{\prime(1)},a^{\prime})\)</span> ä»å“ªé‡Œæ¥ï¼Œå…¶å®æˆ‘ä»¬æœ€åˆå¹¶ä¸çŸ¥é“ <span class="math inline">\(Q(s^{\prime(1)},a^{\prime})\)</span> æ˜¯ä»€ä¹ˆï¼Œä½†æ˜¯å½“ä¸çŸ¥é“Qå‡½æ•°æ˜¯ä»€ä¹ˆæ—¶ï¼Œå¯ä»¥éšæœºçŒœæµ‹ä¸€ä¸ªåˆå§‹å€¼ã€‚åˆšå¼€å§‹è¿™é‡Œçš„æ¯ä¸€æ­¥Qéƒ½åªæ˜¯ä¸€äº›çŒœæµ‹ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œä»–ä»¬ä¼šå˜å¾—æ›´å¥½ï¼Œæ…¢æ…¢çš„é€¼è¿‘å®é™…çš„Qå‡½æ•°å€¼ã€‚</p><p>ä¾æ­¤ç±»æ¨ï¼Œç›´åˆ°ä½ æœ€ç»ˆå¾—åˆ°10,000ä¸ªåŒ…å«è¿™äº›x,yå¯¹çš„è®­ç»ƒç¤ºä¾‹ã€‚ç¨åï¼Œæˆ‘ä»¬å°†é‡‡ç”¨è¿™ä¸ªè®­ç»ƒé›†ï¼Œå…¶ä¸­xæ˜¯å…·æœ‰12ä¸ªç‰¹å¾çš„è¾“å…¥ï¼Œè€Œyåªæ˜¯æ•°å­—ã€‚ æˆ‘ä»¬å°†ä½¿ç”¨å‡æ–¹è¯¯å·®æŸå¤±æ¥è®­ç»ƒä¸€ä¸ªæ–°ç½‘ç»œï¼Œä»¥å°è¯•å°†yé¢„æµ‹ä¸ºè¾“å…¥xçš„å‡½æ•°ã€‚</p><p>ä»¥ä¸Šæè¿°çš„åªæ˜¯æˆ‘ä»¬å°†ä½¿ç”¨çš„ç®—æ³•çš„ä¸€éƒ¨åˆ†ï¼Œæ¥ä¸‹æ¥çœ‹çœ‹å®ƒä»¬æ˜¯å¦‚ä½•ç»„åˆæˆä¸€ä¸ªå­¦ä¹ Qå‡½æ•°çš„å®Œæ•´ç®—æ³•çš„ã€‚</p><p>é¦–å…ˆï¼Œæˆ‘ä»¬å°†é‡‡ç”¨æˆ‘ä»¬çš„ç¥ç»ç½‘ç»œå¹¶éšæœºåˆå§‹åŒ–ç¥ç»ç½‘ç»œçš„æ‰€æœ‰å‚æ•°ã€‚æœ€åˆæˆ‘ä»¬ä¸çŸ¥é“Qå‡½æ•°æ˜¯ä»€ä¹ˆï¼Œæˆ‘ä»¬åªæ˜¯å®Œå…¨éšæœºçš„èµ‹å€¼ã€‚æˆ‘ä»¬å‡è®¾è¿™ä¸ªç¥ç»ç½‘ç»œæ˜¯æˆ‘ä»¬å¯¹Qå‡½æ•°çš„åˆå§‹éšæœºçŒœæµ‹ã€‚è¿™æœ‰ç‚¹åƒä½ åœ¨è®­å·ç»ƒçº¿æ€§å›å½’æ—¶éšæœºåˆå§‹åŒ–æ‰€æœ‰å‚æ•°ï¼Œç„¶åä½¿ç”¨æ¢¯åº¦ä¸‹é™æ¥æ”¹è¿›å‚æ•°ã€‚ç°åœ¨éšæœºåˆå§‹åŒ–æ²¡å…³ç³»ã€‚é‡è¦çš„æ˜¯ç®—æ³•æ˜¯å¦å¯ä»¥æ…¢æ…¢æ”¹è¿›å‚æ•°ä»¥è·å¾—æ›´å¥½çš„ä¼°è®¡ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722203836.png" /> æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†é‡å¤æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼›æˆ‘ä»¬å°†å¯¹ç€é™†å™¨ä¸­é‡‡å–åŠ¨ä½œï¼Œç„¶åå¾—åˆ°ä¼—å¤šå…ƒç»„ <span class="math inline">\((s,a,R(s),s^{\prime})\)</span> ï¼Œ æˆ‘ä»¬è¦åšçš„æ˜¯å­˜å‚¨è¿™äº›å…ƒç»„çš„10,000ä¸ªæœ€æ–°ç¤ºä¾‹ã€‚å½“ä½ è¿è¡Œè¿™ä¸ªç®—æ³•æ—¶ï¼Œä½ ä¼šçœ‹åˆ°ç€é™†å™¨æœ‰å¾ˆå¤šæ­¥éª¤ï¼Œå¯èƒ½æœ‰å‡ åä¸‡ä¸ªæ­¥éª¤ã€‚ä¸ºäº†ç¡®ä¿æˆ‘ä»¬æœ€ç»ˆä¸ä¼šä½¿ç”¨è¿‡å¤šçš„è®¡ç®—æœºå†…å­˜ï¼Œé€šå¸¸çš„åšæ³•æ˜¯åªè®°ä½æˆ‘ä»¬åœ¨ MDPä¸­çœ‹åˆ°çš„10,000ä¸ªæœ€è¿‘çš„æ­¤ç±»å…ƒç»„ã€‚è¿™ç§ä»…å­˜å‚¨æœ€è¿‘ç¤ºä¾‹çš„æŠ€æœ¯åœ¨å¼ºåŒ–å­¦ä¹ ç®—æ³•ä¸­ç§°ä¸ºå›æ”¾ç¼“å†²åŒºã€‚ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722203905.png" /> æ—¥å‰ï¼Œæˆ‘ä»¬åªæ˜¯è®©æœˆçƒç€é™†å™¨éšæœºé£è¡Œï¼Œæœ‰æ—¶ä¼šå æ¯ï¼Œæœ‰æ—¶ä¸ä¼šå æ¯ï¼Œå¹¶æ ¹æ®å­¦ä¹ ç®—æ³•ç»éªŒè·å–è¿™äº›å…ƒç»„ã€‚</p><p>æœ‰æ—¶æˆ‘ä»¬ä¼šè®­ç»ƒç¥ç»ç½‘ç»œï¼Œä¸ºäº†è®­ç»ƒç¥ç»ç½‘ç»œï¼Œä¸‹é¢æ˜¯æˆ‘ä»¬è¦åšçš„ã€‚</p><p>æˆ‘ä»¬å°†æŸ¥çœ‹æˆ‘ä»¬ä¿å­˜çš„è¿™10,000ä¸ªæœ€è¿‘çš„å…ƒç»„ï¼Œå¹¶åˆ›å»ºä¸€ä¸ªåŒ…å«10,000ä¸ªç¤ºä¾‹çš„è®­ç»ƒé›†ã€‚ è®­ç»ƒé›†éœ€è¦å¾ˆå¤šå¯¹xå’Œyã€‚å¯¹äºæˆ‘ä»¬çš„è®­ç»ƒç¤ºä¾‹ï¼Œxå°†æ˜¯sæ¥è‡ªå…ƒç»„çš„ <span class="math inline">\((s,a)\)</span> è¿™ä¸€éƒ¨åˆ†ã€‚æˆ‘ä»¬å¸Œæœ›ç¥ç»ç½‘ç»œå°è¯•é¢„æµ‹çš„ç›®æ ‡å€¼æ˜¯ <span class="math inline">\(\mathbf{y}=R(s)+\:\gamma\max_{a^{\prime}}Q(s^{\prime},a^{\prime})\)</span> ã€‚æˆ‘ä»¬å¦‚ä½•è·å¾—Qçš„è¿™ä¸ªå€¼ï¼Ÿæœ€åˆæ˜¯æˆ‘ä»¬éšæœºåˆå§‹åŒ–çš„è¿™ä¸ªç¥ç»ç½‘ç»œï¼Œæ˜¯ä¸€ä¸ªçŒœæµ‹å€¼ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722204559.png" /> åˆ›å»ºè¿™10,000ä¸ªè®­ç»ƒç¤ºä¾‹åï¼Œæˆ‘ä»¬å°†æ‹¥æœ‰è®­ç»ƒç¤ºä¾‹ <span class="math inline">\(x^1\)</span> ã€<span class="math inline">\(y^1\)</span> åˆ° <span class="math inline">\(x^{10,000}\)</span> ã€<span class="math inline">\(y^{10,000}\)</span> ã€‚æˆ‘ä»¬å°†è®­ç»ƒä¸€ä¸ªç¥ç»ç½‘ç»œï¼Œæˆ‘å°†æŠŠæ–°çš„ç¥ç»ç½‘ç»œç§°ä¸ºQnew,è¿™æ · <span class="math inline">\(Q_{new}(s,a)\approx y\)</span> ã€‚è¿™æ­£æ˜¯è®­ç»ƒé‚£ä¸ªç¥ç»ç½‘ç»œ <span class="math inline">\(f_{W,B}(x)\approx y\)</span> ã€‚ç°åœ¨ï¼Œè¿™ä¸ªç¥ç»ç½‘ç»œåº”è¯¥ç¨å¾®æ›´å¥½åœ°ä¼°è®¡Qå‡½æ•°æ˜¯ä»€ä¹ˆï¼Œæ¥ç€æˆ‘ä»¬è¦åšçš„æ˜¯å°†Qè®¾ç½®ä¸ºæˆ‘ä»¬åˆšåˆšå­¦ä¹ çš„æ–°ç¥ç»ç½‘ç»œ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722210052.png" /> äº‹å®è¯æ˜ï¼Œå¦‚æœæ‚¨ä»çœŸæ­£éšæœºçŒœæµ‹Qå‡½æ•°å¼€å§‹è¿è¡Œæ­¤ç®—æ³•ï¼Œç„¶åä½¿ç”¨Bellmanæ–¹ Set-new.ç¨‹åå¤å°è¯•æ”¹è¿›Qå‡½æ•°çš„ä¼°è®¡å€¼ã€‚,9ç„¶åé€šè¿‡åå¤æ‰§è¡Œæ­¤æ“ä½œï¼Œé‡‡å–å¤§é‡æ“ä½œï¼Œè®­å·ç»ƒæ¨¡å‹ï¼Œè¿™å°†æ”¹è¿›æ‚¨å¯¹Qå‡½æ•°çš„çŒœ Set-new. Jw,BX)XUæµ‹.,9å¯¹äºæ‚¨è®­å·ç»ƒçš„ä¸‹ä¸€ä¸ªæ¨¡å‹ï¼Œæ‚¨ç°åœ¨å¯¹ä»€ä¹ˆæ˜¯Qå‡½æ•°æœ‰äº†æ›´å¥½çš„ä¼°è®¡ã€‚é‚£ä¹ˆä½ è®­ç»ƒçš„ä¸‹ä¸€ä¸ªæ¨¡å‹ä¼šæ›´å¥½å½“æ‚¨æ›´æ–°Qç­‰äºQnewæ—¶ã€‚ç„¶åä¸‹æ¬¡è®­ç»ƒ <span class="math inline">\(Q(s^{\prime},a^{\prime})\)</span> æ—¶ï¼Œå°†æ˜¯ä¸€ä¸ªæ›´å¥½çš„ä¼°è®¡å€¼ã€‚</p><p>å½“ä½ åœ¨æ¯æ¬¡è¿­ä»£ä¸­è¿è¡Œè¿™ä¸ªç®—æ³•æ—¶ï¼Œ<span class="math inline">\(Q(s^{\prime},a^{\prime})\)</span> æœ‰æœ›æˆä¸ºQå‡½æ•°çš„æ›´å¥½ä¼°è®¡ï¼Œè¿™æ ·å½“ä½ è¿è¡Œç®—æ³•è¶³å¤Ÿé•¿çš„æ—¶é—´æ—¶ï¼Œè¿™ä¸ªä¼°è®¡å€¼ä¼šè¶Šæ¥è¶Šæ¥è¿‘çœŸå®å€¼ï¼Œè¿™æ ·ä½ å°±å¯ä»¥ç”¨å®ƒæ¥æŒ‘é€‰ï¼Œå¸Œæœ›æ˜¯å¥½çš„åŠ¨ä½œæˆ– MDPã€‚</p><p>è¿™ä¸ªç®—æ³•ç§°ä¸ºDQNç®—æ³•ï¼ˆDeep Q-Networkï¼‰ï¼Œå› ä¸ºä½¿ç”¨æ·±åº¦å­¦ä¹ å’Œç¥ç»ç½‘ç»œè®­ç»ƒæ¨¡å‹æ¥å­¦ä¹ Qå‡½æ•°ã€‚</p><h2 id="ç®—æ³•æ”¹è¿›æ”¹è¿›çš„ç¥ç»ç½‘ç»œæ¶æ„">ç®—æ³•æ”¹è¿›ï¼šæ”¹è¿›çš„ç¥ç»ç½‘ç»œæ¶æ„</h2><p>æ”¹è¿›å‰ï¼Œç¥å°†ç½‘ç»œåªèƒ½è¾“å‡ºä¸€ä¸ªå€¼ï¼Œè¦åˆ†åˆ«è®¡ç®—4æ¬¡Qï¼ŒQ(s,nothing),Q(s,left),Q(s,main),Q(s,right)å„ä¸€æ¬¡ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722213200.png" /></p><p>æ”¹è¿›åï¼Œç¥ç»ç½‘ç»œå¯ä»¥åŒæ—¶è¾“å‡ºå››ä¸ªå€¼ï¼Œä¼šæ›´åŠ æœ‰æ•ˆï¼Œä¸”æ›´æ–¹ä¾¿é€‰æ‹©æœ€å¤§å€¼ï¼Œå¯ç›´æ¥ç”¨äºè´å°”æ›¼æ–¹ç¨‹è®¡ç®— <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722213230.png" /></p><h2 id="ç®—æ³•æ”¹è¿›epsilon-greedy-ç­–ç•¥">ç®—æ³•æ”¹è¿›ï¼šEpsilon Greedy ç­–ç•¥</h2><p>Îµ-greedyç­–ç•¥æ˜¯ä¸€ç§åœ¨å¼ºåŒ–å­¦ä¹ ä¸­å¸¸ç”¨çš„ç­–ç•¥ï¼Œç”¨äºåœ¨æ¢ç´¢ï¼ˆexplorationï¼‰å’Œåˆ©ç”¨ï¼ˆexploitationï¼‰ä¹‹é—´è¿›è¡Œæƒè¡¡ã€‚è¯¥ç­–ç•¥åŸºäºä¸€ä¸ªå‚æ•°Îµï¼Œç”¨æ¥å†³å®šä»£ç†åœ¨<strong>é€‰æ‹©åŠ¨ä½œæ—¶</strong>æ˜¯è¿›è¡Œ<strong>éšæœºæ¢ç´¢</strong>è¿˜æ˜¯æ ¹æ®å½“å‰å·²å­¦ä¹ çš„çŸ¥è¯†åšå‡º<strong>æœ€ä¼˜åŠ¨ä½œ</strong>çš„åˆ©ç”¨ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722215349.png" /></p><p>åœ¨å¼ºåŒ–å­¦ä¹ ä¸­ï¼ŒÎµ-è´ªå©ªç­–ç•¥ï¼ˆæ–¹æ³•2ï¼‰æ˜¯æ›´å¸¸ç”¨çš„æ–¹æ³•ã€‚åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬é€‰æ‹©ä½¿å½“å‰çš„Q(s, a)ï¼ˆç¥ç»ç½‘ç»œè®­ç»ƒå‡ºæ¥çš„ï¼‰æœ€å¤§åŒ–çš„åŠ¨ä½œaï¼Œå³è´ªå©ªè¡ŒåŠ¨ã€‚åªæœ‰åœ¨æå°‘æ•°æƒ…å†µä¸‹ï¼ˆå¶å°”ï¼‰ä¼šéšæœºé€‰æ‹©åŠ¨ä½œï¼Œå³æ¢ç´¢è¡ŒåŠ¨ã€‚</p><p>æ–¹æ³•1å®¹æ˜“å‡ºç°é—®é¢˜ï¼Œå› ä¸ºç”±äºéšæœºåˆå§‹åŒ–çš„åŸå› ï¼Œå¯èƒ½å§‹ç»ˆä¸ä¼šå°è¯•ä¸€äº›åŠ¨ä½œï¼Œè€Œè¿™äº›åŠ¨ä½œå¯èƒ½ä¼šæ•ˆæœå¾ˆå¥½ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬é‡‡ç”¨æ–¹æ³•2ï¼Œå³ä½¿ç”¨Îµ-è´ªå©ªç­–ç•¥ï¼Œå¯¹æ‰€æœ‰åŠ¨ä½œè¿›è¡Œå°è¯•ã€‚</p><p>å½“Îµ=0.05æ—¶ï¼Œè´ªå©ªåŠ¨ä½œå 95%ï¼Œæ¢ç´¢åŠ¨ä½œå 5%ã€‚</p><p>é€šå¸¸ï¼Œåœ¨å­¦ä¹ åˆšå¼€å§‹æ—¶ï¼Œæˆ‘ä»¬å°†Îµè®¾ç½®å¾—è¾ƒå¤§ï¼Œè¿™æ ·ä»£ç†ä¼šé¢‘ç¹åœ°é€‰æ‹©éšæœºåŠ¨ä½œï¼Œç„¶åé€æ¸å‡å°Îµçš„å€¼ï¼Œå› æ­¤éšç€æ—¶é—´çš„æ¨ç§»ï¼Œä»£ç†ä¸å¤ªå¯èƒ½éšæœºé‡‡å–è¡ŒåŠ¨ï¼Œè€Œæ›´æœ‰å¯èƒ½æ ¹æ®Qå‡½æ•°æ¥é€‰æ‹©æœ€ä¼˜çš„åŠ¨ä½œã€‚</p><p>åœ¨å¼ºåŒ–å­¦ä¹ ä¸­ï¼Œå‚æ•°çš„é€‰æ‹©éå¸¸å…³é”®ï¼Œä¸åˆé€‚çš„å‚æ•°é€‰æ‹©å¯èƒ½å¯¼è‡´è®­ç»ƒæ—¶é—´éå¸¸éå¸¸æ…¢ã€‚</p><h2 id="ç®—æ³•æ”¹è¿›å°æ‰¹é‡å’Œè½¯æ›´æ–°">ç®—æ³•æ”¹è¿›ï¼šå°æ‰¹é‡å’Œè½¯æ›´æ–°</h2><p>å°æ‰¹é‡ï¼ˆmini-batchesï¼‰å¯ä»¥æé«˜ç®—æ³•è¿è¡Œé€Ÿåº¦ï¼ŒåŒæ ·é€‚ç”¨äºç›‘ç£å­¦ä¹ ï¼Œä¾‹å¦‚è®­ç»ƒç¥ç»ç½‘ç»œï¼Œæˆ–è®­ç»ƒçº¿æ€§å›å½’æˆ–é€»è¾‘å›å½’æ¨¡å‹ã€‚ è½¯æ›´æ–°ï¼ˆsoft updatesï¼‰å¯ä»¥ä½¿å¼ºåŒ–å­¦ä¹ æ›´å¥½çš„æ”¶æ•›</p><h3 id="å°æ‰¹é‡">å°æ‰¹é‡</h3><p>å°æ‰¹é‡æ˜¯æŒ‡åœ¨è®­ç»ƒæ¨¡å‹æ—¶ï¼Œå°†è®­ç»ƒæ•°æ®åˆ’åˆ†ä¸ºå¤šä¸ªè¾ƒå°çš„æ‰¹æ¬¡è¿›è¡Œæ¨¡å‹å‚æ•°çš„æ›´æ–°ã€‚ç›¸æ¯”äºä½¿ç”¨å®Œæ•´çš„è®­ç»ƒé›†è¿›è¡Œå‚æ•°æ›´æ–°ï¼Œå°æ‰¹é‡æ›´æ–°å¯ä»¥æé«˜è®¡ç®—æ•ˆç‡ï¼Œå¹¶ä¸”æœ‰åŠ©äºå‡å°‘å‚æ•°æ›´æ–°çš„æ–¹å·®ã€‚</p><p>å½“æ ·æœ¬æ•°é‡éå¸¸å¤§æ—¶ï¼Œä¾‹å¦‚æœ‰ä¸€äº¿ä¸ªæ ·æœ¬ï¼Œå¦‚æœæ¢¯åº¦ä¸‹é™çš„æ¯ä¸€æ­¥éƒ½éœ€ç”¨å…¨éƒ¨æ ·æœ¬è®¡ç®—å¹³å‡å€¼ï¼Œé‚£ä¹ˆç®—æ³•ä¼šè¿è¡Œçš„å¾ˆæ…¢ã€‚ä½¿ç”¨å°æ‰¹é‡æ˜¯æ¯æ¬¡æ¢¯åº¦ä¸‹é™æ—¶ï¼Œåªå…³æ³¨ä¸€ä¸ªbatchçš„æ•°æ®ã€‚ä½¿ç”¨å°æ‰¹é‡æ¢¯åº¦ä¸‹é™çš„æ€æƒ³æ˜¯ä¸ç”¨å†æ¯æ¬¡è¿­ä»£ä¸­ä½¿ç”¨1äº¿ä¸ªç¤ºä¾‹ï¼Œè€Œæ˜¯é€‰æ‹©ä¸€ä¸ªè¾ƒå°çš„æ•°ï¼Œå¦‚1000ï¼Œè¿™å°†èŠ±è´¹è¾ƒå°‘çš„æ—¶é—´ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722221956.png" /></p><p>å°æ‰¹é‡æ¢¯åº¦ä¸‹é™å¾ˆå®¹æ˜“åœ¨è¿­ä»£æ—¶å‘ç€é”™è¯¯çš„æ–¹å‘å‰è¿›ï¼Œä¸å¯é ä¸”æœ‰ç‚¹å˜ˆæ‚ã€‚ä½†ä¼šè¶‹å‘äºå…¨å±€æœ€å°å€¼ï¼Œæ¯æ¬¡è¿­ä»£çš„è®¡ç®—æˆæœ¬è¦ä½å¾—å¤šï¼Œå› æ­¤å°æ‰¹é‡æ¢¯åº¦ä¸‹é™å¯ä»¥æé«˜ç®—æ³•è¿è¡Œé€Ÿåº¦ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722222116.png" /></p><p>åœ¨å¼ºåŒ–å­¦ä¹ ä¸­åŒæ ·å¯ä»¥åº”ç”¨mini-batchï¼Œå¦‚è™½ç„¶ç¼“å†²å­˜å‚¨åŒºä¸­æœ‰10000ä¸ªæ ·æœ¬å…ƒç»„ï¼Œä½†æ¯æ¬¡è®­ç»ƒç¥ç»ç½‘ç»œæ¨¡å‹æ—¶å¯ä»¥åªé€‰å–1000ä¸ªï¼ˆä¸€ä¸ªbatchï¼‰æ¥è¿›è¡Œè®­ç»ƒ</p><p><img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722223649.png" /></p><h3 id="è½¯æ›´æ–°">è½¯æ›´æ–°</h3><p>è½¯æ›´æ–°æ˜¯æŒ‡åœ¨æ·±åº¦å¼ºåŒ–å­¦ä¹ çš„ç­–ç•¥ç½‘ç»œå’Œç›®æ ‡ç½‘ç»œä¹‹é—´è¿›è¡Œå‚æ•°æ›´æ–°æ—¶ï¼Œé‡‡ç”¨ä¸€ç§å¹³æ»‘çš„æ›´æ–°æ–¹å¼ã€‚</p><p>åœ¨è½¯æ›´æ–°ä¸­ï¼Œæ¯æ¬¡æ›´æ–°æ—¶åªæ›´æ–°ä¸€å°éƒ¨åˆ†çš„ç­–ç•¥ç½‘ç»œå‚æ•°ï¼Œè€Œä¸æ˜¯å®Œå…¨æ›¿æ¢ç›®æ ‡ç½‘ç»œçš„å‚æ•°ã€‚è¿™æ ·å¯ä»¥ç¼“è§£è®­ç»ƒè¿‡ç¨‹ä¸­ç›®æ ‡ç½‘ç»œå‚æ•°çš„å‰§çƒˆå˜åŒ–ï¼Œä½¿å¾—ç½‘ç»œæ›´æ–°æ›´åŠ ç¨³å®šï¼Œæ›´å¥½çš„æ”¶æ•›ã€‚</p><p>è½¯æ›´æ–°é€šå¸¸ä½¿ç”¨ä¸€ä¸ªè¶…å‚æ•°Ï„æ¥æ§åˆ¶æ›´æ–°çš„å¹…åº¦ï¼Œå³é€šè¿‡å¯¹æ–°å‚æ•°å’Œæ—§å‚æ•°è¿›è¡ŒåŠ æƒå¹³å‡æ¥æ›´æ–°ç›®æ ‡ç½‘ç»œçš„å‚æ•°ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722223002.png" /></p><h1 id="å¼ºåŒ–å­¦ä¹ å‘å±•ç°çŠ¶">å¼ºåŒ–å­¦ä¹ å‘å±•ç°çŠ¶</h1><ul><li>å¼ºåŒ–å­¦ä¹ åœ¨æ¨¡æ‹ŸçŠ¶æ€å®ç°è¦æ¯”çœŸå®çŠ¶æ€å®ç°å®¹æ˜“å¾ˆå¤š</li><li>åº”ç”¨è¦æ¯”ç›‘ç£å­¦ä¹ å’Œæ— ç›‘ç£å­¦ä¹ å°‘å¾ˆå¤š</li><li>å‰æ™¯å¾ˆå¤§ï¼Œæ˜¯æœºå™¨å­¦ä¹ çš„æ”¯æŸ±ä¹‹ä¸€</li></ul><p><img src="/img/æœºå™¨å­¦ä¹ 07-å¼ºåŒ–å­¦ä¹ /Pasted%20image%2020230722223249.png" /></p>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ </category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ</title>
    <link href="/2023/07/18/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A006-%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/"/>
    <url>/2023/07/18/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A006-%E6%8E%A8%E8%8D%90%E7%B3%BB%E7%BB%9F/</url>
    
    <content type="html"><![CDATA[<h1 id="åŸºäºå†…å®¹çš„æ¨èç®—æ³•">åŸºäºå†…å®¹çš„æ¨èç®—æ³•</h1><p>å‡è®¾æ‚¨ç»è¥ä¸€å®¶å¤§å‹ç”µå½±æµåª’ä½“ç½‘ç«™ï¼Œç”¨æˆ·ä½¿ç”¨ä¸€åˆ°äº”é¢—æ˜Ÿå¯¹ç”µå½±è¿›è¡Œè¯„çº§ï¼Œè¯·é¢„æµ‹ç”¨æˆ·æœªçœ‹è¿‡çš„ç”µå½±å¯èƒ½ç»™å‡ºçš„è¯„åˆ†ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230717185300.png" /> <span class="math inline">\(n_u\)</span> ï¼šç”¨æˆ·æ•°é‡ <span class="math inline">\(n_m\)</span> ï¼šç”µå½±æ•°é‡ <span class="math inline">\(r(i,j)\)</span> = 1 ï¼šç¬¬jä¸ªç”¨æˆ·å¯¹ ç¬¬iä¸ªç”µå½±åšå‡ºè¯„ä»· <span class="math inline">\(y^{(i,j)}\)</span> ï¼šå½“ <span class="math inline">\(r(i,j)\)</span> = 1æ—¶ï¼Œç¬¬jä¸ªç”¨æˆ·å¯¹ç¬¬iä¸ªç”µå½±çš„è¯„åˆ†</p><p>å‡è®¾æ¯ä¸€éƒ¨ç”µå½±éƒ½æœ‰ä¸€ä¸ªç‰¹å¾é›†Xï¼Œnè¡¨ç¤ºç‰¹å¾æ•°é‡ï¼Œ<span class="math inline">\(x_1\)</span> è¡¡é‡ä¸€éƒ¨ç”µå½±ä¸ºçˆ±æƒ…ç‰‡çš„ç¨‹åº¦ï¼Œ<span class="math inline">\(x_2\)</span> è¡¡é‡ä¸€éƒ¨ç”µå½±ä¸ºåŠ¨ä½œç‰‡çš„ç¨‹åº¦ï¼Œä¾‹å¦‚ <span class="math inline">\(x^{(1)}=\begin{bmatrix}0.9\\0\end{bmatrix}\)</span> <img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230717202336.png" /> æˆ‘ä»¬å¯ä»¥æŠŠæ¯ä¸€ä¸ªç”¨æˆ·çš„é¢„æµ‹è¯„ä»·å€¼å½“åšçº¿æ€§å›å½’é—®é¢˜ã€‚å¯¹äºæ¯ä¸ªç”¨æˆ· jï¼Œéœ€è¦å­¦ä¹ å‚æ•° <span class="math inline">\(w\)</span> å’Œ <span class="math inline">\(b\)</span> , ä¹‹åä¾¿å¯ç”¨ <span class="math inline">\(w Â· x^{(i)} + b\)</span> é¢„æµ‹ç”¨æˆ· j å¯¹ç”µå½± i çš„è¯„åˆ†ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230717202958.png" /></p><p>ä¾‹å¦‚ï¼Œé¢„æµ‹ç”¨æˆ· 1 å¯¹ç”µå½± 3 çš„è¯„åˆ†ï¼Œå‡è®¾æ¨¡å‹å„å‚æ•°ä¸º<span class="math inline">\(\mathbf{w}^{(1)}=\begin{bmatrix}5\\0\end{bmatrix} \quad b^{(1)}=0\quad\mathbf{x}^{(3)}=\begin{bmatrix}0.9\\0\end{bmatrix}\)</span> ï¼Œåˆ™æœ‰ <span class="math inline">\(\mathbf{w}^{(1)}\cdot\mathbf{x}^{(3)}+\mathbf{b}^{(1)}=4.95\)</span></p><p>ä¸€èˆ¬çš„ï¼Œç”¨æˆ·jå¯¹ç”µå½±içš„è¯„åˆ†ä¸ºï¼š<span class="math inline">\(\mathbf{w^{(j)}\cdot x^{(i)}+b^{(j)}}\)</span></p><h2 id="æˆæœ¬å‡½æ•°">æˆæœ¬å‡½æ•°</h2><p><img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230717204317.png" /> å…¶ä¸­ï¼Œ<span class="math inline">\(\sum_{i:r(i,j)=1}\)</span> è¡¨ç¤ºä»…å¯¹<span class="math inline">\(r(i,j)\)</span> = 1 çš„å€¼æ±‚å’Œã€‚ä½¿ç”¨æ­£åˆ™åŒ–åçš„ä»£ä»·å‡½æ•°ä¸ºï¼š <span class="math display">\[\min_{w^{(j)}b^{(j)}}{J}(w^{(j)},b^{(j)})=\frac{1}{2m^{(j)}}\sum_{i:r(i,j)=1}(w^{(j)}\cdot x^{(i)}+b^{(j)}-y^{(i,j)})^{2} +\frac{\lambda}{2m^{(j)}}\sum_{k=1}^{n}\left(w_{k}^{(j)}\right)^{2}\]</span> ä¸ºäº†ä½¿å¼å­æ›´ç®€å•ï¼Œå¯ä»¥å»æ‰ <span class="math inline">\(\frac{1}{2m^{(j)}}\)</span> ä¸­çš„ <span class="math inline">\(m^{(j)}\)</span> ï¼Œå»æ‰åå€¼ä¸å˜ã€‚</p><p>å¯¹æ‰€æœ‰çš„ç”¨æˆ·ï¼š <img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230717210141.png" /></p><h1 id="é¢„æµ‹ç”µå½±ç‰¹å¾">é¢„æµ‹ç”µå½±ç‰¹å¾</h1><p>åŸºäºå†…å®¹çš„æ¨èç®—æ³•è¦æ±‚å–å¾—æ¯éƒ¨ç”µå½±çš„ç‰¹å¾å€¼ï¼Œç„¶è€Œè¿™æ˜¯å¾ˆéš¾çš„ã€‚å¯¹æ­¤ï¼Œæœ‰å¦å¤–ä¸€ç§ç®—æ³•æ— éœ€å–å¾—ç‰¹å¾å€¼ï¼Œè€Œåªè¦æ ¹æ®ç”¨æˆ·çš„çˆ±å¥½çŸ©é˜µ ä¾¿å¯é¢„æµ‹å‡ºç”¨æˆ·å¯¹ç”µå½±çš„è¯„åˆ†ã€‚</p><p>åœ¨ä¹‹å‰çš„åŸºäºå†…å®¹çš„æ¨èç³»ç»Ÿä¸­ï¼Œå¯¹äºæ¯ä¸€éƒ¨ç”µå½±ï¼Œæˆ‘ä»¬éƒ½æŒæ¡äº†å¯ç”¨çš„ç‰¹å¾ï¼Œæ¯”å¦‚è¡¡é‡ä¸€éƒ¨ç”µå½±ä¸ºçˆ±æƒ…ç‰‡çš„ç¨‹åº¦ã€åŠ¨ä½œç‰‡çš„ç¨‹åº¦ï¼Œä½¿ç”¨è¿™äº›ç‰¹å¾è®­ç»ƒæ¥å‡ºæ¯ä¸€ä¸ªç”¨æˆ·çš„å‚æ•°ã€‚ç›¸ååœ°ï¼Œå¦‚æœæˆ‘ä»¬æ‹¥æœ‰ç”¨æˆ·çš„å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥å­¦ä¹ å¾—å‡ºç”µå½±çš„ç‰¹å¾ã€‚</p><p>å‡è®¾æ‹¥æœ‰æ‰€æœ‰å››ä¸ªç”¨æˆ·çš„å‚æ•°ï¼Œå¦‚ä¸‹ï¼Œè¿›è€Œæˆ‘ä»¬å¯ä»¥æ±‚å‡ºç”µå½±çš„ç‰¹å¾ <img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230719165153.png" /></p><h2 id="æˆæœ¬å‡½æ•°-1">æˆæœ¬å‡½æ•°</h2><p><img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230719165851.png" /> ä¸€éƒ¨ç”µå½±ç‰¹å¾çš„æˆæœ¬å‡½æ•°ï¼š <span class="math display">\[J(x^{i})=\frac{1}{2}\sum_{j:r(i,j)=1}(w^{(j)}\cdot x^{(i)}+b^{(j)}-y^{(i,j)})^2+\frac{\lambda}{2}\sum_{k=1}^{n}\left(x_k^{(i)}\right)^2\]</span> æ‰€æœ‰ç”µå½±ç‰¹å¾çš„æˆæœ¬å‡½æ•°ï¼š <span class="math display">\[J\left(x^{(1)},x^{(2)},...,x^{(n_m)}\right)=\frac12\sum_{i=1}^{n_m}\sum_{j:r(i,j)=1}\left(w^{(j)}\cdot x^{(j)}+b^{(j)}-y^{(i,j)}\right)^2+\frac\lambda2\sum_{i=1}^{n_m}\sum_{k=1}^n\left(x_k^{(i)}\right)^2\]</span></p><h1 id="ååŒè¿‡æ»¤ç®—æ³•">ååŒè¿‡æ»¤ç®—æ³•</h1><p>ç›®å‰æˆ‘ä»¬éƒ½æ˜¯åœ¨å‡è®¾å·²æœ‰ç”¨æˆ·å‚æ•°çš„åŸºç¡€ä¸Šæ¥é¢„æµ‹ç”µå½±ç‰¹å¾çš„ï¼Œä½†æ˜¯è¿™äº›å‚æ•°ä»å“ªé‡Œå¾—åˆ°å‘¢ï¼Ÿæˆ‘ä»¬å°†åŸºäºå†…å®¹çš„æ¨èç®—æ³•ï¼ˆå­¦ä¹ wå’Œbï¼‰å’Œé¢„æµ‹ç”µå½±ç‰¹å¾ç®—æ³•ï¼ˆå­¦ä¹ xï¼‰ç»“åˆåœ¨ä¸€èµ·ï¼Œè¿™å°±æ˜¯ååŒè¿‡æ»¤ç®—æ³• ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230719171626.png" /></p><p>ä¸Šé¢æ˜¯é€åˆ—éå†çŸ©é˜µä¸­éé›¶å…ƒç´ ï¼Œä¸‹é¢è¯•é€è¡Œéå†çŸ©é˜µä¸­éé›¶å…ƒç´  ## æˆæœ¬å‡½æ•° <span class="math display">\[\min_{b^{(1)},...,b^{(n_{u})}}J(w,b,x)=\frac{1}{2}\sum_{(i,j):r(i,j)=1}\left(w^{(j)}\cdot x^{(j)}+b^{(j)}-y^{(i,j)}\right)^{2}+\frac{\lambda}{2}\sum_{j=1}^{n_{u}}\sum_{k=1}^{n}\left(w_{k}^{(j)}\right)^{2}+\frac{\lambda}{2}\sum_{i=1}^{n_{m}}\sum_{k=1}^{n}\left(x_{k}^{(j)}\right)^{2}\]</span></p><h2 id="æ¢¯åº¦ä¸‹é™">æ¢¯åº¦ä¸‹é™</h2><p><img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230719173253.png" /></p><p>åœ¨ååŒè¿‡æ»¤ä¸­ï¼Œæ˜¯å› ä¸ºæœ‰å¤šä¸ªç”¨æˆ·è¯„ä»·åŒä¸€éƒ¨ç”µå½±ï¼Œäº†è§£è¿™éƒ¨ç”µå½±å¯èƒ½æ˜¯ä»€ä¹ˆæ ·å­ï¼Œæ‰€ä»¥å¯ä»¥é¢„æµ‹å‡ºç”µå½±ç‰¹å¾ã€‚</p><h2 id="æ¨å¹¿è‡³äºŒè¿›åˆ¶æ ‡ç­¾æ”¶è—å–œæ¬¢å’Œç‚¹å‡»">æ¨å¹¿è‡³äºŒè¿›åˆ¶æ ‡ç­¾ï¼šæ”¶è—ã€å–œæ¬¢å’Œç‚¹å‡»</h2><p><img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230719181259.png" /></p><h1 id="å‡å€¼å½’ä¸€åŒ–">å‡å€¼å½’ä¸€åŒ–</h1><p>è®©æˆ‘ä»¬æ¥çœ‹ä¸‹é¢çš„ç”¨æˆ·è¯„åˆ†æ•°æ®ï¼š <img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230719183211.png" /> å¦‚æœæˆ‘ä»¬æ–°å¢ä¸€ä¸ªç”¨æˆ· <strong>Eve</strong>ï¼Œå¹¶ä¸” <strong>Eve</strong> æ²¡æœ‰ä¸ºä»»ä½•ç”µå½±è¯„åˆ†ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä»¥ä»€ä¹ˆä¸ºä¾æ®ä¸º<strong>Eve</strong>æ¨èç”µå½±å‘¢ï¼Ÿ å¦‚æœè¿™ä¸ªæ•°æ®é›†ä¸Šè¿è¡Œç®—æ³•ï¼Œä¼šå¾—åˆ°Eveçš„å‚æ•°ä¸º<span class="math inline">\(w^{(5)}=\begin{bmatrix}0\\0\end{bmatrix}\quad b^{(5)}=0\)</span> ï¼Œé¢„æµ‹ç»“æœéƒ½ä¸º0ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230719183617.png" /> å› æ­¤ï¼Œå¦‚æœæœ‰ä¸€ä¸ªå°šæœªå¯¹ä»»ä½•å†…å®¹è¿›è¡Œè¯„åˆ†çš„æ–°ç”¨æˆ·ï¼Œç®—æ³•ä¼šè®¤ä¸ºä»–ä»¬ä¼šå¯¹æ‰€æœ‰ç”µå½±éƒ½æ˜¯é›¶æ˜Ÿè¯„åˆ†ï¼Œè¿™æ ·çš„é¢„æµ‹å¹¶ä¸æ˜¯éå¸¸åˆç†çš„ã€‚</p><p>å› æ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨<strong>å‡å€¼å½’ä¸€åŒ–</strong>å¸®åŠ©è¯¥ç®—æ³•ä¸ºå°šæœªå¯¹ä»»ä½•ç”µå½±è¿›è¡Œè¯„çº§çš„æ–°ç”¨æˆ·æ›´å¥½åœ°é¢„æµ‹ç”µå½±è¯„çº§ã€‚</p><p>æˆ‘ä»¬é¦–å…ˆéœ€è¦å¯¹ç»“æœçŸ©é˜µè¿›è¡Œå‡å€¼å½’ä¸€åŒ–å¤„ç†ï¼Œå°†æ¯ä¸€ä¸ªç”¨æˆ·å¯¹æŸä¸€éƒ¨ç”µå½±çš„è¯„åˆ†å‡å»æ‰€æœ‰ç”¨æˆ·å¯¹è¯¥ç”µå½±è¯„åˆ†çš„å¹³å‡å€¼ï¼š <img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230719184019.png" /> ç„¶åæˆ‘ä»¬åˆ©ç”¨è¿™ä¸ªæ–°çš„ çŸ©é˜µæ¥è®­ç»ƒç®—æ³•ã€‚ å¦‚æœæˆ‘ä»¬è¦ç”¨æ–°è®­ç»ƒå‡ºçš„ç®—æ³•æ¥é¢„æµ‹è¯„åˆ†ï¼Œåˆ™éœ€è¦å°†å¹³å‡å€¼é‡æ–°åŠ å›å»ï¼Œé¢„æµ‹<span class="math inline">\(w^{(j)}\cdot x^{(i)}+b^{(j)}+\mu_i\)</span> å¯¹äº<strong>Eve</strong>ï¼Œæˆ‘ä»¬çš„æ–°æ¨¡å‹ä¼šè®¤ä¸ºå¥¹ç»™æ¯éƒ¨ç”µå½±çš„è¯„åˆ†éƒ½æ˜¯è¯¥ç”µå½±çš„å¹³å‡åˆ†ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230719184250.png" /></p><p>å‡å€¼å½’ä¸€åŒ–ä½¿ç®—æ³•æ›´å¿«ï¼Œæ›´é‡è¦çš„æ˜¯ï¼Œå½“ç”¨æˆ·è¯„ä»·çš„ç”µå½±å¾ˆå°‘ç”šè‡³æ ¹æœ¬æ²¡æœ‰ç”µå½±æ—¶ï¼Œå®ƒå¯ä»¥è®©ç®—æ³•ç»™å‡ºæ›´å¥½ã€æ›´åˆç†çš„é¢„æµ‹ã€‚</p><h1 id="å¯»æ‰¾ç›¸å…³ç‰¹å¾">å¯»æ‰¾ç›¸å…³ç‰¹å¾</h1><p>å½“ä½ æµè§ˆä¸€äº›ç”µå½±æ—¶ï¼Œå¹³å°ä¼šç»™ä½ æ¨èä¸€äº›ç›¸ä¼¼çš„ç”µå½±ï¼Œè¿™æ˜¯å¦‚ä½•åšåˆ°çš„ï¼Ÿ</p><p>ä½¿ç”¨ç®—æ³•å­¦ä¹ å‡ºç”µå½±çš„ç‰¹å¾ <span class="math inline">\(X^i\)</span> ï¼Œè¦æ˜¯æƒ³è¦æ‰¾å‡ºå…¶ä»–ä¸ <span class="math inline">\(X^i\)</span> ç›¸ä¼¼çš„ç”µå½±ï¼Œå³å°è¯•æ‰¾åˆ°å…·æœ‰ç‰¹å¾ <span class="math inline">\(X^k\)</span> çš„ç”µå½±ï¼Œå¹¶ä¸” <span class="math inline">\(X^k\)</span> ç±»ä¼¼äº <span class="math inline">\(X^i\)</span> ã€‚æˆ‘ä»¬ç”¨ä»¥ä¸‹æ–¹æ³•ç¡®å®šç”µå½±ç‰¹å¾ä¹‹é—´çš„ç›¸ä¼¼ç¨‹åº¦ï¼š <span class="math display">\[\sum_{l=1}^n\left(x_l^{(k)}-x_l^{(i)}\right)^2\]</span> <img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230720175911.png" /> # ååŒè¿‡æ»¤çš„å±€é™æ€§ 1. å†·å¯åŠ¨é—®é¢˜ã€‚å¦‚ä½•è§£å†³ - å¯¹å¾ˆå°‘æœ‰ç”¨æˆ·è¯„ä»·çš„æ–°é¡¹ç›®è¿›è¡Œæ’åï¼Ÿ - å‘å¯¹å¾ˆå°‘é¡¹ç›®è¿›è¡Œè¯„åˆ†çš„æ–°ç”¨æˆ·æ˜¾ç¤ºä¸€äº›åˆç†çš„å†…å®¹ï¼Ÿ</p><ol start="2" type="1"><li>ä½¿ç”¨æœ‰å…³ç”µå½±æˆ–ç”¨æˆ·çš„è¾…åŠ©ä¿¡æ¯ï¼š<ul><li>ç”µå½±ï¼šç±»å‹ã€ç”µå½±æ˜æ˜Ÿã€å·¥ä½œå®¤ ...</li><li>ç”¨æˆ·ï¼šäººå£ç»Ÿè®¡æ•°æ®ï¼ˆå¹´é¾„ã€æ€§åˆ«ã€åœ°ç‚¹ï¼‰ã€åå¥½ ...</li></ul></li></ol><h1 id="åŸºäºå†…å®¹çš„ååŒè¿‡æ»¤">åŸºäºå†…å®¹çš„ååŒè¿‡æ»¤</h1><h2 id="ååŒè¿‡æ»¤vsåŸºäºå†…å®¹çš„ååŒè¿‡æ»¤">ååŒè¿‡æ»¤VSåŸºäºå†…å®¹çš„ååŒè¿‡æ»¤</h2><p>ååŒè¿‡æ»¤ï¼š - æ ¹æ®ä¸ä½ è¯„åˆ†ç›¸è¿‘çš„ç”¨æˆ·çš„è¯„åˆ†å‘ä½ æ¨èå•†å“</p><p>åŸºäºå†…å®¹çš„ååŒè¿‡æ»¤ï¼š - æ ¹æ®ç”¨æˆ·å’Œç‰©å“çš„ç‰¹å¾å‘æ‚¨æ¨èç‰©å“ï¼Œæ‰¾åˆ°åˆé€‚çš„åŒ¹é…</p><h2 id="ç”¨æˆ·å’Œé¡¹ç›®ç‰¹æ€§ç¤ºä¾‹">ç”¨æˆ·å’Œé¡¹ç›®ç‰¹æ€§ç¤ºä¾‹</h2><p><img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230720183819.png" /></p><p>ç”¨æˆ·ç‰¹å¾å’Œç”µå½±ç‰¹å¾çš„å¤§å°å¯èƒ½ä¼šæœ‰å¾ˆå¤§çš„å·®è·ã€‚ä¾‹å¦‚ï¼Œç”¨æˆ·ç‰¹å¾å¯èƒ½ä¼šæœ‰1500ä¸ªï¼Œè€Œç”µå½±ç‰¹å¾å¯èƒ½åªä¼šæœ‰50ä¸ªã€‚</p><h2 id="åŒ¹é…ç”¨æˆ·å’Œç”µå½±">åŒ¹é…ç”¨æˆ·å’Œç”µå½±</h2><p>ä¹‹å‰æˆ‘ä»¬ç”¨ <span class="math inline">\(w^{(j)}\cdot x^{(i)}+b^{(j)}\)</span> æ¥é¢„æµ‹ç”¨æˆ·jå¯¹ç”µå½±içš„è¯„åˆ†ï¼Œåœ¨æ­¤ï¼Œæˆ‘ä»¬ç”¨ <span class="math inline">\(V_u^J\cdot V_m^i\)</span> æ¥é¢„æµ‹ç”¨æˆ·jå¯¹ç”µå½±içš„è¯„åˆ†ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230720184516.png" /> <span class="math inline">\(b\)</span> ï¼šå»æ‰bä¸ä¼šå½±å“ç®—æ³•æ€§èƒ½ <span class="math inline">\(V_u^J\)</span> ï¼šä»£è¡¨å‘é‡ï¼Œæ˜¯æ ¹æ®ç”¨æˆ·jçš„ç‰¹å¾ <span class="math inline">\(X_u^j\)</span> è®¡ç®—çš„æ•°å­—åˆ—è¡¨ï¼Œä¸‹æ ‡uä»£è¡¨ç”¨æˆ· <span class="math inline">\(V_m^i\)</span> ï¼šä»£è¡¨å‘é‡ï¼Œæ˜¯æ ¹æ®ç”µå½±içš„ç‰¹å¾ <span class="math inline">\(X_m^i\)</span> è®¡ç®—çš„æ•°å­—åˆ—è¡¨ï¼Œä¸‹æ ‡mä»£è¡¨ç”µå½±</p><p>ä¾‹å¦‚ï¼Œ<span class="math inline">\(\mathbf{V_u}=\begin{bmatrix}4.9\\0.1\\\vdots\\3.0\end{bmatrix}\)</span> ï¼Œç¬¬ä¸€ä¸ªæ•°å­—ä»£è¡¨ç”¨æˆ·å¯¹çˆ±æƒ…ç”µå½±çš„å–œçˆ±ç¨‹åº¦ï¼Œç¬¬äºŒä¸ªä»£è¡¨å¯¹åŠ¨ä½œç”µå½±çš„å–œçˆ±ç¨‹åº¦ï¼›<span class="math inline">\(\mathrm{Vm}=\begin{bmatrix}4.5\\0.2\\\vdots\\3.5\end{bmatrix}\)</span> ï¼Œç¬¬ä¸€ä¸ªæ•°å­—è¡¨ç¤ºç”µå½±åŒ…å«çˆ±æƒ…ç‰‡å…ƒç´ çš„ç¨‹åº¦ï¼Œç¬¬äºŒä¸ªè¡¨ç¤ºåŒ…å«åŠ¨ä½œç‰‡å…ƒç´ çš„ç¨‹åº¦ã€‚<span class="math inline">\(V_u\cdot V_m\)</span> è¿›è¡Œç‚¹ç§¯å³å¯äº†è§£ç”¨æˆ·å¯¹è¯¥ç”µå½±çš„å–œçˆ±ç¨‹åº¦ã€‚</p><p>ç‚¹ç§¯éœ€è¦<span class="math inline">\(V_u\)</span> å’Œ <span class="math inline">\(V_m\)</span> æœ‰ç›¸åŒçš„ç»´åº¦ï¼Œæ¯”å¦‚éƒ½éœ€è¦æœ‰32ä¸ªæ•°å­—ã€‚ä½†æ˜¯ï¼Œ<span class="math inline">\(V_u\)</span> å’Œ <span class="math inline">\(V_m\)</span> æ˜¯æ ¹æ®ç”¨æˆ·ç‰¹å¾<span class="math inline">\(X_u^j\)</span> å’Œç”µå½±ç‰¹å¾<span class="math inline">\(X_m^i\)</span> è®¡ç®—æ¥çš„ï¼Œç”¨æˆ·ç‰¹å¾å’Œç”µå½±ç‰¹å¾ä¸ä¸€å®šæœ‰ç›¸åŒå¤§å°ã€‚</p><p>æ€»è€Œè¨€ä¹‹ï¼Œåœ¨ååŒè¿‡æ»¤ä¸­ï¼Œæˆ‘ä»¬æœ‰è®¸å¤šç”¨æˆ·å¯¹ä¸åŒçš„é¡¹ç›®è¿›è¡Œè¯„åˆ†ã€‚åœ¨åŸºäºå†…å®¹çš„è¿‡æ»¤ä¸­ï¼Œæˆ‘ä»¬æœ‰ç”¨æˆ·çš„ç‰¹å¾å’Œé¡¹ç›®çš„ç‰¹å¾ï¼Œæˆ‘ä»¬æƒ³æ‰¾åˆ°ä¸€ç§æ–¹æ³•æ¥æ‰¾åˆ°ç”¨æˆ·å’Œé¡¹ç›®ä¹‹é—´çš„è‰¯å¥½åŒ¹é…ã€‚</p><h2 id="åŸºäºå†…å®¹è¿‡æ»¤çš„æ·±åº¦å­¦ä¹ æ–¹æ³•">åŸºäºå†…å®¹è¿‡æ»¤çš„æ·±åº¦å­¦ä¹ æ–¹æ³•</h2><p>æˆ‘ä»¬ç»™å®šç”¨æˆ·ç‰¹å¾<span class="math inline">\(X_u^j\)</span> å’Œç”µå½±ç‰¹å¾<span class="math inline">\(X_m^i\)</span> ï¼Œè®¡ç®—å‘é‡<span class="math inline">\(V_u\)</span> å’Œ <span class="math inline">\(V_m\)</span> æœ€å¥½çš„åŠæ³•æ˜¯åˆ©ç”¨ç¥ç»ç½‘ç»œã€‚</p><p>æˆ‘ä»¬å°†ç”¨æˆ·ç‰¹å¾<span class="math inline">\(X_u^j\)</span> å’Œç”µå½±ç‰¹å¾<span class="math inline">\(X_m^i\)</span> ä½œä¸ºè¾“å…¥ï¼Œå°†<span class="math inline">\(V_u\)</span> å’Œ <span class="math inline">\(V_m\)</span> ä½œä¸ºè¾“å‡ºï¼Œæœ€åè®¡ç®—<span class="math inline">\(V_u\cdot V_m\)</span> ã€‚ <img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230720201025.png" /> éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”¨æˆ·ç½‘ç»œå’Œç”µå½±ç½‘ç»œè¾“å‡ºå±‚çš„ç¥ç»å…ƒä¸ªæ•°éœ€è¦ç›¸åŒï¼Œä¸­é—´çš„éšè—å±‚å¯ä»¥ä¸åŒã€‚</p><p><span class="math inline">\(V_u\cdot V_m\)</span> æœ€ç»ˆè®¡ç®—å‡ºçš„æ˜¯1-5æˆ–0-5æ˜Ÿçš„ç”µå½±è¯„çº§ï¼Œå¦‚æœæˆ‘ä»¬æœ‰äºŒè¿›åˆ¶æ ‡ç­¾ï¼Œyè¡¨ç¤ºç”¨æˆ·å–œæ¬¢æˆ–ä¸å–œæ¬¢æŸä¸ªé¡¹ç›®ï¼Œå¯ä»¥å°†sigmodå‡½æ•°åº”ç”¨äº<span class="math inline">\(V_u\cdot V_m\)</span> å¾—å‡ºæ ‡ç­¾ä¸º1çš„æ¦‚ç‡ã€‚<span class="math inline">\(g(v_u\cdot v_m)\mathrm{~to~predict~the~probability~that~y^{(i,j)}~is~1}\)</span></p><p>æˆ‘ä»¬ä¹Ÿå¯ä»¥å°†ç”¨æˆ·ç½‘ç»œå’Œç”µå½±ç½‘ç»œåˆæˆä¸€ä¸ªç¥ç»ç½‘è·¯ï¼Œæœ€ç»ˆç›´æ¥è®¡ç®—å‡ºé¢„æµ‹å€¼ï¼š <img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230720202033.png" /></p><p>ç°åœ¨ï¼Œè¿™ä¸ªæ¨¡å‹æœ‰å¾ˆå¤šå‚æ•°ï¼Œç¥ç»ç½‘ç»œçš„æ¯ä¸€å±‚éƒ½æœ‰ä¸€ç»„ç¥ç»ç½‘ç»œå‚æ•°ã€‚é‚£ä¹ˆå¦‚ä½•è®­ç»ƒç”¨æˆ·ç½‘ç»œå’Œç”µå½±ç½‘ç»œçš„æ‰€æœ‰å‚æ•°ï¼Ÿæˆ‘ä»¬è¦åšçš„æ˜¯æ„å»ºä¸€ä¸ªæˆæœ¬å‡½æ•°Jã€‚ <span class="math display">\[J=\sum_{(i,j):r(i,j)=1}\left(v_{u}^{(j)}\cdot v_{m}^{(i)}-y^{(i,j)}\right)^2+\text{NN regularization term}\]</span> æˆ‘ä»¬å°†ç¥ç»ç½‘è·¯ç®—å‡ºæ¥çš„å‚æ•° <span class="math inline">\(V_u\)</span> å’Œ <span class="math inline">\(V_m\)</span> å¸¦å…¥æˆæœ¬å‡½æ•°ä¸­çš„ <span class="math inline">\(v_{u}^{(j)}\)</span> å’Œ<span class="math inline">\(v_{m}^{(i)}\)</span> ï¼Œæ¥è¯„ä»·è¯¥æ¨¡å‹çš„å¥½åï¼Œè¿›è€Œç”¨æ¢¯åº¦ä¸‹é™æˆ–å…¶ä»–ä¼˜åŒ–ç®—æ³•æ¥è°ƒæ•´ç¥ç»ç½‘ç»œçš„å‚æ•°ï¼Œè¿˜å¯ä»¥æ·»åŠ ç¥ç»ç½‘ç»œçš„æ­£åˆ™åŒ–é¡¹ <code>NN regularization term</code> æ¥é˜²æ­¢è¿‡æ‹Ÿåˆã€‚</p><p>å½“è®­ç»ƒå®Œè¿™ä¸ªç¥ç»ç½‘ç»œåï¼Œä¹Ÿå¯ä»¥ç”¨å®ƒæ¥å¯»æ‰¾ç›¸ä¼¼çš„ç”µå½±ï¼š</p><p><img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230720203458.png" /></p><p>ç›®å‰è¯¥ç®—æ³•çš„ä¸€ä¸ªå±€é™æ€§æ˜¯ï¼Œå¦‚æœæ‚¨æœ‰å¤§é‡å¯èƒ½æƒ³è¦æ¨èçš„ä¸åŒç”µå½±çš„å¤§ç›®å½•ï¼Œé‚£ä¹ˆè¿è¡Œå®ƒçš„è®¡ç®—æˆæœ¬å¯èƒ½éå¸¸é«˜ã€‚</p><h2 id="ä»å¤§å‹ç›®å½•ä¸­æ¨è">ä»å¤§å‹ç›®å½•ä¸­æ¨è</h2><p>å¦‚æœè¦æ¨èæ•°ç™¾ä¸‡ã€æ•°åƒä¸‡ç”šè‡³æ›´å¤šçš„ç”µå½±æ—¶ï¼Œå¦‚ä½•ä½¿ç®—æ³•è¿è¡Œçš„æ›´é«˜æ•ˆã€‚ å®ç°ä¸ºä¸¤ä¸ªæ­¥éª¤ï¼Œç§°ä¸ºæ£€ç´¢å’Œæ’åæ­¥éª¤ã€‚ åœ¨æ£€ç´¢æ­¥éª¤ä¸­ç”Ÿæˆå¤§é‡å¯èƒ½çš„é¡¹ç›®å€™é€‰åˆ—è¡¨ï¼Œè¯•å›¾æ¶µç›–å¯èƒ½å‘ç”¨æˆ·æ¨èçš„è®¸å¤šå¯èƒ½çš„ä¸œè¥¿ã€‚å¦‚æœå€™é€‰åˆ—è¡¨ä¸­åŒ…å«å¾ˆå¤šç”¨æˆ·å¯èƒ½ä¸å¤ªå–œæ¬¢çš„é¡¹ç›®ï¼Œé‚£ä¹ˆåœ¨æ’åæ­¥éª¤ä¸­å°†å¾®è°ƒå¹¶é€‰æ‹©æœ€å¥½çš„é¡¹ç›®æ¨èç»™ç”¨æˆ·ã€‚</p><h3 id="æ£€ç´¢">æ£€ç´¢</h3><ul><li><p>ç”Ÿæˆå¤§é‡å¯èƒ½çš„å€™é€‰é¡¹ç›®åˆ—è¡¨ ï¼ˆ1ï¼‰å¯¹äºç”¨æˆ·æœ€è¿‘è§‚çœ‹çš„ 10 éƒ¨ç”µå½±ä¸­çš„æ¯ä¸€éƒ¨ç”µå½±ï¼ŒæŸ¥æ‰¾ 10 éƒ¨æœ€ç›¸ä¼¼çš„ç”µå½± ï¼ˆ2ï¼‰å¯¹äºè§‚çœ‹æ¬¡æ•°æœ€å¤šçš„ 3 ä¸ªç±»å‹ï¼ŒæŸ¥æ‰¾æ’åå‰ 10 çš„ç”µå½± ï¼ˆ3ï¼‰å›½å†…æ’åå‰20çš„ç”µå½±</p></li><li><p>å°†æ£€ç´¢åˆ°çš„é¡¹ç›®åˆå¹¶åˆ°åˆ—è¡¨ä¸­ï¼Œåˆ é™¤é‡å¤é¡¹å’Œå·²è§‚çœ‹/è´­ä¹°çš„é¡¹ç›®</p></li></ul><p>æ£€ç´¢æ­¥éª¤çš„ç›®æ ‡æ˜¯ç¡®ä¿å¹¿æ³›çš„è¦†ç›–èŒƒå›´ï¼Œä»¥ä¾¿æœ‰è¶³å¤Ÿçš„ç”µå½±è‡³å°‘æœ‰å¾ˆå¤šå¥½ç”µå½±</p><h3 id="æ’å">æ’å</h3><ul><li>è·å–æ£€ç´¢åˆ°çš„åˆ—è¡¨ï¼Œå¹¶ä½¿ç”¨æ¨¡å‹è¿›è¡Œæ’åï¼ˆæŠŠç”¨æˆ·ç‰¹å¾å‘é‡å’Œç”µå½±ç‰¹å¾å‘é‡è¾“å…¥åˆ°ç¥ç»ç½‘ç»œä¸­ï¼‰</li><li>å‘ç”¨æˆ·æ˜¾ç¤ºæ’åçš„é¡¹ç›®</li></ul><p><img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230721105951.png" /> <img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230721110025.png" /></p><p>æ£€ç´¢æ›´å¤šé¡¹ç›®ä¼šå¸¦æ¥æ›´å¥½çš„æ€§èƒ½ï¼Œä½†æ¨èé€Ÿåº¦ä¼šæ›´æ…¢ã€‚ è¦åˆ†æ/ä¼˜åŒ–æƒè¡¡ï¼Œè¯·è¿›è¡Œç¦»çº¿å®éªŒï¼Œçœ‹çœ‹æ£€ç´¢å…¶ä»–é¡¹ç›®æ˜¯å¦ä¼šäº§ç”Ÿæ›´ç›¸å…³çš„æ¨èã€‚</p><p>ä½†æ˜¯é€šè¿‡å•ç‹¬çš„æ£€ç´¢æ­¥éª¤å’Œæ’åæ­¥éª¤ï¼Œèƒ½ä½¿è®¸å¤šæ¨èç³»ç»Ÿèƒ½å¤Ÿæä¾›å¿«é€Ÿå’Œå‡†ç¡®çš„ç»“æœã€‚å› ä¸ºæ£€ç´¢æ­¥éª¤è¯•å›¾å‰ªæ‰å¾ˆå¤šä¸å€¼å¾—åšçš„æ›´è¯¦ç»†çš„é¡¹ç›®ï¼Œç„¶åæ’åæ­¥éª¤å¯¹ç”¨æˆ·å®é™…å¯èƒ½å–œæ¬¢çš„é¡¹ç›®è¿›è¡Œæ›´ä»”ç»†çš„é¢„æµ‹ã€‚å¦åˆ™éœ€è¦å¯¹æ‰€æœ‰çš„é¡¹ç›®è¿›è¡Œéå¸¸è¯¦ç»†çš„é¢„æµ‹ã€‚</p><h2 id="åŸºäºå†…å®¹è¿‡æ»¤çš„tensorflowå®ç°">åŸºäºå†…å®¹è¿‡æ»¤çš„TensorFlowå®ç°</h2><p><img src="/img/æœºå™¨å­¦ä¹ 06-æ¨èç³»ç»Ÿ/Pasted%20image%2020230721102308.png" /></p>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ </category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœºå™¨å­¦ä¹ 05-æ— ç›‘ç£å­¦ä¹ </title>
    <link href="/2023/07/17/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A005-%E6%97%A0%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/"/>
    <url>/2023/07/17/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A005-%E6%97%A0%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="èšç±»clustering">èšç±»ï¼ˆClusteringï¼‰</h1><p>èšç±»ç®—æ³•æŸ¥çœ‹å¤§é‡æ•°æ®ç‚¹å¹¶è‡ªåŠ¨æ‰¾åˆ°å½¼æ­¤ç›¸å…³æˆ–ç›¸ä¼¼çš„æ•°æ®ç‚¹ã€‚</p><h2 id="k-means">K-means</h2><p>é¦–å…ˆåšçš„æ˜¯éšæœºåˆå§‹åŒ–é›†ç¾¤ä¸­å¿ƒçš„ä½ç½®ï¼Œé›†ç¾¤ä¸­å¿ƒç§°ä¸ºç°‡è´¨å¿ƒï¼ˆCluster centroidsï¼‰ã€‚ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716102103.png" /></p><p>æ¥ç€ï¼Œé‡å¤åšä¸¤ä»¶äº‹ï¼Œç¬¬ä¸€ä¸ªæ˜¯å°†ç‚¹åˆ†é…ç»™ç°‡è´¨å¿ƒï¼Œç¬¬äºŒä¸ªæ˜¯ç§»åŠ¨ç°‡è´¨å¿ƒ</p><p>ç¬¬ä¸€æ­¥ï¼šéå†è¿™äº›ç‚¹ä¸­çš„æ¯ä¸€ä¸ªï¼Œå¹¶æŸ¥çœ‹å®ƒæ˜¯æ›´æ¥è¿‘çº¢åå­—è¿˜æ˜¯æ›´æ¥è¿‘è“åå­—ã€‚ç„¶åæŠŠè¿™äº›ç‚¹åˆ†é…ç»™å®ƒæ›´æ¥è¿‘çš„ç°‡è´¨å¿ƒã€‚ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716102808.png" /></p><p>ç¬¬äºŒæ­¥ï¼šæŸ¥çœ‹æ‰€æœ‰çš„çº¢ç‚¹å¹¶å–å®ƒä»¬çš„å¹³å‡å€¼ã€‚å¹¶å°†çº¢åå­—ç§»åŠ¨åˆ°çº¢ç‚¹çš„å¹³å‡ä½ç½®ï¼Œç§°ä¸ºæ–°çš„ç°‡è´¨å¿ƒä½ç½®ã€‚è“è‰²åŒç†ã€‚ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716102923.png" /></p><p>é‡å¤ç¬¬ä¸€æ­¥ï¼šéå†æ¯ä¸€ä¸ªç‚¹å¹¶åˆ†é…ã€‚ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716103250.png" /></p><p>æ¥ç€é‡å¤ç¬¬äºŒæ­¥ï¼šç§»åŠ¨ç°‡è´¨å¿ƒã€‚ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716103433.png" /></p><p>ä¸€ç›´é‡å¤è¿™ä¸¤ä¸ªæ­¥éª¤ï¼Œç›´åˆ°ç°‡è´¨å¿ƒçš„ä½ç½®æ²¡æœ‰å˜åŒ–ï¼Œæ­¤æ—¶Kå‡å€¼èšç±»ç®—æ³•å·²ç»æ”¶æ•›ã€‚ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716103559.png" /></p><h2 id="k-meansç®—æ³•">K-meansç®—æ³•</h2><p><strong>ç¬¬ä¸€æ­¥ï¼šå°†ç‚¹åˆ†é…ç»™ç°‡è´¨å¿ƒ</strong> <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716123812.png" /> K:å…±Kä¸ªèšç±»ä¸­å¿ƒ <span class="math inline">\(\mu_{1},\mu_{2},\ldots,\mu_{K}\)</span> <span class="math inline">\(c^{(i)}\)</span> = æœ€æ¥è¿‘<span class="math inline">\(x^{(i)}\)</span>çš„èšç±»ä¸­å¿ƒç‚¹çš„ç´¢å¼•(ä»1åˆ°K) ä¾‹å¦‚ï¼šç‚¹<span class="math inline">\(x^{(1)}\)</span> ç¦»èšç±»ä¸­å¿ƒ <span class="math inline">\(\mu_{1}\)</span> æœ€è¿‘ï¼Œåˆ™<span class="math inline">\(c^{(i)}\)</span> = 1</p><p><strong>ç¬¬äºŒæ­¥ï¼šç§»åŠ¨ç°‡è´¨å¿ƒ</strong> <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716124031.png" /></p><p><span class="math inline">\(\mu_k\)</span> = åˆ†é…ç»™ç¾¤ç»„kçš„ç‚¹çš„å¹³å‡å€¼</p><h2 id="k-meansçš„æˆæœ¬å‡½æ•°">K-meansçš„æˆæœ¬å‡½æ•°</h2><p><span class="math inline">\(\mu_{C^{(i)}}\)</span> = ç¤ºä¾‹<span class="math inline">\(x^{(i)}\)</span>æ‰€åœ¨ç¾¤ç»„çš„èšç±»ä¸­å¿ƒç‚¹ <span class="math display">\[J\big(c^{(1)},...,c^{(m)},\mu_1,...,\mu_K\big)=\frac{1}{m}\sum_{i=1}^{m}\big\Vert x^{(i)}-\mu_{c^{(i)}}\big\Vert^2\]</span> mè¡¨ç¤ºè®­ç»ƒæ ·æœ¬çš„æ•°é‡ã€‚</p><p><strong><span class="math inline">\(\mu_k\)</span> å’Œ<span class="math inline">\(\mu_{C^{(i)}}\)</span> åŒºåˆ«ï¼š</strong> <span class="math inline">\(\mu_k\)</span>è¡¨ç¤ºç¬¬kä¸ªç¾¤ç»„çš„èšç±»ä¸­å¿ƒç‚¹ï¼Œå³å°†è¯¥ç¾¤ç»„ä¸­æ‰€æœ‰åˆ†é…ç»™è¯¥ç¾¤ç»„çš„ç‚¹<span class="math inline">\(x^{(i)}\)</span>çš„å¹³å‡å€¼ä½œä¸ºæ–°çš„èšç±»ä¸­å¿ƒç‚¹ã€‚<span class="math inline">\(\mu_k\)</span>çš„è®¡ç®—æ–¹å¼æ˜¯é€šè¿‡å¯¹å±äºç¬¬kä¸ªç¾¤ç»„çš„æ‰€æœ‰æ•°æ®ç‚¹çš„å‡å€¼æ¥è·å¾—ã€‚</p><p>è€Œ<span class="math inline">\(\mu_{C^{(i)}}\)</span>è¡¨ç¤ºç¤ºä¾‹<span class="math inline">\(x^{(i)}\)</span>æ‰€åœ¨ç¾¤ç»„çš„èšç±»ä¸­å¿ƒç‚¹ï¼Œæ˜¯é€šè¿‡å°†<span class="math inline">\(x^{(i)}\)</span>åˆ†é…ç»™æœ€è¿‘çš„èšç±»ä¸­å¿ƒç‚¹å¾—åˆ°çš„ã€‚<span class="math inline">\(\mu_{C^{(i)}}\)</span>å’Œ<span class="math inline">\(\mu_k\)</span>å…·æœ‰ç›¸åŒçš„å«ä¹‰ï¼Œåªæ˜¯å¯¹åº”äºä¸åŒçš„æ•°æ®ç‚¹ã€‚<span class="math inline">\(\mu_{C^{(i)}}\)</span>æ˜¯æ ¹æ®æ¯ä¸ªæ•°æ®ç‚¹<span class="math inline">\(x^{(i)}\)</span>çš„åˆ†é…ç»“æœå¾—åˆ°çš„ï¼Œè€Œ<span class="math inline">\(\mu_k\)</span>æ˜¯æ ¹æ®æ•´ä¸ªç¾¤ç»„çš„æ•°æ®ç‚¹æ±‚å–å‡å€¼å¾—åˆ°çš„ã€‚</p><p>å› æ­¤ï¼Œ<span class="math inline">\(\mu_{C^{(i)}}\)</span>å’Œ<span class="math inline">\(\mu_k\)</span>åœ¨K-meansç®—æ³•ä¸­éƒ½ç”¨äºè¡¨ç¤ºèšç±»ä¸­å¿ƒç‚¹ï¼Œåªæ˜¯å¯¹åº”äºä¸åŒçš„æ•°æ®ç‚¹å’Œç¾¤ç»„ã€‚<span class="math inline">\(\mu_{C^{(i)}}\)</span>è¡¨ç¤ºä¸€ä¸ªç‰¹å®šçš„æ•°æ®ç‚¹çš„èšç±»ä¸­å¿ƒç‚¹ï¼Œè€Œ<span class="math inline">\(\mu_k\)</span>è¡¨ç¤ºæ•´ä¸ªç¾¤ç»„çš„èšç±»ä¸­å¿ƒç‚¹ã€‚</p><h2 id="å¦‚ä½•åˆå§‹åŒ–ç°‡è´¨å¿ƒ">å¦‚ä½•åˆå§‹åŒ–ç°‡è´¨å¿ƒ</h2><p>éšæœºé€‰æ‹©æ ·æœ¬ç‚¹ä½œä¸ºåˆå§‹ç°‡è´¨å¿ƒ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716165659.png" /></p><p>åªé€‰æ‹©ä¸€æ¬¡çš„è¯å®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716165753.png" /></p><p>å¤šæ¬¡é€‰æ‹©æ ·æœ¬ç‚¹ä½œ ä¸ºç°‡è´¨å¿ƒï¼Œæœ€ç»ˆé€‰æ‹©å‡ºæˆæœ¬å‡½æ•°æœ€å°çš„é‚£ä¸€ä¸ª <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716170122.png" /></p><h2 id="é€‰æ‹©èšç±»æ•°é‡k">é€‰æ‹©èšç±»æ•°é‡K</h2><p>Elbow method: <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716171545.png" /></p><p>å¯¹äºå°†Tæ¤åˆ†æˆä¸‰ä¸ªå°ºç ï¼Œè¿˜æ˜¯äº”ä¸ªå°ºç ï¼Œéœ€è¦è€ƒè™‘æˆæœ¬å’Œåˆ©æ¶¦ä¹‹é—´çš„å…³ç³»ï¼Œäº”ä¸ªå°ºç å¯èƒ½æŒ£å¾—æ›´å¤šï¼Œä½†æ˜¯æˆæœ¬æ›´å¤§ã€‚ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716171828.png" /></p><h1 id="å¼‚å¸¸æ£€æµ‹anomaly-detection">å¼‚å¸¸æ£€æµ‹ï¼ˆAnomaly detectionï¼‰</h1><p>å¼‚å¸¸æ£€æµ‹ï¼ˆAnomaly Detectionï¼‰æ˜¯ä¸€ç§ç”¨äºè¯†åˆ«å’Œç›‘æµ‹æ•°æ®ä¸­å¼‚å¸¸ã€å¼‚å¸¸è¡Œä¸ºæˆ–å¼‚å¸¸æ¨¡å¼çš„æŠ€æœ¯ã€‚å®ƒå¯ä»¥å¸®åŠ©æˆ‘ä»¬åœ¨å¤§é‡æ•°æ®ä¸­è‡ªåŠ¨å‘ç°é‚£äº›ä¸æ­£å¸¸è¡Œä¸ºæˆ–æ¨¡å¼ä¸åŒçš„æ•°æ®ç‚¹ã€‚</p><p>æ£€æµ‹åˆ¶é€ çš„é£æœºå‘åŠ¨æœºæ˜¯å¦å­˜åœ¨é—®é¢˜ï¼Œä¸ºäº†ç®€åŒ–é—®é¢˜ï¼Œæˆ‘ä»¬ä»¥å‘åŠ¨æœºè¿è¡Œçš„æ¸©åº¦ã€éœ‡åŠ¨é¢‘ç‡ä½œä¸ºç‰¹å¾ã€‚å½“æ–°å¼•æ“çš„å‚æ•°è½åœ¨ä¸­é—´ä¸€å †æ—¶ï¼Œå‘åŠ¨æœºæ­£å¸¸ï¼Œå½“è½åœ¨å¤–å›´æ—¶æœ‰å¾ˆå¤§æ¦‚ç‡å­˜åœ¨é—®é¢˜ã€‚ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716173246.png" /></p><p>æ‰§è¡Œå¼‚å¸¸æ£€æµ‹çš„æœ€å¸¸è§æ–¹æ³•æ˜¯é€šè¿‡å¯†åº¦ä¼°è®¡çš„æŠ€æœ¯ã€‚ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716174016.png" /></p><h2 id="é«˜æ–¯åˆ†å¸ƒ">é«˜æ–¯åˆ†å¸ƒ</h2><p><img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716174647.png" /></p><p>å¯¹äºåªæœ‰ä¸€ä¸ªç‰¹å¾æ—¶ï¼Œå°†å…¶åº”ç”¨äºå¼‚å¸¸æ£€æµ‹ï¼Œå°±æ˜¯è¦æ‰¾åˆ°å‚æ•° <span class="math inline">\(\mu\)</span> å’Œ <span class="math inline">\(\sigma^2\)</span> çš„åˆé€‚å–å€¼ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716175138.png" /></p><h2 id="å¼‚å¸¸æ£€æµ‹ç®—æ³•">å¼‚å¸¸æ£€æµ‹ç®—æ³•</h2><p><img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716193942.png" /></p><p>å…±æœ‰mä¸ªæ ·æœ¬ï¼Œnä¸ªç‰¹å¾ï¼Œå¯¹æ¯ä¸€ä¸ªç‰¹å¾æ±‚å¹³å‡å€¼ <span class="math inline">\(\mu\)</span> å’Œæ–¹å·® <span class="math inline">\(\sigma^2\)</span> ã€‚</p><p><span class="math inline">\(\mu_j\)</span> : ç¬¬jä¸ªç‰¹å¾çš„å¹³å‡å€¼ <span class="math inline">\(\sigma_j^2\)</span> : ç¬¬jä¸ªç‰¹å¾çš„æ–¹å·® <span class="math inline">\(p(x)\)</span> : å‡å®šæ¯ä¸€ä¸ªç‰¹å¾ <span class="math inline">\(x_{1}\)</span> åˆ° <span class="math inline">\(x_{n}\)</span> å‡æœä»æ­£æ€åˆ†å¸ƒï¼Œåˆ™å…¶æ¨¡å‹çš„æ¦‚ç‡ä¸ºï¼š <span class="math display">\[\begin{aligned}p(x)&amp; =p(x_{1};\mu_{1},\sigma_{1}^{2})p(x_{2};\mu_{2},\sigma_{2}^{2})\cdotp\cdotp\cdotp p(x_{n};\mu_{n},\sigma_{n}^{2})  \\&amp;=\prod_{j=1}^{n}p(x_{j};\mu_{j},\sigma_{j}^{2}) \\&amp;=\prod_{j=1}^{n}\frac{1}{\sqrt{2\pi}\sigma_{j}}exp(-\frac{(x_{j}-\mu_{j})^{2}}{2\sigma_{j}^{2}})\end{aligned}\]</span></p><p>ä¸¾ä¾‹ï¼š å‡å®šæˆ‘ä»¬æœ‰ä¸¤ä¸ªç‰¹å¾ï¼Œå®ƒä»¬éƒ½æœä»äºé«˜æ–¯åˆ†å¸ƒï¼Œå¹¶ä¸”é€šè¿‡å‚æ•°ä¼°è®¡ï¼Œæˆ‘ä»¬çŸ¥é“äº†åˆ†å¸ƒå‚æ•°ï¼š <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716202208.png" /> å°† <span class="math inline">\(p(x_1;\mu_1,\sigma_1^2)\)</span> å’Œ <span class="math inline">\(p(x_2;\mu_2,\sigma_2^2)\)</span> ç›¸ä¹˜åä¼šå¾—åˆ°ä¸Šå›¾å·¦ä¸‹è§’çš„ä¸‰ç»´æ›²é¢å›¾ <span class="math inline">\(p(x)\)</span>ã€‚å½“ <span class="math inline">\(p\left(x_{test}^{(1)}\right)\)</span> å°äº <span class="math inline">\(\mathbf{\varepsilon}\)</span> æ—¶ï¼Œæœ‰å¼‚å¸¸ã€‚</p><h2 id="ç®—æ³•è¯„ä¼°">ç®—æ³•è¯„ä¼°</h2><h3 id="å®æ•°è®¡ç®—">å®æ•°è®¡ç®—</h3><p><img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716221302.png" /></p><p>é£æœºå‘åŠ¨æœºç›‘æµ‹å®ä¾‹ï¼š æ ¹æ®ä»¥å¾€çš„æ•°æ®ï¼Œæˆ‘ä»¬é€‰æ‹©10000ä¸ªæ­£å¸¸çš„æ ·æœ¬ï¼Œ20ä¸ªå¼‚å¸¸æ ·æœ¬ã€‚ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716220237.png" /></p><p>åœ¨è®­ç»ƒé›†ä¸­ç”¨6000ä¸ªæ­£å¸¸æ ·æœ¬è®­ç»ƒæ¨¡å‹ï¼› äº¤å‰éªŒè¯é›†ä¸­æœ‰2000ä¸ªæ­£å¸¸æ•°æ®å’Œ10ä¸ªå¼‚å¸¸æ•°æ®ï¼Œå¹¶æŠŠå®ƒä»¬æ ‡è®°ä¸º0å’Œ1ã€‚åœ¨äº¤å‰éªŒè¯é›†ä¸­è¯„ä¼°æ¨¡å‹å‡†ç¡®ç‡ã€‚</p><p>æ¥ç€ï¼Œæ”¹å˜è¶…å‚æ•°ï¼Œè®­ç»ƒé›†ä¸­è®­ç»ƒæ¨¡å‹ï¼Œäº¤å‰éªŒè¯é›†ä¸­è¯„ä¼°æ¨¡å‹ã€‚</p><p>æœ€åé€‰å‡ºä¸€ä¸ªæœ€å¥½çš„æ¨¡å‹ç”¨åœ¨é¢„æµ‹é›†ä¸­è¯„ä¼°æœ€ç»ˆæ¨¡å‹ã€‚</p><h3 id="ç®—æ³•è¯„ä¼°-1">ç®—æ³•è¯„ä¼°</h3><p>å¦‚æœè´Ÿé¢æ ·æœ¬éå¸¸å°‘ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨é¢„æµ‹é›†ï¼Œåªç”¨è®­ç»ƒé›†å’Œäº¤å‰éªŒè¯é›†ã€‚ä½†è¿™æ ·çš„å¼Šç«¯æ˜¯ï¼Œæ¨¡å‹å¯èƒ½åœ¨æœªçŸ¥çš„æ•°æ®ä¸Šæ•ˆæœå¹¶ä¸å¥½ã€‚</p><p>ç”±äºå¼‚å¸¸æ ·æœ¬æ˜¯éå¸¸å°‘çš„ï¼Œæ‰€ä»¥æ•´ä¸ªæ•°æ®é›†æ˜¯éå¸¸åæ–œçš„ï¼Œæˆ‘ä»¬ä¸èƒ½å•çº¯çš„ç”¨é¢„æµ‹å‡†ç¡®ç‡æ¥è¯„ä¼°ç®—æ³•ä¼˜åŠ£ï¼Œæ‰€ä»¥ç”¨æˆ‘ä»¬ä¹‹å‰çš„æŸ¥å‡†ç‡ï¼ˆPrecisionï¼‰å’Œå¬å›ç‡ï¼ˆRecallï¼‰è®¡ç®—å‡º F å€¼è¿›è¡Œè¡¡é‡å¼‚å¸¸æ£€æµ‹ç®—æ³•äº†ã€‚</p><ul><li>çœŸé˜³æ€§ã€å‡é˜³æ€§ã€çœŸé˜´æ€§ã€å‡é˜´æ€§</li><li>æŸ¥å‡†ç‡ï¼ˆPrecisionï¼‰ä¸ å¬å›ç‡ï¼ˆRecallï¼‰</li><li>F1 Score</li></ul><h2 id="å¼‚å¸¸æ£€æµ‹vsç›‘ç£å­¦ä¹ ">å¼‚å¸¸æ£€æµ‹VSç›‘ç£å­¦ä¹ </h2><p><img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716224601.png" /></p><p>å¼‚å¸¸æ£€æµ‹ï¼Œä»»ä½•åç¦»æ­£å¸¸çš„æƒ…å†µéƒ½è¢«æ ‡è®°ä¸ºå¼‚å¸¸ï¼ŒåŒ…æ‹¬è¿™åœ¨æ‚¨çš„æ•°æ®é›†ä¸­ä»æœªè§è¿‡çš„ä¸€ç§å…¨æ–°çš„é£æœºå‘åŠ¨æœºæ•…éšœæ–¹å¼ã€‚</p><p>æ— ç›‘ç£é€‚ç”¨äºå¯èƒ½ä¼šå‡ºç°ä»æ¥æ²¡è§è¿‡çš„ä¾‹å­çš„äº‹æƒ…ï¼Œè€Œç›‘ç£å­¦ä¹ å°±é€‚ç”¨äºä¸ä¼šå‡ºç°å’Œä»¥å‰å®Œå…¨ä¸ä¸€æ ·çš„ä¾‹å­çš„æ•°æ®é›†</p><p>å¼‚å¸¸æ£€æµ‹è¯•å›¾æ‰¾åˆ°å…¨æ–°çš„æ­£é¢ç¤ºä¾‹ï¼Œè¿™äº›ç¤ºä¾‹å¯èƒ½ä¸æ‚¨ä»¥å‰è§è¿‡çš„ä»»ä½•ä¸œè¥¿éƒ½ä¸ä¸€æ ·ã€‚ç›‘ç£å­¦ä¹ ä¼šæŸ¥çœ‹æ‚¨çš„æ­£é¢ç¤ºä¾‹å¹¶å°è¯•ç¡®å®šæœªæ¥ç¤ºä¾‹æ˜¯å¦ä¸æ‚¨å·²ç»çœ‹åˆ°çš„æ­£é¢ç¤ºä¾‹ç›¸ä¼¼ï¼Œ</p><p>ä¾‹å­ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716224929.png" /></p><h2 id="é€‰æ‹©ç‰¹å¾">é€‰æ‹©ç‰¹å¾</h2><ol type="1"><li>å°†ä¸ç¬¦åˆé«˜æ–¯åˆ†å¸ƒçš„ç‰¹å¾è½¬æ¢æˆç¬¦åˆé«˜æ–¯åˆ†å¸ƒçš„ç‰¹å¾ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716230532.png" /></li><li>æŸ¥çœ‹æœªèƒ½æ£€æµ‹å‡ºæ¥çš„å¼‚å¸¸ï¼Œç„¶åçœ‹çœ‹èƒ½å¦å¯»æ‰¾å‡ºæ–°çš„ç‰¹å¾ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230716230651.png" /></li></ol><h1 id="pcaç®—æ³•">PCAç®—æ³•</h1><h2 id="é™ä½ç‰¹å¾æ•°é‡">é™ä½ç‰¹å¾æ•°é‡</h2><p>PCAæ˜¯ä¸€ç§é™ç»´ç®—æ³•ï¼Œç”¨äºè·å–å…·æœ‰å¤§é‡ç‰¹å¾ã€å¤§é‡ç»´åº¦æˆ–é«˜ç»´åº¦çš„æ•°æ®ï¼Œå¹¶å°†å…¶ç®€åŒ–ä¸ºä¸¤ä¸ªæˆ–ä¸‰ä¸ªç‰¹å¾ï¼Œå˜æˆäºŒç»´æˆ–ä¸‰ç»´æ•°æ®ï¼Œä»¥ä¾¿å¯ä»¥å¯¹å…¶è¿›è¡Œç»˜å›¾å’Œå¯è§†åŒ–ï¼Œå¹¶æ›´å¥½åœ°ç†è§£æ•°æ®ä¸­æœ‰ä»€ä¹ˆã€‚</p><h3 id="ç¤ºä¾‹">ç¤ºä¾‹</h3><p>å¦‚æœä½ æœ‰æ¥è‡ªæ±½è½¦çš„æ•°æ®ï¼Œå¹¶ä¸”æ±½è½¦å¯ä»¥æœ‰å¾ˆå¤šç‰¹å¾ã€‚ä¾‹å¦‚æ±½è½¦çš„é•¿åº¦ï¼Œæ±½è½¦çš„å®½åº¦ï¼Œæ±½è½¦çš„é«˜åº¦ï¼Œè½¦è½®çš„ç›´å¾„ï¼Œä»¥åŠå…¶ä»–ç‰¹å¾ã€‚å¦‚æœæƒ³è¦å‡å°‘ç‰¹å¾çš„æ•°é‡ä»¥ä¾¿å°†å…¶å¯è§†åŒ–ï¼Œå¦‚ä½•ä½¿ç”¨PCAæ¥åšåˆ°è¿™ä¸€ç‚¹ï¼Ÿ</p><p><strong>ç¤ºä¾‹1ï¼š</strong> å‡è®¾æ‚¨æœ‰ä¸€ä¸ªå…·æœ‰ä¸¤ä¸ªç‰¹å¾çš„æ•°æ®é›†ã€‚ç‰¹å¾ <span class="math inline">\(x_1\)</span> æ˜¯æ±½è½¦çš„é•¿åº¦ï¼Œç‰¹å¾<span class="math inline">\(x_2\)</span> æ˜¯æ±½è½¦çš„å®½åº¦ã€‚ åœ¨å¤§å¤šæ•°å›½å®¶/åœ°åŒºï¼Œç”±äºå¯¹æ±½è½¦è¡Œé©¶é“è·¯å®½åº¦çš„é™åˆ¶ï¼Œæ±½è½¦å®½åº¦å¾€å¾€å˜åŒ–ä¸å¤§ã€‚ä½ ä¼šå‘ç°æ•°æ®é›† <span class="math inline">\(x_1\)</span> å˜åŒ–å¾ˆå¤§ï¼Œè€Œ <span class="math inline">\(x_2\)</span> å˜åŒ–ç›¸å¯¹è¾ƒå°ã€‚ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230721114957.png" /> å¦‚æœä½ æƒ³å‡å°‘ç‰¹å¾çš„æ•°é‡ï¼Œé‚£ä¹ˆï¼Œä½ å¯ä»¥åšçš„ä¸€ä»¶äº‹å°±æ˜¯åªå– <span class="math inline">\(x_1\)</span> ï¼Œå¿½ç•¥ <span class="math inline">\(x_2\)</span> ã€‚</p><p><strong>ç¤ºä¾‹2ï¼š</strong> å‡è®¾æˆ‘ä»¬æœ‰ä¸¤ä¸ªç‰¹å¾ï¼Œå³æ±½è½¦çš„é•¿åº¦ <span class="math inline">\(x_1\)</span> å’Œé«˜åº¦ <span class="math inline">\(x_2\)</span>ã€‚è¿™ä¸¤ä¸ªç‰¹å¾çš„å˜åŒ–èŒƒå›´éƒ½æ¯”è¾ƒå¤§ã€‚å¦‚æœæˆ‘ä»¬ç»˜åˆ¶è¿™äº›æ•°æ®ç‚¹ï¼Œå¯èƒ½ä¼šå¾—åˆ°ä¸€ä¸ªè¿™æ ·æ•£ç‚¹å›¾ã€‚ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230721120204.png" /></p><p>ç°åœ¨ï¼Œå¦‚æœæˆ‘ä»¬æƒ³è¦å‡å°‘ç‰¹å¾çš„æ•°é‡ï¼Œæˆ‘ä»¬åº”è¯¥é€‰æ‹©ä»€ä¹ˆå‘¢ï¼Ÿ</p><p>æˆ‘ä»¬ä¸å¸Œæœ›åªé€‰æ‹©é•¿åº¦ <span class="math inline">\(x_1\)</span> è€Œå¿½ç•¥é«˜åº¦ <span class="math inline">\(x_2\)</span>ï¼Œä¹Ÿä¸å¸Œæœ›åªé€‰æ‹©é«˜åº¦ <span class="math inline">\(x_2\)</span> è€Œå¿½ç•¥é•¿åº¦ <span class="math inline">\(x_1\)</span>ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒPCAç®—æ³•æå‡ºäº†ä¸€ä¸ªæ€æƒ³ï¼šå¯»æ‰¾ä¸€ä¸ªæ–°çš„è½´ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ç§°ä¸ºZè½´ã€‚è¯·æ³¨æ„ï¼Œè¿™é‡Œçš„Zè½´å¹¶ä¸æ˜¯åœ¨ä¸‰ç»´ç©ºé—´ä¸­çªå‡ºæ˜¾ç¤ºçš„Zè½´ï¼Œè€Œæ˜¯é•¿åº¦å’Œé«˜åº¦çš„ç»„åˆï¼Œä¹Ÿæ˜¯åœ¨è¿™ä¸ªäºŒç»´å¹³é¢ä¸­çš„ã€‚ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230721120803.png" /></p><p>Zè½´èƒ½å¤Ÿè·å¾—å…³äºé•¿åº¦å’Œé«˜åº¦çš„ä¿¡æ¯ã€‚Zè½´ä¸Šçš„å€¼å¯ä»¥æ˜ å°„åˆ° <span class="math inline">\(x_1\)</span> è½´å’Œ <span class="math inline">\(x_2\)</span> è½´ï¼Œ <span class="math inline">\(x_1\)</span> è½´ä¸Šçš„è¿™ä¸ªè·ç¦»æ˜¯å¤šå°‘ï¼Œå¯ä»¥å‘Šè¯‰æˆ‘ä»¬æ±½è½¦çš„é•¿åº¦æ˜¯å¤šå°‘ï¼›<span class="math inline">\(x_2\)</span> è½´ä¸Šçš„è¿™ä¸ªè·ç¦»æ˜¯å¤šå°‘ï¼Œå‘Šè¯‰æˆ‘ä»¬æ±½è½¦çš„é«˜åº¦æ˜¯å¤šå°‘ã€‚</p><p><img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230721121015.png" /></p><p>ç°åœ¨ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªæ•°å­—å³å¯åæ˜ å‡ºæ±½è½¦çš„é•¿åº¦å’Œé«˜åº¦çš„ç‰¹å¾ã€‚ é‡å»ºå¯ä»¥çŸ¥é“åŸæ¥çš„ç‰¹å¾æ•°æ®ï¼ˆè¿‘ä¼¼çš„ï¼‰æ˜¯å¤šå°‘ã€‚è¿™äº›æ–°è½´å³ä¸ºä¸»æˆåˆ†ã€‚</p><p>é€šè¿‡PCAç®—æ³•ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå°†åŸå§‹é«˜ç»´æ•°æ®æ˜ å°„åˆ°ä½ç»´ç©ºé—´ï¼Œå°†æ•°æ®çš„ç»´åº¦å‡å°‘åˆ°æˆ‘ä»¬æ‰€é€‰æ‹©çš„æ–°è½´ä¸Šï¼ŒåŒæ—¶ä¿ç•™äº†å…³é”®çš„ä¿¡æ¯ã€‚è¿™æ ·åšæœ‰åŠ©äºç®€åŒ–é—®é¢˜ã€å‡å°‘è®¡ç®—å¤æ‚æ€§ï¼Œå¹¶ä¸”ä»ç„¶èƒ½å¤Ÿæä¾›æœ‰å…³æ±½è½¦å°ºå¯¸çš„é‡è¦ç‰¹å¾ã€‚</p><h2 id="pcaä»£ç å®ç°scikit-learn">PCAä»£ç å®ç°(scikit-learn)</h2><p>2D to 1D <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230721131231.png" /></p><p>2D to 2D <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230721131323.png" /></p><h2 id="çº¿æ€§å›å½’å’ŒpcaåŒºåˆ«">çº¿æ€§å›å½’å’ŒPCAåŒºåˆ«</h2><p>çº¿æ€§å›å½’æ˜¯æ±‚ç»¿è‰²çº¿æœ€å°å€¼ PCAæ±‚é»„è‰²çº¿æœ€å°å€¼ <img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230721123113.png" /></p><h2 id="åº”ç”¨pcaçš„å»ºè®®">åº”ç”¨PCAçš„å»ºè®®</h2><p><img src="/img/5æ— ç›‘ç£å­¦ä¹ /Pasted%20image%2020230721131635.png" /></p>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ </category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœºå™¨å­¦ä¹ 04-æ ‘æ¨¡å‹</title>
    <link href="/2023/07/16/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A004-%E6%A0%91%E6%A8%A1%E5%9E%8B/"/>
    <url>/2023/07/16/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A004-%E6%A0%91%E6%A8%A1%E5%9E%8B/</url>
    
    <content type="html"><![CDATA[<h1 id="åˆ†ç±»å†³ç­–æ ‘">åˆ†ç±»å†³ç­–æ ‘</h1><p><img src="/img/4æ ‘æ¨¡å‹/Pasted%20image%2020230715193726.png" /></p><ol type="1"><li>åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šå¦‚ä½•é€‰æ‹©ç‰¹å¾è¿›è¡Œæ‹†åˆ†ï¼Ÿ</li></ol><ul><li>é€‰æ‹©è¦æ‹†åˆ†çš„ç‰¹å¾ä»¥å°è¯•æœ€å¤§åŒ–çº¯åº¦ <img src="/img/4æ ‘æ¨¡å‹/Pasted%20image%2020230715170822.png" /></li></ul><ol start="2" type="1"><li>ä½•æ—¶åœæ­¢åˆ†æ”¯ï¼Ÿ <img src="/img/4æ ‘æ¨¡å‹/Pasted%20image%2020230715171547.png" /></li></ol><ul><li>åˆ†å‡ºç±»åˆ«</li><li>è¾¾åˆ°æœ€å¤§æ·±åº¦</li><li>å½“çº¯åº¦ä½äºé˜ˆå€¼</li><li>èŠ‚ç‚¹çš„ç¤ºä¾‹æ•°é‡ä½äºé˜ˆå€¼</li></ul><h1 id="çº¯åº¦">çº¯åº¦</h1><p>ç†µï¼ˆentropyï¼‰çš„å®šä¹‰ï¼Œå®ƒæ˜¯è¡¡é‡ä¸€ç»„æ•°æ®ä¸çº¯åº¦ï¼ˆæ··ä¹±ç¨‹åº¦ï¼‰çš„æŒ‡æ ‡ã€‚ ç†µè¶Šå°ï¼Œçº¯åº¦è¶Šé«˜</p><p><img src="/img/4æ ‘æ¨¡å‹/Pasted%20image%2020230715172451.png" /></p><p>ç†µå‡½æ•° <img src="/img/4æ ‘æ¨¡å‹/Pasted%20image%2020230715172601.png" /> åœ¨å†³ç­–æ ‘æ„å»ºçš„è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬å¸Œæœ›é€šè¿‡é€‰æ‹©ç‰¹å¾ä½¿å¾—ç†µæœ€å°åŒ–ï¼Œå³å¯»æ‰¾èƒ½å¤Ÿæœ€å¤§ç¨‹åº¦å‡å°‘æ•°æ®é›†çš„çº¯åº¦ã€‚é€šè¿‡è®¡ç®—æ¯ä¸ªç‰¹å¾çš„ç†µï¼Œå¹¶å¯¹å…¶è¿›è¡Œæ¯”è¾ƒï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©æœ€ä½³çš„åˆ’åˆ†ç‰¹å¾æ¥æ„å»ºå†³ç­–æ ‘çš„èŠ‚ç‚¹ã€‚</p><h1 id="é€‰æ‹©æ‹†åˆ†ä¿¡æ¯å¢ç›Š">é€‰æ‹©æ‹†åˆ†ä¿¡æ¯å¢ç›Š</h1><p>åœ¨å†³ç­–æ ‘ä¸­ï¼Œç†µçš„å‡å°‘ç§°ä¸ºä¿¡æ¯å¢ç›Šï¼ˆinformation gainï¼‰ ä¿¡æ¯å¢ç›Šæ˜¯å†³ç­–æ ‘ç®—æ³•ä¸­ç”¨äºé€‰æ‹©æœ€ä½³åˆ’åˆ†ç‰¹å¾çš„æŒ‡æ ‡ä¹‹ä¸€ã€‚å®ƒè¡¨ç¤ºé€šè¿‡ä½¿ç”¨æŸä¸ªç‰¹å¾å¯¹æ•°æ®é›†è¿›è¡Œåˆ’åˆ†æ‰€èƒ½è·å¾—çš„æ•´ä½“ç†µå‡å°‘é‡ã€‚</p><p>åœ¨è®¡ç®—ä¿¡æ¯å¢ç›Šæ—¶ï¼Œé¦–å…ˆéœ€è¦è®¡ç®—åˆ’åˆ†å‰çš„æ•°æ®é›†çš„ç†µï¼ˆä¹Ÿç§°ä¸ºåˆå§‹ç†µï¼‰ã€‚ç„¶åï¼Œå¯¹äºæ¯ä¸ªå€™é€‰åˆ’åˆ†ç‰¹å¾ï¼Œå¹¶è®¡ç®—æ¯ä¸ªåˆ’åˆ†å­é›†çš„ç†µã€‚æœ€åï¼Œé€šè¿‡è®¡ç®—åˆ’åˆ†å‰çš„ç†µä¸æ‰€æœ‰åˆ’åˆ†å­é›†ç†µçš„åŠ æƒå¹³å‡æ¥è®¡ç®—ä¿¡æ¯å¢ç›Šã€‚</p><p><img src="/img/4æ ‘æ¨¡å‹/Pasted%20image%2020230715183454.png" /> å…¶ä¸­ï¼Œåˆå§‹ç†µæ˜¯å¯¹æ•´ä¸ªæ•°æ®é›†è¿›è¡Œè®¡ç®—å¾—åˆ°çš„ç†µï¼Œå­é›†ç†µæ˜¯å¯¹æ¯ä¸ªåˆ’åˆ†å­é›†è¿›è¡Œè®¡ç®—å¾—åˆ°çš„ç†µï¼Œå­é›†æ ·æœ¬æ•°æ˜¯æ¯ä¸ªåˆ’åˆ†å­é›†ä¸­çš„æ ·æœ¬æ•°é‡ï¼Œæ€»æ ·æœ¬æ•°æ˜¯æ•´ä¸ªæ•°æ®é›†çš„æ ·æœ¬æ€»æ•°ã€‚</p><p>æœªåˆ†æ”¯å‰æœ‰5ä¸ªçŒ«ï¼Œ5ä¸ªç‹—ï¼Œå› æ­¤åˆå§‹ç†µç†µ <span class="math inline">\(H(0.5)=1\)</span> ã€‚ åˆ†æ”¯ååŠ æƒå¹³å‡çš„ç†µä¸ºä¸Šå›¾çº¢è‰²æ–¹æ¡†ï¼Œæœªåˆ†æ”¯å‰çš„ç†µå‡å»åˆ†æ”¯ååŠ æƒå¹³å‡çš„ç†µå³ä¸ºä¿¡æ¯å¢ç›Šã€‚</p><p>å…·ä½“è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p><p>ä¿¡æ¯å¢ç›Š = åˆå§‹ç†µ - âˆ‘(å­é›†ç†µ * å­é›†æ ·æœ¬æ•° / æ€»æ ·æœ¬æ•°) <img src="/img/4æ ‘æ¨¡å‹/Pasted%20image%2020230715191714.png" /></p><p>ä¿¡æ¯å¢ç›Šè¡¨ç¤ºé€šè¿‡ä½¿ç”¨æŸä¸ªç‰¹å¾åˆ’åˆ†æ•°æ®é›†ï¼Œåˆ†æ”¯åï¼Œ<strong>æ•´ä½“ç†µç›¸å¯¹äºåˆå§‹ç†µçš„å‡å°‘é‡</strong>ã€‚æˆ‘ä»¬å¸Œæœ›é€‰æ‹©å…·æœ‰<strong>æœ€å¤§</strong>ä¿¡æ¯å¢ç›Šçš„ç‰¹å¾ä½œä¸ºåˆ’åˆ†ä¾æ®ï¼Œå› ä¸ºå®ƒèƒ½å¤Ÿæœ€å¤§ç¨‹åº¦åœ°<strong>å‡å°‘æ•°æ®é›†çš„ä¸ç¡®å®šæ€§ï¼ˆæ··ä¹±ç¨‹åº¦ï¼‰</strong>ï¼Œæä¾›æ›´å¤šæœ‰ç”¨çš„ä¿¡æ¯ã€‚</p><p>æ€»ç»“ï¼šç†µä»£è¡¨æ··ä¹±ç¨‹åº¦ï¼Œç†µè¶Šé«˜ï¼Œæ··ä¹±ç¨‹åº¦è¶Šé«˜ï¼›ä¿¡æ¯å¢ç›Šè¶Šå¤§ï¼Œç†µå‡å°‘çš„è¶Šå¤§ï¼Œè¯´æ˜ä»é«˜ç†µå‡ä½åˆ°ä½ç†µï¼Œè¿›è€Œè¯´æ˜ä»é«˜æ··ä¹±ç¨‹åº¦åˆ°ä½æ··ä¹±ç¨‹åº¦çš„å˜åŒ–ã€‚</p><h1 id="å†³ç­–æ ‘æ­¥éª¤">å†³ç­–æ ‘æ­¥éª¤</h1><p><img src="/img/4æ ‘æ¨¡å‹/Pasted%20image%2020230715193336.png" /> ä»æ ¹èŠ‚ç‚¹å¼€å§‹ï¼Œå°†æ‰€æœ‰çš„ç¤ºä¾‹æ”¾ç½®åœ¨æ ¹èŠ‚ç‚¹ä¸Šã€‚ è®¡ç®—æ‰€æœ‰å¯èƒ½ç‰¹å¾çš„ä¿¡æ¯å¢ç›Šï¼Œå¹¶é€‰æ‹©å…·æœ‰æœ€é«˜ä¿¡æ¯å¢ç›Šçš„ç‰¹å¾ã€‚ æ ¹æ®æ‰€é€‰ç‰¹å¾åˆ’åˆ†æ•°æ®é›†ï¼Œå¹¶åˆ›å»ºå†³ç­–æ ‘çš„å·¦å³åˆ†æ”¯ã€‚ ä¸æ–­é‡å¤åˆ’åˆ†è¿‡ç¨‹ï¼Œç›´åˆ°æ»¡è¶³åœæ­¢å‡†åˆ™ä¸ºæ­¢ï¼š - å½“ä¸€ä¸ªèŠ‚ç‚¹æ˜¯100%å±äºæŸä¸€ç±»åˆ«æ—¶ - å½“åˆ’åˆ†ä¸€ä¸ªèŠ‚ç‚¹ä¼šå¯¼è‡´æ ‘è¶…è¿‡æœ€å¤§æ·±åº¦æ—¶ - é¢å¤–åˆ’åˆ†å¸¦æ¥çš„ä¿¡æ¯å¢ç›Šä½äºé˜ˆå€¼æ—¶ã€‚</p><h1 id="å¦‚ä½•å¤„ç†è¿ç»­å€¼ç‰¹å¾">å¦‚ä½•å¤„ç†è¿ç»­å€¼ç‰¹å¾</h1><p>åœ¨å†³ç­–æ ‘ä¸­å¤„ç†è¿ç»­æ€§æ•°å€¼çš„ç‰¹å¾é€šå¸¸æœ‰ä¸¤ç§æ–¹æ³•ï¼šäºŒå…ƒåˆ‡åˆ†å’Œå¤šå…ƒåˆ‡åˆ†ã€‚</p><ol type="1"><li><p>äºŒå…ƒåˆ‡åˆ†ï¼ˆBinary Splittingï¼‰ï¼šé€šè¿‡é€‰æ‹©ä¸€ä¸ªé˜ˆå€¼æ¥å°†è¿ç»­æ€§æ•°å€¼ç‰¹å¾è¿›è¡ŒäºŒå…ƒåˆ‡åˆ†ã€‚å¯¹äºç»™å®šçš„è¿ç»­æ€§ç‰¹å¾ï¼Œå¯ä»¥é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„é˜ˆå€¼å°†æ•°æ®é›†åˆ’åˆ†ä¸ºä¸¤ä¸ªå­é›†ã€‚ä¾‹å¦‚ï¼Œå¦‚æœç‰¹å¾æ˜¯å¹´é¾„ï¼Œå¯ä»¥é€‰æ‹©ä¸€ä¸ªå¹´é¾„é˜ˆå€¼ï¼Œå°†æ•°æ®åˆ†ä¸ºå°äºç­‰äºé˜ˆå€¼å’Œå¤§äºé˜ˆå€¼çš„ä¸¤ä¸ªå­é›†ã€‚ç„¶åï¼Œæ ¹æ®è¿™ä¸ªåˆ’åˆ†ç»§ç»­æ„å»ºå†³ç­–æ ‘ã€‚</p></li><li><p>å¤šå…ƒåˆ‡åˆ†ï¼ˆMulti-way Splittingï¼‰ï¼šä¸äºŒå…ƒåˆ‡åˆ†ä¸åŒï¼Œå¤šå…ƒåˆ‡åˆ†å°†è¿ç»­æ€§æ•°å€¼ç‰¹å¾åˆ’åˆ†ä¸ºå¤šä¸ªèŒƒå›´æˆ–åŒºé—´ã€‚é€šè¿‡æŒ‡å®šå¤šä¸ªé˜ˆå€¼æˆ–èŒƒå›´ï¼Œå°†è¿ç»­æ€§ç‰¹å¾åˆ’åˆ†ä¸ºå¤šä¸ªå­é›†ã€‚ä¾‹å¦‚ï¼Œå¯¹äºå¹´é¾„ç‰¹å¾ï¼Œå¯ä»¥æŒ‡å®šå¹´é¾„èŒƒå›´(0-10å², 11-20å², 21-30å², ç­‰ç­‰)ä½œä¸ºåˆ’åˆ†ä¾æ®ã€‚ç„¶åï¼Œæ ¹æ®è¿™ä¸ªåˆ’åˆ†ç»§ç»­æ„å»ºå†³ç­–æ ‘ã€‚</p></li></ol><p>æ— è®ºæ˜¯äºŒå…ƒåˆ‡åˆ†è¿˜æ˜¯å¤šå…ƒåˆ‡åˆ†ï¼Œå†³ç­–æ ‘éƒ½ä¼šæ ¹æ®åˆ’åˆ†ç»“æœè®¡ç®—ä¿¡æ¯å¢ç›Šæˆ–å…¶ä»–è¯„ä¼°æŒ‡æ ‡ï¼Œé€‰æ‹©æœ€ä½³çš„åˆ’åˆ†ã€‚</p><p>åœ¨ç¤ºä¾‹ä¸­å¢åŠ ä¸€åˆ—ä½“é‡ç‰¹å¾ï¼š <img src="/img/4æ ‘æ¨¡å‹/Pasted%20image%2020230715195850.png" /> å¯¹äºä½“é‡ï¼Œæˆ‘ä»¬é€‰å–ä¸åŒçš„é˜ˆå€¼æ¥åˆ†å‰²ï¼Œç„¶åè®¡ç®—å¯¹åº”çš„ä¿¡æ¯å¢ç›Š <img src="/img/4æ ‘æ¨¡å‹/Pasted%20image%2020230715200031.png" /> å½“é€‰æ‹©9æ—¶ï¼Œä¿¡æ¯å¢ç›Šæœ€å¤§ï¼Œå› æ­¤æˆ‘ä»¬ç”¨æ˜¯å¦å¤§äº9ç£…è¿›è¡Œåˆ†æ”¯ã€‚</p><h1 id="å›å½’å†³ç­–æ ‘">å›å½’å†³ç­–æ ‘</h1><p>é¢„æµ‹ä½“é‡ï¼š <img src="/img/4æ ‘æ¨¡å‹/Pasted%20image%2020230715201645.png" /></p><p><img src="/img/4æ ‘æ¨¡å‹/Pasted%20image%2020230715201734.png" /></p><p><img src="/img/4æ ‘æ¨¡å‹/Pasted%20image%2020230715201805.png" /> æ–¹å·® æ–¹å·®å‡å°æœ€å¤§</p><h1 id="æœ‰æ”¾å›æŠ½æ ·æ ·æœ¬">æœ‰æ”¾å›æŠ½æ ·æ ·æœ¬</h1><p>å…±åä¸ªæ ·æœ¬ï¼Œäº”ä¸ªçŒ« äº”ä¸ªç‹—ï¼Œæœ‰æ”¾å›çš„æŠ½å–10æ¬¡ï¼Œç»„æˆä¸€ä¸ªæ–°çš„è®­ç»ƒé›†ã€‚ <img src="/img/4æ ‘æ¨¡å‹/Pasted%20image%2020230715212515.png" /></p><h1 id="è£…è¢‹å†³ç­–æ ‘">è£…è¢‹å†³ç­–æ ‘</h1><p>æœ‰ä¸€ä¸ªå¤§å°ä¸ºmçš„è®­ç»ƒé›†ã€‚</p><p>bç­‰äº1åˆ°Bï¼Œæˆ‘ä»¬å°†è®­ç»ƒé›†æ”¾å…¥è¢‹å­ä¸­ï¼Œåˆ©ç”¨æœ‰æ”¾å›æŠ½æ ·é€‰å‡ºBæ¬¡å¤§å°ä¸ºmçš„æ–°çš„è®­ç»ƒé›†ï¼Œæˆ‘ä»¬åœ¨è¿™äº›æ–°çš„è®­ç»ƒé›†ä¸­è®­ç»ƒä¸€ä¸ªä¸ªå†³ç­–æ ‘ã€‚ <img src="/img/4æ ‘æ¨¡å‹/Pasted%20image%2020230715222743.png" /> é€‰å‡ºä¸€ä¸ªæ–°çš„è®­ç»ƒé›†ï¼Œè®­ç»ƒä¸€ä¸ªå†³ç­–æ ‘ï¼›é€‰å‡ºå¦å¤–ä¸€ä¸ªæ–°çš„è®­ç»ƒé›†ï¼Œåœ¨è®­ç»ƒä¸€ä¸ªå†³ç­–æ ‘ï¼Œå°±è¿™æ ·é€‰å‡ºBä¸ªè®­ç»ƒé›†ï¼Œè®­ç»ƒå‡ºBä¸ªå†³ç­–æ ‘ã€‚ Båˆ™ä»£è¡¨å†³ç­–æ ‘çš„æ•°é‡ï¼Œ å·²ç»æ„å»ºäº†ä¸€ä¸ªåŒ…å«Bæ£µä¸åŒæ ‘çš„é›†åˆï¼Œç„¶åè®©è¿™äº›æ ‘å¯¹é¢„æµ‹çš„ç»“æœè¿›è¡ŒæŠ•ç¥¨ã€‚</p><p>å½“Bè¿œå¤§äº100æ—¶ï¼Œç®—æ³•çš„æ€§èƒ½å¹¶ä¸ä¼šæœ‰æ˜¾è‘—çš„å¢åŠ ï¼Œåªä¼šé™ä½è®¡ç®—é€Ÿåº¦ã€‚</p><p>è¿™ç§ä»è¢‹å­ä¸­é€‰å‡ºæ–°çš„è®­ç»ƒé›†åˆ›å»ºçš„å†³ç­–æ ‘ç§°ä¸ºè£…è¢‹å†³ç­–æ—¶ï¼Œæ‰€ä»¥Bä»£è¡¨çš„æ˜¯bagã€‚</p><p>å¼Šç«¯æ˜¯ï¼Œè¿™ç§æŠ½å–è®­ç»ƒé›†çš„æ–¹æ³•ï¼Œä¼šä½¿è®¸å¤šæ ‘åœ¨æ ¹èŠ‚ç‚¹æˆ–è€…æ ¹èŠ‚ç‚¹é™„è¿‘çš„æŸäº›èŠ‚ç‚¹ä½¿ç”¨ç›¸åŒçš„ç‰¹å¾è¿›è¡Œåˆ†æ”¯ã€‚å› æ­¤å¯¹ç®—æ³•è¿›è¡Œæ”¹è¿›ï¼Œå°è¯•éšæœºåŒ–æ¯ä¸ªèŠ‚ç‚¹çš„ç‰¹å¾é€‰æ‹©ï¼Œä½¿æ•°ä¹‹é—´å˜å¾—æ›´åŠ ä¸åŒè¿™å°±æ˜¯éšæœºæ£®æ—ã€‚ # éšæœºæ£®æ—</p><p>åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šï¼Œåœ¨é€‰æ‹©ç”¨äºåˆ’åˆ†çš„ç‰¹å¾æ—¶ï¼Œå¦‚æœæœ‰nä¸ªå¯ç”¨ç‰¹å¾ï¼Œåˆ™ä»ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªå¤§å°ä¸ºkï¼ˆk &lt; nï¼‰çš„ç‰¹å¾å­é›†ï¼Œå¹¶åªå…è®¸ç®—æ³•ä»è¯¥ç‰¹å¾å­é›†ä¸­è¿›è¡Œé€‰æ‹©ï¼Œä»ä¸­é€‰æ‹©å‡ºå…·æœ‰æœ€é«˜ä¿¡æ¯å¢ç›Šçš„ç‰¹å¾è¿›è¡Œåˆ†æ”¯ã€‚ å½“nå¾ˆå¤§æ—¶ï¼ŒKå€¼çš„å…¸å‹é€‰æ‹©æ˜¯å®ƒçš„å¹³æ–¹æ ¹ <span class="math inline">\({\mathrm{k=\sqrt{n}}}\)</span> ã€‚</p><p>å› æ­¤ï¼Œè¿™æ„å‘³ç€è®­ç»ƒé›†çš„ä»»ä½•å¾®å°å˜åŒ–éƒ½ä¸å¤ªå¯èƒ½å¯¹æ•´ä¸ªéšæœºæ£®æ—ç®—æ³•çš„æ•´ä½“è¾“å‡ºäº§ç”Ÿå·¨å¤§å½±å“ã€‚</p><h1 id="xgboost">XGBoost</h1><p>ä¾ç„¶ä½¿ç”¨æœ‰æ”¾å›çš„æŠ½æ ·æ–¹å¼ï¼Œåˆ›å»ºä¸€ä¸ªå¤§å°ä¸ºmçš„æ–°è®­ç»ƒé›†ã€‚ä½†ä¸æ˜¯ä»¥ç›¸ç­‰çš„ï¼ˆ1/mï¼‰æ¦‚ç‡ä»æ‰€æœ‰ç¤ºä¾‹ä¸­æŠ½å–ï¼Œè€Œæ˜¯æ›´æœ‰å¯èƒ½æŠ½å–é‚£äº›å…ˆå‰è®­ç»ƒæ ‘åˆ†ç±»é”™è¯¯çš„ç¤ºä¾‹ã€‚</p><p><strong>ä¼˜åŠ¿ï¼š</strong> åŠ©æ¨æ ‘çš„å¼€æºå®ç° å¿«é€Ÿé«˜æ•ˆçš„å®ç° å¯é€‰æ‹©è‰¯å¥½çš„é»˜è®¤æ‹†åˆ†æ ‡å‡†å’Œä½•æ—¶åœæ­¢æ‹†åˆ†çš„æ ‡å‡† å†…ç½®æ­£åˆ™åŒ–ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆ æœºå™¨å­¦ä¹ ç«èµ›ï¼ˆå¦‚Kaggleç«èµ›ï¼‰ä¸­æå…·ç«äº‰åŠ›çš„ç®—æ³• # å†³ç­–æ ‘VSç¥ç»ç½‘ç»œ <img src="/img/4æ ‘æ¨¡å‹/Pasted%20image%2020230716093526.png" /></p><ol type="1"><li><p>æ•°æ®é›†çš„ç‰¹å¾ï¼šå†³ç­–æ ‘åœ¨å¤„ç†å…·æœ‰ç¦»æ•£ç‰¹å¾å’Œç±»åˆ«ç‰¹å¾çš„æ•°æ®é›†æ—¶è¡¨ç°è¾ƒå¥½ï¼Œè€Œç¥ç»ç½‘ç»œåœ¨å¤„ç†å…·æœ‰è¿ç»­ç‰¹å¾å’Œå¤§é‡æ ·æœ¬çš„æ•°æ®é›†æ—¶é€šå¸¸æ›´æœ‰æ•ˆã€‚</p></li><li><p>æ•°æ®é›†çš„å¤§å°ï¼šå¦‚æœæ•°æ®é›†éå¸¸å¤§ï¼Œç¥ç»ç½‘ç»œé€šå¸¸èƒ½å¤Ÿé€šè¿‡æ·±å±‚æ¬¡çš„å­¦ä¹ æ¥å‘ç°å¤æ‚çš„æ¨¡å¼å’Œå…³è”ï¼Œå› æ­¤ç¥ç»ç½‘ç»œå¯èƒ½æ›´é€‚åˆç”¨äºå¤§è§„æ¨¡æ•°æ®é›†ã€‚</p></li><li><p>è§£é‡Šæ€§è¦æ±‚ï¼šå†³ç­–æ ‘æä¾›äº†è¾ƒå¥½çš„å¯è§£é‡Šæ€§ï¼Œå¯ä»¥æ ¹æ®èŠ‚ç‚¹åˆ†è£‚è§„åˆ™å’Œç‰¹å¾é‡è¦æ€§è¿›è¡Œè§£é‡Šã€‚è€Œç¥ç»ç½‘ç»œé€šå¸¸è¢«è®¤ä¸ºæ˜¯â€œé»‘ç›’â€æ¨¡å‹ï¼Œå…¶å†…éƒ¨æƒé‡å’Œå‚æ•°éš¾ä»¥è§£é‡Šã€‚</p></li><li><p>é¢„æµ‹æ€§èƒ½éœ€æ±‚ï¼šç¥ç»ç½‘ç»œåœ¨æŸäº›é«˜åº¦å¤æ‚çš„é—®é¢˜ä¸Šå¯èƒ½å…·æœ‰æ›´å¼ºçš„é¢„æµ‹æ€§èƒ½ï¼Œå°¤å…¶æ˜¯å½“æ•°æ®é›†å…·æœ‰æ·±å±‚æ¬¡çš„éçº¿æ€§å…³ç³»æ—¶ã€‚é›†æˆæ ‘æ¨¡å‹å¦‚éšæœºæ£®æ—å’Œæ¢¯åº¦æå‡æ ‘åˆ™åœ¨å¤„ç†å™ªå£°å’Œå¼‚å¸¸å€¼æ–¹é¢è¡¨ç°è¾ƒå¥½ã€‚</p></li><li><p>è®­ç»ƒæ•ˆç‡ï¼šå†³ç­–æ ‘é€šå¸¸æ›´å®¹æ˜“è®­ç»ƒå’Œè°ƒä¼˜ï¼Œè€Œç¥ç»ç½‘ç»œéœ€è¦æ›´å¤šçš„è®¡ç®—èµ„æºå’Œæ—¶é—´æ¥è®­ç»ƒå’Œä¼˜åŒ–ã€‚</p></li><li><p>é¢„æµ‹é€Ÿåº¦ï¼šå†³ç­–æ ‘æ˜¯ä¸€ç§åŸºäºè§„åˆ™çš„æ¨¡å‹ï¼Œå¯ä»¥å¿«é€Ÿè¿›è¡Œé¢„æµ‹ã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œç¥ç»ç½‘ç»œéœ€è¦é€šè¿‡å¤šå±‚æ¬¡çš„è®¡ç®—æ‰èƒ½è¿›è¡Œé¢„æµ‹ï¼Œå› æ­¤åœ¨å®æ—¶æ€§è¦æ±‚è¾ƒé«˜çš„åœºæ™¯ä¸­å¯èƒ½ä¸å¤ªé€‚ç”¨ã€‚</p></li></ol><p>æœ€ç»ˆçš„é€‰æ‹©åº”è¯¥æ ¹æ®å…·ä½“é—®é¢˜çš„éœ€æ±‚å’Œæ•°æ®é›†ç‰¹å¾æ¥å†³å®šã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½¿ç”¨å†³ç­–æ ‘å’Œé›†æˆæ ‘ï¼ˆå¦‚éšæœºæ£®æ—ã€æ¢¯åº¦æå‡æ ‘ï¼‰èƒ½å¤Ÿæä¾›è¾ƒå¥½çš„æ€§èƒ½å’Œè§£é‡Šæ€§ï¼›è€Œåœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œç¥ç»ç½‘ç»œå¯èƒ½ä¼šæ›´é€‚åˆã€‚è¿˜å¯ä»¥å°è¯•å°†ä¸¤ç§ç®—æ³•ç»“åˆèµ·æ¥ï¼Œå¦‚ä½¿ç”¨ç¥ç»ç½‘ç»œè¿›è¡Œç‰¹å¾æå–ï¼Œç„¶åä½¿ç”¨å†³ç­–æ ‘è¿›è¡Œåˆ†ç±»æˆ–å›å½’ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ </category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœºå™¨å­¦ä¹ 03-æ¨¡å‹è¯„ä¼°</title>
    <link href="/2023/07/13/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A003-%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BC%B0/"/>
    <url>/2023/07/13/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A003-%E6%A8%A1%E5%9E%8B%E8%AF%84%E4%BC%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="æ¨¡å‹é€‰æ‹©">æ¨¡å‹é€‰æ‹©</h1><p>å¦‚ä½•è¯„ä¼°å­¦ä¹ ç®—æ³•ï¼Œè‡ªåŠ¨é€‰æ‹©æ¨¡å‹ï¼Ÿ</p><p>æ¨¡å‹é€‰æ‹©&amp;äº¤å‰éªŒè¯æµ‹è¯•é›†çš„è®­ç»ƒæ–¹æ³•</p><p>å› ä¸ºdä¹Ÿæ˜¯ä¸€ä¸ªéœ€è¦å­¦ä¹ çš„å‚æ•°ï¼Œä¸æ–­é€‰æ‹©dçš„è¿‡ç¨‹æœ¬è´¨ä¸Šå’Œå­¦ä¹ æ¨¡å‹å†…å‚æ•°w,bæ˜¯ä¸€è‡´çš„ï¼Œè€Œè¶…å‚æ•°dæœ¬å°±æ˜¯é åœ¨testé›†ä¸Šæµ‹è¯•æ‰¾åˆ°çš„ï¼Œè€Œtesté›†åœ¨è¿™é‡Œå°±æˆä¸ºå‚æ•°dçš„â€œè®­ç»ƒé›†â€ï¼Œæ‰€ä»¥è¿™æ ·å¾—å‡ºçš„dæ˜¯è¿‡æ‹Ÿåˆçš„</p><p>ç®€è€Œè¨€ä¹‹ Training set ç”¨æ¥ é€‰ w&amp;b, cross validationç”¨æ¥é€‰ d , Test set ç”¨æ¥è¯„ä¼° æ¨¡å‹ æœ€ç»ˆçš„ æ³›åŒ–è¯¯å·® - å°±æ˜¯è¿™ä¸ªæ¨¡å‹å¥½ä¸å¥½</p><p>è®­ç»ƒé›†ï¼šå¾—åˆ°æ¨¡å‹ï¼Œå¾—åˆ°æ¯ä¸ªæ¨¡å‹çš„wï¼Œb éªŒè¯é›†:æŒ‘é€‰æ¨¡å‹ï¼ŒæŒ‘é€‰æŸä¸€ä¸ªæ¨¡å‹ æµ‹è¯•é›†ï¼šè¯„ä¼°æŒ‘é€‰çš„æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›</p><p>åªæœ‰åœ¨ä½ æƒ³å‡ºä¸€ä¸ªæ¨¡å‹ä½œä¸ºä½ çš„æœ€ç»ˆæ¨¡å‹ä¹‹åï¼Œæ‰å¯ä»¥åœ¨æµ‹è¯•é›†ä¸Šå¯¹å…¶è¿›è¡Œè¯„ä¼°ï¼Œå¹¶ä¸”å› ä¸ºä½ æ²¡æœ‰ä½¿ç”¨æµ‹è¯•é›†åšå‡ºä»»ä½•å†³å®šï¼Œè¿™å¯ä»¥ç¡®ä¿ä½ çš„æµ‹è¯•é›†æ˜¯å…¬å¹³çš„è€Œä¸æ˜¯è¿‡åº¦çš„å¯¹æ‚¨çš„æ¨¡å‹å¯¹æ–°æ•°æ®çš„æ³›åŒ–èƒ½åŠ›çš„ä¹è§‚ä¼°è®¡</p><p>é€‰æ‹©å‡ ä¸ªæ¨¡å‹è¿›è¡Œè®­ç»ƒï¼Œç„¶åç”¨äº¤å‰éªŒè¯é›†å¯¹å‡ ä¸ªæ¨¡å‹è¿›è¡ŒæŸå¤±å€¼è¯„ä¼°ï¼Œä»¥æ­¤é€‰å‡ºæœ€å¥½çš„æ¨¡å‹ï¼Œå†é€šè¿‡æµ‹è¯•é›†æ–°æ•°æ®è¯„ä¼°è¯¥æ¨¡å‹æ³›åŒ–è¯¯å·®</p><h1 id="åå·®ä¸æ–¹å·®">åå·®ä¸æ–¹å·®</h1><p>é«˜åå·®ï¼ˆæ¬ æ‹Ÿåˆï¼‰ é«˜æ–¹å·®ï¼ˆè¿‡æ‹Ÿåˆï¼‰</p><p>å¤šé¡¹å¼æœ€é«˜æ¬¡æ•°ä¸ä»£ä»·å‡½æ•°å€¼å›¾ï¼š <img src="/img/3æ¨¡å‹è¯„ä¼°/Pasted%20image%2020230713190145.png" /></p><p>å¤šé¡¹å¼æ¬¡æ•°ä½ï¼Œæ¬ æ‹Ÿåˆï¼Œè®­ç»ƒé›†æˆæœ¬å‡½æ•°å€¼ï¼ˆ<span class="math inline">\(J_{train}\)</span>ï¼‰é«˜ï¼Œäº¤å‰éªŒè¯é›†æˆæœ¬å‡½æ•°å€¼ï¼ˆ<span class="math inline">\(J_{cv}\)</span>ï¼‰é«˜ã€‚</p><p>å¤šé¡¹å¼æ¬¡æ•°é«˜ï¼Œè¿‡æ‹Ÿåˆï¼Œ<span class="math inline">\(J_{train}\)</span> ä½ï¼Œ<span class="math inline">\(J_{cv}\)</span> é«˜ã€‚</p><p>ä¸€èˆ¬åœ¨ç¥ç»ç½‘è·¯ä¸­æ‰åŒæ—¶å…·æœ‰é«˜åå·®å’Œé«˜æ–¹å·®ã€‚</p><p>é«˜åå·®æ„å‘³ç€åœ¨è®­ç»ƒé›†ä¸Šåšçš„ä¸å¥½ã€‚é«˜æ–¹å·®æ„å‘³ç€åœ¨è®­ç»ƒé›†å’Œäº¤å‰éªŒè¯é›†éƒ½ä¸å¥½ã€‚</p><h1 id="æ­£åˆ™åŒ–å¦‚ä½•å½±å“æ–¹å·®å’Œåå·®">æ­£åˆ™åŒ–å¦‚ä½•å½±å“æ–¹å·®å’Œåå·®</h1><p><img src="/img/3æ¨¡å‹è¯„ä¼°/Pasted%20image%2020230713203458.png" /></p><h1 id="æ­£åˆ™åŒ–ä¸­-lambda-è¯„ä¼°">æ­£åˆ™åŒ–ä¸­ <span class="math inline">\(\lambda\)</span> è¯„ä¼°</h1><p><span class="math inline">\(\lambda\)</span> ä¸ä»£ä»·å‡½æ•°å€¼å›¾ï¼š <img src="/img/3æ¨¡å‹è¯„ä¼°/Pasted%20image%2020230713204607.png" /> <span class="math inline">\(\lambda\)</span> å°ï¼Œè¿‡æ‹Ÿåˆï¼Œ<span class="math inline">\(J_{train}\)</span> ä½ï¼Œ<span class="math inline">\(J_{cv}\)</span> é«˜ã€‚ <span class="math inline">\(\lambda\)</span> å¤§ï¼Œæ¬ æ‹Ÿåˆï¼Œ<span class="math inline">\(J_{train}\)</span> é«˜ï¼Œ<span class="math inline">\(J_{cv}\)</span> é«˜ã€‚</p><h1 id="æ€§èƒ½è¯„ä¼°çš„åŸºå‡†">æ€§èƒ½è¯„ä¼°çš„åŸºå‡†</h1><p><img src="/img/3æ¨¡å‹è¯„ä¼°/Pasted%20image%2020230714164315.png" /></p><p>è¯„ä¼°åŸºå‡†ï¼šä½ å¸Œæœ›ç®—æ³•èƒ½è¾¾åˆ°çš„æ€§èƒ½æ˜¯å¤šå°‘ - äººç±»æ°´å¹³çš„è¡¨ç° - ç«äº‰å¯¹æ‰‹çš„ç®—æ³•ï¼Œå…¶ä»–äººä»¥å‰å·²ç»å®ç°çš„ç®—æ³• - ä»¥å¾€çš„ç»éªŒ</p><h2 id="æ˜¯å¦å…·æœ‰é«˜æ–¹å·®åå·®">æ˜¯å¦å…·æœ‰é«˜æ–¹å·®/åå·®</h2><p><img src="/img/3æ¨¡å‹è¯„ä¼°/Pasted%20image%2020230714164706.png" /> ç›¸äº’æ¯”è¾ƒ</p><h2 id="é«˜åå·®çš„å­¦ä¹ æ›²çº¿">é«˜åå·®çš„å­¦ä¹ æ›²çº¿</h2><p><img src="/img/3æ¨¡å‹è¯„ä¼°/Pasted%20image%2020230714170245.png" /> å…·æœ‰é«˜åå·®æ¬ æ‹Ÿåˆçš„æ¨¡å‹ï¼ŒåŠ è®­ç»ƒæ•°æ®é‡æ²¡æ³•æ”¹å–„ï¼Œä»æ¨¡å‹é€‰æ‹©å°±æœ‰é—®é¢˜ï¼› æ¬ æ‹Ÿåˆå¯¹æ–°æ•°æ®ä¸æ•æ„Ÿ</p><h2 id="é«˜æ–¹å·®çš„å­¦ä¹ æ›²çº¿">é«˜æ–¹å·®çš„å­¦ä¹ æ›²çº¿</h2><p><img src="/img/3æ¨¡å‹è¯„ä¼°/Pasted%20image%2020230714171220.png" /> é«˜æ–¹å·®è¿‡æ‹ŸåˆåŠ è®­ç»ƒæ•°æ®é‡å¯ä»¥æ”¹å–„ï¼› è¿‡æ‹Ÿåˆå¯¹æ–°æ•°æ®ç‰¹åˆ«æ•æ„Ÿã€‚</p><p>ç¼ºç‚¹æ˜¯ï¼Œä½¿ç”¨è®­ç»ƒé›†çš„ä¸åŒå¤§å°çš„å­é›†æ¥è®­ç»ƒè¿™ä¹ˆå¤šä¸åŒçš„æ¨¡å‹åœ¨è®¡ç®—ä¸Šéå¸¸æ˜‚è´µï¼Œåœ¨å®è·µä¸­ï¼Œå¹¶æ²¡æœ‰è¿™æ ·åšã€‚è™½ç„¶å¦‚æ­¤ï¼Œåœ¨è„‘æµ·ä¸­å½¢æˆè®­ç»ƒé›†çš„è§†è§‰å›¾åƒï¼Œæœ‰æ—¶å¯å¸®åŠ©æ€è€ƒå­¦ä¹ ç®—æ³•åœ¨åšä»€ä¹ˆï¼Œæ˜¯å¦å…·æœ‰é«˜åå·®æˆ–é«˜æ–¹å·®</p><h1 id="è°ƒè¯•å­¦ä¹ ç®—æ³•">è°ƒè¯•å­¦ä¹ ç®—æ³•</h1><p><img src="/img/3æ¨¡å‹è¯„ä¼°/Pasted%20image%2020230714173338.png" /></p><p>é«˜æ–¹å·®ï¼šå¢åŠ è®­ç»ƒæ•°æ®ï¼Œç®€åŒ–æ¨¡å‹ï¼ˆå‡å°‘ç‰¹å¾ã€å¢åŠ <span class="math inline">\(\lambda\)</span>ï¼‰ é«˜åå·®ï¼šå¼ºåŒ–æ¨¡å‹ï¼ˆå¢åŠ ç‰¹å¾ã€å¢åŠ å¤šé¡¹å¼ã€é™ä½<span class="math inline">\(\lambda\)</span>ï¼‰</p><h1 id="è¯¯å·®åˆ†æ">è¯¯å·®åˆ†æ</h1><p>ç®—æ³•é”™è¯¯åˆ†ç±»äº†100ä¸ªæ ·æœ¬ï¼Œæˆ‘ä»¬æ‰‹åŠ¨åˆ†æè¿™ä¸€ç™¾ä¸ªæ ·æœ¬ï¼Œå¹¶è¯•å›¾æ·±å…¥äº†è§£ç®—æ³•å‡ºé”™çš„åœ°æ–¹ï¼Œå°†å®ƒä»¬åˆ†ç»„ä¸ºå…±åŒçš„ä¸»é¢˜æˆ–å…±åŒçš„å±æ€§æˆ–å…±åŒçš„ç‰¹å¾ã€‚ <img src="/img/3æ¨¡å‹è¯„ä¼°/Pasted%20image%2020230714185413.png" /> åˆ†æå‘ç°ï¼š è¯å“åƒåœ¾é‚®ä»¶21ä»¶ æ•…æ„æ‹¼å†™é”™è¯¯3ä»¶ é‚®ä»¶è·¯ç”±é”™è¯¯7ä»¶ é’“é±¼é‚®ä»¶18ä»¶ å›¾ç‰‡5ä»¶ é‚£æˆ‘ä»¬å°†é‡å¿ƒæ”¾åœ¨è¯†åˆ«è¯å“åƒåœ¾é‚®ä»¶å’Œé’“é±¼é‚®ä»¶ï¼Œè€Œä¸æ˜¯æ”¾åœ¨è¯†åˆ«æ‹¼å†™é”™è¯¯è¿™ç§å‡€å½±å“å®é™…ä¸Šéå¸¸å°çš„é—®é¢˜ä¸Šã€‚</p><p>ä¾‹å¦‚å¯¹äºè¯å“åƒåœ¾é‚®ä»¶ï¼Œå¯ä»¥æ”¶é›†æ›´å¤šçš„å…³äºè¯ç‰©åƒåœ¾é‚®ä»¶æ•°æ®ï¼Œè€Œä¸æ˜¯æ”¶é›†æ›´å¤šçš„æ‰€æœ‰æ•°æ®ï¼Œä»¥ä¾¿å­¦ä¹ ç®—æ³•å¯ä»¥æ›´å¥½åœ°è¯†åˆ«è¿™äº›è¯ç‰©åƒåœ¾é‚®ä»¶ã€‚</p><p>ä½†æ˜¯ç°åœ¨é”™è¯¯åˆ†æçš„ä¸€ä¸ªå±€é™æ€§æ˜¯å®ƒæ›´å®¹æ˜“è§£å†³äººç±»æ“…é•¿çš„é—®é¢˜ã€‚æ¯”å¦‚äººä»¬å¯ä»¥ç›´æ¥çš„åˆ†è¾¨å‡ºæ˜¯å¦ä¸ºåƒåœ¾é‚®ä»¶ï¼Œå¯¹äºè¿äººç±»éƒ½ä¸æ“…é•¿çš„ä»»åŠ¡ï¼Œé”™è¯¯åˆ†æå¯èƒ½ä¼šæ›´éš¾ä¸€äº›ï¼Œä¾‹å¦‚ï¼Œå¦‚æœè¯•å›¾é¢„æµ‹äººä»¬ä¼šç‚¹å‡»ç½‘ç«™ä¸Šçš„å“ªäº›é“¾æ¥ã€‚å¯¹äºè¿™ç§ä¸»è§‚æ€§è¾ƒå¤§çš„äº‹ä»¶ï¼Œå¯èƒ½æ— æ³•é¢„æµ‹äººä¼šç‚¹å‡»ä»€ä¹ˆã€‚</p><h1 id="æ·»åŠ æœ‰å¸®åŠ©çš„æ•°æ®">æ·»åŠ æœ‰å¸®åŠ©çš„æ•°æ®</h1><p>é‡‡ç”¨ç°æœ‰çš„è®­ç»ƒç¤ºä¾‹å¹¶å¯¹å…¶è¿›è¡Œä¿®æ”¹ã€æ‰­æ›²ä»¥åˆ›å»ºå¦ä¸€ä¸ªè®­ç»ƒç¤ºä¾‹ã€‚ ä¾‹å¦‚ï¼Œè®¡ç®—æœºè§†è§‰å¸¸ç”¨åˆæˆæ•°æ®è¿›è¡Œå¢åŠ è®­ç»ƒæ ·æœ¬ã€‚ <img src="/img/3æ¨¡å‹è¯„ä¼°/Pasted%20image%2020230714203623.png" /> æœ‰æ—¶èŠ±æ›´å¤šæ—¶é—´é‡‡ç”¨ä»¥æ•°æ®ä¸ºä¸­å¿ƒçš„æ–¹æ³•ä¼šæ›´æœ‰æˆæ•ˆï¼Œåœ¨è¿™ç§æ–¹æ³•ä¸­ï¼Œä¸“æ³¨äºè®¾è®¡ç®—æ³•ä½¿ç”¨çš„æ•°æ®ï¼Œæ•°æ®å¯ä»¥æ¥æºäºæ”¶é›†ã€æ•°æ®å¢å¼ºã€æ•°æ®åˆæˆã€‚</p><p>å¯ä»¥ç”¨è¿ç§»å­¦ä¹ çš„æ–¹æ³•è·å–æ•°æ®ï¼Œå…³é”®åœ¨äºä»å‡ ä¹ä¸ç›¸å…³çš„ä»»åŠ¡ä¸­è·å–æ•°æ®ã€‚</p><h1 id="è¿ç§»å­¦ä¹ ">è¿ç§»å­¦ä¹ </h1><p>è¿ç§»å­¦ä¹ å¯ä»¥ä½¿ç”¨å…¶ä»–ä»»åŠ¡ä¸­çš„æ•°æ®åº”ç”¨äºç¨‹åºï¼Œæ ¸å¿ƒæ€æƒ³æ˜¯ä»ä¸€ä¸ªä»»åŠ¡å­¦åˆ°çš„çŸ¥è¯†æˆ–æ¨¡å‹åº”ç”¨äºå¦ä¸€ä¸ªç›¸å…³ä»»åŠ¡ä¸Šã€‚é€šè¿‡è¿ç§»å­¦ä¹ ï¼Œå¯ä»¥åœ¨ç›®æ ‡ä»»åŠ¡ä¸Šåˆ©ç”¨æºä»»åŠ¡çš„ç»éªŒå’Œæ¨¡å‹å‚æ•°ï¼Œä»è€ŒåŠ å¿«ç›®æ ‡ä»»åŠ¡çš„è®­ç»ƒé€Ÿåº¦ã€æé«˜é¢„æµ‹æ€§èƒ½ã€‚</p><p>è¿ç§»å­¦ä¹ çš„åŸºæœ¬å‡è®¾æ˜¯ï¼šä¸åŒçš„ä»»åŠ¡ä¹‹é—´å­˜åœ¨æŸç§å…±äº«çš„ç‰¹å¾è¡¨ç¤ºæˆ–çŸ¥è¯†ï¼Œè¿™äº›ç‰¹å¾å’ŒçŸ¥è¯†å¯¹äºè§£å†³å…¶ä»–ä»»åŠ¡ä¹Ÿæ˜¯æœ‰ç”¨çš„ã€‚é€šè¿‡è¿ç§»å­¦ä¹ ï¼Œå¯ä»¥åˆ©ç”¨æºä»»åŠ¡çš„ç»éªŒæ¥å¸®åŠ©ç›®æ ‡ä»»åŠ¡çš„å­¦ä¹ ï¼Œå°¤å…¶åœ¨ç›®æ ‡ä»»åŠ¡çš„æ•°æ®è¾ƒå°‘æˆ–éš¾ä»¥è·å–çš„æƒ…å†µä¸‹ï¼Œè¿ç§»å­¦ä¹ å¯ä»¥å‘æŒ¥é‡è¦ä½œç”¨ã€‚</p><p>å‡è®¾è¦è¯†åˆ«ä»0-9çš„æ‰‹å†™è¯†åˆ«ï¼Œä½†æ˜¯æ²¡æœ‰è¿™ä¹ˆå¤šç”¨äºè®­ç»ƒçš„æ•°æ®ã€‚ å¯ä»¥è¿™æ ·åšï¼Œ å‡è®¾æ‚¨æ‰¾åˆ°äº†ä¸€ä¸ªéå¸¸å¤§çš„æ•°æ®é›†ï¼Œå…¶ä¸­åŒ…å«ä¸€ç™¾ä¸‡å¼ çŒ«ã€ç‹—ã€æ±½è½¦ç­‰ä¸€åƒä¸ªç±»åˆ«çš„å›¾ç‰‡ï¼Œç„¶åï¼Œæ‚¨å¯ä»¥ç”¨è¿™ä¸€ç™¾ä¸‡å¼ å›¾ç‰‡è®­ç»ƒä¸€ä¸ªè¯†åˆ«ä¸ªä¸ªç±»åˆ«çš„ç¥ç»ç½‘ç»œï¼Œå³è®­ç»ƒç®—æ³•å°†ä¸€ç™¾ä¸‡å¼ å›¾åƒXä½œä¸ºè¾“å…¥ï¼Œå°†1,000ä¸ªä¸åŒçš„ç±»åˆ«ä½œä¸ºè¾“å‡ºã€‚ <img src="/img/3æ¨¡å‹è¯„ä¼°/Pasted%20image%2020230715085908.png" /> è¿™ä¸ªç¥ç»ç½‘è·¯å…±äº”å±‚ï¼Œå››ä¸ªéšè—å±‚å’Œä¸€ä¸ªè¾“å‡ºå±‚ã€‚å„å±‚çš„å‚æ•°åˆ†åˆ«ä¸º<span class="math inline">\(\mathbf{W}^{[1]},\vec{\boldsymbol{b}}^{[1]}\)</span>ã€<span class="math inline">\(\mathbf{W}^{[2]},\vec{\boldsymbol{b}}^{[2]}\)</span>ã€<span class="math inline">\(\mathbf{W}^{[3]},\vec{\boldsymbol{b}}^{[3]}\)</span>ã€<span class="math inline">\(\mathbf{W}^{[4]},\vec{\boldsymbol{b}}^{[4]}\)</span>ã€<span class="math inline">\(\mathbf{W}^{[5]},\vec{\boldsymbol{b}}^{[5]}\)</span> è¦åº”ç”¨è¿ç§»å­¦ä¹ ï¼Œæ‚¨è¦åšçš„æ˜¯å¤åˆ¶æ­¤ç¥ç»ç½‘ç»œï¼Œåœ¨å…¶ä¸­æ’å…¥å‚æ•°<span class="math inline">\(\mathbf{W}^{[1]},\vec{\boldsymbol{b}}^{[1]}\)</span>ã€<span class="math inline">\(\mathbf{W}^{[2]},\vec{\boldsymbol{b}}^{[2]}\)</span>ã€<span class="math inline">\(\mathbf{W}^{[3]},\vec{\boldsymbol{b}}^{[3]}\)</span>ã€<span class="math inline">\(\mathbf{W}^{[4]},\vec{\boldsymbol{b}}^{[4]}\)</span> ä½†å¯¹äºæœ€åä¸€å±‚è¾“å‡ºå±‚ï¼Œç”¨0-9ä»£æ›¿åŸæ¥çš„ä¸€åƒä¸ªåˆ†ç±»ï¼Œç„¶åç”¨ä¼˜åŒ– ç®—æ³•ï¼Œä¾‹å¦‚æ¢¯åº¦ä¸‹é™æˆ–Admaç®—æ³•ä»…æ›´æ–° <span class="math inline">\(\mathbf{W}^{[5]},\vec{\boldsymbol{b}}^{[5]}\)</span> ï¼›å¯¹äº<span class="math inline">\(\mathbf{W}^{[1]},\vec{\boldsymbol{b}}^{[1]}\)</span>-<span class="math inline">\(\mathbf{W}^{[4]},\vec{\boldsymbol{b}}^{[4]}\)</span> ç”¨åŸæ¥çš„å€¼ ä¸æ›´æ–°ã€‚</p><p><img src="/img/3æ¨¡å‹è¯„ä¼°/Pasted%20image%2020230715091903.png" /></p><p>å¦ä¸€ç§ç­–ç•¥æ˜¯ï¼Œæ›´æ–°æ‰€æœ‰çš„å‚æ•°ï¼Œä½†æ˜¯<span class="math inline">\(\mathbf{W}^{[1]},\vec{\boldsymbol{b}}^{[1]}\)</span>ã€<span class="math inline">\(\mathbf{W}^{[2]},\vec{\boldsymbol{b}}^{[2]}\)</span>ã€<span class="math inline">\(\mathbf{W}^{[3]},\vec{\boldsymbol{b}}^{[3]}\)</span>ã€<span class="math inline">\(\mathbf{W}^{[4]},\vec{\boldsymbol{b}}^{[4]}\)</span> ä½¿ç”¨ä¸Šé¢è®­ç»ƒè¿‡çš„å€¼ä½œä¸ºåˆå§‹å€¼ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œæ›´æ–°ã€‚</p><p>å¦‚æœæœ‰ä¸€ä¸ªéå¸¸å°çš„è®­ç»ƒé›†ï¼Œå‰ä¸€ç§ç­–ç•¥è¾ƒå¥½ï¼Œå¦‚æœè®­ç»ƒé›†ç¨å¾®å¤§ä¸€ç‚¹ï¼Œåä¸€ç§ç­–ç•¥è¾ƒå¥½ã€‚</p><p>è¿ç§»å­¦ä¹ çš„ä¸¤ä¸ªæ­¥éª¤ï¼Œé¦–å…ˆåœ¨å¤§å‹æ•°æ®é›†ä¸Šè¿›è¡Œè®­ç»ƒï¼Œå³é¢„è®­ç»ƒï¼›ç„¶ååœ¨è¾ƒå°çš„æ•°æ®é›†ä¸Šè¿›ä¸€æ­¥è°ƒæ•´å‚æ•°ï¼Œå³å¾®è°ƒã€‚</p><p>æˆ‘çš„ç†è§£ï¼š é¢„è®­ç»ƒæ˜¯ç”¨é¢„è®­ç»ƒçš„æ•°æ®é›†æ‰¾å‡ºä¸€ä¸ªå¤§è‡´çš„å·¥ä½œæ¨¡æ¿ï¼Œç¬¬ä¸€æ­¥è¯¥å¹²ä»€ä¹ˆï¼Œç¬¬äºŒæ­¥è¯¥å¹²ä»€ä¹ˆä»€ä¹ˆï¼Œæœ€åå¾—å‡ºç»“è®ºã€‚ å¾®è°ƒæ˜¯åœ¨å·²æœ‰çš„å·¥ä½œæ¨¡æ¿ä¸Šç›´æ¥æŒ‰éƒ¨å°±ç­ï¼Œä½†æ˜¯éœ€è¦è¿›è¡Œä¸€äº›æ”¹åŠ¨ã€ä¼˜åŒ–ï¼Œä½¿ä¹‹å˜å¾—ç¬¦åˆæœ¬é¡¹ç›®çš„å·¥ä½œæµç¨‹ã€‚</p><p>GPT: é¢„è®­ç»ƒçš„ç›®æ ‡æ˜¯é€šè¿‡å¤§è§„æ¨¡æ•°æ®é›†ï¼Œä½¿æ¨¡å‹å­¦ä¹ åˆ°ä¸€äº›é€šç”¨çš„ç‰¹å¾è¡¨ç¤ºæˆ–çŸ¥è¯†ã€‚è¿™ä¸ªè¿‡ç¨‹å¯ä»¥è¢«çœ‹ä½œæ˜¯ä¸ºæ¨¡å‹æä¾›ä¸€ä¸ªâ€œå¤§è‡´çš„å·¥ä½œæ¨¡æ¿â€ï¼Œå…¶ä¸­åŒ…å«äº†ä¸€äº›æ™®éé€‚ç”¨çš„ä¿¡æ¯ã€‚é¢„è®­ç»ƒå¯ä»¥ä½¿ç”¨æ— ç›‘ç£å­¦ä¹ æ–¹æ³•ï¼Œå¦‚è‡ªç¼–ç å™¨æˆ–ç”Ÿæˆå¯¹æŠ—ç½‘ç»œï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æœ‰ç›‘ç£å­¦ä¹ æ–¹æ³•ã€‚é¢„è®­ç»ƒåçš„æ¨¡å‹é€šå¸¸å…·æœ‰æ›´å¥½çš„åˆå§‹ç‰¹å¾è¡¨ç¤ºèƒ½åŠ›ã€‚</p><p>å¾®è°ƒåˆ™æ˜¯åœ¨é¢„è®­ç»ƒæ¨¡å‹çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡åœ¨ç›®æ ‡é¢†åŸŸçš„è¾ƒå°æ•°æ®é›†ä¸Šè¿›è¡Œè¿›ä¸€æ­¥è®­ç»ƒæ¥è°ƒæ•´æ¨¡å‹å‚æ•°ã€‚å¾®è°ƒè¿‡ç¨‹ä¸­ï¼Œå¯ä»¥æ ¹æ®å…·ä½“ä»»åŠ¡çš„éœ€æ±‚è¿›è¡Œä¸€äº›æ”¹åŠ¨ã€ä¼˜åŒ–æˆ–ä¿®æ­£ï¼Œä»¥ä½¿æ¨¡å‹æ›´ç¬¦åˆç›®æ ‡ä»»åŠ¡çš„å·¥ä½œæµç¨‹ã€‚å¾®è°ƒçš„ç›®çš„æ˜¯å°†é¢„è®­ç»ƒæ¨¡å‹é€‚åº”ç‰¹å®šä»»åŠ¡çš„ç‰¹å¾å’Œè¡¨ç°èƒ½åŠ›ï¼Œæé«˜æ¨¡å‹åœ¨ç›®æ ‡é¢†åŸŸä¸Šçš„æ€§èƒ½ã€‚</p><p>æ€»ç»“æ¥è¯´ï¼Œé¢„è®­ç»ƒæä¾›äº†ä¸€ä¸ªåˆå§‹çš„æ¨¡æ¿æˆ–ç‰¹å¾è¡¨ç¤ºï¼Œå¾®è°ƒåˆ™æ˜¯åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œè°ƒæ•´å’Œä¼˜åŒ–ï¼Œä»¥é€‚åº”å…·ä½“çš„ä»»åŠ¡éœ€æ±‚å’Œæ•°æ®åˆ†å¸ƒã€‚è¿™æ ·çš„è¿ç§»å­¦ä¹ æ–¹æ³•å¯ä»¥å‡å°‘å¯¹å¤§é‡æ ‡æ³¨æ•°æ®çš„ä¾èµ–ï¼Œæé«˜æ¨¡å‹çš„æ³›åŒ–æ€§èƒ½ã€‚</p><h1 id="å€¾æ–œæ•°æ®é›†çš„è¯¯å·®æŒ‡æ ‡">å€¾æ–œæ•°æ®é›†çš„è¯¯å·®æŒ‡æ ‡</h1><p>å¦‚æœæ­£ä¾‹ä¸è´Ÿä¾‹æ¯”ä¾‹åå·®å¾ˆå¤§ï¼Œé‚£ä¹ˆåƒå‡†ç¡®åº¦è¿™ç§é”™è¯¯æŒ‡æ ‡æ•ˆæœä¸ä½³ã€‚</p><p>å‡è®¾æ­£åœ¨è®­ç»ƒä¸€ä¸ªäºŒåˆ†ç±»æ¨¡å‹ï¼Œæ£€æµ‹æ‚£è€…æ˜¯å¦æ‚£ç½•è§ç–¾ç—…ï¼Œåœ¨äººç¾¤ä¸­åªæœ‰0.5%å‘ç—…ç‡ã€‚</p><p>å¯¹äºè¿™ç§å€¾æ–œæ•°æ®é›†çš„è¡¡é‡å¸¸ç”¨å‡†ç¡®ç‡ï¼ˆPrecisionnï¼‰å’Œå¬å›ç‡ï¼ˆRecallï¼‰</p><p><img src="/img/3æ¨¡å‹è¯„ä¼°/Pasted%20image%2020230715114140.png" /> é«˜ç²¾åº¦æ„å‘³ç€å¦‚æœæ‚£è€…è¢«è¯Šæ–­æ‚£æœ‰è¿™ç§ç½•è§ç–¾ç—…ï¼Œé‚£ä¹ˆè¯¥æ‚£è€…å¯èƒ½ç¡®å®æ‚£æœ‰è¿™ç§ç–¾ç—…ï¼Œå¹¶ä¸”è¿™æ˜¯ä¸€ä¸ªå‡†ç¡®çš„è¯Šæ–­ã€‚ é«˜å¬å›ç‡æ„å‘³ç€å¦‚æœæœ‰æ‚£è€…æ‚£æœ‰è¿™ç§ç½•è§ç–¾ç—…ï¼Œç®—æ³•å¯èƒ½ä¼šæ­£ç¡®è¯†åˆ«å‡ºä»–ä»¬ç¡®å®æ‚£æœ‰è¿™ç§ç–¾ç—…ã€‚</p><p>é¢„æµ‹çš„å‡†ç¡®æ€§å’Œæ¼åˆ¤çš„æ¦‚ç‡ Precisionå¾ˆé«˜ï¼šè¯´è¯é è°±ï¼›Recallå¾ˆé«˜ï¼šé—æ¼ç‡å¾ˆä½ã€‚ å½“ä¸¤è€…éƒ½è¾ƒé«˜æ—¶æ¨¡å‹æ‰æœ‰è¾ƒå¥½çš„æ•ˆæœã€‚</p><p>å› æ­¤ï¼Œå½“æœ‰åæ–œç±»æˆ–æƒ³è¦æ£€æµ‹ç¨€æœ‰ç±»æ—¶ï¼Œç²¾ç¡®ç‡å’Œå¬å›ç‡å¯ä»¥åˆ¤æ–­ç®—æ³•æ˜¯å¦åšå‡ºäº†è‰¯å¥½çš„é¢„æµ‹æˆ–æœ‰ç”¨çš„é¢„æµ‹ã€‚</p><h1 id="ç²¾ç¡®ç‡ä¸å¬å›ç‡çš„æƒè¡¡">ç²¾ç¡®ç‡ä¸å¬å›ç‡çš„æƒè¡¡</h1><p>å½“ä½¿ç”¨é€»è¾‘å›å½’æ¨¡å‹æ—¶ï¼Œå¯æ›´æ”¹é˜ˆå€¼æ¥æƒè¡¡ç²¾ç¡®ç‡å’Œå¬å›ç‡ <img src="/img/3æ¨¡å‹è¯„ä¼°/Pasted%20image%2020230715120340.png" /> å½“é˜ˆå€¼æé«˜åˆ°0.7ï¼Œåˆ™è¯´æ˜å½“ç®—æ³•æœ‰70%åŠä»¥ä¸Šçš„ä¿¡å¿ƒè®¤ä¸ºæ ·æœ¬æ‚£ç—…æ—¶ï¼Œæ‰æŠŠè¯¥æ ·æœ¬æ ‡è®°ä¸ºæ‚£ç—…ã€‚å¦‚æœåªæœ‰69%çš„ä¿¡å¿ƒæ—¶ï¼Œåˆ™ä¸æ ‡è®°æ‚£ç—…ï¼Œåˆ’åˆ†ä¸ºæœªæ‚£ç—…ã€‚</p><p>å› æ­¤ï¼Œé€šè¿‡æé«˜é˜ˆå€¼ï¼Œå¯ä»¥æé«˜ç²¾ç¡®åº¦ï¼Œä½†æ˜¯ä¼šé™ä½å¬å›ç‡ã€‚</p><p>å¦‚æœæ²»ç–—èŠ±è´¹éå¸¸é«˜ã€å¯¹æ‚£è€…ä¼¤å®³å¾ˆå¤§ï¼Œåˆ™å¯èƒ½éœ€è¦é«˜ç²¾ç¡®åº¦ã€‚åä¹‹ï¼Œå¦‚æœèŠ±è´¹ä¸æ˜¯å¾ˆé«˜ï¼Œä¼¤å®³ä¹Ÿå°ï¼Œä½†æ˜¯ä¸æ²»ç–—ä¼šå¸¦æ¥æ›´ç³Ÿç³•çš„åæœï¼Œåˆ™å¯èƒ½éœ€è¦é«˜å¬å›ç‡ã€‚</p><p>F1 Scoreï¼Œç”¨äºè‡ªåŠ¨ç»“åˆç²¾ç¡®åº¦å’Œå¬å›ç‡ï¼Œä»¥å¸®åŠ©ä½ é€‰æ‹©æœ€ä½³ç®—æ³•æˆ–æœ€ä½³æƒè¡¡ä¸¤è€…ã€‚æ›´å¼ºè°ƒçš„æ˜¯è¿™äº›å€¼ä¸­è¾ƒä½çš„é‚£ä¸ªã€‚æ•°å€¼è¾ƒå¤§çš„ç®—æ³•è¾ƒå¥½ <img src="/img/3æ¨¡å‹è¯„ä¼°/Pasted%20image%2020230715122058.png" /> ç§ç»“åˆPå’ŒRç²¾åº¦å’Œå¬å›ç‡çš„æ–¹æ³•ï¼Œä½†å®ƒæ›´å¼ºè°ƒè¿™äº›å€¼ä¸­è¾ƒä½çš„é‚£ä¸ª</p>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ </category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
      <tag>ç¥ç»ç½‘ç»œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœºå™¨å­¦ä¹ 02-å¤šåˆ†ç±»é—®é¢˜</title>
    <link href="/2023/07/12/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A002-%E5%A4%9A%E5%88%86%E7%B1%BB%E9%97%AE%E9%A2%98/"/>
    <url>/2023/07/12/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A002-%E5%A4%9A%E5%88%86%E7%B1%BB%E9%97%AE%E9%A2%98/</url>
    
    <content type="html"><![CDATA[<h1 id="å¤šåˆ†ç±»é—®é¢˜">å¤šåˆ†ç±»é—®é¢˜</h1><h3 id="softmaxå›å½’">Softmaxå›å½’</h3><p>å½“æœ‰å››ç§åˆ†ç±»æ—¶ï¼š <img src="/img/2å¤šåˆ†ç±»é—®é¢˜/Pasted%20image%2020230712183238.png" /></p><p>æ™®è¯•ï¼š <img src="/img/2å¤šåˆ†ç±»é—®é¢˜/Pasted%20image%2020230712183725.png" /> <span class="math inline">\(a_{j}\)</span>è¢«è§£é‡Šä¸ºç»™å®šè¾“å…¥ç‰¹å¾xæ—¶æ¨¡å‹å¯¹yç­‰äºjçš„æ¦‚ç‡ã€‚</p><h3 id="softmaxå›å½’çš„æŸå¤±å‡½æ•°">Softmaxå›å½’çš„æŸå¤±å‡½æ•°</h3><p><img src="/img/2å¤šåˆ†ç±»é—®é¢˜/Pasted%20image%2020230712185008.png" /> æŸå¤±å‡½æ•°è¡¡é‡çš„æ˜¯åœ¨ä¸€ä¸ªè®­ç»ƒæ ·ä¾‹ä¸Šçš„è¡¨ç°å¦‚ä½•ï¼Œæ‰€ä»¥å¯¹äºä¸€ä¸ªç‰¹å®šçš„è®­ç»ƒæ ·æœ¬ï¼Œyåªèƒ½å–ä¸€ä¸ªå€¼ã€‚å› æ­¤æœ€ç»ˆåªèƒ½é’ˆå¯¹ <span class="math inline">\({a}_j\)</span> çš„ä¸€ä¸ªå€¼è®¡ç®— <span class="math inline">\({a}_j\)</span> çš„è´Ÿå¯¹æ•°ï¼Œå³åœ¨è¯¥ç‰¹å®šè®­ç»ƒæ ·æœ¬ä¸­yçš„å®é™…å€¼ç­‰äºjçš„ä»»ä½•å€¼ã€‚ä¾‹å¦‚ï¼Œå½“yç­‰äº2æ—¶ï¼ŒæŸå¤±å‡½æ•°åªè®¡ç®— <span class="math inline">\(-\log a_{2}\)</span></p><h3 id="ç¥ç»ç½‘ç»œçš„softmaxè¾“å‡º">ç¥ç»ç½‘ç»œçš„Softmaxè¾“å‡º</h3><p><img src="/img/2å¤šåˆ†ç±»é—®é¢˜/Pasted%20image%2020230712191305.png" /> sigmodæ¿€æ´»å‡½æ•°ï¼Œæ¿€æ´»å€¼ <span class="math inline">\({a}_1\)</span> ä»…æ˜¯ <span class="math inline">\({z}_1\)</span> çš„å‡½æ•° ï¼Œ<span class="math inline">\({a}_2\)</span> ä¹Ÿåªæ˜¯ <span class="math inline">\({z}_2\)</span> çš„å‡½æ•°ã€‚ä½†æ˜¯å¯¹äºsoftmaxå‡½æ•°ï¼Œæ¯ä¸€ä¸ªæ¿€æ´»å€¼éƒ½å–å†³äºZçš„æ‰€æœ‰å€¼ã€‚</p><h3 id="tensorflowå®ç°">Tensorflowå®ç°</h3><p>åŸºæœ¬å®ç°ï¼š <img src="/img/2å¤šåˆ†ç±»é—®é¢˜/Pasted%20image%2020230712192259.png" /></p><p>æ›´å¥½çš„å®ç°ï¼šï¼ˆP68ï¼‰ <img src="/img/2å¤šåˆ†ç±»é—®é¢˜/Pasted%20image%2020230712194825.png" /></p><p>ç›®çš„åœ¨äºå‡å°è®¡ç®—è¯¯å·®ã€‚è®¡ç®—æœºæ˜¯å°†æ•°å­—è½¬æ¢ä¸ºäºŒè¿›åˆ¶è®¡ç®—æ•°å€¼çš„ï¼Œä¼šæœ‰è¯¯å·®ã€‚åŸæ¥æ˜¯å…ˆè®¡ç®—å‡ºaï¼Œå†å°†aå¸¦å…¥åˆ°æŸå¤±å‡½æ•°ä¸­è®¡ç®—æŸå¤±å‡½æ•°ï¼Œè¿™ç§åˆ©ç”¨ä¸­é—´å€¼è®¡ç®—çš„æŸå¤±å‡½æ•°å…·æœ‰è¯¯å·®ã€‚</p><p>ç°åœ¨softmaxä¸å†å•ç‹¬è®¡ç®—ï¼Œåœ¨è®¡ç®—costæ—¶å°†aåµŒå…¥æŸå¤±éŸ©ç´ å†…éƒ¨ä¸€èµ·ç®—äº†ã€‚å¹¶ä¸”è¾“å‡ºå±‚ä¸º linerï¼Œè¿™æ ·è¾“å‡ºå±‚åªä¼šç›´æ¥è¾“å‡ºZçš„å€¼ï¼Œä¸å†å¸¦å…¥softmaxè®¡ç®—äº†ã€‚ å®Œæ•´ä»£ç ï¼š <img src="/img/2å¤šåˆ†ç±»é—®é¢˜/Pasted%20image%2020230712195606.png" alt="å¤šåˆ†ç±»ä¼˜åŒ–ä»£ç " /></p><p>é€»è¾‘å›å½’ä¼˜åŒ–ä»£ç ï¼š <img src="/img/2å¤šåˆ†ç±»é—®é¢˜/Pasted%20image%2020230712195739.png" alt="é€»è¾‘å›å½’ä¼˜åŒ–ä»£ç " /></p><p>epochs è¿­ä»£æ¬¡æ•°ã€‚</p><h1 id="å¤šæ ‡ç­¾åˆ†ç±»é—®é¢˜">å¤šæ ‡ç­¾åˆ†ç±»é—®é¢˜</h1><p><img src="/img/2å¤šåˆ†ç±»é—®é¢˜/Pasted%20image%2020230712203304.png" /> å¤šæ ‡ç­¾åˆ†ç±»é—®é¢˜æ˜¯æŒ‡å¯¹ä¸€ä¸ªæ ·æœ¬è¿›è¡Œå¤šä¸ªç±»åˆ«çš„åˆ†ç±»ï¼Œè€Œä¸æ˜¯å°†æ ·æœ¬åˆ†åˆ°å”¯ä¸€çš„ç±»åˆ«ä¸­ã€‚åœ¨å¤šæ ‡ç­¾åˆ†ç±»é—®é¢˜ä¸­ï¼Œæ¯ä¸ªæ ·æœ¬å¯ä»¥å±äºå¤šä¸ªç±»åˆ«ï¼Œç±»åˆ«ä¹‹é—´æ˜¯ç›¸äº’ç‹¬ç«‹çš„ã€‚</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªå›¾åƒè¯†åˆ«ä»»åŠ¡ï¼Œéœ€è¦å¯¹å›¾åƒè¿›è¡Œå¤šä¸ªæ ‡ç­¾çš„åˆ†ç±»ï¼Œæ¯”å¦‚è¯†åˆ«å›¾åƒä¸­çš„æ±½è½¦ã€å…¬äº¤è½¦ã€è¡Œäººã€‚ä¸€å¼ å›¾åƒå¯èƒ½åŒæ—¶åŒ…å«å¤šä¸ªæ ‡ç­¾ï¼Œæ¯”å¦‚æ—¢æœ‰äººåˆæœ‰æ±½è½¦ã€‚</p><p>è®­ç»ƒä¸‰ä¸ªå•ç‹¬çš„æ¨¡å‹ï¼Œåˆ†åˆ«è¯†åˆ«æœ‰æ²¡æœ‰æ±½è½¦ã€å…¬äº¤è½¦ã€è¡Œäººã€‚ è®­ç»ƒä¸€ä¸ªæ¨¡å‹ä¸€æ¬¡è¯†åˆ«å®Œã€‚è¾“å‡ºå±‚æœ‰ä¸‰ä¸ªsigmodç¥ç»å…ƒï¼Œå› æ­¤æˆ‘ä»¬è§£å†³çš„æ˜¯ä¸‰ä¸ªäºŒåˆ†ç±»é—®é¢˜ã€‚</p><p><img src="/img/2å¤šåˆ†ç±»é—®é¢˜/Pasted%20image%2020230712204335.png" /></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>æœºå™¨å­¦ä¹ 01-ç¥ç»ç½‘ç»œ</title>
    <link href="/2023/07/09/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A001-%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/"/>
    <url>/2023/07/09/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A001-%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C/</url>
    
    <content type="html"><![CDATA[<h2 id="ç¥ç»ç½‘è·¯">ç¥ç»ç½‘è·¯</h2><p>ä»€ä¹ˆæ˜¯ç¥ç»ç½‘ç»œï¼ˆNeural Networksï¼‰ï¼Ÿæœ€å¼€å§‹ç§‘å­¦å®¶æƒ³ç”¨ç®—æ³•å»æ¨¡æ‹Ÿå¤§è„‘è¾¾åˆ°äººå·¥æ™ºèƒ½ã€‚é€šè¿‡ä¸€ç³»åˆ—çš„å®éªŒå‘ç°ï¼Œå¤§è„‘æ˜¯é€šè¿‡ç¥ç»å…ƒè¿›è¡Œå·¥ä½œçš„ï¼Œç¥ç»å…ƒä¹‹é—´é€šè¿‡ç”µä¿¡å·ä¼ é€’ä¿¡æ¯ã€‚äºæ˜¯ä»–ä»¬å°±å¼€å§‹æ¨¡æ‹Ÿç¥ç»å…ƒçš„å·¥ä½œè¿‡ç¨‹ï¼Œç”¨ç®—æ³•å»æ¨¡æ‹Ÿç¥ç»å…ƒï¼Œè¿™å°±å½¢æˆäº†ç¥ç»ç½‘ç»œã€‚ç¥ç»ç½‘ç»œå¯ä»¥ç”¨æ¥å­¦ä¹ å¤æ‚çš„<strong>éçº¿æ€§å‡è®¾æ¨¡å‹</strong>ã€‚</p><p>ä¸ºäº†æ„å»ºç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆæ€è€ƒå¤§è„‘ä¸­çš„ç¥ç»ç½‘ç»œæ˜¯æ€æ ·çš„ï¼Ÿ</p><p>å¤§è„‘ä¸­çš„ç¥ç»å…ƒæ¥å—è®¸å¤šè¾“å…¥çš„ä¿¡æ¯ï¼Œå¹¶è¿›è¡Œä¸€äº›è®¡ç®—å’Œå¤„ç†ï¼Œè®¡ç®—åé€šè¿‡ç”µè„‰å†²å‘é€ç»™å…¶ä»–çš„ç¥ç»å…ƒã€‚ä¸Šå±‚ç¥ç»å…ƒçš„è¾“å‡ºåˆæˆä¸ºä¸‹å±‚ç¥ç»å…ƒçš„è¾“å…¥ï¼Œä¸‹å±‚ç¥ç»å…ƒå†æ¬¡èšåˆæ¥è‡ªå…¶ä»–ç¥ç»å…ƒçš„è¾“å‡ºä½œä¸ºè¯¥ç¥ç»å…ƒçš„è¾“å…¥ï¼Œç„¶åå°†è‡ªå·±çš„è¾“å‡ºå‘åˆ°å…¶ä»–ç¥ç»å…ƒã€‚è¿™ä¾¿æ˜¯å¤§è„‘ä¸­ç¥ç»ç½‘ç»œçš„å·¥ä½œåŸç†ã€‚</p><p><img src="/img/1æ·±åº¦å­¦ä¹ ç¥ç»ç½‘ç»œ/Neurons_big1.jpg" /></p><p>æˆ‘ä»¬å°†ç¥ç»å…ƒç®€åŒ–å¦‚ä¸‹ï¼š</p><p><img src="/img/1æ·±åº¦å­¦ä¹ ç¥ç»ç½‘ç»œ/Snipaste_2023-06-29_10-54-00.png" /> æ¯ä¸€ä¸ªç”Ÿç‰©ç¥ç»å…ƒéƒ½å¯ä»¥è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå¤„ç†å•å…ƒ/ç¥ç»æ ¸ï¼ˆ<strong>processing unit</strong>/<strong>Nucleus</strong>ï¼‰ï¼Œå®ƒå«æœ‰è®¸å¤šè¾“å…¥/æ ‘çªï¼ˆ<strong>input</strong>/<strong>Dendrite</strong>ï¼‰ï¼Œå¹¶ä¸”æœ‰ä¸€ä¸ªè¾“å‡º/è½´çªï¼ˆ<strong>output</strong>/<strong>Axon</strong>)ã€‚ç”Ÿç‰©ç¥ç»å…ƒä¼šå‘é€ç”µè„‰å†²ï¼Œæˆä¸ºå¦ä¸€ä¸ªç¥ç»å…ƒçš„è¾“å…¥ã€‚ç¥ç»ç½‘ç»œæ˜¯å¤§é‡ç¥ç»å…ƒç›¸äº’é“¾æ¥å¹¶é€šè¿‡ç”µè„‰å†²æ¥äº¤æµçš„ä¸€ä¸ªç½‘ç»œã€‚</p><p>æ‰€æœ‰<strong>äººå·¥ç¥ç»ç½‘ç»œ</strong>ä½¿ç”¨çš„æ˜¯éå¸¸ç®€åŒ–çš„ç”Ÿç‰©ç¥ç»å…ƒçš„æ•°å­¦æ¨¡å‹ã€‚</p><p>æˆ‘ä»¬ç”¨åœ†åœˆè¡¨ç¤ºä¸€ä¸ªç¥ç»å…ƒï¼Œç¥ç»å…ƒæ‰€åšçš„å°±æ˜¯æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å…¥ï¼Œè¿™äº›è¾“å…¥ä¸ºæ•°å­—ï¼Œå®ƒè¿›è¡Œä¸€äº›è®¡ç®—åï¼Œè¾“å‡ºä¸€äº›æ•°å­—ï¼Œè¿™äº›æ•°å­—åˆä½œä¸ºä¸‹ä¸€å±‚ç¥ç»å…ƒçš„è¾“å…¥ã€‚æˆ‘ä»¬æ„å»ºäººå·¥ç¥ç»ç½‘è·¯æ—¶ï¼Œé€šå¸¸åŒæ—¶æ¨¡æ‹Ÿå¤šä¸ªè¿™æ ·çš„ç¥ç»å…ƒï¼Œè€Œä¸æ˜¯æ„å»ºä¸€ä¸ªã€‚ <img src="/img/1æ·±åº¦å­¦ä¹ ç¥ç»ç½‘ç»œ/Pasted%20image%2020230708182836.png" /></p><h2 id="ç¥ç»ç½‘ç»œå¦‚ä½•å·¥ä½œçš„">ç¥ç»ç½‘ç»œå¦‚ä½•å·¥ä½œçš„ï¼Ÿ</h2><h3 id="æ¡ˆä¾‹ä¸€">æ¡ˆä¾‹ä¸€</h3><p>æˆ‘ä»¬ç”¨éœ€æ±‚æ¡ˆä¾‹æ¥äº†è§£ç¥ç»ç½‘è·¯æ—¶å¦‚ä½•å·¥ä½œçš„ï¼Œè¿™ä¸ªæ¡ˆä¾‹ä¸­ç›®æ ‡æ˜¯æƒ³çŸ¥é“é‚£äº›çŸ­è¢–å¯èƒ½æˆä¸ºç•…é”€å“ï¼Œä»¥æ¥è§„åˆ’æ›´å¥½çš„åº“å­˜æ°´å¹³å’Œè¥é”€æ´»åŠ¨ã€‚æ”¶é›†çš„æ•°æ®æœ‰ï¼šä¸åŒçŸ­è¢–çš„ä»·æ ¼ï¼Œä»¥åŠæ˜¯å¦æ˜¯ç•…é”€å“ã€‚</p><p><img src="/img/1æ·±åº¦å­¦ä¹ ç¥ç»ç½‘ç»œ/Pasted%20image%2020230709190636.png" /> åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œè¾“å…¥ç‰¹å¾Xæ˜¯çŸ­è¢–çš„ä»·æ ¼ï¼Œå¦‚æœåº”ç”¨é€»è¾‘å›å½’sigmoidå‡½æ•°æ¥æ‹Ÿåˆè¿™äº›æ•°æ®ï¼Œé‚£ä¹ˆé¢„æµ‹è¾“å‡ºåˆ™ä¸º<span class="math inline">\(\frac1{1+e^{-(wx+b)}}\)</span> <img src="assets/Pasted%20image%2020230709192135.png" /></p><p>åœ¨ç¥ç»ç½‘ç»œä¸­ï¼Œæˆ‘ä»¬ç”¨aæ¥è¡¨ç¤ºç®—æ³•çš„è¾“å‡ºï¼Œaä»£è¡¨æ¿€æ´»ï¼ˆactivationï¼‰ï¼Œæ¥æºäºç¥ç»ç§‘å­¦çš„ä¸€ä¸ªæœ¯è¯­ï¼ŒæŒ‡çš„æ˜¯ä¸€ä¸ªç¥ç»å…ƒå‘ä¸‹æ¸¸å…¶ä»–ç¥ç»å…ƒå‘é€å¤šå°‘é«˜è¾“å‡ºã€‚</p><p>è¿™ä¸ªé€»è¾‘å›å½’å•å…ƒå¯çœ‹ä½œå¤§è„‘ä¸­å•ä¸ªç¥ç»å…ƒéå¸¸ç®€åŒ–çš„æ•°å­¦æ¨¡å‹ã€‚è¿™ä¸ªäººå·¥ç¥ç»å…ƒæ‰€è¦åšçš„å°±æ˜¯ï¼Œå°†ä»·æ ¼Xè¾“å…¥ï¼Œç„¶ååˆ©ç”¨sigmoidå‡½æ•°å…¬å¼ <span class="math inline">\(\frac1{1+e^{-(wx+b)}}\)</span> è®¡ç®—å‡ºè¾“å‡ºå€¼aï¼Œè¾“å‡ºçš„åˆ™ä¸ºè¿™ä»¶çŸ­è¢–å¯èƒ½æˆä¸ºç•…é”€å“çš„æ¦‚ç‡ã€‚ <img src="/img/1æ·±åº¦å­¦ä¹ ç¥ç»ç½‘ç»œ/Pasted%20image%2020230709193702.png" /> é‰´äºå¯¹å•ä¸ªç¥ç»å…ƒçš„æè¿°ï¼Œæ„å»ºç¥ç»ç½‘ç»œåªéœ€è¦å°†è¿™äº›ç¥ç»å…ƒå¹¶åœ¨ä¸€èµ·ï¼Œå¹¶å°†ä»–ä»¬è¿æ¥èµ·æ¥ã€‚</p><h3 id="æ¡ˆä¾‹äºŒ">æ¡ˆä¾‹äºŒ</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬çœ‹ä¸€ä¸ªæ›´å¤æ‚çš„éœ€æ±‚é¢„æµ‹æ¡ˆä¾‹ï¼Œåœ¨è¯¥æ¡ˆä¾‹ä¸­æˆ‘ä»¬ç”¨å››ä¸ªç‰¹å¾æ¥é¢„æµ‹çŸ­è¢–æ˜¯å¦ä¸ºç•…é”€å“ã€‚å››ä¸ªç‰¹å¾ä¸ºä»·æ ¼ï¼ˆpriceï¼‰ã€è¿è´¹ï¼ˆshipping costï¼‰ã€è¥é”€æ‰‹æ®µï¼ˆmarketingï¼‰ã€ææ–™è´¨é‡ï¼ˆmaterialï¼‰ã€‚æˆ‘ä»¬å‡è®¾çŸ­è¢–æ˜¯å¦èƒ½æˆä¸ºç•…é”€å“å–å†³äºä»¥ä¸‹å‡ ä¸ªå› ç´ ï¼š 1. affordability - å¯¹è¿™ä»¶çŸ­è¢–äººä»¬æ˜¯å¦<strong>å¯è´Ÿæ‹…</strong>çš„èµ·?æ”¯ä»˜èƒ½åŠ› 2. awareness - æ½œåœ¨ä¹°å®¶å¯¹è¿™ä»¶çŸ­è¢–çš„<strong>è®¤è¯†ç¨‹åº¦</strong>å¦‚ä½•ï¼ŸçŸ­è¢–æ˜¯å¦çŸ¥å 3. perceived quality - <strong>æ„ŸçŸ¥è´¨é‡</strong>ï¼Œäººä»¬æ˜¯å¦æœ‰åè§æˆ–æ½œåœ¨åè§è¯´è¿™æ˜¯ä¸€ä»¶é«˜è´¨é‡çš„çŸ­è¢–ï¼Ÿ <img src="/img/1æ·±åº¦å­¦ä¹ ç¥ç»ç½‘ç»œ/Pasted%20image%2020230709200233.png" /></p><p><strong>é¦–å…ˆ</strong>ï¼Œæˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªäººå·¥ç¥ç»å…ƒæ¥ä¼°è®¡è¿™ä»¶çŸ­è¢–è¢«äººä»¬è®¤ä¸ºæ˜¯å¯è´Ÿæ‹…çš„èµ·çš„æ¦‚ç‡ã€‚æ”¯ä»˜èƒ½åŠ›ä¸»è¦æ˜¯ä»·æ ¼å’Œè¿è´¹çš„å‡½æ•°ï¼Œå› ä¸ºä¸€ä»¶çŸ­è¢–çš„æ”¯ä»˜æ€»é¢æ˜¯ä»·æ ¼åŠ ä¸Šè¿è´¹ã€‚æ‰€ä»¥åœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªç¥ç»å…ƒï¼Œä¸€ä¸ªé€»è¾‘å›å½’å•å…ƒæ¥è¾“å…¥ä»·æ ¼å’Œè¿è´¹ï¼Œå¹¶é¢„æµ‹äººä»¬æ˜¯å¦è´Ÿæ‹…çš„èµ·ã€‚ <img src="/img/1æ·±åº¦å­¦ä¹ ç¥ç»ç½‘ç»œ/Pasted%20image%2020230709212521.png" /></p><p><strong>æ¥ç€</strong>ï¼Œåˆ›å»ºä¸€ä¸ªäººå·¥ç¥ç»å…ƒæ¥é¢„æµ‹æ½œåœ¨ä¹°å®¶å¯¹è¿™ä»¶Tæ¤è¡«çš„è®¤è¯†ç¨‹åº¦ã€‚çŸ­è¢–çŸ¥åç¨‹åº¦å½’å› äºè¥é”€æ‰‹æ®µã€‚<strong>æœ€å</strong>ï¼Œè¦åˆ›å»ºå¦ä¸€ä¸ªç¥ç»å…ƒæ¥ä¼°è®¡äººä»¬æ˜¯å¦è®¤ä¸ºè¿™æ˜¯é«˜è´¨é‡çš„çŸ­è¢–ã€‚è¿™å¯èƒ½æ˜¯çŸ­è¢–ä»·æ ¼å’Œææ–™è´¨é‡çš„å‡½æ•°ã€‚ <img src="/img/1æ·±åº¦å­¦ä¹ ç¥ç»ç½‘ç»œ/Pasted%20image%2020230709213442.png" /></p><p>é‰´äºå¯¹å¯è´Ÿæ‹…æ€§ï¼ˆaffordabilityï¼‰ã€è®¤è¯†ç¨‹åº¦ï¼ˆawarenessï¼‰ã€æ„ŸçŸ¥è´¨é‡ï¼ˆperceived qualityï¼‰çš„é¢„æµ‹ï¼Œæˆ‘ä»¬å°†è¿™ä¸‰ä¸ªç¥ç»å…ƒçš„è¾“å‡ºè¿æ¥åˆ°å³ä¾§å¦ä¸€ä¸ªç¥ç»å…ƒï¼Œç„¶åè¯¥ç¥ç»å…ƒè¾“å…¥è¿™ä¸‰ä¸ªæ•°å­—å¹¶è¾“å‡ºå¯èƒ½æˆä¸ºç•…é”€å“çš„æ¦‚ç‡ã€‚ <img src="/img/1æ·±åº¦å­¦ä¹ ç¥ç»ç½‘ç»œ/Pasted%20image%2020230709213627.png" /> ==ç¥ç»ç½‘ç»œå¯çœ‹ä½œé€»è¾‘å›å½’ï¼Œä½†æ˜¯è¿™ä¸ªé€»è¾‘å›å½’å¯ä»¥å­¦ä¹ è‡ªèº«æ›´å¥½çš„ç‰¹å¾ï¼Œä¸éœ€è¦æ‰‹åŠ¨è®¾è®¡ï¼Œä»è€Œè¿›è¡Œæ›´å‡†ç¡®çš„é¢„æµ‹ï¼ˆç¥ç»ç½‘ç»œ=è‡ªåŠ¨åŒ–ç‰¹å¾å·¥ç¨‹+é€»è¾‘/çº¿æ€§å›å½’)==</p><p>åœ¨ç¥ç»ç½‘ç»œæœ¯è¯­ä¸­æˆ‘ä»¬æŠŠï¼Œæˆ‘ä»¬å°†æŠŠè¿™ä¸‰ä¸ªç¥ç»å…ƒç»„åˆåœ¨ä¸€èµ·ï¼Œå½¢æˆè°“çš„<strong>å±‚ï¼ˆlayerï¼‰</strong>ï¼Œå±‚æ˜¯ä¸€ç»„ç¥ç»å…ƒï¼Œå®ƒä»¬å°†ç›¸åŒæˆ–ç›¸ä¼¼çš„ç‰¹å¾ä½œä¸ºè¾“å…¥ï¼Œç„¶åä¸€èµ·è¾“å‡ºä¸€äº›æ•°å­—ï¼Œå³è¾¹ç¥ç»å…ƒä¹Ÿä¸ºå±‚ï¼Œæ‰€ä»¥å±‚å¯ä»¥æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªç¥ç»å…ƒã€‚ <img src="/img/1æ·±åº¦å­¦ä¹ ç¥ç»ç½‘ç»œ/Pasted%20image%2020230709215546.png" /> å³è¾¹è¿™ä¸€å±‚ä¹Ÿå«åš<strong>è¾“å‡ºå±‚</strong>ï¼ˆoutput layerï¼‰ï¼Œå› ä¸ºæœ€åä¸€å±‚è¾“å‡ºçš„æ˜¯æ•´ä¸ªç¥ç»ç½‘ç»œçš„é¢„æµ‹å€¼ã€‚æœ€å·¦è¾¹è¾“å…¥çš„å››ä¸ªç‰¹å¾ä¹Ÿå«<strong>è¾“å…¥å±‚</strong>ï¼ˆinput layer)ã€‚åœ¨è¾“å…¥å±‚å’Œè¾“å‡ºå±‚ä¸­é—´çš„æ‰€æœ‰å±‚éƒ½å«<strong>éšè—å±‚</strong>ï¼Œåœ¨ç¥ç»ç½‘ç»œä¸­è¾“å…¥å±‚å’Œè¾“å‡ºå±‚éƒ½æœ‰æ˜ç¡®çš„æ•°å€¼ï¼Œè€Œä¸­é—´çš„å±‚å¹¶æ²¡æœ‰å‘Šè¯‰ç¡®åˆ‡çš„æ•°å€¼ï¼Œæ˜¯æœªçŸ¥çš„ã€‚</p><p>æˆ‘ä»¬è¿˜å°† affordabilityã€awarenessã€perceived quality å«åšæ¿€æ´»ï¼ˆactivationsï¼‰ã€‚æ¿€æ´»æºäºç”Ÿç‰©ç¥ç»å…ƒï¼Œå®ƒæŒ‡çš„æ˜¯ç”Ÿç‰©ç¥ç»å…ƒå‘ä¸‹æ¸¸å…¶ä»–ç¥ç»å…ƒå‘é€çš„é«˜è¾“å‡ºå€¼æˆ–å‘é€è®¸å¤šç”µè„‰å†²çš„ç¨‹åº¦ã€‚è¿™äº›å…³äºaffordabilityã€awarenesså’Œperceived qualityçš„æ•°å­—æ˜¯è¯¥å±‚ä¸­è¿™ä¸‰ä¸ªç¥ç»å…ƒçš„æ¿€æ´»ã€‚åŒæ ·è¾“å‡ºæ¦‚ç‡æ˜¯å³ä¾§è¿™ä¸ªç¥ç»å…ƒçš„æ¿€æ´»ã€‚ <img src="/img/1æ·±åº¦å­¦ä¹ ç¥ç»ç½‘ç»œ/Pasted%20image%2020230709220948.png" /></p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬æ‰‹åŠ¨é€‰æ‹©äº†é‚£ä¸ªç¥ç»å…ƒéœ€è¦é‚£å‡ ä¸ªç‰¹å¾ä½œä¸ºè¾“å…¥ï¼Œä½†ç¥ç»ç½‘ç»œåœ¨å®è·µä¸­å±‚ä¸­çš„æ¯ä¸€ä¸ªç¥ç»å…ƒéƒ½å¯ä»¥è®¿é—®ä¸Šä¸€å±‚çš„æ¯ä¸€ä¸ªç‰¹å¾ï¼Œä»è¾“å…¥å±‚è®¿é—®æ¯ä¸ªå€¼ã€‚ <img src="/img/1æ·±åº¦å­¦ä¹ ç¥ç»ç½‘ç»œ/Pasted%20image%2020230709222537.png" /></p><p>ä½ å¯ä»¥æƒ³è±¡ï¼Œå¦‚æœè¯•å›¾é¢„æµ‹çŸ­è¢–çš„å¯è´Ÿæ‹…æ€§ï¼Œå¹¶ä¸”å®ƒçŸ¥é“ä»·æ ¼ã€è¿è´¹ã€è¥é”€å’Œææ–™ï¼Œä½ å¯èƒ½ä¼šå¿½ç•¥è¥é”€å’Œææ–™ï¼Œåªæ³¨é‡äºä»·æ ¼å’Œè¿è´¹ã€‚æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡é€‚å½“åœ°è®¾ç½®å‚æ•°æ¥æ‰¾å‡ºé‚£äº›ç‰¹å¾ä¸è´Ÿæ‹…èƒ½åŠ›æœ€ç›¸å…³ï¼Œæ¯”å¦‚ä»·æ ¼å’Œè¿è´¹æƒé‡è¾ƒå¤§ï¼Œè€Œè¥é”€å’Œææ–™çš„æƒé‡è¾ƒå°ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ </category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
      <tag>æ·±åº¦å­¦ä¹ </tag>
      
      <tag>ç¥ç»ç½‘ç»œ</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>æœºå™¨å­¦ä¹ 00-ç›‘ç£å­¦ä¹ </title>
    <link href="/2023/07/07/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A000-%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/"/>
    <url>/2023/07/07/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A000-%E7%9B%91%E7%9D%A3%E5%AD%A6%E4%B9%A0/</url>
    
    <content type="html"><![CDATA[<h1 id="çº¿æ€§å›å½’æ¨¡å‹linear-regression">çº¿æ€§å›å½’æ¨¡å‹ï¼ˆLinear Regressionï¼‰</h1><h2 id="å‡è®¾å‡½æ•°">å‡è®¾å‡½æ•°</h2><p><span class="math display">\[f_{w,b}(x)=w_{1}x_{1}+w_{2}x_{2}+...+w_{n}x_{n}+b\]</span></p><p>å¦‚ä½•ç¡®å®šæ¨¡å‹ä¸­çš„å‚æ•°å–ä»€ä¹ˆå€¼? ç”¨ä»£ä»·å‡½æ•°</p><h2 id="ä»£ä»·å‡½æ•°">ä»£ä»·å‡½æ•°</h2><p><a href="å¦‚ä½•æœ€ç®€å•ã€é€šä¿—åœ°ç†è§£ä»£ä»·å‡½æ•°ï¼Ÿ.md">ä»£ä»·å‡½æ•°</a>ï¼ˆCost Functionï¼‰æ˜¯ç”¨æ¥è¡¡é‡é¢„æµ‹å€¼ä¸å®é™…å€¼ä¹‹é—´çš„è¯¯å·®ã€‚å®ƒçš„ç›®çš„æ˜¯æ‰¾åˆ°ä¸€ç»„å‚æ•°ï¼Œä½¿å¾—é¢„æµ‹å€¼ä¸å®é™…å€¼ä¹‹é—´çš„è¯¯å·®æœ€å°ï¼ˆç¡®å®šæœ€ä¼˜å‚æ•°ï¼‰ã€‚è¯„ä»·æ¨¡å‹æ˜¯å¦æ‹Ÿåˆçš„å‡†ç¡®ï¼Œå€¼è¶Šå°ï¼Œæ‹Ÿåˆçš„è¶Šå‡†ç¡®ã€‚</p><p><strong>çº¿æ€§å›å½’çš„ä»£ä»·å‡½æ•°</strong>ï¼šæœ€å°äºŒä¹˜æ³•ã€‚æ‰€è°“â€œäºŒä¹˜â€å°±æ˜¯å¹³æ–¹çš„æ„æ€ã€‚</p><p><span class="math display">\[J(w,b)=\frac{1}{2m}\sum_{i=1}^m\bigl(f_{w,b}\bigl(x^{(i)}\bigr)-y^{(i)}\bigr)^2\]</span></p><blockquote><p>æ­¤å¤„1/2mä¸­çš„2ä»…ä¸ºäº†åç»­æ±‚å¯¼è®¡ç®—æ—¶ï¼Œç®€åŒ–è®¡ç®—æ­¥éª¤</p></blockquote><p><strong>æ³¨æ„ï¼š</strong></p><p>ä»£ä»·å‡½æ•°ä¸­çš„ <span class="math display">\[(f_{w,b}\bigl(x^{(i)}\bigr)-y^{(i)}\bigr)^2\]</span> éƒ¨åˆ†å«æŸå¤±å‡½æ•°ï¼ˆLoss Functionï¼‰ç”¨Lè¡¨ç¤º <span class="math display">\[L=(f_{w,b}\bigl(x^{(i)}\bigr)-y^{(i)}\bigr)^2\]</span> æŸå¤±å‡½æ•°è¡¡é‡çš„æ˜¯ä½ åœ¨ä¸€ä¸ªè®­ç»ƒæ ·ä¾‹ä¸Šçš„è¡¨ç°å¦‚ä½•ï¼Œå®ƒæ˜¯é€šè¿‡æ€»ç»“ä½ éšåè·å¾—çš„æ‰€æœ‰è®­ç»ƒæ ·åˆ—çš„æŸå¤±ï¼›è€Œä»£ä»·å‡½æ•°è¡¡é‡ä½ åœ¨æ•´ä¸ªè®­ç»ƒé›†ä¸Šçš„è¡¨ç°ã€‚</p><p>å› æ­¤ï¼Œä»£ä»·å‡½æ•°å€¼æ˜¯åœ¨æŸå¤±å‡½æ•°å€¼æ±‚å’Œåé™¤ä»¥è®­ç»ƒé‡ã€‚</p><p>çº¿æ€§å›å½’ä»£ä»·å‡½æ•°å›¾ï¼š</p><p><img src="/img/æœºå™¨å­¦ä¹ /Snipaste_2023-06-09_11-22-50.png" /></p><p>ä»£ä»·å‡½æ•°å›¾è‡ªå˜é‡ä¸ºå‚æ•°ï¼Œå› å˜é‡ä¸ºä»£ä»·å‡½æ•°å€¼ã€‚æœ‰ä»£ä»·å‡½æ•°å›¾äº†ï¼Œå¦‚ä½•è‡ªåŠ¨åˆ°è¾¾ä»£ä»·å‡½æ•°å›¾çš„æœ€å°å€¼ç‚¹ï¼Œå³æ¨¡å‹æ‹Ÿåˆæœ€ä¼˜çš„ç‚¹ï¼Ÿ</p><h2 id="æ¢¯åº¦ä¸‹é™gradient-descent">æ¢¯åº¦ä¸‹é™ï¼ˆGradient descent ï¼‰</h2><p>ä»ä»£ä»·å‡½æ•°å›¾ä¸­æ‰¾åˆ°æœ€å°å€¼æ‰€åœ¨çš„ç‚¹ã€‚æœ‰æ²¡æœ‰ä¸€ç§ç®—æ³•å¯ä»¥è‡ªåŠ¨åœ°ã€å¿«é€Ÿæ±‚å‡ºä½¿å¾—ä»£ä»·å‡½æ•°æœ€å°çš„ç‚¹å‘¢ï¼Ÿæœ‰ï¼Œé‚£å°±æ˜¯<strong>æ¢¯åº¦ä¸‹é™</strong></p><ul><li><p>æ¢¯åº¦ä¸‹é™çš„å·¥ä½œæ˜¯æ‰¾åˆ°å¸Œæœ›æœ€å°åŒ–ä»£ä»·å‡½æ•°Jçš„å‚æ•°wå’Œb</p></li><li><p>å¦‚ä½•å¿«é€Ÿåˆ°è¾¾æœ€ä¼˜ç‚¹ï¼šä»å±±é¡¶ä¸€æ­¥ä¸€æ­¥èµ°åˆ°å±±è°·ï¼Œå…ˆåœ¨åŸåœ°è½¬ä¸€åœˆï¼Œé€‰æœ€é™¡çš„åœ°æ–¹èµ°ä¸€æ­¥ï¼Œåœ¨è½¬ä¸€åœˆï¼Œåœ¨é€‰æœ€é™¡çš„ä¸€æ­¥ã€‚è¿™ä¸€æ­¥ä¸€æ­¥å°±æ˜¯å¤šä¸ªæ¢¯åº¦ä¸‹é™çš„æ­¥éª¤ã€‚</p></li><li><p>ä¸åŒçš„wï¼Œbå€¼å†³å®šä½ åœ¨é‚£ä¸ªä½ç½®</p></li><li><p>æ¢¯åº¦ä¸‹é™ç®—æ³• <span class="math display">\[\begin{aligned}w &amp;= w - \alpha \frac{\partial}{d\omega}J(\omega.b) \\b &amp;= b - \alpha \frac{\partial}{d\omega}J(\omega.b)\end{aligned}\]</span></p></li><li><p>æ¢¯åº¦ä¸‹é™ï¼ˆGradient descent ï¼‰åŒæ—¶æ›´æ–°wï¼Œbã€‚åŒæ—¶æ›´æ–°ç›®çš„åœ¨äºï¼Œèƒ½å¤Ÿç¡®ä¿æ˜¯åœ¨åŸç‚¹å¯»æ‰¾æœ€é™¡æ–¹å‘ã€‚èµ‹å€¼å°±åƒè¿ˆå‡ºäº†ä¸€æ­¥ï¼Œå…ˆè¿ˆå‡ºå·¦è„šå¯»æ‰¾æœ€é™¡çš„åœ°æ–¹å’Œåœ¨åŸåœ°å¯»æ‰¾æœ€é™¡çš„åœ°æ–¹ä¸ä¸€æ ·ã€‚</p></li><li><p>Î±å­¦ä¹ ç‡å†³å®šä½ è¿ˆå‡ºçš„ä¸€æ­¥æœ‰å¤šå¤§</p></li><li><p>å¯¼æ•°å†³å®šæ¢¯åº¦ä¸‹é™æ–¹å‘ï¼Œå­¦ä¹ ç‡å†³å®šæ­¥é•¿</p></li></ul><p><img src="/img/æœºå™¨å­¦ä¹ /Snipaste_2023-06-12_19-02-10.png" /></p><p><strong>çº¿æ€§å›å½’çš„æ¢¯åº¦ä¸‹é™ï¼š</strong> <span class="math display">\[\begin{aligned}w&amp;=w-\alpha\frac{1}{m}\sum_{i=1}^{m}(f_{w,b}\big(x^{(i)}\big)-y^{(i)})x^{(i)}\\b &amp;=b-\alpha\frac{1}{m}\sum_{i=1}^{m}(f_{w,b}(x^{(i)})-y^{(i)})\end{aligned}\]</span></p><h2 id="å¤šç»´ç‰¹å¾">å¤šç»´ç‰¹å¾</h2><ul><li>çŸ¢é‡åŒ–ä½¿ä»£ç æ›´ç®€çŸ­ è¿è¡Œæ›´é«˜æ•ˆ</li></ul><h2 id="ç‰¹å¾ç¼©æ”¾feature-scaling">ç‰¹å¾ç¼©æ”¾ï¼ˆ<strong>Feature Scaling</strong>ï¼‰</h2><p>æˆ¿ä»·</p><p><span class="math display">\[pr i c e=w_{1}x_{1}+w_{2}x_{2}+b\]</span> <span class="math inline">\(x_{1}\)</span> : sizeï¼ˆfeet^2ï¼‰range :300-2000 <span class="math inline">\(x_{2}\)</span> : # bedrooms range :0-5</p><p>å½“ç‰¹å¾çš„å¯èƒ½å€¼è¾ƒå¤§æ—¶ï¼Œå¦‚æˆ¿é—´å¤§å°(<span class="math inline">\(x_{1}\)</span>)ï¼Œåˆ™å…¶å‚æ•°(<span class="math inline">\(w_{1}\)</span>)çš„åˆç†å€¼å°†ç›¸å¯¹è¾ƒå° å½“ç‰¹å¾çš„å¯èƒ½å€¼è¾ƒå°æ—¶ï¼Œå¦‚å§å®¤æ•°é‡(<span class="math inline">\(x_{2}\)</span>)ï¼Œåˆ™å…¶å‚æ•°(<span class="math inline">\(w_{2}\)</span>)çš„åˆç†å€¼å°†ç›¸å¯¹è¾ƒå¤§</p><p><img src="/img/æœºå™¨å­¦ä¹ /Snipaste_2023-05-27_11-58-53.png" /></p><p>ç‰¹å¾æ•£ç‚¹å›¾å¦‚å·¦ä¸Šæ—¶ï¼Œå…¶ä»£ä»·å‡½æ•°åœ¨ç­‰é«˜çº¿å›¾ä¸­çš„æ ·å­å¦‚å³ä¸Šæ‰€ç¤ºï¼Œä¸ºæ¤­åœ†å½¢ï¼Œæ¢¯åº¦ä¸‹é™å¯èƒ½ä¼šåœ¨å®ƒæœ€ç»ˆæ‰¾åˆ°å…¨å±€æœ€å°å€¼ä¹‹å‰æ¥å›å¼¹è·³å¾ˆé•¿çš„æ—¶é—´ã€‚</p><p>æ‰€ä»¥å½“ä½ æœ‰ä¸åŒçš„ç‰¹å¾ï¼Œå®ƒä»¬çš„å–å€¼èŒƒå›´éå¸¸ä¸åŒæ—¶ï¼Œå®ƒå¯èƒ½ä¼šå¯¼è‡´æ¢¯åº¦ä¸‹é™è¿è¡Œç¼“æ…¢ï¼Œä½†é‡æ–°ç¼©æ”¾ä¸åŒçš„ç‰¹å¾ï¼Œä½¿å®ƒä»¬éƒ½å…·æœ‰å¯æ¯”è¾ƒçš„å–å€¼èŒƒå›´ï¼Œè®©æ¢¯åº¦ä¸‹é™æ³•è¿è¡Œå¾—æ›´å¿«ã€‚</p><h3 id="å¦‚ä½•å®ç°ç‰¹å¾ç¼©æ”¾">å¦‚ä½•å®ç°ç‰¹å¾ç¼©æ”¾ï¼Ÿ</h3><p>å°†æ•°æ®æ ‡å‡†åŒ–ã€å½’ä¸€åŒ–</p><p><strong>å¹³å‡å€¼å½’ä¸€åŒ–æ–¹æ³•ï¼ˆMean normalizationï¼‰</strong></p><p>å¦‚æœè¦å°†è¯¥å€¼æ˜ å°„åˆ°[-1,1]åŒºé—´å†…ï¼Œåˆ™éœ€è¦è®¡ç®—ç‰¹å¾çš„å¹³å‡å€¼<span class="math inline">\(X_{Mean}\)</span>ï¼Œä½¿ç”¨å¹³å‡å€¼å½’ä¸€åŒ–æ–¹æ³•å…¬å¼ä¸º</p><p><span class="math display">\[x=\frac{X-X_{Mean}}{X_{Max}-X_{Min}}\]</span></p><p><strong>Z-scoreæ ‡å‡†åŒ–æ–¹æ³•ï¼ˆZ-score Normalizationï¼‰</strong></p><p>æ ‡å‡†åŒ–æ³•éœ€è¦æå‰è®¡ç®—ç‰¹å¾çš„å‡å€¼<span class="math inline">\(X_{Mean}\)</span>å’Œæ ‡å‡†å·®<span class="math inline">\(\sigma\)</span>ï¼Œæ ‡å‡†åŒ–åçš„å˜é‡å€¼å›´ç»•0ä¸Šä¸‹æ³¢åŠ¨ï¼Œå¤§äº0è¯´æ˜é«˜äºå¹³å‡æ°´å¹³ï¼Œå°äº0è¯´æ˜ä½äºå¹³å‡æ°´å¹³ã€‚ <span class="math display">\[x={\frac{X-X_{M e a n}}{\sigma}}\]</span></p><h3 id="ç¼©æ”¾çš„èŒƒå›´æ˜¯å¦æœ‰å›ºå®šçš„è¦æ±‚">ç¼©æ”¾çš„èŒƒå›´æ˜¯å¦æœ‰å›ºå®šçš„è¦æ±‚ï¼Ÿ</h3><p><img src="/img/æœºå™¨å­¦ä¹ /Snipaste_2023-06-08_16-08-53.png" /></p><p>æœ€å¥½æ˜¯-1åˆ°1ï¼Œå®åœ¨ä¸è¡Œï¼Œæœ€å¤§æ˜¯-3åˆ°3ï¼Œæœ€å°æ˜¯-0.3åˆ°0.3ï¼Œéƒ½èƒ½æ¥å—ã€‚</p><p>åŸºæœ¬æ„æ€æ˜¯ï¼Œä¿è¯å„ä¸ªç‰¹å¾çš„æ•°é‡çº§ä¸€è‡´ï¼Œé€šè¿‡ç¼©æ”¾å°½é‡è®©æ‰€æœ‰ç‰¹å¾çš„å–å€¼åœ¨å·®ä¸å¤šèŒƒå›´ï¼Œåœ¨ä¸€ä¸ªæ•°é‡çº§ä»¥å†…çš„ç‰¹å¾å¯ä»¥ä¸è€ƒè™‘ç¼©æ”¾ï¼Œè¿™æ ·å®ƒä»¬çš„å˜åŒ–å¯¹é¢„æµ‹å€¼çš„å½±å“éƒ½æ˜¯æ¥è¿‘çš„ã€‚</p><h2 id="åˆ¤æ–­æ¢¯åº¦ä¸‹é™æ˜¯å¦æ”¶æ•›">åˆ¤æ–­æ¢¯åº¦ä¸‹é™æ˜¯å¦æ”¶æ•›ï¼Ÿ</h2><p>åœ¨è¿è¡Œæ¢¯åº¦ä¸‹é™æ—¶ï¼Œæ€æ ·æ‰èƒ½çŸ¥é“æ¢¯åº¦ä¸‹é™æ˜¯å¦æœ‰æ•ˆï¼Œæ˜¯å¦æ­£åœ¨æ‰¾åˆ°å…¨å±€æœ€å°å€¼æˆ–æ¥è¿‘å®ƒçš„å€¼ï¼Ÿä¸ºäº†èƒ½å¤Ÿé€‰æ‹©æ›´å¥½çš„å­¦ä¹ ç‡ã€‚</p><p>åˆ¤æ–­æ¢¯åº¦ä¸‹é™è¿è¡Œæ˜¯å¦è‰¯å¥½ï¼Œç”¨<strong>å­¦ä¹ æ›²çº¿</strong>ï¼ˆlearning curveï¼‰ï¼Œæ¨ªè½´ä¸ºæ¢¯åº¦ä¸‹é™è¿­ä»£æ¬¡æ•°ï¼Œçºµè½´ä¸ºä»£ä»·å‡½æ•°Jã€‚</p><p><img src="/img/æœºå™¨å­¦ä¹ /Snipaste_2023-06-08_17-32-14.png" /> å½“è¿è¡Œè‰¯å¥½æ—¶ï¼Œå­¦ä¹ æ›²çº¿æ˜¯ä¸€ç›´ä¸‹é™çš„ï¼Œç›´åˆ°å˜å¹³ï¼ˆå³æ”¶æ•›)ï¼›å½“å‡ºç°å…ˆä¸‹é™ååˆä¸Šå‡çš„æƒ…å†µæ—¶ï¼Œå¯èƒ½æ˜¯å­¦ä¹ ç‡é”™è¯¯ï¼Œæˆ–è€…ç¨‹åºé”™è¯¯ã€‚æŸ¥çœ‹æ­¤å­¦ä¹ æ›²çº¿ï¼Œæ‚¨å¯ä»¥å°è¯•å‘ç°æ¢¯åº¦ä¸‹é™æ˜¯å¦æ”¶æ•›ã€‚</p><p>å¦ä¸€ç§æ–¹æ³•æ˜¯<strong>è‡ªåŠ¨æ”¶æ•›æµ‹è¯•</strong>ï¼ˆAutomatic convergence testï¼‰ ä»¤<span class="math inline">\(\epsilon\)</span> â€epsilonâ€œç­‰äºä¸€ä¸ªéå¸¸å°çš„æ•°ï¼Œå¦‚æœä»£ä»·Jåœ¨ä¸€æ¬¡è¿­ä»£ä¸­å‡å°‘çš„å¹…åº¦å°äºè¿™ä¸ªæ•°å­—epsilon,é‚£ä¹ˆå¾ˆå¯èƒ½ä½äºå­¦ä¹ æ›²çº¿çš„å¹³å¦éƒ¨åˆ†ï¼Œå¯ä»¥å®£å¸ƒæ”¶æ•›ã€‚ä½†æ˜¯é€‰æ‹©æ­£ç¡®çš„é˜ˆå€¼epsilonéå¸¸å›°éš¾ã€‚</p><h2 id="å¦‚ä½•è®¾ç½®å­¦ä¹ ç‡">å¦‚ä½•è®¾ç½®å­¦ä¹ ç‡ï¼Ÿ</h2><p>å½“æ¢¯åº¦ä¸‹é™å‡½æ•°è¿è¡Œæœ‰é”™è¯¯æ—¶ï¼Œå¯èƒ½æ˜¯å­¦ä¹ ç‡å¤ªå¤§äº†æˆ–è€…ç¨‹åºæœ‰é”™è¯¯ã€‚</p><ul><li>å­¦ä¹ ç‡è¿‡å¤§ï¼Œè°ƒå°å­¦ä¹ ç‡</li><li>ç¨‹åºæœ‰é”™è¯¯ï¼ŒæŸ¥çœ‹å…¬å¼æ˜¯å¦å†™é”™ï¼Œæ¯”å¦‚æŠŠå‡å·å†™æˆåŠ å·</li></ul><p><strong>å°è¯•ä¸åŒçš„å­¦ä¹ ç‡å¹¶ç”»å¯¹åº”çš„å­¦ä¹ æ›²çº¿</strong></p><p>â€¦â€¦0.001ï¼Œ0.003ï¼Œ0.01ï¼Œ0.03ï¼Œ0.1ï¼Œ0.3ï¼Œ1 â€¦â€¦</p><p><img src="/img/æœºå™¨å­¦ä¹ /Snipaste_2023-06-08_17-54-18.png" /></p><p>åœ¨å¤ªå°ï¼Œå¤ªå¤§çš„å­¦ä¹ ç‡ä¹‹é—´è°ƒè¯•ã€‚</p><h2 id="ç‰¹å¾å·¥ç¨‹feature-engineering">ç‰¹å¾å·¥ç¨‹ï¼ˆfeature engineeringï¼‰</h2><p>åˆ©ç”¨é¢†åŸŸçŸ¥è¯†å’Œç°æœ‰æ•°æ®ï¼Œåˆ›é€ å‡ºæ–°çš„ç‰¹å¾ï¼Œç”¨äºæœºå™¨å­¦ä¹ ç®—æ³•ï¼›å¯ä»¥æ‰‹åŠ¨ï¼ˆmanualï¼‰æˆ–è‡ªåŠ¨ï¼ˆautomatedï¼‰ã€‚</p><p>å¦‚æœæ–°ç‰¹å¾æ˜¯åŸå§‹ç‰¹å¾çš„æ¬¡æ–¹ï¼Œé‚£ä¹ˆç‰¹å¾ç¼©æ”¾ä¼šéå¸¸é‡è¦</p><p><img src="/img/æœºå™¨å­¦ä¹ /Snipaste_2023-06-08_18-10-02.png" /></p><h1 id="åˆ†ç±»classification">åˆ†ç±»ï¼ˆClassificationï¼‰</h1><h2 id="é€»è¾‘å›å½’logistic-regression">é€»è¾‘å›å½’ï¼ˆlogistic regressionï¼‰</h2><h3 id="å‡è®¾å‡½æ•°-1">å‡è®¾å‡½æ•°</h3><p>é¦–å…ˆä»‹ç»sigmoidå‡½æ•°ï¼Œåˆç§°logisticå‡½æ•°</p><p><img src="/img/æœºå™¨å­¦ä¹ /Snipaste_2023-06-09_08-48-39.png" /></p><p><span class="math display">\[g(z)=\frac{1}{1+e^{-z}}\quad0&lt;g(z)&lt;1\]</span></p><p>å½“zå–æ— é™å¤§æ—¶ï¼Œå‡½æ•°è¶‹å‘äº1ï¼›å½“å–æ— é™å°æ—¶ï¼Œè¶‹å‘äº0ã€‚è¯¥å‡½æ•°è¡¨ç¤ºç»“æœè¾“å‡ºä¸º1çš„æ¦‚ç‡ã€‚</p><p>ä»¤ <span class="math display">\[\text{Z}=\overrightarrow{W}\cdot\overrightarrow{X}+b\]</span> åˆ™é€»è¾‘å›å½’çš„å‡è®¾å‡½æ•°ä¸º <span class="math display">\[f_{\overrightarrow{W},b}(\overrightarrow{X})=g(\vec{W}\cdot\vec{X}+b)=\frac{1}{1+e^{-(\overrightarrow{W}\cdot\overrightarrow{X}+b)}}\]</span></p><h3 id="ä»£ä»·å‡½æ•°-1">ä»£ä»·å‡½æ•°</h3><p>é¦–å…ˆæˆ‘ä»¬å›é¡¾ä¸€ä¸‹ä¹‹å‰å­¦è¿‡çš„ä¸€ä¸ªä»£ä»·å‡½æ•°ï¼Œçº¿æ€§å›å½’çš„ä»£ä»·å‡½æ•°ï¼š <span class="math display">\[J(w,b)=\frac{1}{2m}\sum_{i=1}^m\bigl(f_{w,b}\bigl(x^{(i)}\bigr)-y^{(i)}\bigr)^2\]</span> å¦‚æœæŠŠæ­¤ä»£ä»·å‡½æ•°ç”¨åœ¨é€»è¾‘å›å½’ä¸­ä¼šæ€ä¹ˆæ ·ï¼Ÿæˆ‘ä»¬çœ‹ä¸€ä¸‹åº”ç”¨è¯¥ä»£ä»·å‡½æ•°çš„ä»£ä»·å‡½æ•°å›¾ï¼š</p><p><img src="/img/æœºå™¨å­¦ä¹ /Snipaste_2023-06-12_17-13-32.png" /></p><p>æˆ‘ä»¬å‘ç°ï¼Œï¼Œæ­¤å‡½æ•°ä¸æ˜¯å‡¸å‡½æ•°ï¼Œå¦‚æœç”¨æ¢¯åº¦ä¸‹é™çš„è¯ï¼Œæ‰¾åˆ°çš„æ˜¯å±€éƒ¨æœ€ä¼˜ï¼Œä¸æ˜¯æ•´ä½“æœ€ä¼˜ã€‚</p><pre><code class="hljs">å‡¸å‡½æ•°æœ‰ä¸ªå¾ˆå¥½çš„æ€§è´¨ï¼Œåªè¦èƒ½è¯æ˜æ˜¯å‡¸å‡½æ•°ï¼Œæœ€ç»ˆè§£ä¸€å®šæ˜¯å…¨å±€æœ€ä¼˜è§£ï¼Œå³å±€éƒ¨æœ€å°å€¼æ˜¯å…¨å±€æœ€å°å€¼ã€‚</code></pre><p>å› æ­¤ï¼Œæœ€å°äºŒä¹˜æ³•ä»£ä»·å‡½æ•°ä¸é€‚åˆé€»è¾‘å›å½’ã€‚</p><p>æˆ‘ä»¬å®šä¹‰<strong>é€»è¾‘å›å½’çš„æŸå¤±å‡½æ•°</strong>å¦‚ä¸‹ï¼ˆåç»­è¯´æ˜ä¸ºä½•å®šä¹‰è¯¥å‡½æ•°ï¼‰:  $$L\left(f_{\overrightarrow{{{w}}},b}\left(\overrightarrow{{{x}}}^{(i)}\right),y^{(i)}\right)=\left\{\begin{array}{rl}{{-\log\left(f_{\overrightarrow{{{w}}},b}\left(\overrightarrow{{{x}}}^{(i)}\right)\right)}}&{{\mathrm{if~}y^{(i)}=1}}\\ {{-\log\left(1-f_{\overrightarrow{{{w}}},b}\left(\overrightarrow{{{x}}}^{(i)}\right)\right)}}&{{\mathrm{if~}y^{(i)}=0}}\end{array}\right. $$</p><p>å› æ­¤ï¼Œé€»è¾‘å›å½’çš„ä»£ä»·å‡½æ•°å¦‚ä¸‹ï¼š</p><p><span class="math display">\[J(\overrightarrow{W},b)=\frac{1}{m}\sum_{i=1}^{m}L\bigl(f_{\overrightarrow{W},b}\bigl(\overrightarrow{x}^{(i)}\bigr),y^{(i)}\bigr)\]</span></p><p>ç”±äºyçš„å–å€¼åªèƒ½æ˜¯0æˆ–1ï¼Œæ‰€ä»¥<strong>ç®€åŒ–</strong>åçš„æŸå¤±å‡½æ•°åŠä»£ä»·å‡½æ•°å¦‚ä¸‹ï¼š  $$\begin{aligned}&L{\big(}f_{\overrightarrow{{{w}}},b}{\big(}\overrightarrow{{{x}}}^{(i)}{\big)},y^{(i)}{\big)}=-y^{(i)}\mathrm{log}{\Big(}f_{\overrightarrow{{{w}}},b}{\big(}\overrightarrow{{{x}}}^{(i)}{\big)}{\Big)}-{\big(}1-y^{(i)}\big){\mathrm{log}}{\Big(}1-f_{\overrightarrow{{{w}}},b}{\big(}\overrightarrow{{{x}}}^{(i)}{\big)}{\Big)} \\&J(\overrightarrow{w},b)=\frac{1}{m}\sum_{i=1}^{m}[L\big(f_{\overrightarrow{w},b}\big(\overrightarrow{x}^{(i)}\big),y^{(i)}\big)]\end{aligned}$$</p><p>é‚£ä¹ˆä¸ºä»€ä¹ˆé€‰æ‹©äº†è¿™ä¸ªå‡½æ•°ä½œä¸ºä»£ä»·å‡½æ•°å‘¢ï¼Ÿ</p><p>è¿™ä¸ªç‰¹å®šçš„ä»£ä»·å‡½æ•°æ˜¯ä½¿ç”¨ç§°ä¸º<a href="https://zhuanlan.zhihu.com/p/148968222?utm_id=0">æœ€å¤§ä¼¼ç„¶ä¼°è®¡</a>çš„ç»Ÿè®¡åŸç†ä»ç»Ÿè®¡ä¸­æ¨å¯¼å‡ºæ¥çš„ã€‚æœ€å¤§ä¼¼ç„¶ä¼°è®¡æ˜¯ä¸€ç§å¸¸ç”¨çš„å‚æ•°ä¼°è®¡æ–¹æ³•ï¼Œå®ƒåŸºäºæ ·æœ¬æ•°æ®ï¼Œé€šè¿‡å¯»æ‰¾æœ€æœ‰å¯èƒ½äº§ç”Ÿè¿™äº›æ•°æ®çš„å‚æ•°å€¼ï¼Œæ¥ç¡®å®šæ¨¡å‹çš„å‚æ•°ã€‚</p><h3 id="æ¢¯åº¦ä¸‹é™">æ¢¯åº¦ä¸‹é™</h3><p><strong>==é€»è¾‘å›å½’çš„æ¢¯åº¦ä¸‹é™==</strong> <span class="math display">\[\begin{aligned}w_{j}&amp;=w_{j}-\alpha\frac{1}{m}\sum_{i=1}^{m}(f_{w,b}\big(x^{(i)}\big)-y^{(i)})x_{j}^{(i)}\\b &amp;=b-\alpha\frac{1}{m}\sum_{i=1}^{m}(f_{w,b}(x^{(i)})-y^{(i)})\end{aligned}\]</span></p><p>æ³¨æ„ï¼šå½¢å¼ä¸çº¿æ€§å›å½’ä¸€æ ·ï¼Œä½†æ˜¯<span class="math inline">\(f_{w,b}(x)\)</span> è¡¨è¾¾å¼ä¸åŒã€‚</p><h1 id="è¿‡æ‹Ÿåˆ">è¿‡æ‹Ÿåˆ</h1><h2 id="æ¬ æ‹Ÿåˆè¿‡æ‹Ÿåˆ">æ¬ æ‹Ÿåˆã€è¿‡æ‹Ÿåˆ</h2><p><img src="/img/æœºå™¨å­¦ä¹ /Snipaste_2023-06-13_16-57-47.png" /></p><p>å·¦å›¾ï¼Œæ¬ æ‹Ÿåˆï¼ˆunderfitï¼‰ï¼Œä¹Ÿç§°ä½œé«˜åå·®ï¼ˆHigh-biasï¼‰ï¼Œå³å¯¹äºå½“å‰æ•°æ®é›†çš„æ‹Ÿåˆç¨‹åº¦ä¸å¤Ÿï¼Œæ¬ æ‹Ÿåˆçš„ç‰¹å¾æ˜¯åœ¨è®­ç»ƒé›†å’Œæµ‹è¯•é›†ä¸Šçš„å‡†ç¡®ç‡éƒ½ä¸å¥½ï¼›</p><p>ä¸­å›¾ï¼Œæ‹Ÿåˆåˆšå¥½çš„çŠ¶æ€ï¼Œå…·æœ‰æ³›åŒ–èƒ½åŠ›ï¼›</p><p>å³å›¾ï¼Œè¿‡æ‹Ÿåˆï¼ˆoverfitï¼‰ï¼Œä¹Ÿç§°ä½œé«˜æ–¹å·®ï¼ˆHigh varianceï¼‰ï¼Œè¿‡æ‹Ÿåˆå¯¹äºå½“å‰è®­ç»ƒæ•°æ®æ‹Ÿåˆå¾—å¤ªå¥½äº†ï¼Œä»¥è‡³äºæ¨¡å‹åªåœ¨å½“å‰çš„è®­ç»ƒé›†ä¸Šè¡¨ç°å¾ˆå¥½ï¼Œè€Œåœ¨å…¶ä»–æ•°æ®é›†ä¸Šè¡¨ç°å°±ä¸æ˜¯é‚£ä¹ˆå¥½ï¼Œæ‰€ä»¥è¿‡æ‹Ÿåˆçš„ç‰¹å¾æ˜¯åœ¨è®­ç»ƒé›†ä¸Šå‡†ç¡®ç‡å¾ˆé«˜è€Œåœ¨æµ‹è¯•é›†ä¸Šè¡¨ç°ä¸€èˆ¬ã€‚</p><h2 id="è§£å†³è¿‡æ‹Ÿåˆ">è§£å†³è¿‡æ‹Ÿåˆ</h2><p>æ–¹æ³•ï¼š 1. æ”¶é›†æ›´å¤šçš„æ•°æ® 2. å‡å°‘ç‰¹å¾æ•°é‡ 3. æ­£åˆ™åŒ–</p><h3 id="ç‰¹å¾å·¥ç¨‹">ç‰¹å¾å·¥ç¨‹</h3><h3 id="æ­£åˆ™åŒ–">æ­£åˆ™åŒ–</h3><p>å°†æ­£åˆ™åŒ–åº”ç”¨åœ¨ä»£ä»·å‡½æ•°ä¸­ï¼Œä½¿ç”¨æ­£åˆ™åŒ–æ¥å‡å°å‚æ•°çš„å¤§å°</p><p><img src="/img/æœºå™¨å­¦ä¹ /Snipaste_2023-06-14_09-11-09.png" /></p><p>å¦‚ä½•ç†è§£ä¸Šå¼ï¼Ÿ</p><p>å› ä¸º<span class="math inline">\(w_3^2\)</span>å’Œ<span class="math inline">\(w_4^2\)</span>å‰çš„ç³»æ•°éå¸¸å¤§ï¼Œè¦æƒ³ä½¿æ•´ä¸ªå¼å­æœ€å°åŒ–ï¼Œåªèƒ½ä»¤<span class="math inline">\(w_3^2\)</span>å’Œ<span class="math inline">\(w_4^2\)</span> éå¸¸å°ï¼ˆ<span class="math inline">\(\approx0\)</span>ï¼‰ï¼Œ<span class="math inline">\(w_3\)</span>å’Œ<span class="math inline">\(w_4\)</span> å³ä¸ºæƒ©ç½šé¡¹ã€‚ å¯¹äºå³å›¾è¿‡æ‹ŸåˆçŠ¶æ€ï¼Œæ­¤æ—¶<span class="math inline">\(w_3\)</span>å’Œ<span class="math inline">\(w_4\)</span> æƒé‡è¡°å‡ï¼Œè¿™æ ·å°±ä¼šé™ä½é«˜é˜¶é¡¹å¯¹æ•´ä¸ªå‡½æ•°çš„å½±å“ï¼Œä½¿å¾—æ‹Ÿåˆçš„å‡½æ•°å˜å¾—æ¯”è¾ƒå¹³æ»‘ã€‚</p><p>å¦‚æœæœ‰å¾ˆå¤šçš„ç‰¹å¾ï¼Œé‚£å¦‚ä½•é€‰æ‹©æƒ©ç½šé¡¹å‘¢ï¼Ÿ</p><p>å¦‚æœæœ‰éå¸¸å¤šçš„ç‰¹å¾ï¼Œä½ å¯èƒ½ä¸çŸ¥é“é‚£äº›ç‰¹å¾é‡è¦ï¼Œä»¥åŠéœ€è¦æƒ©ç½šçš„ç‰¹å¾ã€‚é€šå¸¸å®ç°æ­£åˆ™åŒ–çš„æ–¹å¼æ˜¯æƒ©ç½š<strong>æ‰€æœ‰</strong>çš„ç‰¹å¾ã€‚ï¼ˆ==ä¸ºä»€ä¹ˆæƒ©ç½šæœ‰åˆ©ç‰¹å¾==ï¼‰</p><p>å¯¹äºé¢„æµ‹æˆ¿ä»·å®ä¾‹ï¼Œæ¯”å¦‚æœ‰100ä¸ªç‰¹å¾ï¼Œæ­£åˆ™åŒ–åçš„ä»£ä»·å‡½æ•°å¦‚ä¸‹ï¼š <span class="math display">\[J(\vec{w},b)=\frac{1}{2m}\sum_{i=1}^{m}(f_{\vec{w},b}\big(\vec{x}^{(i)}\big)-y^{(i)}\big)^2+\frac{\lambda}{2m}\sum_{j=1}^{n}\omega_{j}^2\]</span> æŠŠä¸Šå¼åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼Œå·¦è¾¹éƒ¨åˆ†å³ä¸ºåŸå§‹çš„ä»£ä»·å‡½æ•°ï¼Œå³è¾¹éƒ¨åˆ†ä¸ºæ­£åˆ™åŒ–é¡¹ã€‚Î»ä¸ºè¶…å‚æ•°ï¼Œé€šå¸¸ä¼šå–ä¸€ä¸ªè¾ƒå¤§çš„æ•°ã€‚</p><p>ä¸ºäº†æœ€å°åŒ–æ•´ä¸ªä»£ä»·å‡½æ•°ï¼Œå½“Î»æ˜¯å›ºå®šçš„ï¼Œé‚£ä¹ˆå°±è¦å‡å°<span class="math inline">\(w_1\)</span>åˆ°<span class="math inline">\(w_n\)</span>çš„å€¼ã€‚åŠ å…¥æ­£åˆ™é¡¹åï¼Œ<span class="math inline">\(w_1\)</span>åˆ°<span class="math inline">\(w_n\)</span>å‡ä¼šå‡å°ï¼Œä¹Ÿå°±æ˜¯ä½¿å¾—æƒé‡è¡°å‡ï¼Œè¿™æ ·å°±ä¼šé™ä½é«˜é˜¶é¡¹å¯¹äºæ•´ä¸ªå‡½æ•°çš„å½±å“ï¼Œä½¿å¾—ä¼°è®¡å‡½æ•°å˜å¾—æ¯”è¾ƒå¹³æ»‘ã€‚</p><p>æˆ‘ä»¬è¿˜å°†Î»é™¤ä»¥2m,è¿™æ ·è¿™é‡Œçš„ç¬¬ä¸€é¡¹å’Œç¬¬äºŒé¡¹éƒ½åœ¨2mä¸ŠæŒ‰æ¯”ä¾‹ç¼©æ”¾ï¼Œä¼šæ›´æ”¹å®¹æ˜“é€‰æ‹©Î»çš„å€¼ã€‚æŒ‰ç…§æƒ¯ä¾‹æˆ‘ä»¬ä¸ä¼šå› ä¸ºå‚æ•°bå¤ªå¤§è€Œæƒ©ç½šå®ƒï¼Œåœ¨å®è·µä¸­ï¼Œåšä¸ä¸åšå‡ ä¹æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚</p><p>å› æ­¤ï¼Œæ€»ç»“ä¸€ä¸‹è¿™ä¸ªä¿®æ”¹åçš„ä»£ä»·å‡½æ•°ï¼š <img src="/img/æœºå™¨å­¦ä¹ /Snipaste_2023-06-14_09-37-48.png" /></p><p>æˆ‘ä»¬æƒ³è¦æœ€å°åŒ–[åŸå§‹ä»£ä»·å‡½æ•°å³å‡æ–¹è¯¯å·®é¡¹+ç¬¬äºŒé¡¹å³æ­£åˆ™åŒ–é¡¹]</p><p>Î»Â : å¯ä»¥æ§åˆ¶ä¸¤ä¸ªä¸åŒç›®æ ‡ä¹‹é—´çš„å–èˆã€‚</p><p>æ­¤å‡½æ•°æœ‰ä¸¤ä¸ªç›®çš„ï¼Œç›®çš„ä¸€ï¼šæœ€å°åŒ–é¢„æµ‹å€¼ä¸çœŸå®å€¼ä¹‹é—´çš„è¯¯å·®ï¼Œæ›´å¥½çš„æ‹Ÿåˆè®­ç»ƒé›†ã€‚ç›®çš„äºŒï¼šè¯•å›¾å‡å°<span class="math inline">\(w_j\)</span> ï¼Œä½¿å‡è®¾å‡½æ•°å˜å¾—â€œç®€å•â€ï¼Œé˜²æ­¢è¿‡åº¦æ‹Ÿåˆã€‚</p><p><strong>ä¸¤è€…ç›¸äº’å¹³è¡¡ï¼Œä»è€Œè¾¾åˆ°ä¸€ç§ç›¸äº’åˆ¶çº¦çš„å…³ç³»ï¼Œæœ€ç»ˆæ‰¾åˆ°ä¸€ä¸ªå¹³è¡¡ç‚¹ï¼Œä»è€Œæ›´å¥½åœ°æ‹Ÿåˆè®­ç»ƒé›†å¹¶ä¸”å…·æœ‰è‰¯å¥½çš„æ³›åŒ–èƒ½åŠ›ã€‚</strong></p><p>ä¸åŒçš„Î»å€¼æœ‰ä»€ä¹ˆå½±å“ï¼Ÿ</p><p>ä½¿ç”¨çº¿æ€§å›å½’çš„æˆ¿ä»·é¢„æµ‹ç¤ºä¾‹ã€‚</p><p>å¦‚æœï¼ŒÎ»ç­‰äº0ï¼Œé‚£ä¹ˆæ­£åˆ™é¡¹ç­‰äºé›¶ï¼Œå³æ ¹æœ¬æ²¡æœ‰ä½¿ç”¨æ­£åˆ™åŒ–ï¼Œä¼šè¿‡åº¦æ‹Ÿåˆã€‚ <img src="/img/æœºå™¨å­¦ä¹ /Snipaste_2023-06-14_09-59-48.png" /></p><p>å½“Î»éå¸¸éå¸¸å¤§æ—¶ï¼Œä¾‹å¦‚<span class="math inline">\(\lambda=10^{10}\)</span>,é‚£ä¹ˆ<span class="math inline">\(w_1åˆ°w_4\)</span>å‡ ä¹ç­‰äº0ï¼Œåªå‰©å¸¸æ•°bé¡¹ï¼Œæ­¤æ—¶ä¼šæ¬ æ‹Ÿåˆã€‚</p><p><img src="/img/æœºå™¨å­¦ä¹ /Snipaste_2023-06-14_10-00-42.png" /></p><p>çº¿æ€§å›å½’çš„æ­£åˆ™åŒ–æ–¹æ³•ï¼š <img src="/img/æœºå™¨å­¦ä¹ /Snipaste_2023-06-14_10-13-49.png" /></p><p> $$\begin{aligned}& w_{j}=w_{j}-\alpha\left[\frac{1}{m}\sum_{i=1}^{m}\left[(f_{\vec{{{w}}},b}\big(\vec{x}^{(i)}\big)-y^{(i)}\big)x_{j}^{(i)}\right]+\frac{\lambda}{m}w_{j}\right]  \\&b=b-\alpha\frac{1}{m}\sum_{i=1}^m(f_{\vec{\mathbf{w}},b}(\vec{\mathbf{x}}^{(i)})-y^{(i)})\end{aligned}$$</p><p>é€»è¾‘å›å½’çš„æ­£åˆ™åŒ–æ–¹æ³•ï¼š <img src="/img/æœºå™¨å­¦ä¹ /Snipaste_2023-06-14_10-18-04.png" /></p><p>å‚è€ƒèµ„æ–™ï¼š<a href="https://zhuanlan.zhihu.com/p/75364861">å´æ©è¾¾æœºå™¨å­¦ä¹ ç¬”è®°ï¼ˆä¸‰ï¼‰æ­£åˆ™åŒ–</a></p>]]></content>
    
    
    <categories>
      
      <category>æœºå™¨å­¦ä¹ </category>
      
    </categories>
    
    
    <tags>
      
      <tag>æœºå™¨å­¦ä¹ </tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java13-é¢å‘å¯¹è±¡è¿›é˜¶-æŠ½è±¡ç±»&amp;æ¥å£&amp;å†…éƒ¨ç±»</title>
    <link href="/2023/06/29/Java13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6-%E6%8A%BD%E8%B1%A1%E7%B1%BB&amp;%E6%8E%A5%E5%8F%A3&amp;%E5%86%85%E9%83%A8%E7%B1%BB/"/>
    <url>/2023/06/29/Java13-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6-%E6%8A%BD%E8%B1%A1%E7%B1%BB&amp;%E6%8E%A5%E5%8F%A3&amp;%E5%86%85%E9%83%A8%E7%B1%BB/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬ä¸€ç« -æŠ½è±¡ç±»">ç¬¬ä¸€ç«  æŠ½è±¡ç±»</h1><h2 id="æ¦‚è¿°">1.1 æ¦‚è¿°</h2><h3 id="æŠ½è±¡ç±»å¼•å…¥">1.1.1 æŠ½è±¡ç±»å¼•å…¥</h3><p>çˆ¶ç±»ä¸­çš„æ–¹æ³•ï¼Œè¢«å®ƒçš„å­ç±»ä»¬é‡å†™ï¼Œå­ç±»å„è‡ªçš„å®ç°éƒ½ä¸å°½ç›¸åŒã€‚é‚£ä¹ˆçˆ¶ç±»çš„æ–¹æ³•å£°æ˜å’Œæ–¹æ³•ä¸»ä½“ï¼Œåªæœ‰å£°æ˜è¿˜æœ‰æ„ä¹‰ï¼Œè€Œæ–¹æ³•ä¸»ä½“åˆ™æ²¡æœ‰å­˜åœ¨çš„æ„ä¹‰äº†(å› ä¸ºå­ç±»å¯¹è±¡ä¼šè°ƒç”¨è‡ªå·±é‡å†™çš„æ–¹æ³•)ã€‚æ¢å¥è¯è¯´ï¼Œçˆ¶ç±»å¯èƒ½çŸ¥é“å­ç±»åº”è¯¥æœ‰å“ªä¸ªåŠŸèƒ½ï¼Œä½†æ˜¯åŠŸèƒ½å…·ä½“æ€ä¹ˆå®ç°çˆ¶ç±»æ˜¯ä¸æ¸…æ¥šçš„ï¼ˆç”±å­ç±»è‡ªå·±å†³å®šï¼‰ï¼Œçˆ¶ç±»åªéœ€è¦æä¾›ä¸€ä¸ªæ²¡æœ‰æ–¹æ³•ä½“çš„å®šä¹‰å³å¯ï¼Œå…·ä½“å®ç°äº¤ç»™å­ç±»è‡ªå·±å»å®ç°ã€‚<strong>æˆ‘ä»¬æŠŠæ²¡æœ‰æ–¹æ³•ä½“çš„æ–¹æ³•ç§°ä¸ºæŠ½è±¡æ–¹æ³•ã€‚Javaè¯­æ³•è§„å®šï¼ŒåŒ…å«æŠ½è±¡æ–¹æ³•çš„ç±»å°±æ˜¯æŠ½è±¡ç±»</strong>ã€‚</p><ul><li><strong>æŠ½è±¡æ–¹æ³•</strong> ï¼š æ²¡æœ‰æ–¹æ³•ä½“çš„æ–¹æ³•ã€‚</li><li><strong>æŠ½è±¡ç±»</strong>ï¼šåŒ…å«æŠ½è±¡æ–¹æ³•çš„ç±»ã€‚</li></ul><h2 id="abstractä½¿ç”¨æ ¼å¼">1.2 abstractä½¿ç”¨æ ¼å¼</h2><p><strong>abstractæ˜¯æŠ½è±¡çš„æ„æ€ï¼Œç”¨äºä¿®é¥°æ–¹æ³•æ–¹æ³•å’Œç±»ï¼Œä¿®é¥°çš„æ–¹æ³•æ˜¯æŠ½è±¡æ–¹æ³•ï¼Œä¿®é¥°çš„ç±»æ˜¯æŠ½è±¡ç±»ã€‚</strong></p><h3 id="æŠ½è±¡æ–¹æ³•å®šä¹‰æ ¼å¼">1.2.1 æŠ½è±¡æ–¹æ³•å®šä¹‰æ ¼å¼</h3><p>ä½¿ç”¨<code>abstract</code> å…³é”®å­—ä¿®é¥°æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å°±æˆäº†æŠ½è±¡æ–¹æ³•ï¼ŒæŠ½è±¡æ–¹æ³•åªåŒ…å«ä¸€ä¸ªæ–¹æ³•åï¼Œè€Œæ²¡æœ‰æ–¹æ³•ä½“ã€‚</p><p>å®šä¹‰æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">ä¿®é¥°ç¬¦ <span class="hljs-keyword">abstract</span> è¿”å›å€¼ç±»å‹ æ–¹æ³•å (å‚æ•°åˆ—è¡¨);<br></code></pre></td></tr></table></figure><p>ä»£ç ä¸¾ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span>;<br></code></pre></td></tr></table></figure><h3 id="æŠ½è±¡ç±»å®šä¹‰æ ¼å¼">1.2.2 æŠ½è±¡ç±»å®šä¹‰æ ¼å¼</h3><p>å¦‚æœä¸€ä¸ªç±»åŒ…å«æŠ½è±¡æ–¹æ³•ï¼Œé‚£ä¹ˆè¯¥ç±»å¿…é¡»æ˜¯æŠ½è±¡ç±»ã€‚<strong>æ³¨æ„ï¼šæŠ½è±¡ç±»ä¸ä¸€å®šæœ‰æŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯æœ‰æŠ½è±¡æ–¹æ³•çš„ç±»å¿…é¡»å®šä¹‰æˆæŠ½è±¡ç±»ã€‚</strong></p><p>å®šä¹‰æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">abstract</span> class ç±»åå­— &#123; <br>  <br>&#125;<br></code></pre></td></tr></table></figure><p>ä»£ç ä¸¾ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span>ï¼›<br>&#125;<br></code></pre></td></tr></table></figure><p><em>æŠ½è±¡ç±»ä¸ä¸€å®šæœ‰æŠ½è±¡æ–¹æ³•ï¼š</em></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> &#123;<br>    <span class="hljs-keyword">public</span>  <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span>&#123;<br>    System.out.printin(<span class="hljs-string">&quot;è·‘æ­¥&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æŠ½è±¡ç±»çš„ä½¿ç”¨">1.2.3 æŠ½è±¡ç±»çš„ä½¿ç”¨</h3><p><strong>æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•çš„æ³¨æ„äº‹é¡¹</strong></p><ul><li>æŠ½è±¡ç±»ä¸èƒ½å®ä¾‹åŒ–</li><li>å¯ä»¥æœ‰æ„é€ æ–¹æ³•</li><li>æŠ½è±¡ç±»ä¸­ä¸ä¸€å®šæœ‰æŠ½è±¡æ–¹æ³•ï¼Œæœ‰æŠ½è±¡æ–¹æ³•çš„ç±»ä¸€å®šæ˜¯æŠ½è±¡ç±»</li><li>æŠ½è±¡ç±»çš„å­ç±» è¦ä¹ˆé‡å†™æŠ½è±¡ç±»ä¸­çš„æ‰€æœ‰æŠ½è±¡æ–¹æ³• è¦ä¹ˆæ˜¯æŠ½è±¡ç±»</li></ul><p>ä»£ç ä¸¾ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// çˆ¶ç±»,æŠ½è±¡ç±»</span><br><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Employee</span> &#123;<br><span class="hljs-keyword">private</span> String id;<br><span class="hljs-keyword">private</span> String name;<br><span class="hljs-keyword">private</span> <span class="hljs-type">double</span> salary;<br><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">Employee</span><span class="hljs-params">()</span> &#123;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">Employee</span><span class="hljs-params">(String id, String name, <span class="hljs-type">double</span> salary)</span> &#123;<br><span class="hljs-built_in">this</span>.id = id;<br><span class="hljs-built_in">this</span>.name = name;<br><span class="hljs-built_in">this</span>.salary = salary;<br>&#125;<br><br><span class="hljs-comment">// æŠ½è±¡æ–¹æ³•</span><br><span class="hljs-comment">// æŠ½è±¡æ–¹æ³•å¿…é¡»è¦æ”¾åœ¨æŠ½è±¡ç±»ä¸­</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">work</span><span class="hljs-params">()</span>;<br>&#125;<br><br><span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªå­ç±»ç»§æ‰¿æŠ½è±¡ç±»</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Manager</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Employee</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-title function_">Manager</span><span class="hljs-params">()</span> &#123;<br>&#125;<br><span class="hljs-keyword">public</span> <span class="hljs-title function_">Manager</span><span class="hljs-params">(String id, String name, <span class="hljs-type">double</span> salary)</span> &#123;<br><span class="hljs-built_in">super</span>(id, name, salary);<br>&#125;<br><span class="hljs-comment">// 2.é‡å†™çˆ¶ç±»çš„æŠ½è±¡æ–¹æ³•</span><br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">work</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;ç®¡ç†å…¶ä»–äºº&quot;</span>);<br>&#125;<br>&#125;<br><br><span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªå­ç±»ç»§æ‰¿æŠ½è±¡ç±»</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cook</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Employee</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-title function_">Cook</span><span class="hljs-params">()</span> &#123;<br>&#125;<br><span class="hljs-keyword">public</span> <span class="hljs-title function_">Cook</span><span class="hljs-params">(String id, String name, <span class="hljs-type">double</span> salary)</span> &#123;<br><span class="hljs-built_in">super</span>(id, name, salary);<br>&#125;<br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">work</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;å¨å¸ˆç‚’èœ&quot;</span>);<br>&#125;<br>&#125;<br><br><span class="hljs-comment">// æµ‹è¯•ç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo10</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-comment">// åˆ›å»ºæŠ½è±¡ç±»,æŠ½è±¡ç±»ä¸èƒ½åˆ›å»ºå¯¹è±¡</span><br><span class="hljs-comment">// å‡è®¾æŠ½è±¡ç±»è®©æˆ‘ä»¬åˆ›å»ºå¯¹è±¡,é‡Œé¢çš„æŠ½è±¡æ–¹æ³•æ²¡æœ‰æ–¹æ³•ä½“,æ— æ³•æ‰§è¡Œ.æ‰€ä»¥ä¸è®©æˆ‘ä»¬åˆ›å»ºå¯¹è±¡</span><br><span class="hljs-comment">//Employee e = new Employee();</span><br><span class="hljs-comment">//e.work();</span><br><br><span class="hljs-comment">// 3.åˆ›å»ºå­ç±»</span><br><span class="hljs-type">Manager</span> <span class="hljs-variable">m</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Manager</span>();<br>m.work();<br><br><span class="hljs-type">Cook</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cook</span>(<span class="hljs-string">&quot;ap002&quot;</span>, <span class="hljs-string">&quot;åº“å…‹&quot;</span>, <span class="hljs-number">1</span>);<br>c.work();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ­¤æ—¶çš„æ–¹æ³•é‡å†™ï¼Œæ˜¯å­ç±»å¯¹çˆ¶ç±»æŠ½è±¡æ–¹æ³•çš„å®Œæˆå®ç°ï¼Œæˆ‘ä»¬å°†è¿™ç§æ–¹æ³•é‡å†™çš„æ“ä½œï¼Œä¹Ÿå«åš<strong>å®ç°æ–¹æ³•</strong>ã€‚</p><h2 id="æŠ½è±¡ç±»çš„ç»†èŠ‚">1.3 æŠ½è±¡ç±»çš„ç»†èŠ‚</h2><p>ä¸éœ€è¦èƒŒï¼Œåªè¦å½“ideaæŠ¥é”™ä¹‹åï¼ŒçŸ¥é“å¦‚ä½•ä¿®æ”¹å³å¯ã€‚</p><ol type="1"><li><p>æŠ½è±¡ç±»<strong>ä¸èƒ½å®ä¾‹åŒ–ï¼ˆåˆ›å»ºå¯¹è±¡ï¼‰</strong>ï¼Œå¦‚æœåˆ›å»ºï¼Œç¼–è¯‘æ— æ³•é€šè¿‡è€ŒæŠ¥é”™ã€‚åªèƒ½åˆ›å»ºå…¶éæŠ½è±¡å­ç±»çš„å¯¹è±¡ã€‚</p><blockquote><p>ç†è§£ï¼šå‡è®¾åˆ›å»ºäº†æŠ½è±¡ç±»çš„å¯¹è±¡ï¼Œè°ƒç”¨æŠ½è±¡çš„æ–¹æ³•ï¼Œè€ŒæŠ½è±¡æ–¹æ³•æ²¡æœ‰å…·ä½“çš„æ–¹æ³•ä½“ï¼Œæ²¡æœ‰æ„ä¹‰ã€‚</p></blockquote></li><li><p>æŠ½è±¡ç±»ä¸­ï¼Œå¯ä»¥æœ‰æ„é€ æ–¹æ³•ï¼Œæ˜¯ä¾›å­ç±»åˆ›å»ºå¯¹è±¡æ—¶ï¼Œåˆå§‹åŒ–çˆ¶ç±»æˆå‘˜ä½¿ç”¨çš„ã€‚</p><blockquote><p>ç†è§£ï¼šå­ç±»çš„æ„é€ æ–¹æ³•ä¸­ï¼Œæœ‰é»˜è®¤çš„super()ï¼Œéœ€è¦è®¿é—®çˆ¶ç±»æ„é€ æ–¹æ³•ã€‚</p></blockquote></li><li><p>æŠ½è±¡ç±»ä¸­ï¼Œä¸ä¸€å®šæœ‰æŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯æœ‰æŠ½è±¡æ–¹æ³•çš„ç±»å¿…å®šæ˜¯æŠ½è±¡ç±»ã€‚</p><blockquote><p>ç†è§£ï¼šæœªåŒ…å«æŠ½è±¡æ–¹æ³•çš„æŠ½è±¡ç±»ï¼Œç›®çš„å°±æ˜¯ä¸æƒ³è®©è°ƒç”¨è€…åˆ›å»ºè¯¥ç±»å¯¹è±¡ï¼Œé€šå¸¸ç”¨äºæŸäº›ç‰¹æ®Šçš„ç±»ç»“æ„è®¾è®¡ã€‚</p></blockquote></li><li><p>æŠ½è±¡ç±»çš„å­ç±»ï¼Œå¿…é¡»é‡å†™æŠ½è±¡çˆ¶ç±»ä¸­<strong>æ‰€æœ‰çš„</strong>æŠ½è±¡æ–¹æ³•ï¼Œå¦åˆ™å­ç±»ä¹Ÿå¿…é¡»å®šä¹‰æˆæŠ½è±¡ç±»ï¼Œç¼–è¯‘æ— æ³•é€šè¿‡è€ŒæŠ¥é”™ã€‚</p><blockquote><p>ç†è§£ï¼šå‡è®¾å­ç±»ä¸é‡å†™æ‰€æœ‰æŠ½è±¡æ–¹æ³•ï¼Œåˆ™å­ç±»ä¸­å¯èƒ½åŒ…å«æŠ½è±¡æ–¹æ³•ã€‚é‚£ä¹ˆåˆ›å»ºå¯¹è±¡åï¼Œè°ƒç”¨æŠ½è±¡çš„æ–¹æ³•ï¼Œæ²¡æœ‰æ„ä¹‰ã€‚</p></blockquote></li><li><p>æŠ½è±¡ç±»å­˜åœ¨çš„æ„ä¹‰æ˜¯ä¸ºäº†è¢«å­ç±»ç»§æ‰¿ã€‚</p><blockquote><p>ç†è§£ï¼šæŠ½è±¡ç±»ä¸­å·²ç»å®ç°çš„æ˜¯æ¨¡æ¿ä¸­ç¡®å®šçš„æˆå‘˜ï¼ŒæŠ½è±¡ç±»ä¸ç¡®å®šå¦‚ä½•å®ç°çš„å®šä¹‰æˆæŠ½è±¡æ–¹æ³•ï¼Œäº¤ç»™å…·ä½“çš„å­ç±»å»å®ç°ã€‚</p></blockquote></li></ol><h2 id="æŠ½è±¡ç±»å­˜åœ¨çš„æ„ä¹‰">1.4 æŠ½è±¡ç±»å­˜åœ¨çš„æ„ä¹‰</h2><pre><code class="hljs">æŠ½è±¡ç±»å­˜åœ¨çš„æ„ä¹‰æ˜¯ä¸ºäº†è¢«å­ç±»ç»§æ‰¿ï¼Œå¦åˆ™æŠ½è±¡ç±»å°†æ¯«æ— æ„ä¹‰ã€‚æŠ½è±¡ç±»å¯ä»¥å¼ºåˆ¶è®©å­ç±»ï¼Œä¸€å®šè¦æŒ‰ç…§è§„å®šçš„æ ¼å¼è¿›è¡Œé‡å†™ã€‚</code></pre><h1 id="ç¬¬äºŒç« -æ¥å£">ç¬¬äºŒç«  æ¥å£</h1><h2 id="æ¦‚è¿°-1">2.1 æ¦‚è¿°</h2><p>[[æ¥å£.mp4]]</p><h2 id="æ¥å£çš„å®šä¹‰">2.2 æ¥å£çš„å®šä¹‰</h2><p>æ¥å£ç”¨å…³é”®å­—<code>interface</code>æ¥å®šä¹‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ¥å£çš„å®šä¹‰æ ¼å¼ï¼š</span><br>interface æ¥å£åç§°&#123;<br>    <span class="hljs-comment">// æŠ½è±¡æ–¹æ³•</span><br>&#125;<br><br><span class="hljs-comment">// æ¥å£çš„å£°æ˜ï¼šinterface</span><br><span class="hljs-comment">// æ¥å£åç§°ï¼šé¦–å­—æ¯å¤§å†™ï¼Œæ»¡è¶³â€œé©¼å³°æ¨¡å¼â€</span><br></code></pre></td></tr></table></figure><h2 id="æ¥å£çš„çš„å®ç°">2.3 æ¥å£çš„çš„å®ç°</h2><h3 id="å®ç°æ¥å£çš„æ¦‚è¿°">2.3.1 å®ç°æ¥å£çš„æ¦‚è¿°</h3><p>åœ¨Javaä¸­æ¥å£æ˜¯è¢«å®ç°çš„ï¼Œç±»ä¸æ¥å£çš„å…³ç³»ä¸ºå®ç°å…³ç³»ï¼Œå³<strong>ç±»å®ç°æ¥å£</strong>ï¼Œè¯¥ç±»å¯ä»¥ç§°ä¸ºæ¥å£çš„å®ç°ç±»ï¼Œä¹Ÿå¯ä»¥ç§°ä¸ºæ¥å£çš„å­ç±»ã€‚å®ç°çš„åŠ¨ä½œç±»ä¼¼ç»§æ‰¿ï¼Œæ ¼å¼ç›¸ä»¿ï¼Œåªæ˜¯å…³é”®å­—ä¸åŒï¼Œå®ç°ä½¿ç”¨ <code>implements</code>å…³é”®å­—ã€‚</p><h3 id="å®ç°æ¥å£çš„æ ¼å¼">2.3.2 å®ç°æ¥å£çš„æ ¼å¼</h3><ul><li>æ¥å£å’Œç±»çš„å®ç°å…³ç³»ï¼Œå¯ä»¥å•å®ç°ï¼Œä¹Ÿå¯ä»¥å¤šå®ç°ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">class ç±»å implements æ¥å£<span class="hljs-number">1</span>,æ¥å£<span class="hljs-number">2</span>,æ¥å£<span class="hljs-number">3.</span>..&#123;<br><br>&#125;<br></code></pre></td></tr></table></figure><ul><li>å®ç°ç±»è¿˜å¯ä»¥åœ¨ç»§æ‰¿ä¸€ä¸ªç±»çš„åŒæ—¶å®ç°å¤šä¸ªæ¥å£ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">class ç±»å extends çˆ¶ç±» implements æ¥å£<span class="hljs-number">1</span>,æ¥å£<span class="hljs-number">2</span>,æ¥å£<span class="hljs-number">3.</span>..&#123;<br><br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ç±»å®ç°æ¥å£çš„è¦æ±‚å’Œæ„ä¹‰">2.3.3 ç±»å®ç°æ¥å£çš„è¦æ±‚å’Œæ„ä¹‰</h3><ol type="1"><li>å¿…é¡»é‡å†™å®ç°çš„å…¨éƒ¨æ¥å£ä¸­æ‰€æœ‰æŠ½è±¡æ–¹æ³•ã€‚</li><li>å¦‚æœä¸€ä¸ªç±»å®ç°äº†æ¥å£ï¼Œä½†æ˜¯æ²¡æœ‰é‡å†™å®Œå…¨éƒ¨æ¥å£çš„å…¨éƒ¨æŠ½è±¡æ–¹æ³•ï¼Œè¿™ä¸ªç±»ä¹Ÿå¿…é¡»å®šä¹‰æˆæŠ½è±¡ç±»ã€‚</li><li><strong>æ„ä¹‰ï¼šæ¥å£ä½“ç°çš„æ˜¯ä¸€ç§è§„èŒƒï¼Œæ¥å£å¯¹å®ç°ç±»æ˜¯ä¸€ç§å¼ºåˆ¶æ€§çš„çº¦æŸï¼Œè¦ä¹ˆå…¨éƒ¨å®Œæˆæ¥å£ç”³æ˜çš„åŠŸèƒ½ï¼Œè¦ä¹ˆè‡ªå·±ä¹Ÿå®šä¹‰æˆæŠ½è±¡ç±»ã€‚è¿™æ­£æ˜¯ä¸€ç§å¼ºåˆ¶æ€§çš„è§„èŒƒã€‚</strong></li></ol><h3 id="å®ä¾‹">2.3.4 å®ä¾‹</h3><p>ç¼–å†™å¸¦æœ‰æ¥å£å’ŒæŠ½è±¡ç±»çš„æ ‡å‡†åŠavabeanç±»</p><p>é’è›™ å±æ€§ï¼šåå­—ï¼Œå¹´é¾„ è¡Œä¸ºï¼šåƒè™«å­ï¼Œè›™æ³³ ç‹— å±æ€§ï¼šåå­—ï¼Œå¹´é¾„ è¡Œä¸ºï¼šåƒéª¨å¤´ï¼Œç‹—åˆ¨ å…”å­ å±æ€§ï¼šåå­—ï¼Œå¹´é¾„ è¡Œä¸ºï¼šåƒèƒ¡èåœ</p><p><strong>çˆ¶ç±»ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> &#123;  <br>    <span class="hljs-keyword">private</span> String name;  <br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Animal</span><span class="hljs-params">()</span> &#123;  <br>    &#125;  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Animal</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;  <br>        <span class="hljs-built_in">this</span>.name = name;  <br>        <span class="hljs-built_in">this</span>.age = age;  <br>    &#125;  <br>  <br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;  <br>        <span class="hljs-keyword">return</span> name;  <br>    &#125;  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;  <br>        <span class="hljs-built_in">this</span>.name = name;  <br>    &#125;  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> &#123;  <br>        <span class="hljs-keyword">return</span> age;  <br>    &#125;  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> &#123;  <br>        <span class="hljs-built_in">this</span>.age = age;  <br>    &#125;  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">()</span>;  <br>  <br>  <br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ¥å£ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Swim</span> &#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swim</span><span class="hljs-params">()</span>;  <br>&#125;<br></code></pre></td></tr></table></figure><p><strong>é’è›™ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Frog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Swim</span>&#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Frog</span><span class="hljs-params">()</span> &#123;  <br>    &#125;  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Frog</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;  <br>        <span class="hljs-built_in">super</span>(name, age);  <br>    &#125;  <br>  <br>    <span class="hljs-meta">@Override</span>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;é’è›™åƒè™«å­&quot;</span>);  <br>    &#125;  <br>  <br>    <span class="hljs-meta">@Override</span>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swim</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;è›™æ³³&quot;</span>);  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ç‹—ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Swim</span> &#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Dog</span><span class="hljs-params">()</span> &#123;  <br>    &#125;  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Dog</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;  <br>        <span class="hljs-built_in">super</span>(name, age);  <br>    &#125;  <br>  <br>    <span class="hljs-meta">@Override</span>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;ç‹—åƒéª¨å¤´&quot;</span>);  <br>    &#125;  <br>  <br>    <span class="hljs-meta">@Override</span>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swim</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;ç‹—åˆ¨&quot;</span>);  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å…”å­ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Rabbit</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span>&#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Rabbit</span><span class="hljs-params">()</span> &#123;  <br>    &#125;  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Rabbit</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;  <br>        <span class="hljs-built_in">super</span>(name, age);  <br>    &#125;  <br>  <br>    <span class="hljs-meta">@Override</span>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;åƒèƒ¡èåœ&quot;</span>);  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æµ‹è¯•ç±»ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;  <br>        <span class="hljs-type">Frog</span> <span class="hljs-variable">frog</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Frog</span>();  <br>  <br>        frog.eat();  <br>        frog.swim();  <br>        &#125;  <br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ¥å£æˆå‘˜ç‰¹ç‚¹">2.4 æ¥å£æˆå‘˜ç‰¹ç‚¹</h2><h3 id="æˆå‘˜å˜é‡">2.4.1 æˆå‘˜å˜é‡</h3><ul><li>åªèƒ½æ˜¯å¸¸é‡</li><li>é»˜è®¤ä¿®é¥°ç¬¦ï¼špublic static final</li></ul><h3 id="æ„é€ æ–¹æ³•">2.4.2 æ„é€ æ–¹æ³•</h3><ul><li>æ¥å£ä¸­æ— æ„é€ æ–¹æ³•</li></ul><h3 id="æˆå‘˜æ–¹æ³•">2.4.3 æˆå‘˜æ–¹æ³•</h3><ul><li>åªèƒ½æ˜¯æŠ½è±¡æ–¹æ³•</li><li>é»˜è®¤ä¿®é¥°ç¬¦ï¼špublic abstract</li></ul><blockquote><p>JDK7ä»¥å‰ï¼šæ¥å£ä¸­åªèƒ½å®šä¹‰æŠ½è±¡æ–¹æ³•ã€‚ JDK8çš„æ–°ç‰¹æ€§ï¼šæ¥å£ä¸­å¯ä»¥å®šä¹‰æœ‰æ–¹æ³•ä½“çš„æ–¹æ³•ã€‚ JDK9çš„æ–°ç‰¹æ€§ï¼šæ¥å£ä¸­å¯ä»¥å®šä¹‰ç§æœ‰æ–¹æ³•ã€‚</p></blockquote><h2 id="ç±»å’Œæ¥å£ä¹‹é—´çš„å…³ç³»">2.5 ç±»å’Œæ¥å£ä¹‹é—´çš„å…³ç³»</h2><h3 id="ç±»å’Œç±»çš„å…³ç³»">2.5.1 ç±»å’Œç±»çš„å…³ç³»</h3><p>ç»§æ‰¿å…³ç³»ï¼Œåªèƒ½å•ç»§æ‰¿ï¼Œä¸èƒ½å¤šç»§æ‰¿ï¼Œä½†æ˜¯å¯ä»¥å¤šå±‚ç»§æ‰¿</p><h3 id="ç±»å’Œæ¥å£çš„å…³ç³»">2.5.2 ç±»å’Œæ¥å£çš„å…³ç³»</h3><p><strong>æ¥å£ä¸ç±»æ˜¯å®ç°å…³ç³»</strong>ï¼Œå¯ä»¥å•å®ç°ï¼Œä¹Ÿå¯ä»¥å¤šå®ç°ï¼Œè¿˜å¯ä»¥åœ¨ç»§æ‰¿ä¸€ä¸ªç±»çš„åŒæ—¶å®ç°å¤šä¸ªæ¥å£</p><p><strong>è‹¥å¤šä¸ªæ¥å£ä¸­æ–¹æ³•é‡åï¼Œåªéœ€è¦é‡å†™ä¸€æ¬¡</strong></p><p>ä»£ç ä¸¾ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Inter1</span> &#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method1</span><span class="hljs-params">()</span>;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method2</span><span class="hljs-params">()</span>;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method3</span><span class="hljs-params">()</span>;  <br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Inter2</span> &#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method1</span><span class="hljs-params">()</span>;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method2</span><span class="hljs-params">()</span>;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method3</span><span class="hljs-params">()</span>;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method4</span><span class="hljs-params">()</span>;  <br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">IntrImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Inter1</span>,Inter2&#123;  <br>  <br>    <span class="hljs-meta">@Override</span>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method1</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;method1&quot;</span>);  <br>    &#125;  <br>  <br>    <span class="hljs-meta">@Override</span>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method2</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;method2&quot;</span>);  <br>    &#125;  <br>  <br>    <span class="hljs-meta">@Override</span>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method3</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;method3&quot;</span>);  <br>    &#125;  <br>  <br>    <span class="hljs-meta">@Override</span>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method4</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;method4&quot;</span>);  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ¥å£å’Œæ¥å£çš„å…³ç³»">2.5.3 æ¥å£å’Œæ¥å£çš„å…³ç³»</h3><p><strong>æ¥å£ä¸æ¥å£æ˜¯ç»§æ‰¿å…³ç³»</strong>ï¼Œå¯ä»¥å•ç»§æ‰¿ï¼Œä¹Ÿå¯ä»¥å¤šç»§æ‰¿</p><p>æ¥å£ç»§æ‰¿æ¥å£å°±æ˜¯æŠŠå…¶ä»–æ¥å£çš„æŠ½è±¡æ–¹æ³•ä¸æœ¬æ¥å£è¿›è¡Œäº†åˆå¹¶ï¼Œå¦‚æœå®ç°ç±»å®ç°äº†æœ€ä¸‹é¢çš„å­æ¥å£ï¼Œé‚£ä¹ˆå°±éœ€è¦é‡å†™æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•ã€‚</p><p>ä»£ç ä¸¾ä¾‹ï¼š</p><p>æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Inter1</span> &#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method1</span><span class="hljs-params">()</span>;  <br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Inter2</span> &#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method2</span><span class="hljs-params">()</span>;  <br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">Inter3</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Inter1</span>,Inter2 &#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method3</span><span class="hljs-params">()</span>;  <br>&#125;<br></code></pre></td></tr></table></figure><p>å®ç°ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">IntrImpl</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Inter3</span> &#123;  <br>  <br>    <span class="hljs-meta">@Override</span>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method1</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;method1&quot;</span>);  <br>    &#125;  <br>  <br>    <span class="hljs-meta">@Override</span>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method2</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;method2&quot;</span>);  <br>    &#125;  <br>  <br>    <span class="hljs-meta">@Override</span>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method3</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;method3&quot;</span>);  <br>    &#125;  <br>  <br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ‰©å±•æ¥å£çš„ç»†èŠ‚">2.6 æ‰©å±•ï¼šæ¥å£çš„ç»†èŠ‚</h2><ol type="1"><li>å½“ä¸¤ä¸ªæ¥å£ä¸­å­˜åœ¨ç›¸åŒæŠ½è±¡æ–¹æ³•çš„æ—¶å€™ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ</li></ol><blockquote><p>åªè¦é‡å†™ä¸€æ¬¡å³å¯ã€‚æ­¤æ—¶é‡å†™çš„æ–¹æ³•ï¼Œæ—¢è¡¨ç¤ºé‡å†™1æ¥å£çš„ï¼Œä¹Ÿè¡¨ç¤ºé‡å†™2æ¥å£çš„ã€‚</p></blockquote><ol start="2" type="1"><li>å®ç°ç±»èƒ½ä¸èƒ½ç»§æ‰¿Aç±»çš„æ—¶å€™ï¼ŒåŒæ—¶å®ç°å…¶ä»–æ¥å£å‘¢ï¼Ÿ</li></ol><blockquote><p>ç»§æ‰¿çš„çˆ¶ç±»ï¼Œå°±å¥½æ¯”æ˜¯äº²çˆ¸çˆ¸ä¸€æ · å®ç°çš„æ¥å£ï¼Œå°±å¥½æ¯”æ˜¯å¹²çˆ¹ä¸€æ · å¯ä»¥ç»§æ‰¿ä¸€ä¸ªç±»çš„åŒæ—¶ï¼Œå†å®ç°å¤šä¸ªæ¥å£ï¼Œåªä¸è¿‡ï¼Œè¦æŠŠæ¥å£é‡Œé¢æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•ï¼Œå…¨éƒ¨å®ç°ã€‚</p></blockquote><ol start="3" type="1"><li>å®ç°ç±»èƒ½ä¸èƒ½ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»çš„æ—¶å€™ï¼ŒåŒæ—¶å®ç°å…¶ä»–æ¥å£å‘¢ï¼Ÿ</li></ol><blockquote><p>å®ç°ç±»å¯ä»¥ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»çš„åŒæ—¶ï¼Œå†å®ç°å…¶ä»–å¤šä¸ªæ¥å£ï¼Œåªä¸è¿‡è¦æŠŠé‡Œé¢æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•å…¨éƒ¨é‡å†™ã€‚</p></blockquote><ol start="4" type="1"><li>å®ç°ç±»Ziï¼Œå®ç°äº†ä¸€ä¸ªæ¥å£ï¼Œè¿˜ç»§æ‰¿äº†ä¸€ä¸ªFuç±»ã€‚å‡è®¾åœ¨æ¥å£ä¸­æœ‰ä¸€ä¸ªæ–¹æ³•ï¼Œçˆ¶ç±»ä¸­ä¹Ÿæœ‰ä¸€ä¸ªç›¸åŒçš„æ–¹æ³•ã€‚å­ç±»å¦‚ä½•æ“ä½œå‘¢ï¼Ÿ</li></ol><blockquote><p>å¤„ç†åŠæ³•ä¸€ï¼šå¦‚æœçˆ¶ç±»ä¸­çš„æ–¹æ³•ä½“ï¼Œèƒ½æ»¡è¶³å½“å‰ä¸šåŠ¡çš„éœ€æ±‚ï¼Œåœ¨å­ç±»ä¸­å¯ä»¥ä¸ç”¨é‡å†™ã€‚ å¤„ç†åŠæ³•äºŒï¼šå¦‚æœçˆ¶ç±»ä¸­çš„æ–¹æ³•ä½“ï¼Œä¸èƒ½æ»¡è¶³å½“å‰ä¸šåŠ¡çš„éœ€æ±‚ï¼Œéœ€è¦åœ¨å­ç±»ä¸­é‡å†™ã€‚</p></blockquote><ol start="5" type="1"><li>å¦‚æœä¸€ä¸ªæ¥å£ä¸­ï¼Œæœ‰10ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯æˆ‘åœ¨å®ç°ç±»ä¸­ï¼Œåªéœ€è¦ç”¨å…¶ä¸­ä¸€ä¸ªï¼Œè¯¥æ€ä¹ˆåŠ?</li></ol><blockquote><p>å¯ä»¥åœ¨æ¥å£è·Ÿå®ç°ç±»ä¸­é—´ï¼Œæ–°å»ºä¸€ä¸ªä¸­é—´ç±»ï¼ˆé€‚é…å™¨ç±»ï¼‰ è®©è¿™ä¸ªé€‚é…å™¨ç±»å»å®ç°æ¥å£ï¼Œå¯¹æ¥å£é‡Œé¢çš„æ‰€æœ‰çš„æ–¹æ³•åšç©ºé‡å†™ã€‚ è®©å­ç±»ç»§æ‰¿è¿™ä¸ªé€‚é…å™¨ç±»ï¼Œæƒ³è¦ç”¨åˆ°å“ªä¸ªæ–¹æ³•ï¼Œå°±é‡å†™å“ªä¸ªæ–¹æ³•ã€‚ å› ä¸ºä¸­é—´ç±»æ²¡æœ‰ä»€ä¹ˆå®é™…çš„æ„ä¹‰ï¼Œæ‰€ä»¥ä¸€èˆ¬ä¼šæŠŠä¸­é—´ç±»å®šä¹‰ä¸ºæŠ½è±¡çš„ï¼Œä¸è®©å¤–ç•Œåˆ›å»ºå¯¹è±¡</p></blockquote><h1 id="ç¬¬ä¸‰ç« -å†…éƒ¨ç±»">ç¬¬ä¸‰ç«  å†…éƒ¨ç±»</h1><h2 id="æ¦‚è¿°-2">3.1 æ¦‚è¿°</h2><h3 id="ä»€ä¹ˆæ˜¯å†…éƒ¨ç±»">3.1.1 ä»€ä¹ˆæ˜¯å†…éƒ¨ç±»</h3><p>å°†ä¸€ä¸ªç±»Aå®šä¹‰åœ¨å¦ä¸€ä¸ªç±»Bé‡Œé¢ï¼Œé‡Œé¢çš„é‚£ä¸ªç±»Aå°±ç§°ä¸º<strong>å†…éƒ¨ç±»</strong>ï¼ŒBåˆ™ç§°ä¸º<strong>å¤–éƒ¨ç±»</strong>ã€‚å¯ä»¥æŠŠå†…éƒ¨ç±»ç†è§£æˆå¯„ç”Ÿï¼Œå¤–éƒ¨ç±»ç†è§£æˆå®¿ä¸»ã€‚</p><h3 id="ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å†…éƒ¨ç±»">3.1.2 ä»€ä¹ˆæ—¶å€™ä½¿ç”¨å†…éƒ¨ç±»</h3><p>ä¸€ä¸ªäº‹ç‰©å†…éƒ¨è¿˜æœ‰ä¸€ä¸ªç‹¬ç«‹çš„äº‹ç‰©ï¼Œå†…éƒ¨çš„äº‹ç‰©è„±ç¦»å¤–éƒ¨çš„äº‹ç‰©æ— æ³•ç‹¬ç«‹ä½¿ç”¨</p><ol type="1"><li>äººé‡Œé¢æœ‰ä¸€é¢—å¿ƒè„ã€‚</li><li>æ±½è½¦å†…éƒ¨æœ‰ä¸€ä¸ªå‘åŠ¨æœºã€‚</li><li>ä¸ºäº†å®ç°æ›´å¥½çš„å°è£…æ€§ã€‚</li></ol><h2 id="å†…éƒ¨ç±»çš„åˆ†ç±»">3.2 å†…éƒ¨ç±»çš„åˆ†ç±»</h2><p>æŒ‰å®šä¹‰çš„ä½ç½®æ¥åˆ†</p><ol type="1"><li><strong>æˆå‘˜å†…éƒ¨å†…</strong>ï¼Œç±»å®šä¹‰åœ¨äº†æˆå‘˜ä½ç½® (ç±»ä¸­æ–¹æ³•å¤–ç§°ä¸ºæˆå‘˜ä½ç½®ï¼Œæ— staticä¿®é¥°çš„å†…éƒ¨ç±»)</li><li><strong>é™æ€å†…éƒ¨ç±»</strong>ï¼Œç±»å®šä¹‰åœ¨äº†æˆå‘˜ä½ç½® (ç±»ä¸­æ–¹æ³•å¤–ç§°ä¸ºæˆå‘˜ä½ç½®ï¼Œæœ‰staticä¿®é¥°çš„å†…éƒ¨ç±»)</li><li><strong>å±€éƒ¨å†…éƒ¨ç±»</strong>ï¼Œç±»å®šä¹‰åœ¨æ–¹æ³•å†…</li><li><strong>åŒ¿åå†…éƒ¨ç±»</strong>ï¼Œæ²¡æœ‰åå­—çš„å†…éƒ¨ç±»ï¼Œå¯ä»¥åœ¨æ–¹æ³•ä¸­ï¼Œä¹Ÿå¯ä»¥åœ¨ç±»ä¸­æ–¹æ³•å¤–ã€‚</li></ol><h2 id="æˆå‘˜å†…éƒ¨ç±»">3.3 æˆå‘˜å†…éƒ¨ç±»</h2><p><strong>æˆå‘˜å†…éƒ¨ç±»ç‰¹ç‚¹</strong>ï¼š</p><ul><li>æ— staticä¿®é¥°çš„å†…éƒ¨ç±»ï¼Œå±äºå¤–éƒ¨ç±»å¯¹è±¡çš„ã€‚</li><li>å®¿ä¸»ï¼šå¤–éƒ¨ç±»å¯¹è±¡ã€‚</li></ul><p><strong>å†…éƒ¨ç±»çš„ä½¿ç”¨æ ¼å¼</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">å¤–éƒ¨ç±».å†…éƒ¨ç±»ã€‚ <span class="hljs-comment">// è®¿é—®å†…éƒ¨ç±»çš„ç±»å‹éƒ½æ˜¯ç”¨ å¤–éƒ¨ç±».å†…éƒ¨ç±»</span><br></code></pre></td></tr></table></figure><p><strong>è·å–æˆå‘˜å†…éƒ¨ç±»å¯¹è±¡çš„ä¸¤ç§æ–¹å¼</strong>ï¼š</p><p>æ–¹å¼ä¸€ï¼šå¤–éƒ¨ç›´æ¥åˆ›å»ºæˆå‘˜å†…éƒ¨ç±»çš„å¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">å¤–éƒ¨ç±».å†…éƒ¨ç±» å˜é‡ = <span class="hljs-keyword">new</span> å¤–éƒ¨ç±»ï¼ˆï¼‰.new å†…éƒ¨ç±»ï¼ˆï¼‰;<br></code></pre></td></tr></table></figure><p>æ–¹å¼äºŒï¼šåœ¨å¤–éƒ¨ç±»ä¸­å®šä¹‰ä¸€ä¸ªæ–¹æ³•æä¾›å†…éƒ¨ç±»çš„å¯¹è±¡</p><p><strong>æ¡ˆä¾‹æ¼”ç¤º</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ–¹å¼ä¸€ï¼š</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//  å®¿ä¸»ï¼šå¤–éƒ¨ç±»å¯¹è±¡ã€‚</span><br>       <span class="hljs-comment">// Outer out = new Outer();</span><br>        <span class="hljs-comment">// åˆ›å»ºå†…éƒ¨ç±»å¯¹è±¡ã€‚</span><br>        Outer.<span class="hljs-type">Inner</span> <span class="hljs-variable">oi</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Outer</span>().<span class="hljs-keyword">new</span> <span class="hljs-title class_">Inner</span>();<br>        oi.method();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Outer</span> &#123;<br>    <span class="hljs-comment">// æˆå‘˜å†…éƒ¨ç±»ï¼Œå±äºå¤–éƒ¨ç±»å¯¹è±¡çš„ã€‚</span><br>    <span class="hljs-comment">// æ‹“å±•ï¼šæˆå‘˜å†…éƒ¨ç±»ä¸èƒ½å®šä¹‰é™æ€æˆå‘˜ã€‚</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Inner</span>&#123;<br>        <span class="hljs-comment">// è¿™é‡Œé¢çš„ä¸œè¥¿ä¸ç±»æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚</span><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method</span><span class="hljs-params">()</span>&#123;<br>            System.out.println(<span class="hljs-string">&quot;å†…éƒ¨ç±»ä¸­çš„æ–¹æ³•è¢«è°ƒç”¨äº†&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br><br><br><span class="hljs-comment">//æ–¹å¼äºŒï¼š</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Outer</span> &#123;<br>    String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Inner</span>&#123;<br>        <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>    &#125;<br>    <span class="hljs-keyword">public</span> Inner <span class="hljs-title function_">getInstance</span><span class="hljs-params">()</span>&#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Inner</span>();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Outer</span> <span class="hljs-variable">o</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Outer</span>();<br>        System.out.println(o.getInstance());<br><br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æˆå‘˜å†…éƒ¨ç±»çš„ç»†èŠ‚">3.4 æˆå‘˜å†…éƒ¨ç±»çš„ç»†èŠ‚</h2><p>ç¼–å†™æˆå‘˜å†…éƒ¨ç±»çš„æ³¨æ„ç‚¹ï¼š</p><ol type="1"><li>æˆå‘˜å†…éƒ¨ç±»å¯ä»¥è¢«ä¸€äº›ä¿®é¥°ç¬¦æ‰€ä¿®é¥°ï¼Œæ¯”å¦‚ï¼š privateï¼Œé»˜è®¤ï¼Œprotectedï¼Œpublicï¼Œstaticç­‰</li><li>åœ¨æˆå‘˜å†…éƒ¨ç±»é‡Œé¢ï¼ŒJDK16ä¹‹å‰ä¸èƒ½å®šä¹‰é™æ€å˜é‡ï¼ŒJDK16å¼€å§‹æ‰å¯ä»¥å®šä¹‰é™æ€å˜é‡ã€‚</li><li>åˆ›å»ºå†…éƒ¨ç±»å¯¹è±¡æ—¶ï¼Œå¯¹è±¡ä¸­æœ‰ä¸€ä¸ªéšå«çš„Outer.thisè®°å½•å¤–éƒ¨ç±»å¯¹è±¡çš„åœ°å€å€¼ã€‚ï¼ˆè¯·å‚è§3.6èŠ‚çš„å†…å­˜å›¾ï¼‰</li></ol><p>è¯¦è§£ï¼š</p><pre><code class="hljs">å†…éƒ¨ç±»è¢«privateä¿®é¥°ï¼Œå¤–ç•Œæ— æ³•ç›´æ¥è·å–å†…éƒ¨ç±»çš„å¯¹è±¡ï¼Œåªèƒ½é€šè¿‡3.3èŠ‚ä¸­çš„æ–¹å¼äºŒè·å–å†…éƒ¨ç±»çš„å¯¹è±¡è¢«å…¶ä»–æƒé™ä¿®é¥°ç¬¦ä¿®é¥°çš„å†…éƒ¨ç±»ä¸€èˆ¬ç”¨3.3èŠ‚ä¸­çš„æ–¹å¼ä¸€ç›´æ¥è·å–å†…éƒ¨ç±»çš„å¯¹è±¡å†…éƒ¨ç±»è¢«staticä¿®é¥°æ˜¯æˆå‘˜å†…éƒ¨ç±»ä¸­çš„ç‰¹æ®Šæƒ…å†µï¼Œå«åšé™æ€å†…éƒ¨ç±»ä¸‹é¢å•ç‹¬å­¦ä¹ ã€‚å†…éƒ¨ç±»å¦‚æœæƒ³è¦è®¿é—®å¤–éƒ¨ç±»çš„æˆå‘˜å˜é‡ï¼Œå¤–éƒ¨ç±»çš„å˜é‡å¿…é¡»ç”¨finalä¿®é¥°ï¼ŒJDK8ä»¥å‰å¿…é¡»æ‰‹åŠ¨å†™finalï¼ŒJDK8ä¹‹åä¸éœ€è¦æ‰‹åŠ¨å†™ï¼ŒJDKé»˜è®¤åŠ ä¸Šã€‚</code></pre><h2 id="æˆå‘˜å†…éƒ¨ç±»é¢è¯•é¢˜">3.5 æˆå‘˜å†…éƒ¨ç±»é¢è¯•é¢˜</h2><p>è¯·åœ¨?åœ°æ–¹å‘ä¸Šç›¸åº”ä»£ç ,ä»¥è¾¾åˆ°è¾“å‡ºçš„å†…å®¹</p><p>æ³¨æ„ï¼šå†…éƒ¨ç±»è®¿é—®å¤–éƒ¨ç±»å¯¹è±¡çš„æ ¼å¼æ˜¯ï¼š<strong>å¤–éƒ¨ç±»å.this</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        Outer.<span class="hljs-type">inner</span> <span class="hljs-variable">oi</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Outer</span>().<span class="hljs-keyword">new</span> <span class="hljs-title class_">inner</span>();<br>        oi.method();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Outer</span> &#123;<span class="hljs-comment">// å¤–éƒ¨ç±»</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">30</span>;<br><br>    <span class="hljs-comment">// åœ¨æˆå‘˜ä½ç½®å®šä¹‰ä¸€ä¸ªç±»</span><br>    <span class="hljs-keyword">class</span> <span class="hljs-title class_">inner</span> &#123;<br>        <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;<br><br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method</span><span class="hljs-params">()</span> &#123;<br>            <span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>            System.out.println(???);<span class="hljs-comment">// 10   ç­”æ¡ˆï¼ša</span><br>            System.out.println(???);<span class="hljs-comment">// 20ç­”æ¡ˆï¼šthis.a</span><br>            System.out.println(???);<span class="hljs-comment">// 30ç­”æ¡ˆï¼šOuter.this.a</span><br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æˆå‘˜å†…éƒ¨ç±»å†…å­˜å›¾">3.6 æˆå‘˜å†…éƒ¨ç±»å†…å­˜å›¾</h2><p><img src="/img/13-Javaé¢å‘å¯¹è±¡è¿›é˜¶/1e1b693f95744a3482f23182edf90ac5.png" /></p><h2 id="é™æ€å†…éƒ¨ç±»">3.7 é™æ€å†…éƒ¨ç±»</h2><p><strong>é™æ€å†…éƒ¨ç±»ç‰¹ç‚¹</strong>ï¼š</p><ul><li><p>é™æ€å†…éƒ¨ç±»æ˜¯ä¸€ç§ç‰¹æ®Šçš„æˆå‘˜å†…éƒ¨ç±»ã€‚</p></li><li><p>æœ‰staticä¿®é¥°ï¼Œå±äºå¤–éƒ¨ç±»æœ¬èº«çš„ã€‚</p></li><li><p>æ€»ç»“ï¼šé™æ€å†…éƒ¨ç±»ä¸å…¶ä»–ç±»çš„ç”¨æ³•å®Œå…¨ä¸€æ ·ã€‚åªæ˜¯è®¿é—®çš„æ—¶å€™éœ€è¦åŠ ä¸Šå¤–éƒ¨ç±».å†…éƒ¨ç±»ã€‚</p></li><li><p><strong>æ‹“å±•1</strong>:é™æ€å†…éƒ¨ç±»å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜ã€‚</p></li><li><p><strong>æ‹“å±•2</strong>:é™æ€å†…éƒ¨ç±»ä¸å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„éé™æ€æˆå‘˜ï¼Œå¦‚æœè¦è®¿é—®éœ€è¦åˆ›å»ºå¤–éƒ¨ç±»çš„å¯¹è±¡ã€‚</p></li><li><p><strong>æ‹“å±•3</strong>:é™æ€å†…éƒ¨ç±»ä¸­æ²¡æœ‰é“¶è¡Œçš„Outer.thisã€‚</p></li></ul><p><strong>å†…éƒ¨ç±»çš„ä½¿ç”¨æ ¼å¼</strong>ï¼š</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">å¤–éƒ¨ç±».å†…éƒ¨ç±»ã€‚<br></code></pre></td></tr></table></figure><p><strong>é™æ€å†…éƒ¨ç±»å¯¹è±¡çš„åˆ›å»ºæ ¼å¼</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">å¤–éƒ¨ç±».å†…éƒ¨ç±»  å˜é‡ = <span class="hljs-keyword">new</span>  å¤–éƒ¨ç±».å†…éƒ¨ç±»æ„é€ å™¨;<br></code></pre></td></tr></table></figure><p><strong>è°ƒç”¨æ–¹æ³•çš„æ ¼å¼ï¼š</strong></p><ul><li>è°ƒç”¨éé™æ€æ–¹æ³•çš„æ ¼å¼ï¼šå…ˆåˆ›å»ºå¯¹è±¡ï¼Œç”¨å¯¹è±¡è°ƒç”¨</li><li>è°ƒç”¨é™æ€æ–¹æ³•çš„æ ¼å¼ï¼šå¤–éƒ¨ç±»å.å†…éƒ¨ç±»å.æ–¹æ³•å();</li></ul><p><strong>æ¡ˆä¾‹æ¼”ç¤º</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// å¤–éƒ¨ç±»ï¼šOuter01</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Outer01</span>&#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span>  <span class="hljs-type">String</span> <span class="hljs-variable">sc_name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;ç¨‹åºå‘˜&quot;</span>;<br>    <span class="hljs-comment">// å†…éƒ¨ç±»: Inner01</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Inner01</span>&#123;<br>        <span class="hljs-comment">// è¿™é‡Œé¢çš„ä¸œè¥¿ä¸ç±»æ˜¯å®Œå…¨ä¸€æ ·çš„ã€‚</span><br>        <span class="hljs-keyword">private</span> String name;<br>        <span class="hljs-keyword">public</span> <span class="hljs-title function_">Inner01</span><span class="hljs-params">(String name)</span> &#123;<br>            <span class="hljs-built_in">this</span>.name = name;<br>        &#125;<br>        <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">showName</span><span class="hljs-params">()</span>&#123;<br>            System.out.println(<span class="hljs-built_in">this</span>.name);<br>            <span class="hljs-comment">// æ‹“å±•:é™æ€å†…éƒ¨ç±»å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜ã€‚</span><br>            System.out.println(sc_name);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">InnerClassDemo01</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// åˆ›å»ºé™æ€å†…éƒ¨ç±»å¯¹è±¡ã€‚</span><br>        <span class="hljs-comment">// å¤–éƒ¨ç±».å†…éƒ¨ç±»  å˜é‡ = new  å¤–éƒ¨ç±».å†…éƒ¨ç±»æ„é€ å™¨;</span><br>        Outer01.<span class="hljs-type">Inner01</span> <span class="hljs-variable">in</span>  <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Outer01</span>.Inner01(<span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>);<br>        in.showName();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å±€éƒ¨å†…éƒ¨ç±»">3.8 å±€éƒ¨å†…éƒ¨ç±»</h2><ul><li><strong>å±€éƒ¨å†…éƒ¨ç±»</strong> ï¼šå®šä¹‰åœ¨<strong>æ–¹æ³•ä¸­</strong>çš„ç±»ã€‚</li></ul><p>å®šä¹‰æ ¼å¼:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java">class å¤–éƒ¨ç±»å &#123;<br>æ•°æ®ç±»å‹ å˜é‡å;<br><br>ä¿®é¥°ç¬¦ è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å‚æ•°åˆ—è¡¨) &#123;<br><span class="hljs-comment">// â€¦</span><br>class å†…éƒ¨ç±» &#123;<br><span class="hljs-comment">// æˆå‘˜å˜é‡</span><br><span class="hljs-comment">// æˆå‘˜æ–¹æ³•</span><br>&#125;<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="åŒ¿åå†…éƒ¨ç±»">3.9 åŒ¿åå†…éƒ¨ç±»</h2><h3 id="æ¦‚è¿°-3">3.9.1 æ¦‚è¿°</h3><p><strong>åŒ¿åå†…éƒ¨ç±»</strong> ï¼šæ˜¯å†…éƒ¨ç±»çš„ç®€åŒ–å†™æ³•ã€‚ä»–æ˜¯ä¸€ä¸ªéšå«äº†åå­—çš„å†…éƒ¨ç±»ã€‚å¼€å‘ä¸­ï¼Œæœ€å¸¸ç”¨åˆ°çš„å†…éƒ¨ç±»å°±æ˜¯åŒ¿åå†…éƒ¨ç±»äº†ã€‚</p><h3 id="æ ¼å¼">3.9.2 æ ¼å¼</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">new</span> ç±»åæˆ–è€…æ¥å£å() &#123;<br>     é‡å†™æ–¹æ³•;<br>&#125;;<br></code></pre></td></tr></table></figure><p>åŒ…å«äº†ï¼š</p><ul><li><p>ç»§æ‰¿æˆ–è€…å®ç°å…³ç³»</p></li><li><p>æ–¹æ³•é‡å†™</p></li><li><p>åˆ›å»ºå¯¹è±¡</p></li></ul><p>æ‰€ä»¥ä»è¯­æ³•ä¸Šæ¥è®²ï¼Œè¿™ä¸ªæ•´ä½“å…¶å®æ˜¯åŒ¿åå†…éƒ¨ç±»å¯¹è±¡</p><h3 id="ä»€ä¹ˆæ—¶å€™ç”¨åˆ°åŒ¿åå†…éƒ¨ç±»">3.9.2 ä»€ä¹ˆæ—¶å€™ç”¨åˆ°åŒ¿åå†…éƒ¨ç±»</h3><p><strong>å®é™…ä¸Šï¼Œå¦‚æœæˆ‘ä»¬å¸Œæœ›å®šä¹‰ä¸€ä¸ªåªè¦ä½¿ç”¨ä¸€æ¬¡çš„ç±»ï¼Œå°±å¯è€ƒè™‘ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»ã€‚åŒ¿åå†…éƒ¨ç±»çš„æœ¬è´¨ä½œç”¨</strong></p><p><strong>æ˜¯ä¸ºäº†ç®€åŒ–ä»£ç </strong>ã€‚</p><p>ä¹‹å‰æˆ‘ä»¬ä½¿ç”¨æ¥å£æ—¶ï¼Œä¼¼ä¹å¾—åšå¦‚ä¸‹å‡ æ­¥æ“ä½œï¼š</p><ol type="1"><li>å®šä¹‰å­ç±»</li><li>é‡å†™æ¥å£ä¸­çš„æ–¹æ³•</li><li>åˆ›å»ºå­ç±»å¯¹è±¡</li><li>è°ƒç”¨é‡å†™åçš„æ–¹æ³•</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Swim</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swimming</span><span class="hljs-params">()</span>;<br>&#125;<br><br><span class="hljs-comment">// 1. å®šä¹‰æ¥å£çš„å®ç°ç±»</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> <span class="hljs-keyword">implements</span> <span class="hljs-title class_">Swim</span> &#123;<br>    <span class="hljs-comment">// 2. é‡å†™æŠ½è±¡æ–¹æ³•</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swimming</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;ç‹—åˆ¨å¼...&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// 3. åˆ›å»ºå®ç°ç±»å¯¹è±¡</span><br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();<br>        <span class="hljs-comment">// 4. è°ƒç”¨æ–¹æ³•</span><br>        s.swimming();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬çš„ç›®çš„ï¼Œæœ€ç»ˆåªæ˜¯ä¸ºäº†è°ƒç”¨æ–¹æ³•ï¼Œé‚£ä¹ˆèƒ½ä¸èƒ½ç®€åŒ–ä¸€ä¸‹ï¼ŒæŠŠä»¥ä¸Šå››æ­¥åˆæˆä¸€æ­¥å‘¢ï¼ŸåŒ¿åå†…éƒ¨ç±»å°±æ˜¯åšè¿™æ ·çš„å¿«æ·æ–¹å¼ã€‚</p><h3 id="åŒ¿åå†…éƒ¨ç±»å‰æå’Œæ ¼å¼">3.9.3 åŒ¿åå†…éƒ¨ç±»å‰æå’Œæ ¼å¼</h3><p>åŒ¿åå†…éƒ¨ç±»å¿…é¡»<strong>ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»</strong>æˆ–è€…<strong>å®ç°ä¸€ä¸ªçˆ¶æ¥å£</strong>ã€‚</p><p><strong>åŒ¿åå†…éƒ¨ç±»æ ¼å¼</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">new</span> çˆ¶ç±»åæˆ–è€…æ¥å£å()&#123;<br>    <span class="hljs-comment">// æ–¹æ³•é‡å†™</span><br>    <span class="hljs-meta">@Override</span> <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">method</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">// æ‰§è¡Œè¯­å¥</span><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure><h3 id="ä½¿ç”¨æ–¹å¼">3.9.4 ä½¿ç”¨æ–¹å¼</h3><p>ä»¥æ¥å£ä¸ºä¾‹ï¼ŒåŒ¿åå†…éƒ¨ç±»çš„ä½¿ç”¨ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Swim</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swimming</span><span class="hljs-params">()</span>;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo07</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Swim</span>() &#123;<br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swimming</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;è‡ªç”±æ³³...&quot;</span>);<br>&#125;<br>&#125;.swimming();<br><br>        <span class="hljs-comment">// æ¥å£ å˜é‡ = new å®ç°ç±»(); // å¤šæ€,èµ°å­ç±»çš„é‡å†™æ–¹æ³•</span><br>        <span class="hljs-type">Swim</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Swim</span>() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swimming</span><span class="hljs-params">()</span> &#123;<br>                System.out.println(<span class="hljs-string">&quot;è›™æ³³...&quot;</span>);<br>            &#125;<br>        &#125;;<br><br>        s2.swimming();<br>        s2.swimming();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="åŒ¿åå†…éƒ¨ç±»çš„ç‰¹ç‚¹">3.9.5 åŒ¿åå†…éƒ¨ç±»çš„ç‰¹ç‚¹</h3><ol type="1"><li>å®šä¹‰ä¸€ä¸ªæ²¡æœ‰åå­—çš„å†…éƒ¨ç±»</li><li>è¿™ä¸ªç±»å®ç°äº†çˆ¶ç±»ï¼Œæˆ–è€…çˆ¶ç±»æ¥å£</li><li>åŒ¿åå†…éƒ¨ç±»ä¼šåˆ›å»ºè¿™ä¸ªæ²¡æœ‰åå­—çš„ç±»çš„å¯¹è±¡</li></ol><h3 id="åŒ¿åå†…éƒ¨ç±»çš„ä½¿ç”¨åœºæ™¯">3.9.6 åŒ¿åå†…éƒ¨ç±»çš„ä½¿ç”¨åœºæ™¯</h3><p>é€šå¸¸åœ¨æ–¹æ³•çš„å½¢å¼å‚æ•°æ˜¯æ¥å£æˆ–è€…æŠ½è±¡ç±»æ—¶ï¼Œä¹Ÿå¯ä»¥å°†åŒ¿åå†…éƒ¨ç±»ä½œä¸ºå‚æ•°ä¼ é€’ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Swim</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swimming</span><span class="hljs-params">()</span>;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo07</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// æ™®é€šæ–¹å¼ä¼ å…¥å¯¹è±¡</span><br>        <span class="hljs-comment">// åˆ›å»ºå®ç°ç±»å¯¹è±¡</span><br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();<br>        <br>        goSwimming(s);<br>        <span class="hljs-comment">// åŒ¿åå†…éƒ¨ç±»ä½¿ç”¨åœºæ™¯:ä½œä¸ºæ–¹æ³•å‚æ•°ä¼ é€’</span><br>        <span class="hljs-type">Swim</span> <span class="hljs-variable">s3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Swim</span>() &#123;<br>            <span class="hljs-meta">@Override</span><br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swimming</span><span class="hljs-params">()</span> &#123;<br>                System.out.println(<span class="hljs-string">&quot;è¶æ³³...&quot;</span>);<br>            &#125;<br>        &#125;;<br>        <span class="hljs-comment">// ä¼ å…¥åŒ¿åå†…éƒ¨ç±»</span><br>        goSwimming(s3);<br><br>        <span class="hljs-comment">// å®Œç¾æ–¹æ¡ˆ: ä¸€æ­¥åˆ°ä½</span><br>        goSwimming(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Swim</span>() &#123;<br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swimming</span><span class="hljs-params">()</span> &#123;<br>                System.out.println(<span class="hljs-string">&quot;å¤§å­¦ç”Ÿ, è›™æ³³...&quot;</span>);<br>            &#125;<br>        &#125;);<br><br>        goSwimming(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Swim</span>() &#123;<br>            <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">swimming</span><span class="hljs-params">()</span> &#123;<br>                System.out.println(<span class="hljs-string">&quot;å°å­¦ç”Ÿ, è‡ªç”±æ³³...&quot;</span>);<br>            &#125;<br>        &#125;);<br>    &#125;<br><br>    <span class="hljs-comment">// å®šä¹‰ä¸€ä¸ªæ–¹æ³•,æ¨¡æ‹Ÿè¯·ä¸€äº›äººå»æ¸¸æ³³</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">goSwimming</span><span class="hljs-params">(Swim s)</span> &#123;<br>        s.swimming();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>JavaåŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java12-é¢å‘å¯¹è±¡è¿›é˜¶-å¤šæ€&amp;åŒ…&amp;final&amp;æƒé™ä¿®é¥°ç¬¦</title>
    <link href="/2023/06/29/Java12-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6-%E5%A4%9A%E6%80%81&amp;%E5%8C%85&amp;final&amp;%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E7%AC%A6/"/>
    <url>/2023/06/29/Java12-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6-%E5%A4%9A%E6%80%81&amp;%E5%8C%85&amp;final&amp;%E6%9D%83%E9%99%90%E4%BF%AE%E9%A5%B0%E7%AC%A6/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬ä¸€ç« -å¤šæ€">ç¬¬ä¸€ç«  å¤šæ€</h1><h2 id="å¤šæ€çš„å½¢å¼">1.1 å¤šæ€çš„å½¢å¼</h2><p><strong>å¤šæ€æ˜¯ç»§å°è£…ã€ç»§æ‰¿ä¹‹åï¼Œé¢å‘å¯¹è±¡çš„ç¬¬ä¸‰å¤§ç‰¹æ€§ã€‚</strong></p><p><strong>å¤šæ€æ˜¯å‡ºç°åœ¨ç»§æ‰¿æˆ–è€…å®ç°å…³ç³»ä¸­çš„</strong>ã€‚</p><p><strong>å¤šæ€ä½“ç°çš„æ ¼å¼</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">çˆ¶ç±»ç±»å‹ å¯¹è±¡åç§° = å­ç±»å¯¹è±¡;<br></code></pre></td></tr></table></figure><p><strong>å¤šæ€çš„å‰æ</strong>ï¼š - æœ‰ç»§æ‰¿æˆ–å®ç°å…³ç³» - æœ‰çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ - æœ‰æ–¹æ³•é‡å†™</p><p>æœ‰ç»§æ‰¿å…³ç³»ï¼Œå­ç±»å¯¹è±¡æ˜¯å¯ä»¥èµ‹å€¼ç»™çˆ¶ç±»ç±»å‹çš„å˜é‡ã€‚ä¾‹å¦‚Animalæ˜¯ä¸€ä¸ªåŠ¨ç‰©ç±»å‹ï¼Œè€ŒCatæ˜¯ä¸€ä¸ªçŒ«ç±»å‹ã€‚Catç»§æ‰¿äº†Animalï¼ŒCatå¯¹è±¡ä¹Ÿæ˜¯Animalç±»å‹ï¼Œè‡ªç„¶å¯ä»¥èµ‹å€¼ç»™çˆ¶ç±»ç±»å‹çš„å˜é‡ã€‚</p><p>æœ‰çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ , <figure class="highlight asciidoc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs asciidoc">Fu f = new Zi ();<br>Fu : çˆ¶ç±»å¼•ç”¨<br><span class="hljs-section">=  ï¼šæŒ‡å‘</span><br>new Ziï¼šå­ç±»å¯¹è±¡<br></code></pre></td></tr></table></figure></p><h2 id="å¤šæ€çš„ä½¿ç”¨åœºæ™¯">1.2 å¤šæ€çš„ä½¿ç”¨åœºæ™¯</h2><p>å¦‚æœæ²¡æœ‰å¤šæ€ï¼Œåœ¨ä¸‹å›¾ä¸­registeræ–¹æ³•åªèƒ½ä¼ é€’å­¦ç”Ÿå¯¹è±¡ï¼Œå…¶ä»–çš„Teacherå’Œadministratorå¯¹è±¡æ˜¯æ— æ³•ä¼ é€’ç»™registeræ–¹æ³•æ–¹æ³•çš„ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåªèƒ½å®šä¹‰ä¸‰ä¸ªä¸åŒçš„registeræ–¹æ³•åˆ†åˆ«æ¥æ”¶å­¦ç”Ÿï¼Œè€å¸ˆå’Œç®¡ç†å‘˜ã€‚</p><p><img src="/img/12-Javaé¢å‘å¯¹è±¡è¿›é˜¶/f2052316dfd544de8072059c376fc270.png" /></p><p>æœ‰äº†å¤šæ€ä¹‹åï¼Œæ–¹æ³•çš„å½¢å‚å°±å¯ä»¥å®šä¹‰ä¸ºå…±åŒçš„çˆ¶ç±»Personã€‚</p><p><strong>è¦æ³¨æ„çš„æ˜¯ï¼š</strong></p><ul><li>å½“ä¸€ä¸ªæ–¹æ³•çš„å½¢å‚æ˜¯ä¸€ä¸ªç±»ï¼Œæˆ‘ä»¬å¯ä»¥ä¼ é€’è¿™ä¸ªç±»æ‰€æœ‰çš„å­ç±»å¯¹è±¡ã€‚</li><li>å½“ä¸€ä¸ªæ–¹æ³•çš„å½¢å‚æ˜¯ä¸€ä¸ªæ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥ä¼ é€’è¿™ä¸ªæ¥å£æ‰€æœ‰çš„å®ç°ç±»å¯¹è±¡ã€‚</li><li>è€Œä¸”å¤šæ€è¿˜å¯ä»¥æ ¹æ®ä¼ é€’çš„ä¸åŒå¯¹è±¡æ¥è°ƒç”¨ä¸åŒç±»ä¸­çš„æ–¹æ³•ã€‚</li></ul><p><img src="/img/12-Javaé¢å‘å¯¹è±¡è¿›é˜¶/ad501eaacded4b6b85bf109877e008d9.png" /></p><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java">çˆ¶ç±»ï¼š<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-comment">// ç©ºå‚æ„é€ </span><br>    <span class="hljs-comment">// å¸¦å…¨éƒ¨å‚æ•°çš„æ„é€ </span><br>    <span class="hljs-comment">// getå’Œsetæ–¹æ³•</span><br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(name + <span class="hljs-string">&quot;, &quot;</span> + age);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java">å­ç±»<span class="hljs-number">1</span>ï¼š<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Administrator</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;ç®¡ç†å‘˜çš„ä¿¡æ¯ä¸ºï¼š&quot;</span> + getName() + <span class="hljs-string">&quot;, &quot;</span> + getAge());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">å­ç±»<span class="hljs-number">2</span>ï¼š<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Person</span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;å­¦ç”Ÿçš„ä¿¡æ¯ä¸ºï¼š&quot;</span> + getName() + <span class="hljs-string">&quot;, &quot;</span> + getAge());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">å­ç±»<span class="hljs-number">3</span>ï¼š<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Teacher</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Person</span>&#123;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;è€å¸ˆçš„ä¿¡æ¯ä¸ºï¼š&quot;</span> + getName() + <span class="hljs-string">&quot;, &quot;</span> + getAge());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java">æµ‹è¯•ç±»ï¼š<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//åˆ›å»ºä¸‰ä¸ªå¯¹è±¡ï¼Œå¹¶è°ƒç”¨registeræ–¹æ³•</span><br><br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();<br>        s.setName(<span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>);<br>        s.setAge(<span class="hljs-number">18</span>);<br><br>        <span class="hljs-type">Teacher</span> <span class="hljs-variable">t</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Teacher</span>();<br>        t.setName(<span class="hljs-string">&quot;ç‹å»ºå›½&quot;</span>);<br>        t.setAge(<span class="hljs-number">30</span>);<br><br>        <span class="hljs-type">Administrator</span> <span class="hljs-variable">admin</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Administrator</span>();<br>        admin.setName(<span class="hljs-string">&quot;ç®¡ç†å‘˜&quot;</span>);<br>        admin.setAge(<span class="hljs-number">35</span>);<br><br>        register(s);<br>        register(t);<br>        register(admin);<br><br>    &#125;<br><br>    <span class="hljs-comment">//è¿™ä¸ªæ–¹æ³•æ—¢èƒ½æ¥æ”¶è€å¸ˆï¼Œåˆèƒ½æ¥æ”¶å­¦ç”Ÿï¼Œè¿˜èƒ½æ¥æ”¶ç®¡ç†å‘˜</span><br>    <span class="hljs-comment">//åªèƒ½æŠŠå‚æ•°å†™æˆè¿™ä¸‰ä¸ªç±»å‹çš„çˆ¶ç±»</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">register</span><span class="hljs-params">(Person p)</span>&#123;<br>        p.show();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å¤šæ€çš„å®šä¹‰å’Œå‰æ">1.3 å¤šæ€çš„å®šä¹‰å’Œå‰æ</h2><p><strong>å¤šæ€</strong>ï¼š åŒç±»å‹çš„å¯¹è±¡ï¼Œè¡¨ç°å‡ºçš„ä¸åŒå½¢æ€ã€‚</p><p>Studentã€Teacherã€Administratoréƒ½æ˜¯Personè¡¨ç°å‡ºçš„ä¸åŒå½¢æ€ã€‚</p><p><strong>å‰æã€é‡ç‚¹ã€‘</strong></p><ol type="1"><li><p>æœ‰ç»§æ‰¿æˆ–è€…å®ç°å…³ç³»</p></li><li><p>æ–¹æ³•çš„é‡å†™ã€æ„ä¹‰ä½“ç°ï¼šä¸é‡å†™ï¼Œæ— æ„ä¹‰ã€‘</p></li><li><p>çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ã€æ ¼å¼ä½“ç°ã€‘</p><blockquote><p>çˆ¶ç±»ç±»å‹ï¼šæŒ‡å­ç±»å¯¹è±¡ç»§æ‰¿çš„çˆ¶ç±»ç±»å‹ï¼Œæˆ–è€…å®ç°çš„çˆ¶æ¥å£ç±»å‹ã€‚</p></blockquote></li></ol><h2 id="å¤šæ€è°ƒç”¨æˆå‘˜çš„ç‰¹ç‚¹">1.4 å¤šæ€è°ƒç”¨æˆå‘˜çš„ç‰¹ç‚¹</h2><p>è°ƒç”¨æˆå‘˜å˜é‡æ—¶ï¼šç¼–è¯‘çœ‹å·¦è¾¹ï¼Œè¿è¡Œçœ‹å·¦è¾¹</p><p>è°ƒç”¨æˆå‘˜æ–¹æ³•æ—¶ï¼šç¼–è¯‘çœ‹å·¦è¾¹ï¼Œè¿è¡Œçœ‹å³è¾¹</p><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs java">  <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;  <br>        <span class="hljs-comment">//åˆ›å»ºå¯¹è±¡ï¼ˆå¤šæ€æ–¹å¼ï¼‰  </span><br>        <span class="hljs-comment">//Fu f = new Zi();  </span><br>        <span class="hljs-type">Animal</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>();  <br>        <span class="hljs-comment">//è°ƒç”¨æˆå‘˜å˜é‡ï¼šç¼–è¯‘çœ‹å·¦è¾¹ï¼Œè¿è¡Œä¹Ÿçœ‹å·¦è¾¹  </span><br>        <span class="hljs-comment">//ç¼–è¯‘çœ‹å·¦è¾¹ï¼šjavacç¼–è¯‘ä»£ç çš„æ—¶å€™ï¼Œä¼šçœ‹å·¦è¾¹çš„çˆ¶ç±»ä¸­æœ‰æ²¡æœ‰è¿™ä¸ªå˜é‡ï¼Œå¦‚æœæœ‰ï¼Œç¼–è¯‘æˆåŠŸï¼Œå¦‚æœæ²¡æœ‰ç¼–è¯‘å¤±è´¥ã€‚  </span><br>        <span class="hljs-comment">//è¿è¡Œä¹Ÿçœ‹å·¦è¾¹ï¼šjavaè¿è¡Œä»£ç çš„æ—¶å€™ï¼Œå®é™…è·å–çš„å°±æ˜¯å·¦è¾¹çˆ¶ç±»ä¸­æˆå‘˜å˜é‡çš„å€¼  </span><br>        System.out.println(a.name);<span class="hljs-comment">//åŠ¨ç‰©  </span><br>  <br>        <span class="hljs-comment">//è°ƒç”¨æˆå‘˜æ–¹æ³•ï¼šç¼–è¯‘çœ‹å·¦è¾¹ï¼Œè¿è¡Œçœ‹å³è¾¹  </span><br>        <span class="hljs-comment">//ç¼–è¯‘çœ‹å·¦è¾¹ï¼šjavacç¼–è¯‘ä»£ç çš„æ—¶å€™ï¼Œä¼šçœ‹å·¦è¾¹çš„çˆ¶ç±»ä¸­æœ‰æ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œå¦‚æœæœ‰ï¼Œç¼–è¯‘æˆåŠŸï¼Œå¦‚æœæ²¡æœ‰ç¼–è¯‘å¤±è´¥ã€‚  </span><br>        <span class="hljs-comment">//è¿è¡Œçœ‹å³è¾¹ï¼šjavaè¿è¡Œä»£ç çš„æ—¶å€™ï¼Œå®é™…ä¸Šè¿è¡Œçš„æ˜¯å­ç±»ä¸­çš„æ–¹æ³•ã€‚  </span><br>        a.show();<span class="hljs-comment">///Dog --- showæ–¹æ³•  </span><br>  <br>        <span class="hljs-comment">//ç†è§£ï¼š  </span><br>        <span class="hljs-comment">//Animal a = new Dog();  </span><br>        <span class="hljs-comment">//ç°åœ¨ç”¨aå»è°ƒç”¨å˜é‡å’Œæ–¹æ³•çš„ï¼Ÿæ˜¯çš„  </span><br>        <span class="hljs-comment">//è€Œaæ˜¯Animalç±»å‹çš„ï¼Œæ‰€ä»¥é»˜è®¤éƒ½ä¼šä»Animalè¿™ä¸ªç±»ä¸­å»æ‰¾  </span><br>  <br>        <span class="hljs-comment">//æˆå‘˜å˜é‡ï¼šåœ¨å­ç±»çš„å¯¹è±¡ä¸­ï¼Œä¼šæŠŠçˆ¶ç±»çš„æˆå‘˜å˜é‡ä¹Ÿç»§æ‰¿ä¸‹çš„ã€‚å¯¹è±¡ä¸­å­˜åœ¨ä¸¤ä¸ªname ä¸€ä¸ªçˆ¶name  ä¸€ä¸ªå­nameï¼Œ Animal a = new Dog();ç°åœ¨æ˜¯çš„aæ˜¯çˆ¶ç±»ç±»å‹ï¼Œæ‰€ä»¥ç”¨çˆ¶ç±»çš„name</span><br>        <span class="hljs-comment">//æˆå‘˜æ–¹æ³•ï¼šå¦‚æœå­ç±»å¯¹æ–¹æ³•è¿›è¡Œäº†é‡å†™ï¼Œé‚£ä¹ˆåœ¨è™šæ–¹æ³•è¡¨ä¸­æ˜¯ä¼šæŠŠçˆ¶ç±»çš„æ–¹æ³•è¿›è¡Œè¦†ç›–çš„ï¼Œæ‰€ä»¥è°ƒç”¨çš„æ˜¯å­ç±»çš„æ–¹æ³•ã€‚  </span><br>    &#125;  <br>&#125;  <br>  <br>  <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span>&#123;  <br>    <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;åŠ¨ç‰©&quot;</span>;  <br>  <br>   <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span>&#123;  <br>        System.out.println(<span class="hljs-string">&quot;Animal --- showæ–¹æ³•&quot;</span>);  <br>    &#125;  <br>&#125;  <br>  <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span>&#123;  <br>    <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;ç‹—&quot;</span>;  <br>  <br>    <span class="hljs-meta">@Override</span>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;Dog --- showæ–¹æ³•&quot;</span>);  <br>    &#125;  <br>  <br>&#125;  <br>  <br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span>&#123;  <br>    <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;çŒ«&quot;</span>;  <br>  <br>   <span class="hljs-meta">@Override</span>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;Cat --- showæ–¹æ³•&quot;</span>);  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å¤šæ€çš„å¼Šç«¯">1.5 å¤šæ€çš„å¼Šç«¯</h2><p>æˆ‘ä»¬å·²ç»çŸ¥é“å¤šæ€ç¼–è¯‘é˜¶æ®µæ˜¯çœ‹å·¦è¾¹çˆ¶ç±»ç±»å‹çš„ï¼Œå¦‚æœå­ç±»æœ‰äº›ç‹¬æœ‰çš„åŠŸèƒ½ï¼Œæ­¤æ—¶<strong>å¤šæ€çš„å†™æ³•å°±æ— æ³•è®¿é—®å­ç±»ç‹¬æœ‰åŠŸèƒ½äº†</strong>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span>&#123;<br>    <span class="hljs-keyword">public</span>  <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">()</span>ï½›<br>        System.out.println(<span class="hljs-string">&quot;åŠ¨ç‰©åƒä¸œè¥¿ï¼&quot;</span>)<br>    ï½<br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span> &#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;åƒé±¼&quot;</span>);  <br>    &#125;  <br>   <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">catchMouse</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;æŠ“è€é¼ &quot;</span>);  <br>    &#125;  <br>&#125;  <br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span> &#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;åƒéª¨å¤´&quot;</span>);  <br>    &#125;  <br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-type">Animal</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>();<br>        a.eat();<br>        a.catchMouse();<span class="hljs-comment">//ç¼–è¯‘æŠ¥é”™ï¼Œç¼–è¯‘çœ‹å·¦è¾¹ï¼ŒAnimalæ²¡æœ‰è¿™ä¸ªæ–¹æ³•</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å¼•ç”¨ç±»å‹è½¬æ¢">1.6 å¼•ç”¨ç±»å‹è½¬æ¢</h2><h3 id="ä¸ºä»€ä¹ˆè¦è½¬å‹">1.6.1 ä¸ºä»€ä¹ˆè¦è½¬å‹</h3><p><strong>å¤šæ€çš„å†™æ³•å°±æ— æ³•è®¿é—®å­ç±»ç‹¬æœ‰åŠŸèƒ½äº†ã€‚</strong></p><p>å½“ä½¿ç”¨å¤šæ€æ–¹å¼è°ƒç”¨æ–¹æ³•æ—¶ï¼Œé¦–å…ˆæ£€æŸ¥çˆ¶ç±»ä¸­æ˜¯å¦æœ‰è¯¥æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ç¼–è¯‘é”™è¯¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>ä¸èƒ½è°ƒç”¨</strong>å­ç±»æ‹¥æœ‰ï¼Œè€Œçˆ¶ç±»æ²¡æœ‰çš„æ–¹æ³•ã€‚ç¼–è¯‘éƒ½é”™è¯¯ï¼Œæ›´åˆ«è¯´è¿è¡Œäº†ã€‚è¿™ä¹Ÿæ˜¯å¤šæ€ç»™æˆ‘ä»¬å¸¦æ¥çš„ä¸€ç‚¹"å°éº»çƒ¦"ã€‚æ‰€ä»¥ï¼Œæƒ³è¦è°ƒç”¨å­ç±»ç‰¹æœ‰çš„æ–¹æ³•ï¼Œå¿…é¡»åšå‘ä¸‹è½¬å‹ã€‚</p><p>å›é¡¾åŸºæœ¬æ•°æ®ç±»å‹è½¬æ¢</p><ul><li><p>è‡ªåŠ¨è½¬æ¢: èŒƒå›´å°çš„èµ‹å€¼ç»™èŒƒå›´å¤§çš„.è‡ªåŠ¨å®Œæˆ:double d = 5;</p></li><li><p>å¼ºåˆ¶è½¬æ¢: èŒƒå›´å¤§çš„èµ‹å€¼ç»™èŒƒå›´å°çš„,å¼ºåˆ¶è½¬æ¢:int i = (int)3.14</p><p>å¤šæ€çš„è½¬å‹åˆ†ä¸ºå‘ä¸Šè½¬å‹ï¼ˆè‡ªåŠ¨è½¬æ¢ï¼‰ä¸å‘ä¸‹è½¬å‹ï¼ˆå¼ºåˆ¶è½¬æ¢ï¼‰ä¸¤ç§ã€‚</p></li></ul><h3 id="å‘ä¸Šè½¬å‹è‡ªåŠ¨è½¬æ¢">1.6.2 å‘ä¸Šè½¬å‹ï¼ˆè‡ªåŠ¨è½¬æ¢ï¼‰</h3><ul><li><strong>å‘ä¸Šè½¬å‹</strong>ï¼šå¤šæ€æœ¬èº«æ˜¯å­ç±»ç±»å‹å‘çˆ¶ç±»ç±»å‹å‘ä¸Šè½¬æ¢ï¼ˆè‡ªåŠ¨è½¬æ¢ï¼‰çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯é»˜è®¤çš„ã€‚ å½“çˆ¶ç±»å¼•ç”¨æŒ‡å‘ä¸€ä¸ªå­ç±»å¯¹è±¡æ—¶ï¼Œä¾¿æ˜¯å‘ä¸Šè½¬å‹ã€‚ ä½¿ç”¨æ ¼å¼ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">çˆ¶ç±»ç±»å‹  å˜é‡å = <span class="hljs-keyword">new</span> å­ç±»ç±»å‹();<br>å¦‚ï¼š<span class="hljs-type">Animal</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>();<br></code></pre></td></tr></table></figure><p>åŸå› æ˜¯ï¼šçˆ¶ç±»ç±»å‹ç›¸å¯¹ä¸å­ç±»æ¥è¯´æ˜¯å¤§èŒƒå›´çš„ç±»å‹ï¼ŒAnimalæ˜¯åŠ¨ç‰©ç±»ï¼Œæ˜¯çˆ¶ç±»ç±»å‹ã€‚Catæ˜¯çŒ«ç±»ï¼Œæ˜¯å­ç±»ç±»å‹ã€‚Animalç±»å‹çš„èŒƒå›´å½“ç„¶å¾ˆå¤§ï¼ŒåŒ…å«ä¸€åˆ‡åŠ¨ç‰©ã€‚æ‰€ä»¥å­ç±»èŒƒå›´å°å¯ä»¥ç›´æ¥è‡ªåŠ¨è½¬å‹ç»™çˆ¶ç±»ç±»å‹çš„å˜é‡ã€‚</p><h3 id="å‘ä¸‹è½¬å‹å¼ºåˆ¶è½¬æ¢">1.6.3 å‘ä¸‹è½¬å‹ï¼ˆå¼ºåˆ¶è½¬æ¢ï¼‰</h3><ul><li><strong>å‘ä¸‹è½¬å‹</strong>ï¼šçˆ¶ç±»ç±»å‹å‘å­ç±»ç±»å‹å‘ä¸‹è½¬æ¢çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹æ˜¯å¼ºåˆ¶çš„ã€‚ ä¸€ä¸ªå·²ç»å‘ä¸Šè½¬å‹çš„å­ç±»å¯¹è±¡ï¼Œå°†çˆ¶ç±»å¼•ç”¨è½¬ä¸ºå­ç±»å¼•ç”¨ï¼Œå¯ä»¥ä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢çš„æ ¼å¼ï¼Œä¾¿æ˜¯å‘ä¸‹è½¬å‹ã€‚</li></ul><p>ä½¿ç”¨æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// å­ç±»ç±»å‹ å˜é‡å = (å­ç±»ç±»å‹) çˆ¶ç±»å˜é‡å; å¦‚:</span><br><span class="hljs-type">Aniaml</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>();<br>   <span class="hljs-type">Cat</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span>(Cat) a;  <br></code></pre></td></tr></table></figure><h3 id="æ¡ˆä¾‹æ¼”ç¤º">1.6.4 æ¡ˆä¾‹æ¼”ç¤º</h3><p>å½“ä½¿ç”¨å¤šæ€æ–¹å¼è°ƒç”¨æ–¹æ³•æ—¶ï¼Œé¦–å…ˆæ£€æŸ¥çˆ¶ç±»ä¸­æ˜¯å¦æœ‰è¯¥æ–¹æ³•ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™ç¼–è¯‘é”™è¯¯ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>ä¸èƒ½è°ƒç”¨</strong>å­ç±»æ‹¥æœ‰ï¼Œè€Œçˆ¶ç±»æ²¡æœ‰çš„æ–¹æ³•ã€‚ç¼–è¯‘éƒ½é”™è¯¯ï¼Œæ›´åˆ«è¯´è¿è¡Œäº†ã€‚è¿™ä¹Ÿæ˜¯å¤šæ€ç»™æˆ‘ä»¬å¸¦æ¥çš„ä¸€ç‚¹"å°éº»çƒ¦"ã€‚æ‰€ä»¥ï¼Œæƒ³è¦è°ƒç”¨å­ç±»ç‰¹æœ‰çš„æ–¹æ³•ï¼Œå¿…é¡»åšå‘ä¸‹è½¬å‹ã€‚</p><p>è½¬å‹æ¼”ç¤ºï¼Œä»£ç å¦‚ä¸‹ï¼š</p><p>å®šä¹‰ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">abstract</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> &#123;  <br>    <span class="hljs-keyword">abstract</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">()</span>;  <br>&#125;  <br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span> &#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;åƒé±¼&quot;</span>);  <br>    &#125;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">catchMouse</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;æŠ“è€é¼ &quot;</span>);  <br>    &#125;  <br>&#125;  <br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span> &#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;åƒéª¨å¤´&quot;</span>);  <br>    &#125;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">watchHouse</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;çœ‹å®¶&quot;</span>);  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure><p>å®šä¹‰æµ‹è¯•ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// å‘ä¸Šè½¬å‹  </span><br>        <span class="hljs-type">Animal</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>();  <br>        a.eat(); <span class="hljs-comment">// è°ƒç”¨çš„æ˜¯ Cat çš„ eat</span><br><br>        <span class="hljs-comment">// å‘ä¸‹è½¬å‹  </span><br>        <span class="hljs-type">Cat</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> (Cat)a;       <br>        c.catchMouse(); <span class="hljs-comment">// è°ƒç”¨çš„æ˜¯ Cat çš„ catchMouse</span><br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure><h3 id="è½¬å‹çš„å¼‚å¸¸">1.6.5 è½¬å‹çš„å¼‚å¸¸</h3><p>è½¬å‹çš„è¿‡ç¨‹ä¸­ï¼Œä¸€ä¸å°å¿ƒå°±ä¼šé‡åˆ°è¿™æ ·çš„é—®é¢˜ï¼Œè¯·çœ‹å¦‚ä¸‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// å‘ä¸Šè½¬å‹  </span><br>        <span class="hljs-type">Animal</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>();  <br>        a.eat();               <span class="hljs-comment">// è°ƒç”¨çš„æ˜¯ Cat çš„ eat</span><br><br>        <span class="hljs-comment">// å‘ä¸‹è½¬å‹  </span><br>        <span class="hljs-type">Dog</span> <span class="hljs-variable">d</span> <span class="hljs-operator">=</span> (Dog)a;       <br>        d.watchHouse();        <span class="hljs-comment">// è°ƒç”¨çš„æ˜¯ Dog çš„ watchHouse ã€è¿è¡ŒæŠ¥é”™ã€‘</span><br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure><p>è¿™æ®µä»£ç å¯ä»¥é€šè¿‡ç¼–è¯‘ï¼Œä½†æ˜¯è¿è¡Œæ—¶ï¼Œå´æŠ¥å‡ºäº† <code>ClassCastException</code> ï¼Œç±»å‹è½¬æ¢å¼‚å¸¸ï¼è¿™æ˜¯å› ä¸ºï¼Œæ˜æ˜åˆ›å»ºäº†Catç±»å‹å¯¹è±¡ï¼Œè¿è¡Œæ—¶ï¼Œå½“ç„¶ä¸èƒ½è½¬æ¢æˆDogå¯¹è±¡çš„ã€‚</p><h3 id="instanceofå…³é”®å­—">1.6.6 instanceofå…³é”®å­—</h3><p>ä¸ºäº†é¿å…ClassCastExceptionçš„å‘ç”Ÿï¼ŒJavaæä¾›äº† <code>instanceof</code> å…³é”®å­—ï¼Œç»™å¼•ç”¨å˜é‡åšç±»å‹çš„æ ¡éªŒï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">å˜é‡å <span class="hljs-keyword">instanceof</span> æ•°æ®ç±»å‹ <br>å¦‚æœå˜é‡å±äºè¯¥æ•°æ®ç±»å‹æˆ–è€…å…¶å­ç±»ç±»å‹ï¼Œè¿”å›<span class="hljs-literal">true</span>ã€‚<br>å¦‚æœå˜é‡ä¸å±äºè¯¥æ•°æ®ç±»å‹æˆ–è€…å…¶å­ç±»ç±»å‹ï¼Œè¿”å›<span class="hljs-literal">false</span>ã€‚<br></code></pre></td></tr></table></figure><p>æ‰€ä»¥ï¼Œè½¬æ¢å‰ï¼Œæˆ‘ä»¬æœ€å¥½å…ˆåšä¸€ä¸ªåˆ¤æ–­ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// å‘ä¸Šè½¬å‹  </span><br>        <span class="hljs-type">Animal</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>();  <br>        a.eat();               <span class="hljs-comment">// è°ƒç”¨çš„æ˜¯ Cat çš„ eat</span><br><br>        <span class="hljs-comment">// å‘ä¸‹è½¬å‹  </span><br>        <span class="hljs-keyword">if</span> (a <span class="hljs-keyword">instanceof</span> Cat)&#123;<br>            <span class="hljs-type">Cat</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> (Cat)a;       <br>            c.catchMouse();        <span class="hljs-comment">// è°ƒç”¨çš„æ˜¯ Cat çš„ catchMouse</span><br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (a <span class="hljs-keyword">instanceof</span> Dog)&#123;<br>            <span class="hljs-type">Dog</span> <span class="hljs-variable">d</span> <span class="hljs-operator">=</span> (Dog)a;       <br>            d.watchHouse();       <span class="hljs-comment">// è°ƒç”¨çš„æ˜¯ Dog çš„ watchHouse</span><br>        &#125;<br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure><h3 id="instanceofæ–°ç‰¹æ€§">1.6.7 instanceofæ–°ç‰¹æ€§</h3><p>JDK14çš„æ—¶å€™æå‡ºäº†æ–°ç‰¹æ€§ï¼ŒæŠŠåˆ¤æ–­å’Œå¼ºè½¬åˆå¹¶æˆäº†ä¸€è¡Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//æ–°ç‰¹æ€§</span><br><span class="hljs-comment">//å…ˆåˆ¤æ–­aæ˜¯å¦ä¸ºDogç±»å‹ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™å¼ºè½¬æˆDogç±»å‹ï¼Œè½¬æ¢ä¹‹åå˜é‡åä¸ºd</span><br><span class="hljs-comment">//å¦‚æœä¸æ˜¯ï¼Œåˆ™ä¸å¼ºè½¬ï¼Œç»“æœç›´æ¥æ˜¯false</span><br><span class="hljs-keyword">if</span>(a <span class="hljs-keyword">instanceof</span> Dog d)&#123;<br>    d.lookHome();<br>&#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(a <span class="hljs-keyword">instanceof</span> Cat c)&#123;<br>    c.catchMouse();<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>    System.out.println(<span class="hljs-string">&quot;æ²¡æœ‰è¿™ä¸ªç±»å‹ï¼Œæ— æ³•è½¬æ¢&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ç»¼åˆç»ƒä¹ ">1.7 ç»¼åˆç»ƒä¹ </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java">éœ€æ±‚ï¼šæ ¹æ®éœ€æ±‚å®Œæˆä»£ç :<br><span class="hljs-number">1.</span>å®šä¹‰ç‹—ç±»<br>å±æ€§ï¼š<br>å¹´é¾„ï¼Œé¢œè‰²<br>è¡Œä¸º:<br>eat(String something)(somethingè¡¨ç¤ºåƒçš„ä¸œè¥¿)<br>çœ‹å®¶lookHomeæ–¹æ³•(æ— å‚æ•°)<br><span class="hljs-number">2.</span>å®šä¹‰çŒ«ç±»<br>å±æ€§ï¼š<br>å¹´é¾„ï¼Œé¢œè‰²<br>è¡Œä¸º:<br>eat(String something)æ–¹æ³•(somethingè¡¨ç¤ºåƒçš„ä¸œè¥¿)<br>é€®è€é¼ catchMouseæ–¹æ³•(æ— å‚æ•°)<br><span class="hljs-number">3.</span>å®šä¹‰Personç±»<span class="hljs-comment">//é¥²å…»å‘˜</span><br>å±æ€§ï¼š<br>å§“åï¼Œå¹´é¾„<br>è¡Œä¸ºï¼š<br>keepPet(Dog dog,String something)æ–¹æ³•<br>åŠŸèƒ½ï¼šå–‚å…»å® ç‰©ç‹—ï¼Œsomethingè¡¨ç¤ºå–‚å…»çš„ä¸œè¥¿<br>è¡Œä¸ºï¼š<br>keepPet(Cat cat,String something)æ–¹æ³•<br>åŠŸèƒ½ï¼šå–‚å…»å® ç‰©çŒ«ï¼Œsomethingè¡¨ç¤ºå–‚å…»çš„ä¸œè¥¿<br>ç”Ÿæˆç©ºå‚æœ‰å‚æ„é€ ï¼Œsetå’Œgetæ–¹æ³•  <br><span class="hljs-number">4.</span>å®šä¹‰æµ‹è¯•ç±»(å®Œæˆä»¥ä¸‹æ‰“å°æ•ˆæœ):<br>keepPet(Dog dog,String somethind)æ–¹æ³•æ‰“å°å†…å®¹å¦‚ä¸‹ï¼š<br>å¹´é¾„ä¸º<span class="hljs-number">30</span>å²çš„è€ç‹å…»äº†ä¸€åªé»‘é¢œè‰²çš„<span class="hljs-number">2</span>å²çš„ç‹—<br><span class="hljs-number">2</span>å²çš„é»‘é¢œè‰²çš„ç‹—ä¸¤åªå‰è…¿æ­»æ­»çš„æŠ±ä½éª¨å¤´çŒ›åƒ<br>keepPet(Cat cat,String somethind)æ–¹æ³•æ‰“å°å†…å®¹å¦‚ä¸‹ï¼š<br>å¹´é¾„ä¸º<span class="hljs-number">25</span>å²çš„è€æå…»äº†ä¸€åªç°é¢œè‰²çš„<span class="hljs-number">3</span>å²çš„çŒ«<br><span class="hljs-number">3</span>å²çš„ç°é¢œè‰²çš„çŒ«çœ¯ç€çœ¼ç›ä¾§ç€å¤´åƒé±¼<br><span class="hljs-number">5.</span>æ€è€ƒï¼š<br><span class="hljs-number">1.</span>Dogå’ŒCatéƒ½æ˜¯Animalçš„å­ç±»ï¼Œä»¥ä¸Šæ¡ˆä¾‹ä¸­é’ˆå¯¹ä¸åŒçš„åŠ¨ç‰©ï¼Œå®šä¹‰äº†ä¸åŒçš„keepPetæ–¹æ³•ï¼Œè¿‡äºç¹çï¼Œèƒ½å¦ç®€åŒ–ï¼Œå¹¶ä½“ä¼šç®€åŒ–åçš„å¥½å¤„ï¼Ÿ<br><span class="hljs-number">2.</span>Dogå’ŒCatè™½ç„¶éƒ½æ˜¯Animalçš„å­ç±»ï¼Œä½†æ˜¯éƒ½æœ‰å…¶ç‰¹æœ‰æ–¹æ³•ï¼Œèƒ½å¦æƒ³åŠæ³•åœ¨keepPetä¸­è°ƒç”¨ç‰¹æœ‰æ–¹æ³•ï¼Ÿ<br></code></pre></td></tr></table></figure><p>ç”»å›¾åˆ†æï¼š</p><p><img src="/img/12-Javaé¢å‘å¯¹è±¡è¿›é˜¶/c69b99aeed55418c8b6b81d6010e95cf.png" /></p><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//åŠ¨ç‰©ç±»ï¼ˆçˆ¶ç±»ï¼‰</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br>    <span class="hljs-keyword">private</span> String color;<br><br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Animal</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Animal</span><span class="hljs-params">(<span class="hljs-type">int</span> age, String color)</span> &#123;<br>        <span class="hljs-built_in">this</span>.age = age;<br>        <span class="hljs-built_in">this</span>.color = color;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getColor</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> color;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setColor</span><span class="hljs-params">(String color)</span> &#123;<br>        <span class="hljs-built_in">this</span>.color = color;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">(String something)</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;åŠ¨ç‰©åœ¨åƒ&quot;</span> + something);<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//çŒ«ç±»ï¼ˆå­ç±»ï¼‰</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span> &#123;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Cat</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Cat</span><span class="hljs-params">(<span class="hljs-type">int</span> age, String color)</span> &#123;<br>        <span class="hljs-built_in">super</span>(age, color);<br>    &#125;<br><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">(String something)</span> &#123;<br>        System.out.println(getAge() + <span class="hljs-string">&quot;å²çš„&quot;</span> + getColor() + <span class="hljs-string">&quot;é¢œè‰²çš„çŒ«çœ¯ç€çœ¼ç›ä¾§ç€å¤´åƒ&quot;</span> + something);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">catchMouse</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;çŒ«æŠ“è€é¼ &quot;</span>);<br>    &#125;<br><br>&#125;<br><br><span class="hljs-comment">//ç‹—ç±»ï¼ˆå­ç±»ï¼‰</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Dog</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Dog</span><span class="hljs-params">(<span class="hljs-type">int</span> age, String color)</span> &#123;<br>        <span class="hljs-built_in">super</span>(age, color);<br>    &#125;<br><br>    <span class="hljs-comment">//è¡Œä¸º</span><br>    <span class="hljs-comment">//eat(String something)(somethingè¡¨ç¤ºåƒçš„ä¸œè¥¿)</span><br>    <span class="hljs-comment">//çœ‹å®¶lookHomeæ–¹æ³•(æ— å‚æ•°)</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">(String something)</span> &#123;<br>        System.out.println(getAge() + <span class="hljs-string">&quot;å²çš„&quot;</span> + getColor() + <span class="hljs-string">&quot;é¢œè‰²çš„ç‹—ä¸¤åªå‰è…¿æ­»æ­»çš„æŠ±ä½&quot;</span> + something + <span class="hljs-string">&quot;çŒ›åƒ&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">lookHome</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;ç‹—åœ¨çœ‹å®¶&quot;</span>);<br>    &#125;<br>&#125;<br><br><br><span class="hljs-comment">//é¥²å…»å‘˜ç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-comment">//é¥²å…»ç‹—</span><br>   <span class="hljs-comment">/* public void keepPet(Dog dog, String something) &#123;</span><br><span class="hljs-comment">        System.out.println(&quot;å¹´é¾„ä¸º&quot; + age + &quot;å²çš„&quot; + name + &quot;å…»äº†ä¸€åª&quot; + dog.getColor() + &quot;é¢œè‰²çš„&quot; + dog.getAge() + &quot;å²çš„ç‹—&quot;);</span><br><span class="hljs-comment">        dog.eat(something);</span><br><span class="hljs-comment">    &#125;</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    //é¥²å…»çŒ«</span><br><span class="hljs-comment">    public void keepPet(Cat cat, String something) &#123;</span><br><span class="hljs-comment">        System.out.println(&quot;å¹´é¾„ä¸º&quot; + age + &quot;å²çš„&quot; + name + &quot;å…»äº†ä¸€åª&quot; + cat.getColor() + &quot;é¢œè‰²çš„&quot; + cat.getAge() + &quot;å²çš„çŒ«&quot;);</span><br><span class="hljs-comment">        cat.eat(something);</span><br><span class="hljs-comment">    &#125;*/</span><br><br><br>    <span class="hljs-comment">//æƒ³è¦ä¸€ä¸ªæ–¹æ³•ï¼Œèƒ½æ¥æ”¶æ‰€æœ‰çš„åŠ¨ç‰©ï¼ŒåŒ…æ‹¬çŒ«ï¼ŒåŒ…æ‹¬ç‹—</span><br>    <span class="hljs-comment">//æ–¹æ³•çš„å½¢å‚ï¼šå¯ä»¥å†™è¿™äº›ç±»çš„çˆ¶ç±» Animal</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">keepPet</span><span class="hljs-params">(Animal a, String something)</span> &#123;<br>        <span class="hljs-keyword">if</span>(a <span class="hljs-keyword">instanceof</span> Dog d)&#123;<br>            System.out.println(<span class="hljs-string">&quot;å¹´é¾„ä¸º&quot;</span> + age + <span class="hljs-string">&quot;å²çš„&quot;</span> + name + <span class="hljs-string">&quot;å…»äº†ä¸€åª&quot;</span> + a.getColor() + <span class="hljs-string">&quot;é¢œè‰²çš„&quot;</span> + a.getAge() + <span class="hljs-string">&quot;å²çš„ç‹—&quot;</span>);<br>            d.eat(something);<br>        &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(a <span class="hljs-keyword">instanceof</span> Cat c)&#123;<br>            System.out.println(<span class="hljs-string">&quot;å¹´é¾„ä¸º&quot;</span> + age + <span class="hljs-string">&quot;å²çš„&quot;</span> + name + <span class="hljs-string">&quot;å…»äº†ä¸€åª&quot;</span> + c.getColor() + <span class="hljs-string">&quot;é¢œè‰²çš„&quot;</span> + c.getAge() + <span class="hljs-string">&quot;å²çš„çŒ«&quot;</span>);<br>            c.eat(something);<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            System.out.println(<span class="hljs-string">&quot;æ²¡æœ‰è¿™ç§åŠ¨ç‰©&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-comment">//æµ‹è¯•ç±»</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//åˆ›å»ºå¯¹è±¡å¹¶è°ƒç”¨æ–¹æ³•</span><br>       <span class="hljs-comment">/* Person p1 = new Person(&quot;è€ç‹&quot;,30);</span><br><span class="hljs-comment">        Dog d = new Dog(2,&quot;é»‘&quot;);</span><br><span class="hljs-comment">        p1.keepPet(d,&quot;éª¨å¤´&quot;);</span><br><span class="hljs-comment"></span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        Person p2 = new Person(&quot;è€æ&quot;,25);</span><br><span class="hljs-comment">        Cat c = new Cat(3,&quot;ç°&quot;);</span><br><span class="hljs-comment">        p2.keepPet(c,&quot;é±¼&quot;);*/</span><br><br><br>        <span class="hljs-comment">//åˆ›å»ºé¥²å…»å‘˜çš„å¯¹è±¡</span><br>        <span class="hljs-type">Person</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;è€ç‹&quot;</span>,<span class="hljs-number">30</span>);<br>        <span class="hljs-type">Dog</span> <span class="hljs-variable">d</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Dog</span>(<span class="hljs-number">2</span>,<span class="hljs-string">&quot;é»‘&quot;</span>);<br>        <span class="hljs-type">Cat</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>(<span class="hljs-number">3</span>,<span class="hljs-string">&quot;ç°&quot;</span>);<br>        p.keepPet(d,<span class="hljs-string">&quot;éª¨å¤´&quot;</span>);<br>        p.keepPet(c,<span class="hljs-string">&quot;é±¼&quot;</span>);<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ç¬¬äºŒç« -åŒ…">ç¬¬äºŒç«  åŒ…</h1><h2 id="åŒ…">2.1 åŒ…</h2><pre><code class="hljs">åŒ…åœ¨æ“ä½œç³»ç»Ÿä¸­å…¶å®å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚**åŒ…æ˜¯ç”¨æ¥åˆ†é—¨åˆ«ç±»çš„ç®¡ç†æŠ€æœ¯ï¼Œä¸åŒçš„æŠ€æœ¯ç±»æ”¾åœ¨ä¸åŒçš„åŒ…ä¸‹**ï¼Œæ–¹ä¾¿ç®¡ç†å’Œç»´æŠ¤ã€‚</code></pre><p>åœ¨IDEAé¡¹ç›®ä¸­ï¼Œå»ºåŒ…çš„æ“ä½œå¦‚ä¸‹ï¼š</p><p><img src="/img/12-Javaé¢å‘å¯¹è±¡è¿›é˜¶/f2295f3a8bac40e983c65f20604595b9.jpeg" /></p><p><strong>åŒ…åçš„å‘½åè§„èŒƒ</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">è·¯å¾„å.è·¯å¾„å.xxx.xxx<br><span class="hljs-comment">// ä¾‹å¦‚ï¼šcom.itheima.oa</span><br></code></pre></td></tr></table></figure><ul><li>åŒ…åä¸€èˆ¬æ˜¯å…¬å¸åŸŸåçš„å€’å†™ã€‚</li><li>åŒ…åå¿…é¡»ç”¨â€.â€œè¿æ¥ã€‚</li><li>åŒ…åçš„æ¯ä¸ªè·¯å¾„åå¿…é¡»æ˜¯ä¸€ä¸ªåˆæ³•çš„æ ‡è¯†ç¬¦ï¼Œè€Œä¸”ä¸èƒ½æ˜¯Javaçš„å…³é”®å­—ã€‚</li></ul><h2 id="å¯¼åŒ…">2.2 å¯¼åŒ…</h2><p>ä»€ä¹ˆæ—¶å€™éœ€è¦å¯¼åŒ…ï¼Ÿ</p><pre><code class="hljs">æƒ…å†µä¸€ï¼šåœ¨ä½¿ç”¨Javaä¸­æä¾›çš„éæ ¸å¿ƒåŒ…ä¸­çš„ç±»æ—¶æƒ…å†µäºŒï¼šä½¿ç”¨è‡ªå·±å†™çš„å…¶ä»–åŒ…ä¸­çš„ç±»æ—¶</code></pre><p>ä»€ä¹ˆæ—¶å€™ä¸éœ€è¦å¯¼åŒ…ï¼Ÿ</p><pre><code class="hljs">æƒ…å†µä¸€ï¼šåœ¨ä½¿ç”¨Javaæ ¸å¿ƒåŒ…ï¼ˆjava.langï¼‰ä¸­çš„ç±»æ—¶æƒ…å†µäºŒï¼šåœ¨ä½¿ç”¨åŒä¸€ä¸ªåŒ…ä¸­çš„å…¶ä»–ç±»æ—¶</code></pre><h2 id="ä½¿ç”¨ä¸åŒåŒ…ä¸‹çš„åŒåç±»æ€ä¹ˆåŠ">2.3 ä½¿ç”¨ä¸åŒåŒ…ä¸‹çš„åŒåç±»æ€ä¹ˆåŠï¼Ÿ</h2><p>å‡è®¾demo1å’Œdemo2ä¸­éƒ½æœ‰ä¸€ä¸ªStudentè¯¥å¦‚ä½•ä½¿ç”¨ï¼Ÿ - ä½¿ç”¨å…¨ç±»åçš„å½¢å¼</p><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ä½¿ç”¨å…¨ç±»åçš„å½¢å¼å³å¯ã€‚</span><br><span class="hljs-comment">//å…¨ç±»åï¼šåŒ…å + ç±»å</span><br><span class="hljs-comment">//æ‹·è´å…¨ç±»åçš„å¿«æ·é”®ï¼šé€‰ä¸­ç±»åcrtl + shift + alt + c æˆ–è€…ç”¨é¼ æ ‡ç‚¹copyï¼Œå†ç‚¹å‡»copy Reference</span><br>work.demo1.<span class="hljs-type">Student</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">work</span>.demo1.Student();<br>work.demo2.<span class="hljs-type">Student</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">work</span>.demo2.Student();<br></code></pre></td></tr></table></figure><h1 id="ç¬¬ä¸‰ç« -æƒé™ä¿®é¥°ç¬¦">ç¬¬ä¸‰ç«  æƒé™ä¿®é¥°ç¬¦</h1><h2 id="æƒé™ä¿®é¥°ç¬¦">3.1 æƒé™ä¿®é¥°ç¬¦</h2><p>æƒé™ä¿®é¥°ç¬¦ï¼šæ˜¯ç”¨æ¥æ§åˆ¶ä¸€ä¸ªæˆå‘˜èƒ½å¤Ÿè¢«è®¿é—®çš„èŒƒå›´çš„ã€‚ å¯ä»¥ä¿®é¥°æˆå‘˜å˜é‡ï¼Œæ–¹æ³•ï¼Œæ„é€ æ–¹æ³•ï¼Œå†…éƒ¨ç±»ã€‚</p><pre><code class="hljs">åœ¨Javaä¸­æä¾›äº†å››ç§è®¿é—®æƒé™ï¼Œä½¿ç”¨ä¸åŒçš„è®¿é—®æƒé™ä¿®é¥°ç¬¦ä¿®é¥°æ—¶ï¼Œè¢«ä¿®é¥°çš„å†…å®¹ä¼šæœ‰ä¸åŒçš„è®¿é—®æƒé™ï¼Œæˆ‘ä»¬ä¹‹å‰å·²ç»å­¦ä¹ è¿‡äº†public å’Œ privateï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç ”ç©¶ä¸€ä¸‹protectedå’Œé»˜è®¤ä¿®é¥°ç¬¦çš„ä½œç”¨ã€‚</code></pre><ul><li><p>publicï¼šå…¬å…±çš„ï¼Œæ‰€æœ‰åœ°æ–¹éƒ½å¯ä»¥è®¿é—®ã€‚</p></li><li><p>protectedï¼šæœ¬ç±» ï¼Œæœ¬åŒ…ï¼Œå…¶ä»–åŒ…ä¸­çš„å­ç±»éƒ½å¯ä»¥è®¿é—®ã€‚</p></li><li><p>é»˜è®¤ï¼ˆæ²¡æœ‰ä¿®é¥°ç¬¦ï¼‰ï¼šæœ¬ç±» ï¼Œæœ¬åŒ…å¯ä»¥è®¿é—®ã€‚ï¼ˆæ³¨æ„ï¼šé»˜è®¤æ˜¯ç©ºç€ä¸å†™ï¼Œä¸æ˜¯defaultï¼‰</p></li><li><p>privateï¼šç§æœ‰çš„ï¼Œå½“å‰ç±»å¯ä»¥è®¿é—®ã€‚</p></li></ul><p><code>public &gt; protected &gt; é»˜è®¤ &gt; private</code></p><h2 id="ä¸åŒæƒé™çš„è®¿é—®èƒ½åŠ›">3.2 ä¸åŒæƒé™çš„è®¿é—®èƒ½åŠ›</h2><table><thead><tr class="header"><th></th><th>public</th><th>protected</th><th>é»˜è®¤</th><th>private</th></tr></thead><tbody><tr class="odd"><td>åŒä¸€ç±»ä¸­</td><td>âˆš</td><td>âˆš</td><td>âˆš</td><td>âˆš</td></tr><tr class="even"><td>åŒä¸€åŒ…ä¸­çš„ç±»</td><td>âˆš</td><td>âˆš</td><td>âˆš</td><td></td></tr><tr class="odd"><td>ä¸åŒåŒ…çš„å­ç±»</td><td>âˆš</td><td>âˆš</td><td></td><td></td></tr><tr class="even"><td>ä¸åŒåŒ…ä¸­çš„æ— å…³ç±»</td><td>âˆš</td><td></td><td></td><td></td></tr></tbody></table><p>å¯è§ï¼Œpublicå…·æœ‰æœ€å¤§æƒé™ã€‚privateåˆ™æ˜¯æœ€å°æƒé™ã€‚</p><p>ç¼–å†™ä»£ç æ—¶ï¼Œå¦‚æœæ²¡æœ‰ç‰¹æ®Šçš„è€ƒè™‘ï¼Œå»ºè®®è¿™æ ·ä½¿ç”¨æƒé™ï¼š</p><ul><li>æˆå‘˜å˜é‡ä½¿ç”¨<code>private</code> ï¼Œéšè—ç»†èŠ‚ã€‚</li><li>æ„é€ æ–¹æ³•ä½¿ç”¨<code>public</code> ï¼Œæ–¹ä¾¿åˆ›å»ºå¯¹è±¡ã€‚</li><li>æˆå‘˜æ–¹æ³•ä½¿ç”¨<code>public</code> ï¼Œæ–¹ä¾¿è°ƒç”¨æ–¹æ³•ã€‚</li></ul><h1 id="ç¬¬å››ç« -finalå…³é”®å­—">ç¬¬å››ç«  finalå…³é”®å­—</h1><h2 id="æ¦‚è¿°">4.1 æ¦‚è¿°</h2><pre><code class="hljs">å­¦ä¹ äº†ç»§æ‰¿åï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œå­ç±»å¯ä»¥åœ¨çˆ¶ç±»çš„åŸºç¡€ä¸Šæ”¹å†™çˆ¶ç±»å†…å®¹ï¼Œæ¯”å¦‚ï¼Œæ–¹æ³•é‡å†™ã€‚</code></pre><p>å¦‚æœæœ‰ä¸€ä¸ªæ–¹æ³•æˆ‘ä¸æƒ³åˆ«äººå»æ”¹å†™é‡Œé¢å†…å®¹ï¼Œè¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>Javaæä¾›äº†<code>final</code> å…³é”®å­—ï¼Œè¡¨ç¤ºä¿®é¥°çš„å†…å®¹ä¸å¯å˜ã€‚</p><ul><li><strong>final</strong>ï¼š ä¸å¯æ”¹å˜ï¼Œæœ€ç»ˆçš„å«ä¹‰ã€‚å¯ä»¥ç”¨äºä¿®é¥°ç±»ã€æ–¹æ³•å’Œå˜é‡ã€‚<ul><li>ç±»ï¼šè¢«ä¿®é¥°çš„ç±»ï¼Œä¸èƒ½è¢«ç»§æ‰¿ã€‚</li><li>æ–¹æ³•ï¼šè¢«ä¿®é¥°çš„æ–¹æ³•ï¼Œä¸èƒ½è¢«é‡å†™ã€‚</li><li>å˜é‡ï¼šè¢«ä¿®é¥°çš„å˜é‡ï¼Œæœ‰ä¸”ä»…èƒ½è¢«èµ‹å€¼ä¸€æ¬¡ã€‚</li></ul></li></ul><h2 id="ä½¿ç”¨æ–¹å¼">4.2 ä½¿ç”¨æ–¹å¼</h2><h3 id="ä¿®é¥°ç±»">4.2.1 ä¿®é¥°ç±»</h3><p>finalä¿®é¥°çš„ç±»ï¼Œä¸èƒ½è¢«ç»§æ‰¿ã€‚</p><p>æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">final</span> class ç±»å &#123;<br>&#125;<br></code></pre></td></tr></table></figure><p>ä»£ç :</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">final</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Fu</span> &#123;<br>&#125;<br><span class="hljs-comment">// class Zi extends Fu &#123;&#125; // æŠ¥é”™,ä¸èƒ½ç»§æ‰¿finalçš„ç±»</span><br></code></pre></td></tr></table></figure><h3 id="ä¿®é¥°æ–¹æ³•">4.2.2 ä¿®é¥°æ–¹æ³•</h3><p>finalä¿®é¥°çš„æ–¹æ³•ï¼Œä¸èƒ½è¢«é‡å†™ã€‚ æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">ä¿®é¥°ç¬¦ <span class="hljs-keyword">final</span> è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å‚æ•°åˆ—è¡¨)&#123;<br>    <span class="hljs-comment">//æ–¹æ³•ä½“</span><br>&#125;<br></code></pre></td></tr></table></figure><p>ä»£ç :</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Fu</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show1</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;Fu show1&quot;</span>);<br>&#125;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show2</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;Fu show2&quot;</span>);<br>&#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Zi</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Fu</span> &#123;<br><span class="hljs-comment">//@Override</span><br><span class="hljs-comment">//public void show1() &#123;</span><br><span class="hljs-comment">//System.out.println(&quot;Zi show1&quot;);</span><br><span class="hljs-comment">//&#125;</span><br><span class="hljs-meta">@Override</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show2</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;Zi show2&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ä¿®é¥°å˜é‡">4.2.3 ä¿®é¥°å˜é‡</h3><p>å®é™…å¼€å‘ä¸­ï¼Œå¸¸é‡ä¸€èˆ¬ä½œä¸ºç³»ç»Ÿçš„é…ç½®ä¿¡æ¯ï¼Œæ–¹ä¾¿ç»´æŠ¤ï¼Œæé«˜å¯è¯»æ€§ã€‚</p><p>å¸¸é‡çš„å‘½åè§„èŒƒï¼š - å•ä¸ªå•è¯ï¼šå…¨éƒ¨å¤§å†™ - å¤šä¸ªå•è¯ï¼šå…¨éƒ¨å¤§å†™ï¼Œå•è¯ä¹‹é—´ç”¨ä¸‹åˆ’çº¿éš”å¼€</p><h4 id="å±€éƒ¨å˜é‡">4.2.3.1 å±€éƒ¨å˜é‡</h4><ol type="1"><li><p><strong>å±€éƒ¨å˜é‡â€”â€”åŸºæœ¬ç±»å‹</strong></p><p>åŸºæœ¬ç±»å‹çš„å±€éƒ¨å˜é‡ï¼Œè¢«finalä¿®é¥°åï¼Œåªèƒ½èµ‹å€¼ä¸€æ¬¡ï¼Œå˜é‡å­˜å‚¨çš„==æ•°æ®å€¼==ä¸èƒ½å†æ›´æ”¹ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FinalTest1</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// å£°æ˜å˜é‡ï¼Œä½¿ç”¨finalä¿®é¥°</span><br>        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> A;<br>        <span class="hljs-comment">// ç¬¬ä¸€æ¬¡èµ‹å€¼ </span><br>        A = <span class="hljs-number">10</span>;<br>        <span class="hljs-comment">// ç¬¬äºŒæ¬¡èµ‹å€¼</span><br>        A = <span class="hljs-number">20</span>; <span class="hljs-comment">// æŠ¥é”™,ä¸å¯é‡æ–°èµ‹å€¼</span><br><br>        <span class="hljs-comment">// å£°æ˜å˜é‡ï¼Œç›´æ¥èµ‹å€¼ï¼Œä½¿ç”¨finalä¿®é¥°</span><br>        <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">B</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>        <span class="hljs-comment">// ç¬¬äºŒæ¬¡èµ‹å€¼</span><br>        B = <span class="hljs-number">20</span>; <span class="hljs-comment">// æŠ¥é”™,ä¸å¯é‡æ–°èµ‹å€¼</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨æ„ä¸‹é¢ä¸¤ç§å†™æ³•ï¼Œå“ªç§å¯ä»¥é€šè¿‡ç¼–è¯‘ï¼Ÿ</p><p>å†™æ³•1ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">C</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>    C = i;<br>    System.out.println(C);<br>&#125;<br></code></pre></td></tr></table></figure><p>å†™æ³•2ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) &#123;<br>    <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">C</span> <span class="hljs-operator">=</span> i;<br>    System.out.println(C);<br>&#125;<br></code></pre></td></tr></table></figure><p>æ ¹æ® <code>final</code> çš„å®šä¹‰ï¼Œå†™æ³•1æŠ¥é”™ï¼å†™æ³•2é€šè¿‡ç¼–è¯‘å‘¢ã€‚å› ä¸ºæ¯æ¬¡å¾ªç¯ï¼Œéƒ½æ˜¯ä¸€æ¬¡æ–°çš„å˜é‡cã€‚</p><ol start="2" type="1"><li><p><strong>å±€éƒ¨å˜é‡â€”â€”å¼•ç”¨ç±»å‹</strong></p><p>å˜é‡å­˜å‚¨çš„==åœ°å€å€¼==ä¸èƒ½å†æ›´æ”¹ï¼Œå¯¹è±¡å†…éƒ¨çš„å±æ€§å€¼å¯ä»¥æ”¹å˜ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">FinalTest2</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-comment">//åˆ›å»ºå¯¹è±¡ </span><br><span class="hljs-keyword">final</span> Student s <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(name:<span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>,age:<span class="hljs-number">23</span>);<br><span class="hljs-comment">//S = new Student(); // æŠ¥é”™ï¼Œåœ°å€å€¼ä¸èƒ½å†æ›´æ”¹</span><br>S.setName(<span class="hljs-string">&quot;æå››&quot;</span>); <br>S.setAge(<span class="hljs-number">24</span>); <br>System.out.println(S.getName()+<span class="hljs-string">&quot;,&quot;</span>+S.getAge());<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="æˆå‘˜å˜é‡">4.2.3.2 æˆå‘˜å˜é‡</h4><p>æˆå‘˜å˜é‡æ¶‰åŠåˆ°åˆå§‹åŒ–çš„é—®é¢˜ï¼Œåˆå§‹åŒ–æ–¹å¼æœ‰æ˜¾ç¤ºåˆå§‹åŒ–å’Œæ„é€ æ–¹æ³•åˆå§‹åŒ–ï¼Œåªèƒ½é€‰æ‹©å…¶ä¸­ä¸€ä¸ªï¼š</p><ul><li>æ˜¾ç¤ºåˆå§‹åŒ–(åœ¨å®šä¹‰æˆå‘˜å˜é‡çš„æ—¶å€™ç«‹é©¬èµ‹å€¼)ï¼ˆå¸¸ç”¨ï¼‰ï¼›</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li><p>æ„é€ æ–¹æ³•åˆå§‹åŒ–(åœ¨æ„é€ æ–¹æ³•ä¸­èµ‹å€¼ä¸€æ¬¡)ï¼ˆä¸å¸¸ç”¨ï¼‰ã€‚</p><p><strong>æ³¨æ„ï¼šæ¯ä¸ªæ„é€ æ–¹æ³•ä¸­éƒ½è¦èµ‹å€¼ä¸€æ¬¡ï¼</strong></p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>    <span class="hljs-keyword">final</span> <span class="hljs-type">int</span> num2;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-built_in">this</span>.num2 = <span class="hljs-number">20</span>;<br><span class="hljs-comment">//     this.num2 = 20;</span><br>    &#125;<br>    <br>     <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.num2 = <span class="hljs-number">20</span>;<br><span class="hljs-comment">//     this.num2 = 20;</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ç¬¬äº”ç« -ä»£ç å—">ç¬¬äº”ç«  ä»£ç å—</h1><h2 id="ä»£ç å—çš„åˆ†ç±»">5.1 ä»£ç å—çš„åˆ†ç±»</h2><p>å±€éƒ¨ä»£ç å—ï¼Œæ„é€ ä»£ç å—ï¼Œé™æ€ä»£ç å—</p><h2 id="å±€éƒ¨ä»£ç å—">5.2 å±€éƒ¨ä»£ç å—</h2><p>å±€éƒ¨ä»£ç å—çš„ä½œç”¨ æå‰ç»“æŸå˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼ˆå·²æ·˜æ±°ï¼‰</p><h2 id="æ„é€ ä»£ç å—">5.3 æ„é€ ä»£ç å—</h2><p>æ„é€ ä»£ç å—çš„ä½œç”¨ æŠ½å–æ„é€ æ–¹æ³•ä¸­çš„é‡å¤ä»£ç ï¼ˆä¸å¤Ÿçµæ´»ï¼‰</p><h2 id="é™æ€ä»£ç å—">5.4 é™æ€ä»£ç å—</h2><p>éšç€ç±»çš„åŠ è½½è€ŒåŠ è½½çš„ï¼Œå¹¶ä¸”åªæ‰§è¡Œä¸€æ¬¡ã€‚</p><p><strong>æ ¼å¼</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">static</span>&#123;<br> è¯­å¥<br>&#125;<br><br></code></pre></td></tr></table></figure><p><strong>åº”ç”¨åœºæ™¯</strong></p><p>åœ¨ç¨‹åºåˆšå¼€å§‹æ—¶è¿›è¡Œæ•°æ®åˆå§‹åŒ–</p>]]></content>
    
    
    <categories>
      
      <category>JavaåŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java11-é¢å‘å¯¹è±¡è¿›é˜¶-static-ç»§æ‰¿</title>
    <link href="/2023/06/29/Java11-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6-static-%E7%BB%A7%E6%89%BF/"/>
    <url>/2023/06/29/Java11-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%BF%9B%E9%98%B6-static-%E7%BB%A7%E6%89%BF/</url>
    
    <content type="html"><![CDATA[<h1 id="ç¬¬ä¸€ç« -å¤ä¹ å›é¡¾">ç¬¬ä¸€ç«  å¤ä¹ å›é¡¾</h1><h2 id="å¦‚ä½•å®šä¹‰ç±»">1.1 å¦‚ä½•å®šä¹‰ç±»</h2><p>ç±»çš„å®šä¹‰æ ¼å¼å¦‚ä¸‹:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">ä¿®é¥°ç¬¦ class ç±»å &#123;<br>    <span class="hljs-comment">// 1.æˆå‘˜å˜é‡ï¼ˆå±æ€§ï¼‰</span><br>    <span class="hljs-comment">// 2.æˆå‘˜æ–¹æ³• (è¡Œä¸º) </span><br>    <span class="hljs-comment">// 3.æ„é€ æ–¹æ³• ï¼ˆåˆå§‹åŒ–ç±»çš„å¯¹è±¡æ•°æ®çš„ï¼‰</span><br>&#125;<br></code></pre></td></tr></table></figure><p>ä¾‹å¦‚:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-comment">// 1.æˆå‘˜å˜é‡</span><br>    <span class="hljs-keyword">public</span> String name ;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">char</span> sex ; <span class="hljs-comment">// &#x27;ç”·&#x27;  &#x27;å¥³&#x27;</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> age;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å¦‚ä½•é€šè¿‡ç±»åˆ›å»ºå¯¹è±¡">1.2 å¦‚ä½•é€šè¿‡ç±»åˆ›å»ºå¯¹è±¡</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">ç±»å å¯¹è±¡åç§° = <span class="hljs-keyword">new</span> ç±»å();<br></code></pre></td></tr></table></figure><p>ä¾‹å¦‚:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Student</span> <span class="hljs-variable">stu</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();<br></code></pre></td></tr></table></figure><h2 id="å°è£…">1.3 å°è£…</h2><h4 id="å°è£…çš„æ­¥éª¤">1.3.1 å°è£…çš„æ­¥éª¤</h4><p>1.ä½¿ç”¨ <code>private</code> å…³é”®å­—æ¥ä¿®é¥°æˆå‘˜å˜é‡ã€‚</p><p>2.ä½¿ç”¨<code>public</code>ä¿®é¥°getterå’Œsetteræ–¹æ³•ã€‚</p><h2 id="æ„é€ æ–¹æ³•">1.4 æ„é€ æ–¹æ³•</h2><h3 id="æ„é€ æ–¹æ³•çš„ä½œç”¨">1.4.1 æ„é€ æ–¹æ³•çš„ä½œç”¨</h3><p>åœ¨åˆ›å»ºå¯¹è±¡çš„æ—¶å€™ï¼Œç»™æˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–ã€‚</p><p>åˆå§‹åŒ–å³èµ‹å€¼çš„æ„æ€ã€‚</p><h3 id="æ„é€ æ–¹æ³•çš„æ ¼å¼">1.4.2 æ„é€ æ–¹æ³•çš„æ ¼å¼</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">ä¿®é¥°ç¬¦ ç±»å(å½¢å‚åˆ—è¡¨) &#123;<br>    <span class="hljs-comment">// æ„é€ ä½“ä»£ç ï¼Œæ‰§è¡Œä»£ç </span><br>&#125;<br></code></pre></td></tr></table></figure><h2 id="thiså…³é”®å­—çš„ä½œç”¨">1.5 thiså…³é”®å­—çš„ä½œç”¨</h2><h3 id="thiså…³é”®å­—çš„ä½œç”¨-1">1.5.1 thiså…³é”®å­—çš„ä½œç”¨</h3><p>thisä»£è¡¨æ‰€åœ¨ç±»çš„å½“å‰å¯¹è±¡çš„å¼•ç”¨ï¼ˆåœ°å€å€¼ï¼‰ï¼Œå³ä»£è¡¨å½“å‰å¯¹è±¡ã€‚</p><h3 id="thiså…³é”®å­—çš„åº”ç”¨">1.5.2 thiså…³é”®å­—çš„åº”ç”¨</h3><h4 id="ç”¨äºæ™®é€šçš„gettterä¸setteræ–¹æ³•">1.5.2.1 ç”¨äºæ™®é€šçš„gettterä¸setteræ–¹æ³•</h4><p>thiså‡ºç°åœ¨å®ä¾‹æ–¹æ³•ä¸­ï¼Œè°è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼ˆå“ªä¸ªå¯¹è±¡è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼‰ï¼Œthiså°±ä»£è¡¨è°ï¼ˆthiså°±ä»£è¡¨å“ªä¸ªå¯¹è±¡ï¼‰ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>      <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>      <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-keyword">if</span> (age &gt; <span class="hljs-number">0</span> &amp;&amp; age &lt; <span class="hljs-number">200</span>) &#123;<br>            <span class="hljs-built_in">this</span>.age = age;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            System.out.println(<span class="hljs-string">&quot;å¹´é¾„éæ³•ï¼&quot;</span>);<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> &#123;<br>      <span class="hljs-keyword">return</span> age;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="ç”¨äºæ„é€ æ–¹æ³•ä¸­">1.5.2.2 ç”¨äºæ„é€ æ–¹æ³•ä¸­</h4><p>thiså‡ºç°åœ¨æ„é€ æ–¹æ³•ä¸­ï¼Œä»£è¡¨æ„é€ æ–¹æ³•æ­£åœ¨åˆå§‹åŒ–çš„é‚£ä¸ªå¯¹è±¡ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br>    <br>    <span class="hljs-comment">// æ— å‚æ•°æ„é€ æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> &#123;&#125; <br>    <br>    <span class="hljs-comment">// æœ‰å‚æ•°æ„é€ æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name,<span class="hljs-type">int</span> age)</span> &#123;<br>    <span class="hljs-built_in">this</span>.name = name;<br>    <span class="hljs-built_in">this</span>.age = age; <br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="ç¬¬äºŒç« -staticå…³é”®å­—">ç¬¬äºŒç«  staticå…³é”®å­—</h1><h2 id="æ¦‚è¿°">2.1 æ¦‚è¿°</h2><p>ä»¥å‰æˆ‘ä»¬å®šä¹‰è¿‡å¦‚ä¸‹ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-comment">// æˆå‘˜å˜é‡</span><br>    <span class="hljs-keyword">public</span> String name;<br>    <span class="hljs-keyword">public</span> <span class="hljs-type">char</span> sex; <span class="hljs-comment">// &#x27;ç”·&#x27;  &#x27;å¥³&#x27;</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-comment">// æ— å‚æ•°æ„é€ æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> &#123;<br><br>    &#125;<br>    <br>    <span class="hljs-comment">// æœ‰å‚æ•°æ„é€ æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String  a)</span> &#123;<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æˆ‘ä»¬å·²ç»çŸ¥é“é¢å‘å¯¹è±¡ä¸­ï¼Œå­˜åœ¨ç±»å’Œå¯¹è±¡çš„æ¦‚å¿µï¼Œæˆ‘ä»¬åœ¨ç±»ä¸­å®šä¹‰äº†ä¸€äº›æˆå‘˜å˜é‡ï¼Œä¾‹å¦‚name,age,sex ,ç»“æœå‘ç°è¿™äº›æˆå‘˜å˜é‡ï¼Œæ¯ä¸ªå¯¹è±¡éƒ½å­˜åœ¨ï¼ˆå› ä¸ºæ¯ä¸ªå¯¹è±¡éƒ½å¯ä»¥è®¿é—®ï¼‰ã€‚</p><p>è€Œåƒname ,age , sexç¡®å®æ˜¯æ¯ä¸ªå­¦ç”Ÿå¯¹è±¡éƒ½åº”è¯¥æœ‰çš„å±æ€§ï¼Œåº”è¯¥å±äºæ¯ä¸ªå¯¹è±¡ã€‚</p><p>æ‰€ä»¥Javaä¸­æˆå‘˜ï¼ˆå˜é‡å’Œæ–¹æ³•ï¼‰ç­‰æ˜¯å­˜åœ¨æ‰€å±æ€§çš„ï¼ŒJavaæ˜¯é€šè¿‡staticå…³é”®å­—æ¥åŒºåˆ†çš„ã€‚staticå…³é”®å­—åœ¨Javaå¼€å‘éå¸¸çš„é‡è¦ï¼Œå¯¹äºç†è§£é¢å‘å¯¹è±¡éå¸¸å…³é”®ã€‚</p><p>å…³äº <code>static</code> å…³é”®å­—çš„ä½¿ç”¨ï¼Œå®ƒå¯ä»¥ç”¨æ¥ä¿®é¥°çš„æˆå‘˜å˜é‡å’Œæˆå‘˜æ–¹æ³•ï¼Œè¢«staticä¿®é¥°çš„æˆå‘˜æ˜¯<strong>å±äºç±»</strong>çš„æ˜¯æ”¾åœ¨é™æ€åŒºä¸­ï¼Œæ²¡æœ‰staticä¿®é¥°çš„æˆå‘˜å˜é‡å’Œæ–¹æ³•åˆ™æ˜¯<strong>å±äºå¯¹è±¡</strong>çš„ã€‚æˆ‘ä»¬ä¸Šé¢æ¡ˆä¾‹ä¸­çš„æˆå‘˜å˜é‡éƒ½æ˜¯æ²¡æœ‰staticä¿®é¥°çš„ï¼Œæ‰€ä»¥å±äºæ¯ä¸ªå¯¹è±¡ã€‚</p><h2 id="å®šä¹‰æ ¼å¼å’Œä½¿ç”¨">2.2 å®šä¹‰æ ¼å¼å’Œä½¿ç”¨</h2><p>staticæ˜¯é™æ€çš„æ„æ€ã€‚ staticå¯ä»¥ä¿®é¥°æˆå‘˜å˜é‡æˆ–è€…ä¿®é¥°æ–¹æ³•ã€‚</p><h3 id="é™æ€å˜é‡åŠå…¶è®¿é—®">2.2.1 é™æ€å˜é‡åŠå…¶è®¿é—®</h3><p>è¢«staticä¿®é¥°çš„æˆå‘˜å˜é‡ï¼Œå«åšé™æ€å˜é‡ï¼ˆä¹Ÿç§°ä¸ºç±»å˜é‡ï¼‰ã€‚</p><p><strong>ç‰¹ç‚¹ï¼š</strong> - è¢«æ‰€æœ‰çš„å¯¹è±¡å…±äº« - ä¸å±äºå¯¹è±¡å±äºç±» - éšç€ç±»çš„åŠ è½½è€ŒåŠ è½½çš„ï¼Œä¼˜å…ˆäºå¯¹è±¡å‡ºç°çš„</p><p><strong>å®šä¹‰æ ¼å¼</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">ä¿®é¥°ç¬¦ <span class="hljs-keyword">static</span> æ•°æ®ç±»å‹ å˜é‡å = åˆå§‹å€¼ï¼›    <br></code></pre></td></tr></table></figure><p><strong>ä¸¾ä¾‹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">String</span> <span class="hljs-variable">schoolName</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Aå¤§å­¦&quot;</span>ï¼› <span class="hljs-comment">// å±äºç±»ï¼Œåªæœ‰ä¸€ä»½ã€‚</span><br>    <span class="hljs-comment">// .....</span><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>é™æ€å˜é‡çš„è®¿é—®:</strong> <strong>è°ƒç”¨æ–¹å¼ï¼š</strong> - ç±»åè°ƒç”¨ - å¯¹è±¡åè°ƒç”¨</p><p><strong>æ ¼å¼ï¼šç±»å.é™æ€å˜é‡</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span>  <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>    System.out.println(Student.schoolName); <span class="hljs-comment">// Aå¤§å­¦</span><br>    Student.schoolName = <span class="hljs-string">&quot;Bå¤§å­¦&quot;</span>;<br>    System.out.println(Student.schoolName); <span class="hljs-comment">// Bå¤§å­¦</span><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>staticå†…å­˜ï¼š</strong> å› ä¸ºç±»åªæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥é™æ€æˆå‘˜å˜é‡åœ¨å†…å­˜åŒºåŸŸä¸­ä¹Ÿåªå­˜åœ¨ä¸€ä»½ã€‚</p><h3 id="å®ä¾‹å˜é‡åŠå…¶è®¿é—®">2.2.2 å®ä¾‹å˜é‡åŠå…¶è®¿é—®</h3><p>æ— staticä¿®é¥°çš„æˆå‘˜å˜é‡å±äºæ¯ä¸ªå¯¹è±¡çš„ï¼Œ è¿™ä¸ªæˆå‘˜å˜é‡å«<strong>å®ä¾‹å˜é‡</strong>ï¼Œä¹‹å‰æˆ‘ä»¬å†™æˆå‘˜å˜é‡å°±æ˜¯å®ä¾‹æˆå‘˜å˜é‡ã€‚</p><p><strong>éœ€è¦æ³¨æ„çš„æ˜¯</strong>ï¼šå®ä¾‹æˆå‘˜å˜é‡å±äºæ¯ä¸ªå¯¹è±¡ï¼Œå¿…é¡»åˆ›å»ºç±»çš„å¯¹è±¡æ‰å¯ä»¥è®¿é—®ã€‚</p><p><strong>æ ¼å¼ï¼šå¯¹è±¡.å®ä¾‹æˆå‘˜å˜é‡</strong></p><h3 id="é™æ€æ–¹æ³•åŠå…¶è®¿é—®">2.2.3 é™æ€æ–¹æ³•åŠå…¶è®¿é—®</h3><p>æœ‰staticä¿®é¥°æˆå‘˜æ–¹æ³•ï¼Œè¯´æ˜è¿™ä¸ªæˆå‘˜æ–¹æ³•æ˜¯å±äºç±»çš„ï¼Œè¿™ä¸ªæˆå‘˜æ–¹æ³•ç§°ä¸º<strong>ç±»æ–¹æ³•æˆ–è€…</strong>é™æ€æ–¹æ³•**ã€‚ ç›´æ¥ç”¨ ç±»åè®¿é—®å³å¯ã€‚å› ä¸ºç±»åªæœ‰ä¸€ä¸ªï¼Œæ‰€ä»¥é™æ€æ–¹æ³•åœ¨å†…å­˜åŒºåŸŸä¸­ä¹Ÿåªå­˜åœ¨ä¸€ä»½ã€‚æ‰€æœ‰çš„å¯¹è±¡éƒ½å¯ä»¥å…±äº«è¿™ä¸ªæ–¹æ³•ã€‚</p><p>ä¸é™æ€æˆå‘˜å˜é‡ä¸€æ ·ï¼Œé™æ€æ–¹æ³•ä¹Ÿæ˜¯ç›´æ¥é€šè¿‡<strong>ç±»å.æ–¹æ³•åç§°</strong>å³å¯è®¿é—®ã€‚</p><p><strong>ä¸¾ä¾‹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">String</span> <span class="hljs-variable">schoolName</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;Aå¤§å­¦&quot;</span>ï¼› <span class="hljs-comment">// å±äºç±»ï¼Œåªæœ‰ä¸€ä»½ã€‚</span><br>    <span class="hljs-comment">// .....</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">study</span><span class="hljs-params">()</span>&#123;<br>    System.out.println(<span class="hljs-string">&quot;æˆ‘ä»¬éƒ½å­¦ä¹ &quot;</span>);   <br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>ç‰¹ç‚¹</strong> - å¤šç”¨åœ¨æµ‹è¯•ç±»å’Œå·¥å…·ç±»ä¸­ - Javabeanç±»ä¸­å¾ˆå°‘ä¼šç”¨</p><p><strong>é™æ€æˆå‘˜å˜é‡çš„è®¿é—®:</strong> - ç±»åè°ƒç”¨ - å¯¹è±¡åè°ƒç”¨</p><p><strong>æ ¼å¼ï¼šç±»å.é™æ€æ–¹æ³•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span>  <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>    Student.study();<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å®ä¾‹æ–¹æ³•åŠå…¶è®¿é—®">2.2.4 å®ä¾‹æ–¹æ³•åŠå…¶è®¿é—®</h3><p>æ— staticä¿®é¥°çš„æˆå‘˜æ–¹æ³•å±äºæ¯ä¸ªå¯¹è±¡çš„ï¼Œè¿™ä¸ªæˆå‘˜æ–¹æ³•ä¹Ÿå«åš<strong>å®ä¾‹æ–¹æ³•</strong>ã€‚</p><p><strong>éœ€è¦æ³¨æ„çš„æ˜¯</strong>ï¼šå®ä¾‹æ–¹æ³•æ˜¯å±äºæ¯ä¸ªå¯¹è±¡ï¼Œå¿…é¡»åˆ›å»ºç±»çš„å¯¹è±¡æ‰å¯ä»¥è®¿é—®ã€‚</p><p><strong>æ ¼å¼ï¼šå¯¹è±¡.å®ä¾‹æ–¹æ³•</strong></p><p><strong>ç¤ºä¾‹</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-comment">// å®ä¾‹å˜é‡</span><br>    <span class="hljs-keyword">private</span> String name ;<br>    <span class="hljs-comment">// 2.æ–¹æ³•ï¼šè¡Œä¸º</span><br>    <span class="hljs-comment">// æ—  staticä¿®é¥°ï¼Œå®ä¾‹æ–¹æ³•ã€‚å±äºæ¯ä¸ªå¯¹è±¡ï¼Œå¿…é¡»åˆ›å»ºå¯¹è±¡è°ƒç”¨</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;å­¦ç”Ÿå¯ä»¥è·‘æ­¥&quot;</span>);<br>    &#125;<br><span class="hljs-comment">// æ—  staticä¿®é¥°ï¼Œå®ä¾‹æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span>  <span class="hljs-keyword">void</span> <span class="hljs-title function_">sleep</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;å­¦ç”Ÿç¡è§‰&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">study</span><span class="hljs-params">()</span>&#123;<br>        <br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>    <span class="hljs-comment">// åˆ›å»ºå¯¹è±¡ </span><br>    <span class="hljs-type">Student</span> <span class="hljs-variable">stu</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span> ;<br>    stu.name = <span class="hljs-string">&quot;å¾å¹²&quot;</span>;<br>    <span class="hljs-comment">// Student.sleep();// æŠ¥é”™ï¼Œå¿…é¡»ç”¨å¯¹è±¡è®¿é—®ã€‚</span><br>    stu.sleep();<br>    stu.run();<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å°ç»“">2.3 å°ç»“</h2><p>1.å½“ <code>static</code> ä¿®é¥°æˆå‘˜å˜é‡æˆ–è€…æˆå‘˜æ–¹æ³•æ—¶ï¼Œè¯¥å˜é‡ç§°ä¸º<strong>é™æ€å˜é‡</strong>ï¼Œè¯¥æ–¹æ³•ç§°ä¸º<strong>é™æ€æ–¹æ³•</strong>ã€‚è¯¥ç±»çš„æ¯ä¸ªå¯¹è±¡éƒ½<strong>å…±äº«</strong>åŒä¸€ä¸ªç±»çš„é™æ€å˜é‡å’Œé™æ€æ–¹æ³•ã€‚ä»»ä½•å¯¹è±¡éƒ½å¯ä»¥æ›´æ”¹è¯¥é™æ€å˜é‡çš„å€¼æˆ–è€…è®¿é—®é™æ€æ–¹æ³•ã€‚ä½†æ˜¯ä¸æ¨èè¿™ç§æ–¹å¼å»è®¿é—®ã€‚å› ä¸ºé™æ€å˜é‡æˆ–è€…é™æ€æ–¹æ³•ç›´æ¥é€šè¿‡ç±»åè®¿é—®å³å¯ï¼Œå®Œå…¨æ²¡æœ‰å¿…è¦ç”¨å¯¹è±¡å»è®¿é—®ã€‚</p><p>2.æ— staticä¿®é¥°çš„æˆå‘˜å˜é‡æˆ–è€…æˆå‘˜æ–¹æ³•ï¼Œç§°ä¸º<strong>å®ä¾‹å˜é‡ï¼Œå®ä¾‹æ–¹æ³•</strong>ï¼Œå®ä¾‹å˜é‡å’Œå®ä¾‹æ–¹æ³•å¿…é¡»åˆ›å»ºç±»çš„å¯¹è±¡ï¼Œç„¶åé€šè¿‡å¯¹è±¡æ¥è®¿é—®ã€‚</p><p>3.staticä¿®é¥°çš„æˆå‘˜å±äºç±»ï¼Œä¼šå­˜å‚¨åœ¨é™æ€åŒºï¼Œæ˜¯éšç€ç±»çš„åŠ è½½è€ŒåŠ è½½çš„ï¼Œä¸”åªåŠ è½½ä¸€æ¬¡ï¼Œæ‰€ä»¥åªæœ‰ä¸€ä»½ï¼ŒèŠ‚çœå†…å­˜ã€‚å­˜å‚¨äºä¸€å—å›ºå®šçš„å†…å­˜åŒºåŸŸï¼ˆé™æ€åŒºï¼‰ï¼Œæ‰€ä»¥ï¼Œå¯ä»¥ç›´æ¥è¢«ç±»åè°ƒç”¨ã€‚å®ƒä¼˜å…ˆäºå¯¹è±¡å­˜åœ¨ï¼Œæ‰€ä»¥ï¼Œå¯ä»¥è¢«æ‰€æœ‰å¯¹è±¡å…±äº«ã€‚</p><p>4.æ— staticä¿®é¥°çš„æˆå‘˜ï¼Œæ˜¯å±äºå¯¹è±¡ï¼Œå¯¹è±¡æœ‰å¤šå°‘ä¸ªï¼Œä»–ä»¬å°±ä¼šå‡ºç°å¤šå°‘ä»½ã€‚æ‰€ä»¥å¿…é¡»ç”±å¯¹è±¡è°ƒç”¨ã€‚</p><ul><li>é™æ€æ–¹æ³•ä¸­æ²¡æœ‰thiså…³é”®å­—</li><li>==é™æ€æ–¹æ³•ä¸­åªèƒ½è°ƒç”¨é™æ€==ã€‚</li><li>éé™æ€æ–¹æ³•å¯ä»¥è®¿é—®æ‰€æœ‰ã€‚</li><li>é™æ€å±äºç±»ï¼ˆå…±äº«ï¼‰ï¼Œéé™æ€å±äºå…·ä½“å¯¹è±¡ï¼ˆç§æœ‰ï¼‰ # ç¬¬ä¸‰ç«  ç»§æ‰¿</li></ul><h2 id="æ¦‚è¿°-1">3.1 æ¦‚è¿°</h2><h3 id="å¼•å…¥">3.1.1 å¼•å…¥</h3><p>å‡å¦‚æˆ‘ä»¬è¦å®šä¹‰å¦‚ä¸‹ç±»: å­¦ç”Ÿç±»å’Œè€å¸ˆç±»ï¼Œå¦‚ä¸‹ã€‚</p><p><img src="/img/11-Javaé¢å‘å¯¹è±¡è¿›é˜¶-static-ç»§æ‰¿/216f22f2cf044d18b22fb6ad98bbd930.png" /></p><p>å‡å¦‚å¤šä¸ªç±»ä¸­å­˜åœ¨ç›¸åŒå±æ€§å’Œè¡Œä¸ºæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å°†è¿™äº›å†…å®¹æŠ½å–åˆ°å•ç‹¬ä¸€ä¸ªç±»ä¸­ï¼Œé‚£ä¹ˆå¤šä¸ªç±»æ— éœ€å†å®šä¹‰è¿™äº›å±æ€§å’Œè¡Œä¸ºï¼Œåªè¦<strong>ç»§æ‰¿</strong>é‚£ä¸€ä¸ªç±»å³å¯ã€‚å¦‚å›¾æ‰€ç¤ºï¼š</p><p><img src="/img/11-Javaé¢å‘å¯¹è±¡è¿›é˜¶-static-ç»§æ‰¿/7cbf1824bb8a4c638cdf79d539357928.png" /> <img src="/img/11-Javaé¢å‘å¯¹è±¡è¿›é˜¶-static-ç»§æ‰¿/07480fc3765e4a5880abfebd7f00cb5f.png" /></p><p>å…¶ä¸­ï¼Œå¤šä¸ªç±»å¯ä»¥ç§°ä¸º<strong>å­ç±»</strong>ï¼Œå•ç‹¬è¢«ç»§æ‰¿çš„é‚£ä¸€ä¸ªç±»ç§°ä¸º<strong>çˆ¶ç±»</strong>ã€<strong>è¶…ç±»ï¼ˆsuperclass)</strong> æˆ–è€…<strong>åŸºç±»</strong>ã€‚</p><p>å­ç±»å¯ä»¥ç›´æ¥ç”¨çˆ¶ç±»ä¸­çš„ä¸œè¥¿ï¼Œç»§æ‰¿å°±æ˜¯ç±»ä¸ç±»ä¹‹é—´çš„çˆ¶å­å…³ç³»ã€‚</p><h3 id="ç»§æ‰¿çš„å«ä¹‰">3.1.2 ç»§æ‰¿çš„å«ä¹‰</h3><p><strong>ç»§æ‰¿</strong>ï¼šå°±æ˜¯å­ç±»ç»§æ‰¿çˆ¶ç±»çš„<strong>å±æ€§</strong>å’Œ<strong>è¡Œä¸º</strong>ï¼Œä½¿å¾—å­ç±»å¯¹è±¡å¯ä»¥ç›´æ¥å…·æœ‰ä¸çˆ¶ç±»ç›¸åŒçš„å±æ€§ã€ç›¸åŒçš„è¡Œä¸ºã€‚å­ç±»å¯ä»¥ç›´æ¥è®¿é—®çˆ¶ç±»ä¸­çš„<strong>éç§æœ‰</strong>çš„å±æ€§å’Œè¡Œä¸ºã€‚</p><h3 id="ç»§æ‰¿çš„å¥½å¤„">3.1.3 ç»§æ‰¿çš„å¥½å¤„</h3><ol type="1"><li>æé«˜<strong>ä»£ç çš„å¤ç”¨æ€§</strong>ï¼ˆå‡å°‘ä»£ç å†—ä½™ï¼Œç›¸åŒä»£ç é‡å¤åˆ©ç”¨ï¼‰ã€‚</li><li>ä½¿ç±»ä¸ç±»ä¹‹é—´äº§ç”Ÿäº†å…³ç³»ã€‚</li><li>å­ç±»å¯ä»¥åœ¨çˆ¶ç±»çš„åŸºç¡€ä¸Šï¼Œå¢åŠ å…¶ä»–çš„åŠŸèƒ½ï¼Œä½¿å­ç±»æ›´å¼ºå¤§ã€‚</li></ol><h3 id="ä»€ä¹ˆæ—¶å€™ç”¨ç»§æ‰¿">3.1.3 ä»€ä¹ˆæ—¶å€™ç”¨ç»§æ‰¿</h3><p>å½“ç±»ä¸ç±»ä¹‹é—´ï¼Œå­˜åœ¨<strong>ç›¸åŒ</strong>ï¼ˆå…±æ€§ï¼‰çš„å†…å®¹ï¼Œå¹¶æ»¡è¶³å­ç±»æ˜¯çˆ¶ç±»ä¸­çš„<strong>ä¸€ç§</strong>ï¼Œå°±å¯ä»¥è€ƒè™‘ä½¿ç”¨ç»§æ‰¿ï¼Œæ¥ä¼˜åŒ–ä»£ç </p><h2 id="ç»§æ‰¿çš„æ ¼å¼">3.2 ç»§æ‰¿çš„æ ¼å¼</h2><p>é€šè¿‡ <code>extends</code> å…³é”®å­—ï¼Œå¯ä»¥å£°æ˜ä¸€ä¸ªå­ç±»ç»§æ‰¿å¦å¤–ä¸€ä¸ªçˆ¶ç±»ï¼Œå®šä¹‰æ ¼å¼å¦‚ä¸‹ï¼š <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java">class çˆ¶ç±» &#123;<br>...<br>&#125;<br><br>class å­ç±» extends çˆ¶ç±» &#123;<br>...<br>&#125;<br></code></pre></td></tr></table></figure></p><p><strong>ç»§æ‰¿çš„ç‰¹ç‚¹:</strong> Javaåªæ”¯æŒ<strong>å•ç»§æ‰¿</strong>ï¼Œä¸æ”¯æŒ<strong>å¤šç»§æ‰¿</strong>ï¼Œä½†æ”¯æŒ<strong>å¤šå±‚ç»§æ‰¿</strong>ã€‚ å•ç»§æ‰¿: ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»ï¼Œä½†æ˜¯Javaä¸­çš„å­ç±»æ˜¯æ›´åŠ å¼ºå¤§çš„ã€‚ ä¸æ”¯æŒå¤šç»§æ‰¿: å­ç±»ä¸èƒ½åŒæ—¶ç»§æ‰¿å¤šä¸ªçˆ¶ç±» å¤šå±‚ç»§æ‰¿ï¼šå­ç±»Aç»§æ‰¿çˆ¶ç±»B,çˆ¶ç±»Bå¯ä»¥ç»§æ‰¿çˆ¶ç±»Cã€‚ æ¯ä¸€ä¸ªç±»éƒ½ç›´æ¥æˆ–è€…é—´æ¥çš„ç»§æ‰¿äºObject</p><p><img src="/img/11-Javaé¢å‘å¯¹è±¡è¿›é˜¶-static-ç»§æ‰¿/dd9132251212437c87da4f196f38718e.png" /></p><h2 id="ç»§æ‰¿æ¡ˆä¾‹">3.3 ç»§æ‰¿æ¡ˆä¾‹</h2><h3 id="æ¡ˆä¾‹">3.3.1 æ¡ˆä¾‹</h3><p>ç°åœ¨æœ‰å››ç§åŠ¨ç‰©ï¼šå¸ƒå¶çŒ«ã€ä¸­å›½ç‹¸èŠ±çŒ«ã€å“ˆå£«å¥‡ã€æ³°è¿ªã€‚ æš‚æ—¶ä¸è€ƒè™‘å±æ€§ï¼Œåªè¦è€ƒè™‘è¡Œä¸ºã€‚ è¯·æŒ‰ç…§ç»§æ‰¿çš„æ€æƒ³ç‰¹ç‚¹è¿›è¡Œç»§æ‰¿ä½“ç³»çš„è®¾è®¡ã€‚</p><p>å››ç§åŠ¨ç‰©åˆ†åˆ«æœ‰ä»¥ä¸‹çš„è¡Œä¸ºï¼š å¸ƒå¶çŒ«ï¼šåƒé¥­ã€å–æ°´ã€æŠ“è€é¼  ä¸­å›½ç‹¸èŠ±çŒ«ï¼šåƒé¥­ã€å–æ°´ã€æŠ“è€é¼  ã€‚ å“ˆå£«å¥‡ï¼šåƒé¥­ã€å–æ°´ã€çœ‹å®¶ã€æ‹†å®¶ æ³°è¿ªï¼šåƒé¥­ã€å–æ°´ã€çœ‹å®¶ã€è¹­ä¸€è¹­</p><h3 id="æ¡ˆä¾‹å›¾è§£åˆ†æ">3.3.2 æ¡ˆä¾‹å›¾è§£åˆ†æ</h3><p><img src="/img/11-Javaé¢å‘å¯¹è±¡è¿›é˜¶-static-ç»§æ‰¿/d4c5fcac3a3047278bb9d34d88fa35fd.png" /></p><h3 id="æ¡ˆä¾‹ä»£ç å®ç°">3.3.3 æ¡ˆä¾‹ä»£ç å®ç°</h3><p><strong>1.çˆ¶ç±»Animalç±»</strong></p><p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span> &#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;åƒé¥­&quot;</span>);  <br>    &#125;  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">drink</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;å–æ°´&quot;</span>);  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure></p><p><strong>2.å­ç±»Catç±»</strong></p><p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span>&#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">catchMouse</span><span class="hljs-params">()</span>&#123;  <br>        System.out.println(<span class="hljs-string">&quot;æŠ“è€é¼ &quot;</span>);  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure></p><p><strong>3.å­ç±»Dogç±»</strong></p><p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Dog</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span>&#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">watchHome</span><span class="hljs-params">()</span>&#123;  <br>        System.out.println(<span class="hljs-string">&quot;çœ‹å®¶&quot;</span>);  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure></p><p><strong>4.å­ç±»å¸ƒå¶çŒ«ç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Ragdoll</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Cat</span>&#123;  <br>      <br>&#125;<br></code></pre></td></tr></table></figure><p><strong>5.ç‹¸èŠ±çŒ«ç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">LiHua</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Cat</span>&#123;  <br>      <br>&#125;<br></code></pre></td></tr></table></figure><p><strong>6.å“ˆå£«å¥‡ç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Husky</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Dog</span>&#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">breakHome</span><span class="hljs-params">()</span>&#123;  <br>        System.out.println(<span class="hljs-string">&quot;æ‹†å®¶&quot;</span>);  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure><p><strong>7.æ³°è¿ªç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Teddy</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Dog</span>&#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">touch</span><span class="hljs-params">()</span>&#123;  <br>        System.out.println(<span class="hljs-string">&quot;è¹­ä¸€è¹­&quot;</span>);  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure><p><strong>8.æµ‹è¯•ç±»</strong> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;  <br>        <span class="hljs-type">Ragdoll</span> <span class="hljs-variable">rd</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Ragdoll</span>();  <br>        rd.eat();  <br>        rd.drink();  <br>        rd.catchMouse();  <br>  <br>        <span class="hljs-type">Husky</span> <span class="hljs-variable">husky</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Husky</span>();  <br>        husky.eat();  <br>        husky.drink();  <br>        husky.watchHome();  <br>        husky.breakHome();  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure></p><h3 id="å°ç»“-1">3.3.4 å°ç»“</h3><p>ç»§æ‰¿å®é™…ä¸Šæ˜¯å­ç±»ç›¸åŒçš„å±æ€§å’Œè¡Œä¸ºå¯ä»¥å®šä¹‰åœ¨çˆ¶ç±»ä¸­ï¼Œå­ç±»ç‰¹æœ‰çš„å±æ€§å’Œè¡Œä¸ºç”±è‡ªå·±å®šä¹‰ï¼Œè¿™æ ·å°±å®ç°äº†ç›¸åŒå±æ€§å’Œè¡Œä¸ºçš„é‡å¤åˆ©ç”¨ï¼Œä»è€Œæé«˜äº†ä»£ç å¤ç”¨ã€‚</p><h2 id="å­ç±»ä¸èƒ½ç»§æ‰¿çš„å†…å®¹">3.4 å­ç±»ä¸èƒ½ç»§æ‰¿çš„å†…å®¹</h2><h3 id="ç»“è®º">3.4.1 ç»“è®º</h3><p><img src="/img/11-Javaé¢å‘å¯¹è±¡è¿›é˜¶-static-ç»§æ‰¿/622d554279034a4f8990c2e2c3f7302b.png" /></p><p><strong>å­ç±»ä¸èƒ½ç»§æ‰¿çˆ¶ç±»çš„æ„é€ æ–¹æ³•ã€‚</strong> <strong>å€¼å¾—æ³¨æ„çš„æ˜¯å­ç±»å¯ä»¥ç»§æ‰¿çˆ¶ç±»çš„ç§æœ‰æˆå‘˜ï¼ˆæˆå‘˜å˜é‡ï¼Œæ–¹æ³•)ï¼Œåªæ˜¯å­ç±»æ— æ³•ç›´æ¥è®¿é—®è€Œå·²ï¼Œå¯ä»¥é€šè¿‡getter/setteræ–¹æ³•è®¿é—®çˆ¶ç±»çš„privateæˆå‘˜å˜é‡ã€‚</strong></p><h2 id="ç»§æ‰¿åçš„ç‰¹ç‚¹æˆå‘˜å˜é‡">3.5 ç»§æ‰¿åçš„ç‰¹ç‚¹â€”æˆå‘˜å˜é‡</h2><h3 id="æˆå‘˜å˜é‡ä¸é‡å">3.5.1 æˆå‘˜å˜é‡ä¸é‡å</h3><p>å¦‚æœå­ç±»çˆ¶ç±»ä¸­å‡ºç°<strong>ä¸é‡å</strong>çš„æˆå‘˜å˜é‡ï¼Œè¿™æ—¶çš„è®¿é—®æ˜¯<strong>æ²¡æœ‰å½±å“çš„</strong>ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Fu</span> &#123;<br><span class="hljs-comment">// Fuä¸­çš„æˆå‘˜å˜é‡</span><br><span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;<br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Zi</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Fu</span> &#123;<br><span class="hljs-comment">// Ziä¸­çš„æˆå‘˜å˜é‡</span><br><span class="hljs-type">int</span> <span class="hljs-variable">num2</span> <span class="hljs-operator">=</span> <span class="hljs-number">6</span>;<br>  <br><span class="hljs-comment">// Ziä¸­çš„æˆå‘˜æ–¹æ³•</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-comment">// è®¿é—®çˆ¶ç±»ä¸­çš„num</span><br>System.out.println(<span class="hljs-string">&quot;Fu num=&quot;</span>+num); <span class="hljs-comment">// ç»§æ‰¿è€Œæ¥ï¼Œæ‰€ä»¥ç›´æ¥è®¿é—®ã€‚</span><br><span class="hljs-comment">// è®¿é—®å­ç±»ä¸­çš„num2</span><br>System.out.println(<span class="hljs-string">&quot;Zi num2=&quot;</span>+num2);<br>&#125;<br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// åˆ›å»ºå­ç±»å¯¹è±¡</span><br><span class="hljs-type">Zi</span> <span class="hljs-variable">z</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Zi</span>(); <br>      <span class="hljs-comment">// è°ƒç”¨å­ç±»ä¸­çš„showæ–¹æ³•</span><br>z.show();  <br>&#125;<br>&#125;<br><br>ç»“æœï¼š<br><span class="hljs-type">Fu</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span><br><span class="hljs-type">Zi</span> <span class="hljs-variable">num2</span> <span class="hljs-operator">=</span> <span class="hljs-number">6</span><br></code></pre></td></tr></table></figure><h3 id="æˆå‘˜å˜é‡é‡å">3.5.2 æˆå‘˜å˜é‡é‡å</h3><p>å¦‚æœå­ç±»çˆ¶ç±»ä¸­å‡ºç°<strong>é‡å</strong>çš„æˆå‘˜å˜é‡ï¼Œè¿™æ—¶çš„è®¿é—®æ˜¯<strong>æœ‰å½±å“çš„</strong>ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Fu1</span> &#123;<br><span class="hljs-comment">// Fuä¸­çš„æˆå‘˜å˜é‡ã€‚</span><br><span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;<br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Zi1</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Fu1</span> &#123;<br><span class="hljs-comment">// Ziä¸­çš„æˆå‘˜å˜é‡</span><br><span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">6</span>;<br>  <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">7</span>;<br><br>System.out.println(<span class="hljs-string">&quot;num=&quot;</span> + num);<br>&#125;<br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>      <span class="hljs-comment">// åˆ›å»ºå­ç±»å¯¹è±¡</span><br><span class="hljs-type">Zi1</span> <span class="hljs-variable">z</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Zi1</span>(); <br>      <span class="hljs-comment">// è°ƒç”¨å­ç±»ä¸­çš„showæ–¹æ³•</span><br>z1.show(); <br>&#125;<br>&#125;<br>æ¼”ç¤ºç»“æœï¼š<br>num = <span class="hljs-number">7</span><br></code></pre></td></tr></table></figure><p><strong>å°±è¿‘åŸåˆ™</strong>ï¼Œå…ˆåœ¨å±€éƒ¨å˜é‡ä¸­å¯»æ‰¾ï¼ˆint num = 7ï¼‰ï¼Œæ²¡æœ‰å»æœ¬ç±»ä¸­å¯»æ‰¾ï¼ˆint num = 6ï¼‰ï¼Œæœ€åå»çˆ¶ç±»ä¸­å¯»æ‰¾ï¼ˆint num = 5ï¼‰ï¼Œé€çº§å¾€ä¸Šã€‚</p><p>å¦‚æœæ­¤æ—¶æƒ³è®¿é—®çˆ¶ç±»æˆå‘˜å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨superå…³é”®å­—ã€‚</p><h3 id="superè®¿é—®çˆ¶ç±»æˆå‘˜å˜é‡">3.5.3 superè®¿é—®çˆ¶ç±»æˆå‘˜å˜é‡</h3><p>å­çˆ¶ç±»ä¸­å‡ºç°äº†åŒåçš„æˆå‘˜å˜é‡æ—¶ï¼Œåœ¨å­ç±»ä¸­éœ€è¦è®¿é—®çˆ¶ç±»ä¸­éç§æœ‰æˆå‘˜å˜é‡æ—¶ï¼Œéœ€è¦ä½¿ç”¨<code>super</code> å…³é”®å­—ï¼Œä¿®é¥°çˆ¶ç±»æˆå‘˜å˜é‡ï¼Œç±»ä¼¼äº <code>this</code> å…³é”®å­—ã€‚</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š<strong>superä»£è¡¨çš„æ˜¯çˆ¶ç±»å¯¹è±¡çš„å¼•ç”¨ï¼Œthisä»£è¡¨çš„æ˜¯å½“å‰å¯¹è±¡çš„å¼•ç”¨(å½“å‰ç±»ä¸­çš„æˆå‘˜å˜é‡ï¼Œä¸åœ¨æ–¹æ³•é‡Œ éå±€éƒ¨)ã€‚</strong></p><p><img src="/img/11-Javaé¢å‘å¯¹è±¡è¿›é˜¶-static-ç»§æ‰¿/b4c9ec19b8794608aac6f0b16fc22baa.png" /></p><p><strong>ä½¿ç”¨æ ¼å¼ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-built_in">super</span>.çˆ¶ç±»æˆå‘˜å˜é‡å<br></code></pre></td></tr></table></figure><p>å­ç±»æ–¹æ³•éœ€è¦ä¿®æ”¹ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Fu</span> &#123;<br><span class="hljs-comment">// Fuä¸­çš„æˆå‘˜å˜é‡ã€‚</span><br><span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">5</span>;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Zi</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Fu</span> &#123;<br><span class="hljs-comment">// Ziä¸­çš„æˆå‘˜å˜é‡</span><br><span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">6</span>;<br>  <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br>      <br>        <span class="hljs-comment">// è®¿é—®æ–¹æ³•ä¸­çš„num</span><br>        System.out.println(<span class="hljs-string">&quot;method num=&quot;</span> + num);<br>        <span class="hljs-comment">// è®¿é—®å­ç±»ä¸­çš„num</span><br>        System.out.println(<span class="hljs-string">&quot;Zi num=&quot;</span> + <span class="hljs-built_in">this</span>.num);<br>        <span class="hljs-comment">// è®¿é—®çˆ¶ç±»ä¸­çš„num</span><br>        System.out.println(<span class="hljs-string">&quot;Fu num=&quot;</span> + <span class="hljs-built_in">super</span>.num);<br>&#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>      <span class="hljs-comment">// åˆ›å»ºå­ç±»å¯¹è±¡</span><br><span class="hljs-type">Zi1</span> <span class="hljs-variable">z</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Zi1</span>(); <br>      <span class="hljs-comment">// è°ƒç”¨å­ç±»ä¸­çš„showæ–¹æ³•</span><br>z1.show(); <br>&#125;<br>&#125;<br><br>æ¼”ç¤ºç»“æœï¼š<br>method num=<span class="hljs-number">1</span><br>Zi num=<span class="hljs-number">6</span><br>Fu num=<span class="hljs-number">5</span><br></code></pre></td></tr></table></figure><blockquote><p>å°è´´å£«ï¼šFu ç±»ä¸­çš„æˆå‘˜å˜é‡æ˜¯éç§æœ‰çš„ï¼Œå­ç±»ä¸­å¯ä»¥ç›´æ¥è®¿é—®ã€‚è‹¥Fu ç±»ä¸­çš„æˆå‘˜å˜é‡ç§æœ‰äº†ï¼Œå­ç±»æ˜¯ä¸èƒ½ç›´æ¥è®¿é—®çš„ã€‚é€šå¸¸ç¼–ç æ—¶ï¼Œæˆ‘ä»¬éµå¾ªå°è£…çš„åŸåˆ™ï¼Œä½¿ç”¨privateä¿®é¥°æˆå‘˜å˜é‡ï¼Œé‚£ä¹ˆå¦‚ä½•è®¿é—®çˆ¶ç±»çš„ç§æœ‰æˆå‘˜å˜é‡å‘¢ï¼Ÿå¯ä»¥åœ¨çˆ¶ç±»ä¸­æä¾›å…¬å…±çš„getXxxæ–¹æ³•å’ŒsetXxxæ–¹æ³•ã€‚</p></blockquote><h2 id="ç»§æ‰¿åçš„ç‰¹ç‚¹æˆå‘˜æ–¹æ³•">3.6 ç»§æ‰¿åçš„ç‰¹ç‚¹â€”æˆå‘˜æ–¹æ³•</h2><p>å½“ç±»ä¹‹é—´äº§ç”Ÿäº†å…³ç³»ï¼Œå…¶ä¸­å„ç±»ä¸­çš„æˆå‘˜æ–¹æ³•ï¼Œåˆäº§ç”Ÿäº†å“ªäº›å½±å“å‘¢ï¼Ÿ</p><h3 id="æˆå‘˜æ–¹æ³•ä¸é‡å">3.6.1 æˆå‘˜æ–¹æ³•ä¸é‡å</h3><p>å¦‚æœå­ç±»çˆ¶ç±»ä¸­å‡ºç°<strong>ä¸é‡å</strong>çš„æˆå‘˜æ–¹æ³•ï¼Œè¿™æ—¶çš„è°ƒç”¨æ˜¯<strong>æ²¡æœ‰å½±å“çš„</strong>ï¼Œ<strong>å°±è¿‘åŸåˆ™</strong>ã€‚å¯¹è±¡è°ƒç”¨æ–¹æ³•æ—¶ï¼Œä¼šå…ˆåœ¨å­ç±»ä¸­æŸ¥æ‰¾æœ‰æ²¡æœ‰å¯¹åº”çš„æ–¹æ³•ï¼Œè‹¥å­ç±»ä¸­å­˜åœ¨å°±ä¼šæ‰§è¡Œå­ç±»ä¸­çš„æ–¹æ³•ï¼Œè‹¥å­ç±»ä¸­ä¸å­˜åœ¨å°±ä¼šæ‰§è¡Œçˆ¶ç±»ä¸­ç›¸åº”çš„æ–¹æ³•ã€‚ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Fu</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;Fuç±»ä¸­çš„showæ–¹æ³•æ‰§è¡Œ&quot;</span>);<br>&#125;<br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Zi</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Fu</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show2</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;Ziç±»ä¸­çš„show2æ–¹æ³•æ‰§è¡Œ&quot;</span>);<br>&#125;<br>&#125;<br><br><span class="hljs-keyword">public</span>  <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-type">Zi</span> <span class="hljs-variable">z</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Zi</span>();<br>     <span class="hljs-comment">//å­ç±»ä¸­æ²¡æœ‰showæ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥æ‰¾åˆ°çˆ¶ç±»æ–¹æ³•å»æ‰§è¡Œ</span><br>z.show(); <br>z.show2();<br>&#125;<br>&#125;<br><br><br>ç»“æœï¼š<br>Fuç±»ä¸­çš„showæ–¹æ³•æ‰§è¡Œ<br>Ziç±»ä¸­çš„show2æ–¹æ³•æ‰§è¡Œ<br></code></pre></td></tr></table></figure><h3 id="æˆå‘˜æ–¹æ³•é‡å">3.6.2 æˆå‘˜æ–¹æ³•é‡å</h3><p>å¦‚æœå­ç±»çˆ¶ç±»ä¸­å‡ºç°<strong>é‡å</strong>çš„æˆå‘˜æ–¹æ³•ï¼Œåˆ™åˆ›å»ºå­ç±»å¯¹è±¡è°ƒç”¨è¯¥æ–¹æ³•çš„æ—¶å€™ï¼Œå­ç±»å¯¹è±¡ä¼šä¼˜å…ˆè°ƒç”¨è‡ªå·±çš„æ–¹æ³•ã€‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Fu</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;Fu show&quot;</span>);<br>&#125;<br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Zi</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Fu</span> &#123;<br><span class="hljs-comment">//å­ç±»é‡å†™äº†çˆ¶ç±»çš„showæ–¹æ³•</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;Zi show&quot;</span>);<br>&#125;<br>&#125;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ExtendsDemo05</span>&#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-type">Zi</span> <span class="hljs-variable">z</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Zi</span>();<br>     <span class="hljs-comment">// å­ç±»ä¸­æœ‰showæ–¹æ³•ï¼Œåªæ‰§è¡Œé‡å†™åçš„showæ–¹æ³•</span><br>z.show();  <span class="hljs-comment">// Zi show</span><br><br>&#125;<br>&#125;<br><br>ç»“æœï¼š<br>Zi show<br></code></pre></td></tr></table></figure><h2 id="æ–¹æ³•é‡å†™">3.7 æ–¹æ³•é‡å†™</h2><h3 id="æ¦‚å¿µ">3.7.1 æ¦‚å¿µ</h3><p><strong>æ–¹æ³•é‡å†™</strong> ï¼šå­ç±»ä¸­å‡ºç°ä¸çˆ¶ç±»ä¸€æ¨¡ä¸€æ ·çš„æ–¹æ³•æ—¶ï¼ˆè¿”å›å€¼ç±»å‹ï¼Œæ–¹æ³•åå’Œå‚æ•°åˆ—è¡¨éƒ½ç›¸åŒï¼‰ï¼Œä¼šå‡ºç°è¦†ç›–æ•ˆæœï¼Œä¹Ÿç§°ä¸ºé‡å†™æˆ–è€…å¤å†™ã€‚<strong>å»ºç«‹åœ¨å­çˆ¶ç±»å…³ç³»ä¸Šï¼ŒåŒä¸ªæ–¹æ³•ååŒä½†æ˜¯å†…å®¹ä¸åŒå°±æ˜¯é‡å†™</strong>ã€‚</p><h3 id="ä½¿ç”¨åœºæ™¯ä¸æ¡ˆä¾‹">3.7.2 ä½¿ç”¨åœºæ™¯ä¸æ¡ˆä¾‹</h3><p>å½“çˆ¶ç±»çš„æ–¹æ³•ä¸èƒ½æ»¡è¶³å­ç±»ç°åœ¨çš„éœ€æ±‚ï¼Œéœ€è¦è¿›è¡Œæ–¹æ³•é‡å†™</p><p>å­ç±»ç»§æ‰¿äº†çˆ¶ç±»çš„æ–¹æ³•ï¼Œä½†æ˜¯å­ç±»è§‰å¾—çˆ¶ç±»çš„è¿™æ–¹æ³•ä¸è¶³ä»¥æ»¡è¶³è‡ªå·±çš„éœ€æ±‚ï¼Œå­ç±»é‡æ–°å†™äº†ä¸€ä¸ªä¸çˆ¶ç±»åŒåçš„æ–¹æ³•ï¼Œä»¥ä¾¿è¦†ç›–çˆ¶ç±»çš„è¯¥æ–¹æ³•ï¼ˆè¦†ç›–è™šæ–¹æ³•è¡¨ä¸­çš„æ–¹æ³•ï¼‰ã€‚</p><p>ä¾‹å¦‚ï¼šæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ªåŠ¨ç‰©ç±»ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Animal</span>  &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">run</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;åŠ¨ç‰©è·‘çš„å¾ˆå¿«ï¼&quot;</span>);<br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cry</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;åŠ¨ç‰©éƒ½å¯ä»¥å«~~~&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç„¶åå®šä¹‰ä¸€ä¸ªçŒ«ç±»ï¼ŒçŒ«å¯èƒ½è®¤ä¸ºçˆ¶ç±»cry()æ–¹æ³•ä¸èƒ½æ»¡è¶³è‡ªå·±çš„éœ€æ±‚</p><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cry</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;çŒ«å–µå–µå«&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>      <span class="hljs-comment">// åˆ›å»ºå­ç±»å¯¹è±¡</span><br>      <span class="hljs-type">Cat</span> <span class="hljs-variable">ddm</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cat</span>();<br>        <span class="hljs-comment">// è°ƒç”¨çˆ¶ç±»ç»§æ‰¿è€Œæ¥çš„æ–¹æ³•</span><br>        ddm.run();<br>      <span class="hljs-comment">// è°ƒç”¨å­ç±»é‡å†™çš„æ–¹æ³•</span><br>      ddm.cry();<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="overrideé‡å†™æ³¨è§£">3.7.2 <span class="citation" data-cites="Overrideé‡å†™æ³¨è§£">@Overrideé‡å†™æ³¨è§£</span></h3><ul><li><p><span class="citation" data-cites="Override:æ³¨è§£">@Override:æ³¨è§£</span>ï¼Œé‡å†™æ³¨è§£æ ¡éªŒï¼</p></li><li><p>è¿™ä¸ªæ³¨è§£æ ‡è®°çš„æ–¹æ³•ï¼Œå°±è¯´æ˜è¿™ä¸ªæ–¹æ³•å¿…é¡»æ˜¯é‡å†™çˆ¶ç±»çš„æ–¹æ³•ï¼Œå¦åˆ™ç¼–è¯‘é˜¶æ®µæŠ¥é”™ã€‚</p></li><li><p>å»ºè®®é‡å†™éƒ½åŠ ä¸Šè¿™ä¸ªæ³¨è§£ï¼Œä¸€æ–¹é¢å¯ä»¥æé«˜ä»£ç çš„å¯è¯»æ€§ï¼Œä¸€æ–¹é¢å¯ä»¥é˜²æ­¢é‡å†™å‡ºé”™ï¼</p><p>åŠ ä¸Šåçš„å­ç±»ä»£ç å½¢å¼å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Cat</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Animal</span> &#123;<br>     <span class="hljs-comment">// å£°æ˜ä¸å˜ï¼Œé‡æ–°å®ç°</span><br>    <span class="hljs-comment">// æ–¹æ³•åç§°ä¸çˆ¶ç±»å…¨éƒ¨ä¸€æ ·ï¼Œåªæ˜¯æ–¹æ³•ä½“ä¸­çš„åŠŸèƒ½é‡å†™å†™äº†ï¼</span><br>    <span class="hljs-meta">@Override</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">cry</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;çŒ«å’ªæ²¡æœ‰åœ¨å«&quot;</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h3 id="æ–¹æ³•é‡å†™çš„æœ¬è´¨">3.7.3 æ–¹æ³•é‡å†™çš„æœ¬è´¨</h3><p>å¦‚æœå‘ç”Ÿäº†é‡å†™ï¼Œåˆ™ä¼šè¦†ç›–ï¼Œè¦†ç›–è™šæ–¹æ³•è¡¨ä¸­çš„æ–¹æ³•ã€‚</p><p>Bç±»ç»§æ‰¿Cç±»æ–¹æ³•ï¼š <img src="/img/11-Javaé¢å‘å¯¹è±¡è¿›é˜¶-static-ç»§æ‰¿/64667a9e3a924fbeb9f11ef31bfc589c.png" /></p><p>Bç±»é‡å†™method2ï¼š <img src="/img/11-Javaé¢å‘å¯¹è±¡è¿›é˜¶-static-ç»§æ‰¿/0ba51ed75f0b4e90aedd47614d59a0f6.png" /></p><p>Aç±»å†æ¬¡é‡å†™method2ï¼š</p><p><img src="/img/11-Javaé¢å‘å¯¹è±¡è¿›é˜¶-static-ç»§æ‰¿/c69ef5a5ee5f413ea782ca8d307a410a.png" /></p><h3 id="æ³¨æ„äº‹é¡¹">3.7.4 æ³¨æ„äº‹é¡¹</h3><ol type="1"><li>æ–¹æ³•é‡å†™æ˜¯å‘ç”Ÿåœ¨å­çˆ¶ç±»ä¹‹é—´çš„å…³ç³»ã€‚</li><li>é‡å†™æ–¹æ³•çš„åç§°ã€å½¢å‚åˆ—è¡¨å¿…é¡»ä¸çˆ¶ç±»ä¸­çš„ä¸€è‡´ã€‚</li><li>å­ç±»æ–¹æ³•è¦†ç›–çˆ¶ç±»æ–¹æ³•ï¼Œå¿…é¡»è¦ä¿è¯æƒé™å¤§äºç­‰äºçˆ¶ç±»æƒé™ã€‚</li><li>å­ç±»é‡å†™çˆ¶ç±»æ–¹æ³•æ—¶ï¼Œè¿”å›å€¼ç±»å‹å­ç±»å¿…é¡»å°äºç­‰äºçˆ¶ç±»</li><li>åªæœ‰è¢«æ·»åŠ åˆ°è™šæ–¹æ³•è¡¨ä¸­çš„æ–¹æ³•æ‰èƒ½è¢«é‡å†™</li></ol><h2 id="ç»§æ‰¿åçš„ç‰¹ç‚¹æ„é€ æ–¹æ³•">3.8 ç»§æ‰¿åçš„ç‰¹ç‚¹â€”æ„é€ æ–¹æ³•</h2><h3 id="ç‰¹ç‚¹">3.8.1 ç‰¹ç‚¹</h3><ul><li>æ„é€ æ–¹æ³•çš„åå­—æ˜¯ä¸ç±»åä¸€è‡´çš„ã€‚æ‰€ä»¥å­ç±»æ— æ³•ç»§æ‰¿çˆ¶ç±»æ„é€ æ–¹æ³•çš„ã€‚</li><li>å­ç±»ä¸­æ‰€æœ‰çš„æ„é€ æ–¹æ³•é»˜è®¤å…ˆè®¿é—®çˆ¶ç±»ä¸­çš„æ— å‚æ„é€ ï¼Œå†æ‰§è¡Œè‡ªå·±ã€‚</li></ul><p><strong>ä¸ºä»€ä¹ˆï¼Ÿ</strong> - æ„é€ æ–¹æ³•çš„ä½œç”¨æ˜¯åˆå§‹åŒ–å¯¹è±¡æˆå‘˜å˜é‡æ•°æ®çš„ã€‚å­ç±»åœ¨åˆå§‹åŒ–çš„æ—¶å€™ï¼Œæœ‰å¯èƒ½ä¼šä½¿ç”¨åˆ°çˆ¶ç±»ä¸­çš„æ•°æ®ï¼Œå¦‚æœçˆ¶ç±»æ²¡æœ‰å®Œæˆåˆå§‹åŒ–ï¼Œå­ç±»å°†æ— æ³•ä½¿ç”¨çˆ¶ç±»çš„æ•°æ®ã€‚ - ==å­ç±»åˆå§‹åŒ–ä¹‹å‰ï¼Œä¸€å®šè¦è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•å…ˆå®Œæˆçˆ¶ç±»æ•°æ®ç©ºé—´çš„åˆå§‹åŒ–ã€‚==</p><p><strong>å¦‚ä½•è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•çš„ï¼Ÿ</strong> - å­ç±»æ„é€ æ–¹æ³•çš„ç¬¬ä¸€è¡Œè¯­å¥é»˜è®¤éƒ½æ˜¯<code>super();</code>==ä¸å†™ä¹Ÿå­˜åœ¨ï¼Œä¸”å¿…é¡»åœ¨ç¬¬ä¸€è¡Œ==ã€‚ - å¦‚æœæƒ³è°ƒç”¨çˆ¶ç±»æœ‰å‚æ„é€ ï¼Œå¿…é¡»æ‰‹åŠ¨å†™superè¿›è¡Œè°ƒç”¨</p><p><strong>ç»§æ‰¿åå­ç±»æ„æ–¹æ³•å™¨ç‰¹ç‚¹:å­ç±»æ‰€æœ‰æ„é€ æ–¹æ³•çš„ç¬¬ä¸€è¡Œéƒ½ä¼šé»˜è®¤å…ˆè°ƒç”¨çˆ¶ç±»çš„æ— å‚æ„é€ æ–¹æ³•</strong></p><h3 id="æ¡ˆä¾‹æ¼”ç¤º">3.8.2 æ¡ˆä¾‹æ¼”ç¤º</h3><p>æŒ‰å¦‚ä¸‹éœ€æ±‚å®šä¹‰ç±»:</p><ol type="1"><li>äººç±» æˆå‘˜å˜é‡: å§“å,å¹´é¾„</li><li>å­¦ç”Ÿç±» æˆå‘˜å˜é‡: å§“å,å¹´é¾„,æˆç»©</li></ol><p>ä»£ç å¦‚ä¸‹ï¼š <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;çˆ¶ç±»æ— å‚&quot;</span>);<br>    &#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;  <br>    <span class="hljs-built_in">this</span>.name = name;  <br>    <span class="hljs-built_in">this</span>.age = age;  <br>&#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Person</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> &#123;  <br>    <span class="hljs-comment">//super(); // è°ƒç”¨çˆ¶ç±»æ— å‚,é»˜è®¤å°±å­˜åœ¨ï¼Œå¯ä»¥ä¸å†™ï¼Œå¿…é¡»å†ç¬¬ä¸€è¡Œ  </span><br>    System.out.println(<span class="hljs-string">&quot;å­ç±»æ— å‚&quot;</span>);  <br>&#125;  <br><span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;  <br>    <span class="hljs-built_in">super</span>(name, age);  <span class="hljs-comment">// è°ƒç”¨çˆ¶ç±»æœ‰å‚æ„é€   </span><br>    System.out.println(<span class="hljs-string">&quot;çˆ¶ç±»æœ‰å‚&quot;</span>);  <br>&#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><span class="hljs-type">Student</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(); <span class="hljs-comment">//æ— å‚æ„é€ åˆ›å»ºå¯¹è±¡  </span><br>System.out.println(<span class="hljs-string">&quot;----------&quot;</span>);  <br>  <br><span class="hljs-type">Student</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;zhangsan&quot;</span>, <span class="hljs-number">23</span>);  <br>System.out.println(s2.name+<span class="hljs-string">&quot; &quot;</span>+ s2.age);<br>    &#125;<br>&#125;<br><br>è¾“å‡ºç»“æœï¼š<br>çˆ¶ç±»æ— å‚<br>å­ç±»æ— å‚<br>----------<br>çˆ¶ç±»æœ‰å‚<br>zhangsan <span class="hljs-number">23</span><br></code></pre></td></tr></table></figure></p><p><strong>çˆ¶ç±»æ— å‚ï¼š</strong></p><p><img src="/img/11-Javaé¢å‘å¯¹è±¡è¿›é˜¶-static-ç»§æ‰¿/adb03faf41054ee8af43e112dbcea5b2.png" /></p><p><strong>çˆ¶ç±»æœ‰å‚ï¼š</strong></p><p><img src="/img/11-Javaé¢å‘å¯¹è±¡è¿›é˜¶-static-ç»§æ‰¿/821a536041a14c65bba450515cd78e51.png" /></p><h3 id="å°ç»“-2">3.8.3 å°ç»“</h3><ul><li>å­ç±»ä¸èƒ½ç»§æ‰¿çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡superè°ƒç”¨</li><li>å­ç±»æ„é€ æ–¹æ³•çš„ç¬¬ä¸€è¡Œï¼Œæœ‰ä¸€ä¸ªé»˜è®¤çš„super(0:</li><li>é»˜è®¤å…ˆè®¿é—®çˆ¶ç±»ä¸­æ— å‚çš„æ„é€ æ–¹æ³•ï¼Œå†æ‰§è¡Œè‡ªå·±ã€‚</li><li>å¦‚æœæƒ³è¦æ–¹æ³•æ–‡çˆ¶ç±»æœ‰å‚æ„é€ ï¼Œå¿…é¡»æ‰‹åŠ¨ä¹¦å†™ã€‚</li></ul><h2 id="super...å’Œthis...æ€»ç»“">3.9 super(...)å’Œthis(...)æ€»ç»“</h2><h3 id="æ€»ç»“">3.9.1 æ€»ç»“</h3><p>this : ç†è§£ä¸ºä¸€ä¸ªå˜é‡ï¼Œè¡¨ç¤ºå½“å‰æ–¹æ³•è°ƒç”¨è€…çš„åœ°å€å€¼ï¼› super : ä»£è¡¨çˆ¶ç±»å­˜å‚¨ç©ºé—´</p><h3 id="superå’Œthisçš„ç”¨æ³•æ ¼å¼">3.9.2 superå’Œthisçš„ç”¨æ³•æ ¼å¼</h3><p>è®¿é—®æˆå‘˜å˜é‡æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-built_in">this</span>.æˆå‘˜å˜é‡    --    æœ¬ç±»çš„<br><span class="hljs-built_in">super</span>.æˆå‘˜å˜é‡    --    çˆ¶ç±»çš„<br><br></code></pre></td></tr></table></figure><p>è®¿é—®æˆå‘˜æ–¹æ³•æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-built_in">this</span>.æˆå‘˜æ–¹æ³•å()  --    æœ¬ç±»çš„    <br><span class="hljs-built_in">super</span>.æˆå‘˜æ–¹æ³•å()   --    çˆ¶ç±»çš„<br></code></pre></td></tr></table></figure><p>è®¿é—®æ„é€ æ–¹æ³•æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-built_in">super</span>(...) -- è°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ï¼Œæ ¹æ®å‚æ•°åŒ¹é…ç¡®è®¤<br><span class="hljs-built_in">this</span>(...) -- è°ƒç”¨æœ¬ç±»çš„å…¶ä»–æ„é€ æ–¹æ³•ï¼Œæ ¹æ®å‚æ•°åŒ¹é…ç¡®è®¤<br></code></pre></td></tr></table></figure><h3 id="super....ç”¨æ³•æ¼”ç¤º">3.9.3 super(....)ç”¨æ³•æ¼”ç¤º</h3><p>ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">String</span> <span class="hljs-variable">name</span> <span class="hljs-operator">=</span><span class="hljs-string">&quot;å‡¤å§&quot;</span>;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> <span class="hljs-variable">age</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;çˆ¶ç±»æ— å‚&quot;</span>);<br>    &#125;<br>    <br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Person</span><span class="hljs-params">(String name , <span class="hljs-type">int</span> age)</span>&#123;<br>        <span class="hljs-built_in">this</span>.name = name ;<br>        <span class="hljs-built_in">this</span>.age = age ;<br>    &#125;<br><br>    <span class="hljs-comment">// getter/setterçœç•¥</span><br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Person</span> &#123;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> <span class="hljs-variable">score</span> <span class="hljs-operator">=</span> <span class="hljs-number">100</span>;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">//super(); // è°ƒç”¨çˆ¶ç±»æ— å‚æ„é€ æ–¹æ³•,é»˜è®¤å°±å­˜åœ¨ï¼Œå¯ä»¥ä¸å†™ï¼Œå¿…é¡»å†ç¬¬ä¸€è¡Œ</span><br>        System.out.println(<span class="hljs-string">&quot;å­ç±»æ— å‚&quot;</span>);<br>    &#125;<br>    <br>     <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name ï¼Œ <span class="hljs-type">int</span> ageï¼Œ<span class="hljs-type">double</span> score)</span> &#123;<br>        <span class="hljs-built_in">super</span>(name ,age);<span class="hljs-comment">// è°ƒç”¨çˆ¶ç±»æœ‰å‚æ„é€ æ–¹æ³•Person(String name , int age)åˆå§‹åŒ–nameå’Œage</span><br>        <span class="hljs-built_in">this</span>.score = score;    <br>        System.out.println(<span class="hljs-string">&quot;å­ç±»æœ‰å‚&quot;</span>);<br>     &#125;<br>      <span class="hljs-comment">// getter/setterçœç•¥</span><br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo07</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">// è°ƒç”¨å­ç±»æœ‰å‚æ•°æ„é€ æ–¹æ³•</span><br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;å¼ ä¸‰&quot;</span>ï¼Œ<span class="hljs-number">20</span>ï¼Œ<span class="hljs-number">99</span>);<br>        System.out.println(s2.getScore()); <span class="hljs-comment">// 99</span><br>        System.out.println(s2.getName()); <span class="hljs-comment">// è¾“å‡º å¼ ä¸‰</span><br>        System.out.println(s2.getAge()); <span class="hljs-comment">// è¾“å‡º 20</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼š</strong></p><p><strong>å­ç±»çš„æ¯ä¸ªæ„é€ æ–¹æ³•ä¸­å‡æœ‰é»˜è®¤çš„super()ï¼Œè°ƒç”¨çˆ¶ç±»çš„ç©ºå‚æ„é€ ã€‚æ‰‹åŠ¨è°ƒç”¨çˆ¶ç±»æ„é€ ä¼šè¦†ç›–é»˜è®¤çš„super()ã€‚</strong></p><p><strong>super() å’Œ this() éƒ½å¿…é¡»æ˜¯åœ¨æ„é€ æ–¹æ³•çš„ç¬¬ä¸€è¡Œï¼Œæ‰€ä»¥ä¸èƒ½åŒæ—¶å‡ºç°ã€‚</strong></p><p>super(..)æ˜¯æ ¹æ®å‚æ•°å»ç¡®å®šè°ƒç”¨çˆ¶ç±»å“ªä¸ªæ„é€ æ–¹æ³•çš„ã€‚</p><h3 id="super...æ¡ˆä¾‹å›¾è§£">3.9.4 super(...)æ¡ˆä¾‹å›¾è§£</h3><p><strong>çˆ¶ç±»ç©ºé—´ä¼˜å…ˆäºå­ç±»å¯¹è±¡äº§ç”Ÿ</strong></p><p>åœ¨æ¯æ¬¡åˆ›å»ºå­ç±»å¯¹è±¡æ—¶ï¼Œå…ˆåˆå§‹åŒ–çˆ¶ç±»ç©ºé—´ï¼Œå†åˆ›å»ºå…¶å­ç±»å¯¹è±¡æœ¬èº«ã€‚ç›®çš„åœ¨äºå­ç±»å¯¹è±¡ä¸­åŒ…å«äº†å…¶å¯¹åº”çš„çˆ¶ç±»ç©ºé—´ï¼Œä¾¿å¯ä»¥åŒ…å«å…¶çˆ¶ç±»çš„æˆå‘˜ï¼Œå¦‚æœçˆ¶ç±»æˆå‘˜éprivateä¿®é¥°ï¼Œåˆ™å­ç±»å¯ä»¥éšæ„ä½¿ç”¨çˆ¶ç±»æˆå‘˜ã€‚ä»£ç ä½“ç°åœ¨å­ç±»çš„æ„é€ ä¸ƒè°ƒç”¨æ—¶ï¼Œä¸€å®šå…ˆè°ƒç”¨çˆ¶ç±»çš„æ„é€ æ–¹æ³•ã€‚ç†è§£å›¾è§£å¦‚ä¸‹ï¼š</p><p>[å¤–é“¾å›¾ç‰‡è½¬å­˜å¤±è´¥,æºç«™å¯èƒ½æœ‰é˜²ç›—é“¾æœºåˆ¶,å»ºè®®å°†å›¾ç‰‡ä¿å­˜ä¸‹æ¥ç›´æ¥ä¸Šä¼ (img-fN0EXS8c-1682256310760)(./é™„ä»¶/13.jpg)]</p><h3 id="this...ç”¨æ³•æ¼”ç¤º">3.9.5 this(...)ç”¨æ³•æ¼”ç¤º</h3><p>this(...) * é»˜è®¤æ˜¯å»æ‰¾æœ¬ç±»ä¸­çš„å…¶ä»–æ„é€ æ–¹æ³•ï¼Œæ ¹æ®å‚æ•°æ¥ç¡®å®šå…·ä½“è°ƒç”¨å“ªä¸€ä¸ªæ„é€ æ–¹æ³•ã€‚ * ä¸ºäº†å€Ÿç”¨å…¶ä»–æ„é€ æ–¹æ³•çš„åŠŸèƒ½ã€‚ * ä¸€èˆ¬ç»™ä¸€äº›æ•°æ®èµ‹é»˜è®¤å€¼æ—¶ä¼šç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span>&#123;<br>    <span class="hljs-keyword">private</span> String name ;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age ;<br>    <span class="hljs-keyword">private</span> String school ;<br><br><span class="hljs-comment">//éœ€æ±‚ï¼šå­¦æ ¡é»˜è®¤ä¸ºxxxå¤§å­¦</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-comment">//è°ƒç”¨æœ¬ç±»å…¶ä»–æ„é€ æ–¹æ³•</span><br><span class="hljs-comment">//è™šæ‹Ÿæœºä¸ä¼šåœ¨æ·»åŠ superï¼ˆï¼‰</span><br>        <span class="hljs-built_in">this</span>(<span class="hljs-literal">null</span>,<span class="hljs-number">0</span>,<span class="hljs-string">&#x27;xxxå¤§å­¦&#x27;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age, <span class="hljs-type">char</span> sex)</span> &#123;<br>    <span class="hljs-comment">//ä¸ä¼šåœ¨æ·»åŠ super();</span><br>        <span class="hljs-built_in">this</span>.name = name ;<br>        <span class="hljs-built_in">this</span>.age = age;<br>        <span class="hljs-built_in">this</span>.school = school;<br>    &#125;<br>  <br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨æ„ï¼š - thisï¼ˆï¼‰å¿…é¡»å†™åœ¨ç¬¬ä¸€è¡Œ - è™šæ‹Ÿæœºä¸ä¼šåœ¨æ·»åŠ superï¼ˆï¼‰</p><h3 id="å°ç»“-3">3.9.6 å°ç»“</h3><ul><li><p><strong>å­ç±»çš„æ¯ä¸ªæ„é€ æ–¹æ³•ä¸­å‡æœ‰é»˜è®¤çš„super()ï¼Œè°ƒç”¨çˆ¶ç±»çš„ç©ºå‚æ„é€ ã€‚æ‰‹åŠ¨è°ƒç”¨çˆ¶ç±»æ„é€ ä¼šè¦†ç›–é»˜è®¤çš„super()ã€‚</strong></p></li><li><p><strong>super() å’Œ this() éƒ½å¿…é¡»æ˜¯åœ¨æ„é€ æ–¹æ³•çš„ç¬¬ä¸€è¡Œï¼Œæ‰€ä»¥ä¸èƒ½åŒæ—¶å‡ºç°ã€‚</strong></p></li><li><p><strong>super(..)å’Œthis(...)æ˜¯æ ¹æ®å‚æ•°å»ç¡®å®šè°ƒç”¨çˆ¶ç±»å“ªä¸ªæ„é€ æ–¹æ³•çš„ã€‚</strong></p></li><li><p>super(..)å¯ä»¥è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•åˆå§‹åŒ–ç»§æ‰¿è‡ªçˆ¶ç±»çš„æˆå‘˜å˜é‡çš„æ•°æ®ã€‚</p></li><li><p>this(..)å¯ä»¥è°ƒç”¨æœ¬ç±»ä¸­çš„å…¶ä»–æ„é€ æ–¹æ³•ã€‚</p></li></ul><h2 id="ç»ƒä¹ ">4. ç»ƒä¹ </h2><p>å†™ä¸€ä¸ªç»§æ‰¿ç»“æ„ä¸‹çš„æ ‡å‡†Javabean</p><p><strong>éœ€æ±‚ï¼š</strong> 1.ç»ç† æˆå‘˜å˜é‡ï¼šå·¥å·ï¼Œå§“åï¼Œå·¥èµ„ï¼Œç®¡ç†å¥–é‡‘ æˆå‘˜æ–¹æ³•ï¼šå·¥ä½œï¼ˆç®¡ç†å…¶ä»–äººï¼‰ï¼Œåƒé¥­ï¼ˆåƒç±³é¥­ï¼‰</p><p>2.å¨å¸ˆ æˆå‘˜å˜é‡ï¼šå·¥å·ï¼Œå§“åï¼Œå·¥èµ„ æˆå‘˜æ–¹æ³•ï¼šå·¥ä½œï¼ˆç‚’èœï¼‰ï¼Œåƒé¥­ï¼ˆåƒç±³é¥­ï¼‰</p><p><strong>ä»£ç ç¤ºä¾‹ï¼š</strong></p><p><strong>çˆ¶ç±»Worker</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> extent4;  <br>  <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Worker</span> &#123;  <br>    <span class="hljs-keyword">private</span> String id;  <br>    <span class="hljs-keyword">private</span> String name;  <br>    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> salary;  <br>  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Worker</span><span class="hljs-params">()</span> &#123;  <br>    &#125;  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Worker</span><span class="hljs-params">(String id, String name, <span class="hljs-type">double</span> salary)</span> &#123;  <br>        <span class="hljs-built_in">this</span>.id = id;  <br>        <span class="hljs-built_in">this</span>.name = name;  <br>        <span class="hljs-built_in">this</span>.salary = salary;  <br>    &#125;  <br>  <br>  <br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getId</span><span class="hljs-params">()</span> &#123;  <br>        <span class="hljs-keyword">return</span> id;  <br>    &#125;  <br>  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setId</span><span class="hljs-params">(String id)</span> &#123;  <br>        <span class="hljs-built_in">this</span>.id = id;  <br>    &#125;  <br>  <br>  <br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;  <br>        <span class="hljs-keyword">return</span> name;  <br>    &#125;  <br>  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;  <br>        <span class="hljs-built_in">this</span>.name = name;  <br>    &#125;  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">getSalary</span><span class="hljs-params">()</span> &#123;  <br>        <span class="hljs-keyword">return</span> salary;  <br>    &#125;  <br>  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setSalary</span><span class="hljs-params">(<span class="hljs-type">double</span> salary)</span> &#123;  <br>        <span class="hljs-built_in">this</span>.salary = salary;  <br>    &#125;  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">job</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;å·¥ä½œ&quot;</span>);  <br>    &#125;  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;åƒç±³é¥­&quot;</span>);  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å­ç±»Manger</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> extent4;  <br>  <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Manager</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Worker</span> &#123;  <br>    <span class="hljs-keyword">private</span> <span class="hljs-type">double</span> bonus;  <br>  <br>  <br>    <span class="hljs-comment">//ç©ºå‚æ„é€   </span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Manager</span><span class="hljs-params">()</span> &#123;  <br>  <br>    &#125;  <br>  <br>    <span class="hljs-comment">// å¸¦å…¨éƒ¨å‚æ•°çš„æ„é€ ï¼ˆçˆ¶ç±»å’Œå­ç±»æ‰€æœ‰çš„æˆå‘˜å˜é‡ï¼‰  </span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Manager</span><span class="hljs-params">(String id, String name, <span class="hljs-type">double</span> salary, <span class="hljs-type">double</span> bonus)</span> &#123;  <br>        <span class="hljs-built_in">super</span>(id, name, salary);  <br>        <span class="hljs-built_in">this</span>.bonus = bonus;  <br>    &#125;  <br>  <br>  <br>    <span class="hljs-comment">// åªç”¨å†™å­ç±»çš„get&amp;set  </span><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">double</span> <span class="hljs-title function_">getBonus</span><span class="hljs-params">()</span> &#123;  <br>        <span class="hljs-keyword">return</span> bonus;  <br>    &#125;  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setBonus</span><span class="hljs-params">(<span class="hljs-type">double</span> bonus)</span> &#123;  <br>        <span class="hljs-built_in">this</span>.bonus = bonus;  <br>    &#125;  <br>  <br>    <span class="hljs-meta">@Override</span>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">job</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;ç®¡ç†å…¶ä»–äºº&quot;</span>);  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure><p><strong>å­ç±»Cook</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> extent4;  <br>  <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Cook</span> <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Worker</span>&#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Cook</span><span class="hljs-params">()</span> &#123;  <br>    &#125;  <br>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Cook</span><span class="hljs-params">(String id, String name, <span class="hljs-type">double</span> salary)</span> &#123;  <br>        <span class="hljs-built_in">super</span>(id, name, salary);  <br>    &#125;  <br>  <br>    <span class="hljs-meta">@Override</span>  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">job</span><span class="hljs-params">()</span> &#123;  <br>        System.out.println(<span class="hljs-string">&quot;ç‚’èœ&quot;</span>);  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æµ‹è¯•ç±»</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> extent4;  <br>  <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;  <br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;  <br>        <span class="hljs-type">Manager</span> <span class="hljs-variable">manager</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Manager</span>(<span class="hljs-string">&quot;00a&quot;</span>, <span class="hljs-string">&quot;zhangsan&quot;</span>, <span class="hljs-number">8888</span>, <span class="hljs-number">6666</span>);  <br>        System.out.println(manager.getId() + <span class="hljs-string">&quot;, &quot;</span> + manager.getName() + <span class="hljs-string">&quot;, &quot;</span> + manager.getSalary() + <span class="hljs-string">&quot;, &quot;</span> + manager.getBonus());  <br>        manager.job();  <br>        manager.eat();  <br>  <br>  <br>        <span class="hljs-type">Cook</span> <span class="hljs-variable">cook</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Cook</span>();  <br>        cook.setId(<span class="hljs-string">&quot;002&quot;</span>);  <br>        cook.setName(<span class="hljs-string">&quot;lisi&quot;</span>);  <br>        cook.setSalary(<span class="hljs-number">6666</span>);  <br>        System.out.println(cook.getId() + <span class="hljs-string">&quot;, &quot;</span> + cook.getName() + <span class="hljs-string">&quot;, &quot;</span> + cook.getSalary());  <br>        cook.job();  <br>        cook.eat();  <br>    &#125;  <br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>JavaåŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java10-é›†åˆArrayList</title>
    <link href="/2023/06/29/Java10-%E9%9B%86%E5%90%88ArrayList/"/>
    <url>/2023/06/29/Java10-%E9%9B%86%E5%90%88ArrayList/</url>
    
    <content type="html"><![CDATA[<h2 id="arraylist">1.ArrayList</h2><h3 id="é›†åˆå’Œæ•°ç»„çš„ä¼˜åŠ¿å¯¹æ¯”">é›†åˆå’Œæ•°ç»„çš„ä¼˜åŠ¿å¯¹æ¯”ï¼š</h3><ol type="1"><li>é•¿åº¦å¯å˜</li><li>æ·»åŠ æ•°æ®çš„æ—¶å€™ä¸éœ€è¦è€ƒè™‘ç´¢å¼•ï¼Œé»˜è®¤å°†æ•°æ®æ·»åŠ åˆ°æœ«å°¾</li></ol><h3 id="arraylistç±»æ¦‚è¿°">1.1 ArrayListç±»æ¦‚è¿°</h3><ul><li><p>ä»€ä¹ˆæ˜¯é›†åˆ</p><p>æä¾›ä¸€ç§å­˜å‚¨ç©ºé—´==å¯å˜==çš„å­˜å‚¨æ¨¡å‹ï¼Œå­˜å‚¨çš„æ•°æ®å®¹é‡å¯ä»¥å‘ç”Ÿæ”¹å˜</p></li><li><p>ArrayListé›†åˆçš„ç‰¹ç‚¹</p><p>é•¿åº¦å¯ä»¥å˜åŒ–ï¼Œåªèƒ½å­˜å‚¨å¼•ç”¨æ•°æ®ç±»å‹ã€‚</p></li><li><p>æ³›å‹çš„ä½¿ç”¨</p><p>ç”¨äº<em>çº¦æŸ</em>é›†åˆä¸­å­˜å‚¨å…ƒç´ çš„<em>æ•°æ®ç±»å‹</em></p></li></ul><h3 id="arraylistç±»å¸¸ç”¨æ–¹æ³•">1.2 ArrayListç±»å¸¸ç”¨æ–¹æ³•</h3><h4 id="æ„é€ æ–¹æ³•">1.2.1 æ„é€ æ–¹æ³•</h4><table><thead><tr class="header"><th>æ–¹æ³•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td>public ArrayList()</td><td>åˆ›å»ºä¸€ä¸ªç©ºçš„é›†åˆå¯¹è±¡</td></tr></tbody></table><p>æ ¼å¼ï¼š<code>ArrayList&lt;E&gt; array = new ArrayList&lt;E&gt;();</code></p><h4 id="æˆå‘˜æ–¹æ³•">1.2.2 æˆå‘˜æ–¹æ³•</h4><table><thead><tr class="header"><th>æ–¹æ³•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td>public boolean add(è¦æ·»åŠ çš„å…ƒç´ )</td><td>å°†æŒ‡å®šçš„å…ƒç´ è¿½åŠ åˆ°æ­¤é›†åˆçš„æœ«å°¾</td></tr><tr class="even"><td>public boolean remove(è¦åˆ é™¤çš„å…ƒç´ )</td><td>åˆ é™¤æŒ‡å®šå…ƒç´ ,è¿”å›å€¼è¡¨ç¤ºæ˜¯å¦åˆ é™¤æˆåŠŸ</td></tr><tr class="odd"><td>public E remove(int index)</td><td>åˆ é™¤æŒ‡å®šç´¢å¼•å¤„çš„å…ƒç´ ï¼Œè¿”å›è¢«åˆ é™¤çš„å…ƒç´ </td></tr><tr class="even"><td>public E set(int index,E element)</td><td>ä¿®æ”¹æŒ‡å®šç´¢å¼•å¤„çš„å…ƒç´ ï¼Œè¿”å›è¢«ä¿®æ”¹çš„å…ƒç´ </td></tr><tr class="odd"><td>public E get(int index)</td><td>è¿”å›æŒ‡å®šç´¢å¼•å¤„çš„å…ƒç´ </td></tr><tr class="even"><td>public int size()</td><td>è¿”å›é›†åˆä¸­çš„å…ƒç´ çš„ä¸ªæ•°</td></tr></tbody></table><h4 id="ç¤ºä¾‹ä»£ç ">1.2.3 ç¤ºä¾‹ä»£ç </h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ArrayListDemo02</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//åˆ›å»ºé›†åˆ</span><br>        ArrayList&lt;String&gt; array = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;String&gt;();<br><br>        <span class="hljs-comment">//æ·»åŠ å…ƒç´ </span><br>        array.add(<span class="hljs-string">&quot;hello&quot;</span>);<br>        array.add(<span class="hljs-string">&quot;world&quot;</span>);<br>        array.add(<span class="hljs-string">&quot;java&quot;</span>);<br><br>        <span class="hljs-comment">//public boolean remove(Object o)ï¼šåˆ é™¤æŒ‡å®šçš„å…ƒç´ ï¼Œè¿”å›åˆ é™¤æ˜¯å¦æˆåŠŸ</span><br>        array.remove(<span class="hljs-string">&quot;world&quot;</span>)); <span class="hljs-comment">// true</span><br>        array.remove(<span class="hljs-string">&quot;javaee&quot;</span>));<span class="hljs-comment">// false</span><br><br>        <span class="hljs-comment">//public E remove(int index)ï¼šåˆ é™¤æŒ‡å®šç´¢å¼•å¤„çš„å…ƒç´ ï¼Œè¿”å›è¢«åˆ é™¤çš„å…ƒç´ </span><br>        array.remove(<span class="hljs-number">1</span>); <span class="hljs-comment">// world</span><br><br>        <span class="hljs-comment">//IndexOutOfBoundsException</span><br>        array.remove(<span class="hljs-number">3</span>); <span class="hljs-comment">//IndexOutOfBoundsException</span><br><br>        <span class="hljs-comment">//public E set(int index,E element)ï¼šä¿®æ”¹æŒ‡å®šç´¢å¼•å¤„çš„å…ƒç´ ï¼Œè¿”å›è¢«ä¿®æ”¹çš„å…ƒç´ </span><br>        array.set(<span class="hljs-number">1</span>,<span class="hljs-string">&quot;javaee&quot;</span>); <span class="hljs-comment">//è¿”å›worldã€‚æŠŠ1ç´¢å¼•çš„å€¼æ”¹æˆjavaee</span><br><br>        <span class="hljs-comment">//IndexOutOfBoundsException</span><br>        array.set(<span class="hljs-number">3</span>,<span class="hljs-string">&quot;javaee&quot;</span>);<span class="hljs-comment">// IndexOutOfBoundsException</span><br><br>        <span class="hljs-comment">//public E get(int index)ï¼šè¿”å›æŒ‡å®šç´¢å¼•å¤„çš„å…ƒç´ </span><br>        array.get(<span class="hljs-number">0</span>); <br>        array.get(<span class="hljs-number">1</span>);<br>        array.get(<span class="hljs-number">2</span>);<br>        <br><br>        <span class="hljs-comment">//public int size()ï¼šè¿”å›é›†åˆä¸­çš„å…ƒç´ çš„ä¸ªæ•°</span><br>        array.size();<br><br>        <span class="hljs-comment">//è¾“å‡ºé›†åˆ</span><br>        System.out.println(<span class="hljs-string">&quot;array:&quot;</span> + array);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="arraylistéå†">1.3 ArrayListéå†</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//éå†</span><br><span class="hljs-comment">//å¿«æ·é”®: list.fori æ­£å‘éå†</span><br><span class="hljs-comment">//list.forr å€’ç€éå†</span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; list.size(); i++) &#123;<br>        System.out.println(list.get(i));<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="åŸºæœ¬æ•°æ®ç±»å‹å¯¹åº”çš„åŒ…è£…ç±»">1.4 åŸºæœ¬æ•°æ®ç±»å‹å¯¹åº”çš„åŒ…è£…ç±»</h3><p>byte Byte shot Short char Char int Interger long Long float Float double Double boolean Boolean</p><h3 id="æ·»åŠ å¯¹è±¡">1.5 æ·»åŠ å¯¹è±¡</h3><p>éœ€æ±‚ï¼š</p><p>1ï¼Œmainæ–¹æ³•ä¸­å®šä¹‰ä¸€ä¸ªé›†åˆï¼Œå­˜å…¥ä¸‰ä¸ªç”¨æˆ·å¯¹è±¡ã€‚</p><p>ç”¨æˆ·å±æ€§ä¸ºï¼šidï¼Œusernameï¼Œpassword</p><p>2ï¼Œè¦æ±‚ï¼šå®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œæ ¹æ®idæŸ¥æ‰¾å¯¹åº”çš„å­¦ç”Ÿä¿¡æ¯ã€‚</p><p>å¦‚æœå­˜åœ¨ï¼Œè¿”å›ç´¢å¼•</p><p>å¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›-1</p><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ArrayListDemo6</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">/*éœ€æ±‚ï¼š</span><br><span class="hljs-comment">        1ï¼Œmainæ–¹æ³•ä¸­å®šä¹‰ä¸€ä¸ªé›†åˆï¼Œå­˜å…¥ä¸‰ä¸ªç”¨æˆ·å¯¹è±¡ã€‚</span><br><span class="hljs-comment">        ç”¨æˆ·å±æ€§ä¸ºï¼šidï¼Œusernameï¼Œpassword</span><br><span class="hljs-comment">        2ï¼Œè¦æ±‚ï¼šå®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œæ ¹æ®idæŸ¥æ‰¾å¯¹åº”çš„å­¦ç”Ÿä¿¡æ¯ã€‚</span><br><span class="hljs-comment">        å¦‚æœå­˜åœ¨ï¼Œè¿”å›ç´¢å¼•</span><br><span class="hljs-comment">        å¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›-1*/</span><br><br><br>        <span class="hljs-comment">//1.åˆ›å»ºé›†åˆå¯¹è±¡</span><br>        ArrayList&lt;User&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br><br>        <span class="hljs-comment">//2.åˆ›å»ºç”¨æˆ·å¯¹è±¡</span><br>        <span class="hljs-type">User</span> <span class="hljs-variable">u1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;heima001&quot;</span>, <span class="hljs-string">&quot;zhangsan&quot;</span>, <span class="hljs-string">&quot;123456&quot;</span>);<br>        <span class="hljs-type">User</span> <span class="hljs-variable">u2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;heima002&quot;</span>, <span class="hljs-string">&quot;lisi&quot;</span>, <span class="hljs-string">&quot;1234&quot;</span>);<br>        <span class="hljs-type">User</span> <span class="hljs-variable">u3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;heima003&quot;</span>, <span class="hljs-string">&quot;wangwu&quot;</span>, <span class="hljs-string">&quot;1234qwer&quot;</span>);<br><br>        <span class="hljs-comment">//3.æŠŠç”¨æˆ·å¯¹è±¡æ·»åŠ åˆ°é›†åˆå½“ä¸­</span><br>        list.add(u1);<br>        list.add(u2);<br>        list.add(u3);<br><br>        <span class="hljs-comment">//4.è°ƒç”¨æ–¹æ³•ï¼Œé€šè¿‡idè·å–å¯¹åº”çš„ç´¢å¼•</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> getIndex(list, <span class="hljs-string">&quot;heima001&quot;</span>);<br><br>        System.out.println(index);<br><br>    &#125;<br><br><br>    <span class="hljs-comment">//1.æˆ‘è¦å¹²å˜›ï¼Ÿ  æ ¹æ®idæŸ¥æ‰¾å¯¹åº”çš„å­¦ç”Ÿä¿¡æ¯</span><br>    <span class="hljs-comment">//2.æˆ‘å¹²è¿™ä»¶äº‹æƒ…éœ€è¦ä»€ä¹ˆæ‰èƒ½å®Œæˆï¼Ÿ   é›†åˆ id</span><br>    <span class="hljs-comment">//3.æ–¹æ³•çš„è°ƒç”¨å¤„æ˜¯å¦éœ€è¦ç»§ç»­ä½¿ç”¨æ–¹æ³•çš„ç»“æœï¼Ÿ</span><br>    <span class="hljs-comment">//è¦ç”¨å¿…é¡»è¿”å›ï¼Œä¸è¦ç”¨å¯ä»¥è¿”å›ä¹Ÿå¯ä»¥ä¸è¿”å›</span><br>    <span class="hljs-comment">//æ˜ç¡®è¯´æ˜éœ€è¦æœ‰è¿”å›å€¼ int</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getIndex</span><span class="hljs-params">(ArrayList&lt;User&gt; list, String id)</span> &#123;<br>        <span class="hljs-comment">//éå†é›†åˆå¾—åˆ°æ¯ä¸€ä¸ªå…ƒç´ </span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; list.size(); i++) &#123;<br>            <span class="hljs-type">User</span> <span class="hljs-variable">u</span> <span class="hljs-operator">=</span> list.get(i);<br>            <span class="hljs-type">String</span> <span class="hljs-variable">uid</span> <span class="hljs-operator">=</span> u.getId();<br>            <span class="hljs-keyword">if</span>(uid.equals(id))&#123;<br>                <span class="hljs-keyword">return</span> i;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">//å› ä¸ºåªæœ‰å½“é›†åˆé‡Œé¢æ‰€æœ‰çš„å…ƒç´ éƒ½æ¯”è¾ƒå®Œäº†ï¼Œæ‰èƒ½æ–­å®šidæ˜¯ä¸å­˜åœ¨çš„ã€‚</span><br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="åˆ¤æ–­ç”¨æˆ·çš„æ˜¯å¦å­˜åœ¨">1.6 åˆ¤æ–­ç”¨æˆ·çš„æ˜¯å¦å­˜åœ¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ArrayListDemo5</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>       <span class="hljs-comment">/* éœ€æ±‚ï¼š</span><br><span class="hljs-comment">        1ï¼Œmainæ–¹æ³•ä¸­å®šä¹‰ä¸€ä¸ªé›†åˆï¼Œå­˜å…¥ä¸‰ä¸ªç”¨æˆ·å¯¹è±¡ã€‚</span><br><span class="hljs-comment">        ç”¨æˆ·å±æ€§ä¸ºï¼šidï¼Œusernameï¼Œpassword</span><br><span class="hljs-comment">        2ï¼Œè¦æ±‚ï¼šå®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œæ ¹æ®idæŸ¥æ‰¾å¯¹åº”çš„å­¦ç”Ÿä¿¡æ¯ã€‚</span><br><span class="hljs-comment">        å¦‚æœå­˜åœ¨ï¼Œè¿”å›true</span><br><span class="hljs-comment">        å¦‚æœä¸å­˜åœ¨ï¼Œè¿”å›false*/</span><br><br>        <span class="hljs-comment">//1.å®šä¹‰é›†åˆ</span><br>        ArrayList&lt;User&gt; list = <span class="hljs-keyword">new</span> <span class="hljs-title class_">ArrayList</span>&lt;&gt;();<br><br>        <span class="hljs-comment">//2.åˆ›å»ºå¯¹è±¡</span><br>        <span class="hljs-type">User</span> <span class="hljs-variable">u1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;heima001&quot;</span>,<span class="hljs-string">&quot;zhangsan&quot;</span>,<span class="hljs-string">&quot;123456&quot;</span>);<br>        <span class="hljs-type">User</span> <span class="hljs-variable">u2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;heima002&quot;</span>,<span class="hljs-string">&quot;lisi&quot;</span>,<span class="hljs-string">&quot;12345678&quot;</span>);<br>        <span class="hljs-type">User</span> <span class="hljs-variable">u3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;heima003&quot;</span>,<span class="hljs-string">&quot;wangwu&quot;</span>,<span class="hljs-string">&quot;1234qwer&quot;</span>);<br><br>        <span class="hljs-comment">//3.æŠŠç”¨æˆ·å¯¹è±¡æ·»åŠ åˆ°é›†åˆå½“ä¸­</span><br>        list.add(u1);<br>        list.add(u2);<br>        list.add(u3);<br><br>        <span class="hljs-comment">//4.è°ƒç”¨æ–¹æ³•ï¼ŒæŸ¥è¯¢idæ˜¯å¦å­˜åœ¨</span><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> contains(list, <span class="hljs-string">&quot;heima001&quot;</span>);<br>        System.out.println(result);<br><br>    &#125;<br><br>    <span class="hljs-comment">//å®šä¹‰åœ¨æµ‹è¯•ç±»ä¸­çš„æ–¹æ³•éœ€è¦åŠ static</span><br>    <span class="hljs-comment">//1.æˆ‘è¦å¹²å˜›ï¼Ÿ æˆ‘è¦æ ¹æ®idæŸ¥è¯¢å­¦ç”Ÿæ˜¯å¦å­˜åœ¨</span><br>    <span class="hljs-comment">//2.æˆ‘å¹²è¿™ä»¶äº‹æƒ…ï¼Œéœ€è¦ä»€ä¹ˆæ‰èƒ½å®Œæˆï¼Ÿ é›†åˆ id</span><br>    <span class="hljs-comment">//3.æ–¹æ³•çš„è°ƒç”¨å¤„æ˜¯å¦éœ€è¦ä½¿ç”¨æ–¹æ³•çš„ç»“æœï¼Ÿ</span><br>    <span class="hljs-comment">//å¦‚æœè¦ç”¨ï¼Œå¿…é¡»è¿”å›ï¼Œå¦‚æœä¸ç”¨ï¼Œå¯ä»¥è¿”å›ä¹Ÿå¯ä»¥ä¸è¿”å›</span><br>    <span class="hljs-comment">//ä½†æ˜¯æœ¬é¢˜æ˜ç¡®è¯´æ˜éœ€è¦è¿”å›</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">contains</span><span class="hljs-params">(ArrayList&lt;User&gt; list, String id)</span>&#123;<br>        <span class="hljs-comment">//å¾ªç¯éå†é›†åˆï¼Œå¾—åˆ°é›†åˆé‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ </span><br>        <span class="hljs-comment">//å†è¿›è¡Œåˆ¤æ–­</span><br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; list.size(); i++) &#123;<br>            <span class="hljs-comment">//i ç´¢å¼•  list.get(i); å…ƒç´ </span><br>            <span class="hljs-type">User</span> <span class="hljs-variable">u</span> <span class="hljs-operator">=</span> list.get(i);<br>            <span class="hljs-comment">//åˆ¤æ–­idæ˜¯å¦å­˜åœ¨ï¼Œæˆ‘æ˜¯æ‹¿ç€è°è·Ÿè°æ¯”è¾ƒ</span><br>            <span class="hljs-comment">//éœ€è¦æŠŠç”¨æˆ·å¯¹è±¡é‡Œé¢çš„idæ‹¿å‡ºæ¥å†è¿›è¡Œæ¯”è¾ƒã€‚</span><br>            <span class="hljs-type">String</span> <span class="hljs-variable">uid</span> <span class="hljs-operator">=</span> u.getId();<br>            <span class="hljs-keyword">if</span>(id.equals(uid))&#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<span class="hljs-comment">//return å…³é”®å­—ï¼šä½œç”¨å°±æ˜¯ç»“æŸæ–¹æ³•ã€‚</span><br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">//åªæœ‰å½“é›†åˆé‡Œé¢æ‰€æœ‰çš„å…ƒç´ å…¨éƒ¨æ¯”è¾ƒå®Œæ¯•æ‰èƒ½è®¤ä¸ºæ˜¯ä¸å­˜åœ¨çš„ã€‚</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>    &#125;<br><br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>JavaåŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java09-å­—ç¬¦ä¸²</title>
    <link href="/2023/06/29/Java09-%E5%AD%97%E7%AC%A6%E4%B8%B2/"/>
    <url>/2023/06/29/Java09-%E5%AD%97%E7%AC%A6%E4%B8%B2/</url>
    
    <content type="html"><![CDATA[<h2 id="stringç±»">1.Stringç±»</h2><h3 id="stringç±»æ¦‚è¿°">1.1Stringç±»æ¦‚è¿°</h3><pre><code class="hljs">String ç±»ä»£è¡¨å­—ç¬¦ä¸²ï¼ŒJava ç¨‹åºä¸­çš„æ‰€æœ‰å­—ç¬¦ä¸²æ–‡å­—ï¼ˆä¾‹å¦‚â€œabcâ€ï¼‰éƒ½è¢«å®ç°ä¸ºæ­¤ç±»çš„å®ä¾‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒJava ç¨‹åºä¸­æ‰€æœ‰çš„åŒå¼•å·å­—ç¬¦ä¸²ï¼Œéƒ½æ˜¯ String ç±»çš„å¯¹è±¡ã€‚String ç±»åœ¨ java.lang åŒ…ä¸‹ï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ—¶å€™ä¸éœ€è¦å¯¼åŒ…ï¼</code></pre><h3 id="stringç±»çš„ç‰¹ç‚¹">1.2Stringç±»çš„ç‰¹ç‚¹</h3><ul><li>å­—ç¬¦ä¸²ä¸å¯å˜ï¼Œå®ƒä»¬çš„å€¼åœ¨åˆ›å»ºåä¸èƒ½è¢«æ›´æ”¹</li><li>è™½ç„¶ String çš„å€¼æ˜¯ä¸å¯å˜çš„ï¼Œä½†æ˜¯å®ƒä»¬å¯ä»¥è¢«å…±äº«</li><li>å­—ç¬¦ä¸²æ•ˆæœä¸Šç›¸å½“äºå­—ç¬¦æ•°ç»„( char[] )ï¼Œä½†æ˜¯åº•å±‚åŸç†æ˜¯å­—èŠ‚æ•°ç»„( byte[] )</li></ul><h3 id="stringç±»çš„æ„é€ æ–¹æ³•">1.3Stringç±»çš„æ„é€ æ–¹æ³•</h3><ul><li><p>å¸¸ç”¨çš„æ„é€ æ–¹æ³•</p><table><thead><tr class="header"><th>æ–¹æ³•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td>public String()</td><td>åˆ›å»ºä¸€ä¸ªç©ºç™½å­—ç¬¦ä¸²å¯¹è±¡ï¼Œä¸å«æœ‰ä»»ä½•å†…å®¹</td></tr><tr class="even"><td>public String(char[] chs)</td><td>æ ¹æ®å­—ç¬¦æ•°ç»„çš„å†…å®¹ï¼Œæ¥åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡</td></tr><tr class="odd"><td>public String(byte[] bys)</td><td>æ ¹æ®å­—èŠ‚æ•°ç»„çš„å†…å®¹ï¼Œæ¥åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡</td></tr><tr class="even"><td>String s = â€œabcâ€;</td><td>ç›´æ¥èµ‹å€¼çš„æ–¹å¼åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡ï¼Œå†…å®¹å°±æ˜¯abc</td></tr></tbody></table></li></ul><h3 id="åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡ä¸¤ç§æ–¹å¼çš„åŒºåˆ«">1.4åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡ä¸¤ç§æ–¹å¼çš„åŒºåˆ«</h3><ul><li><p>é€šè¿‡æ„é€ æ–¹æ³•åˆ›å»º é€šè¿‡ new åˆ›å»ºçš„å­—ç¬¦ä¸²å¯¹è±¡ï¼Œæ¯ä¸€æ¬¡ new éƒ½ä¼šç”³è¯·ä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œè™½ç„¶å†…å®¹ç›¸åŒï¼Œä½†æ˜¯åœ°å€å€¼ä¸åŒ</p></li><li><p>ç›´æ¥èµ‹å€¼æ–¹å¼åˆ›å»º å½“ä½¿ç”¨åŒå¼•å·ç›´æ¥èµ‹å€¼æ—¶ï¼Œç³»ç»Ÿä¼šæ£€æŸ¥è¯¥å­—ç¬¦ä¸²åœ¨ä¸²æ± ä¸­æ˜¯å¦å­˜åœ¨ã€‚ ä¸å­˜åœ¨ï¼šåˆ›å»ºæ–°çš„ å­˜åœ¨ï¼šå¤ç”¨</p></li></ul><p>Stringæ˜¯ä¸ªå¼•ç”¨ç±»å‹,æœ‰å®ƒçš„å±æ€§å’Œæ–¹æ³•,ç»§æ‰¿obj,åªä¸è¿‡é‡å†™äº†è¿”å›çš„å¯¹è±¡æ˜¯ä»–è‡ªå·±,ä¹Ÿå°±æ˜¯å­—ç¬¦ç»„ã€‚</p><p>èµ‹å€¼ï¼šåœ¨ä¸²æ± é‡Œé¢ï¼Œnewå‡ºæ¥çš„ï¼šåœ¨å †é‡Œé¢ ä¸²æ± ä¹Ÿæ˜¯å †å†…å­˜ä¸­å¼€è¾Ÿçš„ä¸€ä¸ªç©ºé—´</p><h3 id="å­—ç¬¦ä¸²çš„æ¯”è¾ƒ">1.5å­—ç¬¦ä¸²çš„æ¯”è¾ƒ</h3><h4 id="å·çš„ä½œç”¨">1.5.1 <code>==</code> å·çš„ä½œç”¨</h4><ul><li>æ¯”è¾ƒåŸºæœ¬æ•°æ®ç±»å‹ï¼šæ¯”è¾ƒçš„æ˜¯å…·ä½“çš„å€¼</li><li>æ¯”è¾ƒå¼•ç”¨æ•°æ®ç±»å‹ï¼šæ¯”è¾ƒçš„æ˜¯å¯¹è±¡åœ°å€å€¼</li></ul><h4 id="equalsæ–¹æ³•çš„ä½œç”¨">1.5.2equalsæ–¹æ³•çš„ä½œç”¨</h4><ul><li>æ–¹æ³•ä»‹ç»</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">boolean</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> s1.equals(s2)     æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²å†…å®¹æ˜¯å¦å®Œå…¨ç›¸åŒã€åŒºåˆ†å¤§å°å†™<br>           equalsIgnoreCase        å¿½ç•¥å¤§å°å†™<br></code></pre></td></tr></table></figure><ul><li><p>ç¤ºä¾‹ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringDemo02</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//æ„é€ æ–¹æ³•çš„æ–¹å¼å¾—åˆ°å¯¹è±¡</span><br>        <span class="hljs-type">char</span>[] chs = &#123;<span class="hljs-string">&#x27;a&#x27;</span>, <span class="hljs-string">&#x27;b&#x27;</span>, <span class="hljs-string">&#x27;c&#x27;</span>&#125;;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(chs);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">String</span>(chs);<br><br>        <span class="hljs-comment">//ç›´æ¥èµ‹å€¼çš„æ–¹å¼å¾—åˆ°å¯¹è±¡</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">s3</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;abc&quot;</span>;<br>        <span class="hljs-type">String</span> <span class="hljs-variable">s4</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;abc&quot;</span>;<br><br>        <span class="hljs-comment">//æ¯”è¾ƒå­—ç¬¦ä¸²å¯¹è±¡åœ°å€æ˜¯å¦ç›¸åŒ</span><br>        System.out.println(s1 == s2);<br>        System.out.println(s1 == s3);<br>        System.out.println(s3 == s4);<br>        System.out.println(<span class="hljs-string">&quot;--------&quot;</span>);<br><br>        <span class="hljs-comment">//æ¯”è¾ƒå­—ç¬¦ä¸²å†…å®¹æ˜¯å¦ç›¸åŒ</span><br>        System.out.println(s1.equals(s2));<br>        System.out.println(s1.equals(s3));<br>        System.out.println(s3.equals(s4));<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h3 id="éå†å­—ç¬¦ä¸²æ¡ˆä¾‹">1.6éå†å­—ç¬¦ä¸²æ¡ˆä¾‹</h3><p>. charAt(ç´¢å¼•)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// å­—ç¬¦ä¸²ç›´æ¥éå†</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test2</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//ä¸¤ä¸ªæ–¹æ³•ï¼š</span><br>        <span class="hljs-comment">//charAt()ï¼šä¼šæ ¹æ®ç´¢å¼•è·å–å¯¹åº”çš„å­—ç¬¦</span><br>        <span class="hljs-comment">//length(): ä¼šè¿”å›å­—ç¬¦ä¸²çš„é•¿åº¦</span><br>        <span class="hljs-comment">//éå†</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;123456&quot;</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; str.length(); i++) &#123;<br>            <span class="hljs-type">char</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> str.charAt(i);<br>            System.out.println(c);<br>        &#125;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="ç»Ÿè®¡å­—ç¬¦æ¬¡æ•°æ¡ˆä¾‹">1.7ç»Ÿè®¡å­—ç¬¦æ¬¡æ•°æ¡ˆä¾‹</h3><h4 id="æ¡ˆä¾‹éœ€æ±‚">1.7.1æ¡ˆä¾‹éœ€æ±‚</h4><pre><code class="hljs">é”®ç›˜å½•å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç»Ÿè®¡è¯¥å­—ç¬¦ä¸²ä¸­å¤§å†™å­—æ¯å­—ç¬¦ï¼Œå°å†™å­—æ¯å­—ç¬¦ï¼Œæ•°å­—å­—ç¬¦å‡ºç°çš„æ¬¡æ•°(ä¸è€ƒè™‘å…¶ä»–å­—ç¬¦)</code></pre><h4 id="ä»£ç å®ç°">1.7.2ä»£ç å®ç°</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// ç»Ÿè®¡ä¸ªæ•°</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test4</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//é”®ç›˜å½•å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œç»Ÿè®¡å¤§å†™ï¼Œå°å†™ï¼Œæ•°å­—å‡ºç°çš„æ¬¡æ•°</span><br><br><br>        <span class="hljs-comment">//1.é”®ç›˜å½•å…¥ä¸€ä¸ªå­—ç¬¦ä¸²</span><br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">sc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        System.out.println(<span class="hljs-string">&quot;è¯·è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> sc.next();<br><br><br>        <span class="hljs-comment">//2.ç»Ÿè®¡ --- è®¡æ•°å™¨count</span><br>        <span class="hljs-comment">//æ­¤æ—¶æˆ‘è¦ç»Ÿè®¡çš„æœ‰3æ ·ä¸œè¥¿ï¼Œæ‰€ä»¥è¦å®šä¹‰3ä¸ªè®¡æ•°å™¨åˆ†åˆ«è¿›è¡Œç»Ÿè®¡</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">bigCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">smallCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">numberCount</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-comment">//å¾—åˆ°è¿™ä¸ªå­—ç¬¦ä¸²é‡Œé¢æ¯ä¸€ä¸ªå­—ç¬¦</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; str.length(); i++) &#123;<br>            <span class="hljs-type">char</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> str.charAt(i);<br>            <span class="hljs-comment">//å¯¹cè¿›è¡Œåˆ¤æ–­</span><br>            <span class="hljs-keyword">if</span> (c &gt;= <span class="hljs-string">&#x27;a&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;z&#x27;</span>) &#123;<br>                smallCount++;<br>            &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(c &gt;= <span class="hljs-string">&#x27;A&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;Z&#x27;</span>)&#123;<br>                bigCount++;<br>            &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(c &gt;= <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; c &lt;= <span class="hljs-string">&#x27;9&#x27;</span>)&#123;<br>                numberCount++;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-comment">//3.å½“å¾ªç¯ç»“æŸä¹‹åï¼Œä¸‰ä¸ªå˜é‡è®°å½•çš„å°±æ˜¯å¯¹åº”çš„ä¸ªæ•°</span><br>        System.out.println(<span class="hljs-string">&quot;å¤§å†™å­—ç¬¦æœ‰:&quot;</span> + bigCount + <span class="hljs-string">&quot;ä¸ª&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;å°å†™å­—ç¬¦æœ‰:&quot;</span> + smallCount + <span class="hljs-string">&quot;ä¸ª&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;æ•°å­—å­—ç¬¦æœ‰:&quot;</span> + numberCount + <span class="hljs-string">&quot;ä¸ª&quot;</span>);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="é‡‘é¢è½¬æ¢">1.8 é‡‘é¢è½¬æ¢</h3><h4 id="æ¡ˆä¾‹éœ€æ±‚-1">1.8.1 æ¡ˆä¾‹éœ€æ±‚</h4><pre><code class="hljs">æŠŠ2135å˜æˆï¼šé›¶ä½°é›¶æ‹¾é›¶ä¸‡è´°ä»Ÿå£¹ä½°åæ‹¾ä¼å…ƒ æŠŠ789å˜æˆï¼šé›¶ä½°é›¶æ‹¾é›¶ä¸‡é›¶ä»ŸæŸ’ä½°æŒæ‹¾ç–å…ƒ</code></pre><h4 id="ä»£ç å®ç°-1">1.8.2 ä»£ç å®ç°</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Scanner;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//1.é”®ç›˜å½•å…¥ä¸€ä¸ªé‡‘é¢</span><br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">sc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        <span class="hljs-type">int</span> money;<br>        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<br>            System.out.println(<span class="hljs-string">&quot;è¯·å½•å…¥ä¸€ä¸ªé‡‘é¢&quot;</span>);<br>            money = sc.nextInt();<br>            <span class="hljs-keyword">if</span> (money &gt;= <span class="hljs-number">0</span> &amp;&amp; money &lt;= <span class="hljs-number">9999999</span>) &#123;<br>                <span class="hljs-keyword">break</span>;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                System.out.println(<span class="hljs-string">&quot;é‡‘é¢æ— æ•ˆ&quot;</span>);<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªå˜é‡ç”¨æ¥è¡¨ç¤ºé’±çš„å¤§å†™</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">moneyStr</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>;<br><br>        <span class="hljs-comment">//2.å¾—åˆ°moneyé‡Œé¢çš„æ¯ä¸€ä½æ•°å­—,å†è½¬æˆä¸­æ–‡</span><br>        <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>) &#123;<span class="hljs-comment">//2135</span><br>            <span class="hljs-comment">//ä»å³å¾€å·¦è·å–æ•°æ®ï¼Œå› ä¸ºå³ä¾§æ˜¯æ•°æ®çš„ä¸ªä½</span><br>            <span class="hljs-type">int</span> <span class="hljs-variable">ge</span> <span class="hljs-operator">=</span> money % <span class="hljs-number">10</span>;<br>            <span class="hljs-type">String</span> <span class="hljs-variable">capitalNumber</span> <span class="hljs-operator">=</span> getCapitalNumber(ge);<br>            <span class="hljs-comment">//æŠŠè½¬æ¢ä¹‹åçš„å¤§å†™æ‹¼æ¥åˆ°moneyStrå½“ä¸­</span><br>            moneyStr = capitalNumber + moneyStr;<br>            <span class="hljs-comment">//ç¬¬ä¸€æ¬¡å¾ªç¯ ï¼š &quot;ä¼&quot; + &quot;&quot; = &quot;ä¼&quot;</span><br>            <span class="hljs-comment">//ç¬¬äºŒæ¬¡å¾ªç¯ ï¼š &quot;å&quot; + &quot;ä¼&quot; = &quot;åä¼&quot;</span><br>            <span class="hljs-comment">//å»æ‰åˆšåˆšè·å–çš„æ•°æ®</span><br>            money = money / <span class="hljs-number">10</span>;<br><br>            <span class="hljs-comment">//å¦‚æœæ•°å­—ä¸Šçš„æ¯ä¸€ä½å…¨éƒ¨è·å–åˆ°äº†ï¼Œé‚£ä¹ˆmoneyè®°å½•çš„å°±æ˜¯0ï¼Œæ­¤æ—¶å¾ªç¯ç»“æŸ</span><br>            <span class="hljs-keyword">if</span> (money == <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-keyword">break</span>;<br>            &#125;<br>        &#125;<br><br>        <span class="hljs-comment">//3.åœ¨å‰é¢è¡¥0ï¼Œè¡¥é½7ä½</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">7</span> - moneyStr.length();<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; count; i++) &#123;<br>            moneyStr = <span class="hljs-string">&quot;é›¶&quot;</span> + moneyStr;<br>        &#125;<br>        System.out.println(moneyStr);<span class="hljs-comment">//é›¶é›¶é›¶è´°å£¹åä¼</span><br><br>        <span class="hljs-comment">//4.æ’å…¥å•ä½</span><br>        <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªæ•°ç»„è¡¨ç¤ºå•ä½</span><br>        String[] arr = &#123;<span class="hljs-string">&quot;ä½°&quot;</span>,<span class="hljs-string">&quot;æ‹¾&quot;</span>,<span class="hljs-string">&quot;ä¸‡&quot;</span>,<span class="hljs-string">&quot;ä»Ÿ&quot;</span>,<span class="hljs-string">&quot;ä½°&quot;</span>,<span class="hljs-string">&quot;æ‹¾&quot;</span>,<span class="hljs-string">&quot;å…ƒ&quot;</span>&#125;;<br>        <span class="hljs-comment">//               é›¶    é›¶   é›¶   è´°   å£¹   å   ä¼</span><br><br>        <span class="hljs-comment">//éå†moneyStrï¼Œä¾æ¬¡å¾—åˆ° é›¶    é›¶   é›¶   è´°   å£¹   å   ä¼</span><br>        <span class="hljs-comment">//ç„¶åæŠŠarrçš„å•ä½æ’å…¥è¿›å»</span><br><br>        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;&quot;</span>;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; moneyStr.length(); i++) &#123;<br>            <span class="hljs-type">char</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> moneyStr.charAt(i);<br>            <span class="hljs-comment">//æŠŠå¤§å†™æ•°å­—å’Œå•ä½æ‹¼æ¥åˆ°resultå½“ä¸­</span><br>            result = result + c + arr[i];<br>        &#125;<br><br>        <span class="hljs-comment">//5.æ‰“å°æœ€ç»ˆç»“æœ</span><br>        System.out.println(result);<br><br>    &#125;<br><br><br>    <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªæ–¹æ³•æŠŠæ•°å­—å˜æˆå¤§å†™çš„ä¸­æ–‡</span><br>    <span class="hljs-comment">//1 -- å£¹</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String <span class="hljs-title function_">getCapitalNumber</span><span class="hljs-params">(<span class="hljs-type">int</span> number)</span> &#123;<br>        <span class="hljs-comment">//å®šä¹‰æ•°ç»„ï¼Œè®©æ•°å­—è·Ÿå¤§å†™çš„ä¸­æ–‡äº§ç”Ÿä¸€ä¸ªå¯¹åº”å…³ç³»</span><br>        String[] arr = &#123;<span class="hljs-string">&quot;é›¶&quot;</span>, <span class="hljs-string">&quot;å£¹&quot;</span>, <span class="hljs-string">&quot;è´°&quot;</span>, <span class="hljs-string">&quot;å&quot;</span>, <span class="hljs-string">&quot;è‚†&quot;</span>, <span class="hljs-string">&quot;ä¼&quot;</span>, <span class="hljs-string">&quot;é™†&quot;</span>, <span class="hljs-string">&quot;æŸ’&quot;</span>, <span class="hljs-string">&quot;æŒ&quot;</span>, <span class="hljs-string">&quot;ç–&quot;</span>&#125;;<br>        <span class="hljs-comment">//è¿”å›ç»“æœ</span><br>        <span class="hljs-keyword">return</span> arr[number];<br>    &#125;<br><br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="æ‰‹æœºå·å±è”½">1.9 æ‰‹æœºå·å±è”½</h3><p>éœ€æ±‚ï¼šä»¥å­—ç¬¦ä¸²çš„å½¢å¼ä»é”®ç›˜æ¥å—ä¸€ä¸ªæ‰‹æœºå·ï¼Œå°†ä¸­é—´å››ä½å·ç å±è”½</p><p>æœ€ç»ˆæ•ˆæœä¸ºï¼š<code>131****9468</code></p><p>ä»£ç å®ç°ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// æ‰‹æœºå·å±è”½</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test8</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">/*ä»¥å­—ç¬¦ä¸²çš„å½¢å¼ä»é”®ç›˜æ¥å—ä¸€ä¸ªæ‰‹æœºå·ï¼Œå°†ä¸­é—´å››ä½å·ç å±è”½</span><br><span class="hljs-comment">        æœ€ç»ˆæ•ˆæœä¸ºï¼š131****9468*/</span><br><br>        <span class="hljs-comment">//1.é”®ç›˜å½•å…¥ä¸€ä¸ªæ‰‹æœºå·ç </span><br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">sc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        System.out.println(<span class="hljs-string">&quot;è¯·è¾“å…¥æ‰‹æœºå·ç &quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">phoneNumber</span> <span class="hljs-operator">=</span> sc.next();<span class="hljs-comment">//13112349408</span><br><br>        <span class="hljs-comment">//2.æˆªå–æ‰‹æœºå·ç ä¸­çš„å‰ä¸‰ä½</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">star</span> <span class="hljs-operator">=</span> phoneNumber.substring(<span class="hljs-number">0</span>, <span class="hljs-number">3</span>);<br><br>        <span class="hljs-comment">//3.æˆªå–æ‰‹æœºå·ç ä¸­çš„æœ€åå››ä½</span><br>        <span class="hljs-comment">//æ­¤æ—¶æˆ‘ç”¨substringæ–¹æ³•ï¼Œæ˜¯ç”¨1ä¸ªå‚æ•°çš„ï¼Œè¿˜æ˜¯ä¸¤ä¸ªå‚æ•°çš„ï¼Ÿ1ä¸ªå‚æ•°çš„ä¼šæ›´å¥½</span><br>        <span class="hljs-comment">//å› ä¸ºç°åœ¨æˆ‘è¦æˆªå–åˆ°æœ€åï¼Œæ‰€ä»¥å»ºè®®ä½¿ç”¨1ä¸ªå‚æ•°çš„ã€‚</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">end</span> <span class="hljs-operator">=</span> phoneNumber.substring(<span class="hljs-number">7</span>);<br><br>        <span class="hljs-comment">//4.æ‹¼æ¥</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> star + <span class="hljs-string">&quot;****&quot;</span> + end;<br><br>        System.out.println(result);<br><br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="æ•æ„Ÿè¯æ›¿æ¢">1.10 æ•æ„Ÿè¯æ›¿æ¢</h3><p>éœ€æ±‚1ï¼šé”®ç›˜å½•å…¥ä¸€ä¸ª å­—ç¬¦ä¸²ï¼Œå¦‚æœå­—ç¬¦ä¸²ä¸­åŒ…å«ï¼ˆTMDï¼‰ï¼Œåˆ™ä½¿ç”¨***æ›¿æ¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// æ•æ„Ÿè¯æ›¿æ¢</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test9</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//1.å®šä¹‰ä¸€ä¸ªå˜é‡è¡¨ç¤ºéª‚äººçš„è¯</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">talk</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;TMD&quot;</span>;<br><br><br>        <span class="hljs-comment">//2.æŠŠè¿™å¥è¯ä¸­çš„æ•æ„Ÿè¯è¿›è¡Œæ›¿æ¢</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> talk.replace(<span class="hljs-string">&quot;TMD&quot;</span>, <span class="hljs-string">&quot;***&quot;</span>);<br><br>        <span class="hljs-comment">//3.æ‰“å°</span><br>        System.out.println(talk);<br>        System.out.println(result);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>éœ€æ±‚2ï¼šå¦‚æœè¦æ›¿æ¢çš„æ•æ„Ÿè¯æ¯”è¾ƒå¤šæ€ä¹ˆåŠï¼Ÿ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// å¤šä¸ªæ•æ„Ÿè¯æ›¿æ¢</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test10</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//å®é™…å¼€å‘ä¸­ï¼Œæ•æ„Ÿè¯ä¼šæœ‰å¾ˆå¤šå¾ˆå¤š</span><br><br>        <span class="hljs-comment">//1.å…ˆé”®ç›˜å½•å…¥è¦è¯´çš„è¯</span><br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">sc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        System.out.println(<span class="hljs-string">&quot;è¯·è¾“å…¥è¦è¯´çš„è¯&quot;</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">talk</span> <span class="hljs-operator">=</span> sc.next();<span class="hljs-comment">//TMD,GDX,ctmd,ZZ</span><br><br>        <span class="hljs-comment">//2.å®šä¹‰ä¸€ä¸ªæ•°ç»„ç”¨æ¥å­˜å¤šä¸ªæ•æ„Ÿè¯</span><br>        String[] arr = &#123;<span class="hljs-string">&quot;TMD&quot;</span>,<span class="hljs-string">&quot;GDX&quot;</span>,<span class="hljs-string">&quot;ctmd&quot;</span>,<span class="hljs-string">&quot;ZZ&quot;</span>,<span class="hljs-string">&quot;lj&quot;</span>,<span class="hljs-string">&quot;FW&quot;</span>,<span class="hljs-string">&quot;nt&quot;</span>&#125;;<br><br>        <span class="hljs-comment">//3.æŠŠè¯´çš„è¯ä¸­æ‰€æœ‰çš„æ•æ„Ÿè¯éƒ½æ›¿æ¢ä¸º***</span><br><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; arr.length; i++) &#123;<br>            <span class="hljs-comment">//i ç´¢å¼•</span><br>            <span class="hljs-comment">//arr[i] å…ƒç´  --- æ•æ„Ÿè¯</span><br>            talk = talk.replace(arr[i],<span class="hljs-string">&quot;***&quot;</span>);<br>        &#125;<br><br>        <span class="hljs-comment">//4.æ‰“å°ç»“æœ</span><br>        System.out.println(talk);<span class="hljs-comment">//***,***,***,***</span><br><br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h3 id="èº«ä»½è¯ä¿¡æ¯æŸ¥çœ‹">1.11 èº«ä»½è¯ä¿¡æ¯æŸ¥çœ‹</h3><pre><code class="hljs">èº«ä»½è¯çš„æ¯ä¸€ä½éƒ½æ˜¯æœ‰å›ºå®šçš„å«ä¹‰ï¼š</code></pre><ul><li>1ã€2ä½ï¼šçœä»½</li><li>3ã€4ä½ï¼šåŸå¸‚</li><li>5ã€6ä½ï¼šåŒºå¿</li><li>7-14ä½ï¼šå‡ºç”Ÿå¹´ã€æœˆã€æ—¥</li><li>15ã€16ä½ï¼šæ‰€åœ¨åœ°æ´¾å‡ºæ‰€</li><li>17ä½ï¼šæ€§åˆ«ï¼ˆå¥‡æ•°ç”·æ€§ï¼Œå¶æ•°å¥³æ€§ï¼‰</li><li>18ä½ï¼šä¸ªäººä¿¡æ¯ç ï¼ˆéšæœºäº§ç”Ÿï¼‰</li></ul><p>è¦æ±‚æ‰“å°å†…å®¹æ–¹å¼å¦‚ä¸‹ï¼š</p><pre><code class="hljs">äººç‰©ä¿¡æ¯ä¸ºï¼šå‡ºç”Ÿå¹´æœˆæ—¥ï¼šXXXXå¹´XæœˆXæ—¥æ€§åˆ«ä¸ºï¼šç”·/å¥³</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringDemo11</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//1.å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²è®°å½•èº«ä»½è¯å·ç </span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">id</span> <span class="hljs-operator">=</span> <span class="hljs-string">&quot;321281202001011234&quot;</span>;<br><br>        <span class="hljs-comment">//2.è·å–å‡ºç”Ÿå¹´æœˆæ—¥</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">year</span> <span class="hljs-operator">=</span> id.substring(<span class="hljs-number">6</span>, <span class="hljs-number">10</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">month</span> <span class="hljs-operator">=</span> id.substring(<span class="hljs-number">10</span>, <span class="hljs-number">12</span>);<br>        <span class="hljs-type">String</span> <span class="hljs-variable">day</span> <span class="hljs-operator">=</span> id.substring(<span class="hljs-number">12</span>, <span class="hljs-number">14</span>);<br><br><br>        System.out.println(<span class="hljs-string">&quot;äººç‰©ä¿¡æ¯ä¸ºï¼š&quot;</span>);<br>        System.out.println(<span class="hljs-string">&quot;å‡ºç”Ÿå¹´æœˆæ—¥:&quot;</span> + year + <span class="hljs-string">&quot;å¹´&quot;</span> + month + <span class="hljs-string">&quot;æœˆ&quot;</span> + day + <span class="hljs-string">&quot;æ—¥&quot;</span>);<br><br>        <span class="hljs-comment">//3.è·å–æ€§åˆ«</span><br>        <span class="hljs-type">char</span> <span class="hljs-variable">gender</span> <span class="hljs-operator">=</span> id.charAt(<span class="hljs-number">16</span>);<span class="hljs-comment">//&#x27;3&#x27;  ---&gt; 3</span><br>        <span class="hljs-comment">//åˆ©ç”¨ASCIIç è¡¨è¿›è¡Œè½¬æ¢</span><br>        <span class="hljs-comment">//&#x27;0&#x27; ---&gt;  48</span><br>        <span class="hljs-comment">//&#x27;1&#x27; ---&gt;  49</span><br>        <span class="hljs-comment">//&#x27;2&#x27; ---&gt;  50</span><br>        <span class="hljs-comment">//&#x27;3&#x27; ---&gt;  51</span><br>        <span class="hljs-comment">//&#x27;4&#x27; ---&gt;  52</span><br>        <span class="hljs-comment">//&#x27;5&#x27; ---&gt;  53</span><br>        <span class="hljs-comment">//&#x27;6&#x27; ---&gt;  54</span><br>        <span class="hljs-comment">//&#x27;7&#x27; ---&gt;  55</span><br>        <span class="hljs-comment">//&#x27;8&#x27; ---&gt;  56</span><br>        <span class="hljs-comment">//&#x27;9&#x27; ---&gt;  57</span><br><br>       <span class="hljs-type">int</span> <span class="hljs-variable">num</span> <span class="hljs-operator">=</span> gender - <span class="hljs-number">48</span>;<br>        <span class="hljs-keyword">if</span>(num % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>)&#123;<br>            System.out.println(<span class="hljs-string">&quot;æ€§åˆ«ä¸º:å¥³&quot;</span>);<br>        &#125;<span class="hljs-keyword">else</span>&#123;<br>            System.out.println(<span class="hljs-string">&quot;æ€§åˆ«ä¸º:ç”·&quot;</span>);<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="stringbuilder">2.StringBuilder</h2><p>StringBuilder å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œåˆ›å»ºä¹‹åé‡Œé¢çš„å†…å®¹æ˜¯å¯å˜çš„ã€‚</p><p>å½“æˆ‘ä»¬åœ¨æ‹¼æ¥å­—ç¬¦ä¸²å’Œåè½¬å­—ç¬¦ä¸²çš„æ—¶å€™ä¼šä½¿ç”¨åˆ°</p><h3 id="æ„é€ æ–¹æ³•">2.1 æ„é€ æ–¹æ³•</h3><table><thead><tr class="header"><th>æ–¹æ³•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td>public StringBuilder()</td><td>åˆ›å»ºä¸€ä¸ªç©ºç™½å¯å˜å­—ç¬¦ä¸²å¯¹è±¡ï¼Œä¸å«æœ‰ä»»ä½•å†…å®¹</td></tr><tr class="even"><td>public StringBuilder(String str)</td><td>æ ¹æ®å­—ç¬¦ä¸²çš„å†…å®¹ï¼Œæ¥åˆ›å»ºå¯å˜å­—ç¬¦ä¸²å¯¹è±¡.åˆå§‹åŒ–å­˜åœ¨str</td></tr></tbody></table><h3 id="å¸¸ç”¨æ–¹æ³•">2.2 å¸¸ç”¨æ–¹æ³•</h3><table><thead><tr class="header"><th>æ–¹æ³•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td>public StringBuilder append(ä»»æ„ç±»å‹)</td><td>æ·»åŠ æ•°æ®ï¼Œå¹¶è¿”å›å¯¹è±¡æœ¬èº«</td></tr><tr class="even"><td>public StringBuilder reverse()</td><td>åè½¬å®¹å™¨ä¸­çš„å†…å®¹</td></tr><tr class="odd"><td>public int lengthï¼ˆï¼‰</td><td>è¿”å›é•¿åº¦ï¼ˆå­—ç¬¦å‡ºç°çš„ä¸ªæ•°ï¼‰</td></tr><tr class="even"><td>public String toString()</td><td>æŠŠStringBuilderè½¬æ¢ä¸ºString</td></tr></tbody></table><h3 id="åŸºæœ¬ä½¿ç”¨">2.3 åŸºæœ¬ä½¿ç”¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringBuilderDemo3</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//0.åˆ›å»ºå¯¹è±¡</span><br>        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>(<span class="hljs-string">&quot;abc&quot;</span>);<br><br>        <span class="hljs-comment">//1.æ·»åŠ å…ƒç´ </span><br>        <span class="hljs-comment">/*sb.append(1);</span><br><span class="hljs-comment">        sb.append(2.3);</span><br><span class="hljs-comment">        sb.append(true);</span><br><span class="hljs-comment">        System.out.println(sb);//ç»“æœ abc12.3true</span><br><span class="hljs-comment">        */</span><br>        <br>        <span class="hljs-comment">//2.åè½¬</span><br>        sb.reverse();<br>System.out.println(sb);<span class="hljs-comment">//ç»“æœ cba</span><br>        <span class="hljs-comment">//3.è·å–é•¿åº¦</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> sb.length();<br>        System.out.println(len);<span class="hljs-comment">//ç»“æœ 3</span><br><br><span class="hljs-comment">//4.æŠŠStringBuilderå˜å›String</span><br><span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> sb.toString();<br><br>        <span class="hljs-comment">//æ‰“å°</span><br>        <span class="hljs-comment">//æ™®åŠï¼š</span><br>        <span class="hljs-comment">//å› ä¸ºStringBuilderæ˜¯Javaå·²ç»å†™å¥½çš„ç±»</span><br>        <span class="hljs-comment">//javaåœ¨åº•å±‚å¯¹ä»–åšäº†ä¸€äº›ç‰¹æ®Šå¤„ç†ã€‚</span><br>        <span class="hljs-comment">//æ‰“å°å¯¹è±¡ä¸æ˜¯åœ°å€å€¼è€Œæ˜¯å±æ€§å€¼ã€‚</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="é“¾å¼ç¼–ç¨‹">2.4 é“¾å¼ç¼–ç¨‹</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StringBuilderDemo4</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//1.åˆ›å»ºå¯¹è±¡</span><br>        <span class="hljs-type">StringBuilder</span> <span class="hljs-variable">sb</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringBuilder</span>();<br><br>        <span class="hljs-comment">//2.æ·»åŠ å­—ç¬¦ä¸²</span><br>        sb.append(<span class="hljs-string">&quot;aaa&quot;</span>).append(<span class="hljs-string">&quot;bbb&quot;</span>).append(<span class="hljs-string">&quot;ccc&quot;</span>).append(<span class="hljs-string">&quot;ddd&quot;</span>);<br><br>        System.out.println(sb);<span class="hljs-comment">//aaabbbcccddd</span><br><br>        <span class="hljs-comment">//3.å†æŠŠStringBuilderå˜å›å­—ç¬¦ä¸²</span><br>        <span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> sb.toString();<br>        System.out.println(str);<span class="hljs-comment">//aaabbbcccddd</span><br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="stringjoiner">3. StringJoiner</h2><ul><li>StringJoinerè·ŸStringBuilderä¸€æ ·ï¼Œä¹Ÿå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œåˆ›å»ºä¹‹åé‡Œé¢çš„å†…å®¹æ˜¯å¯å˜çš„ã€‚</li><li>ä½œç”¨ï¼šæé«˜å­—ç¬¦ä¸²çš„æ“ä½œæ•ˆç‡ï¼Œè€Œä¸”ä»£ç ç¼–å†™ç‰¹åˆ«ç®€æ´ï¼Œä½†æ˜¯ç›®å‰å¸‚åœºä¸Šå¾ˆå°‘æœ‰äººç”¨ã€‚</li><li>JDK8å‡ºç°çš„</li></ul><table><thead><tr class="header"><th>æ–¹æ³•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td>public StringJoinerï¼ˆé—´éš”ç¬¦å·ï¼‰</td><td>æŒ‡å®šæ‹¼æ¥çš„é—´éš”ç¬¦å·</td></tr><tr class="even"><td>public StringJoinerï¼ˆé—´éš”ç¬¦å·ï¼Œå¼€å§‹ç¬¦å·ï¼Œç»“æŸç¬¦å·ï¼‰</td><td>æŒ‡å®šæ‹¼æ¥çš„é—´éš”ç¬¦å·ï¼Œå¼€å§‹ç¬¦å·ï¼Œç»“æŸç¬¦å·</td></tr></tbody></table><table><thead><tr class="header"><th>æ–¹æ³•å</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td>public StringJoiner add(ä»»æ„ç±»å‹)</td><td>æ·»åŠ æ•°æ®ï¼Œå¹¶è¿”å›å¯¹è±¡æœ¬èº«</td></tr><tr class="even"><td>public int lengthï¼ˆï¼‰</td><td>è¿”å›é•¿åº¦ï¼ˆå­—ç¬¦å‡ºç°çš„ä¸ªæ•°ï¼‰</td></tr><tr class="odd"><td>public String toString()</td><td>æŠŠStringBuilderè½¬æ¢ä¸ºString</td></tr></tbody></table><p>åŸºæœ¬ä½¿ç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//1.åˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶æŒ‡å®šä¸­é—´çš„é—´éš”ç¬¦å·</span><br><span class="hljs-type">StringJoiner</span> <span class="hljs-variable">sj</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringJoiner</span>(<span class="hljs-string">&quot;---&quot;</span>);<br><span class="hljs-comment">//2.æ·»åŠ å…ƒç´ </span><br>sj.add(<span class="hljs-string">&quot;aaa&quot;</span>).add(<span class="hljs-string">&quot;bbb&quot;</span>).add(<span class="hljs-string">&quot;ccc&quot;</span>);<br><span class="hljs-comment">//3.æ‰“å°ç»“æœ</span><br>System.out.println(sj);<span class="hljs-comment">//aaa---bbb---ccc</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//1.åˆ›å»ºå¯¹è±¡</span><br><span class="hljs-type">StringJoiner</span> <span class="hljs-variable">sj</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">StringJoiner</span>(<span class="hljs-string">&quot;, &quot;</span>,<span class="hljs-string">&quot;[&quot;</span>,<span class="hljs-string">&quot;]&quot;</span>);<br><span class="hljs-comment">//2.æ·»åŠ å…ƒç´ </span><br>sj.add(<span class="hljs-string">&quot;aaa&quot;</span>).add(<span class="hljs-string">&quot;bbb&quot;</span>).add(<span class="hljs-string">&quot;ccc&quot;</span>);<br><span class="hljs-type">int</span> <span class="hljs-variable">len</span> <span class="hljs-operator">=</span> sj.length();<br>System.out.println(len);<span class="hljs-comment">//15</span><br><span class="hljs-comment">//3.æ‰“å°</span><br>System.out.println(sj);<span class="hljs-comment">//[aaa, bbb, ccc]</span><br><span class="hljs-type">String</span> <span class="hljs-variable">str</span> <span class="hljs-operator">=</span> sj.toString();<br>System.out.println(str);<span class="hljs-comment">//[aaa, bbb, ccc]</span><br></code></pre></td></tr></table></figure><h2 id="å…³äºå­—ç¬¦ä¸²çš„åº•å±‚åŸç†">å…³äºå­—ç¬¦ä¸²çš„åº•å±‚åŸç†ï¼š</h2><ol type="1"><li><p>å­—ç¬¦ä¸²å­˜å‚¨çš„å†…å­˜åŸç†</p><p>String s = â€œabcâ€ï¼›ç›´æ¥èµ‹å€¼</p><p>ç‰¹ç‚¹ï¼š</p><p>æ­¤æ—¶å­—ç¬¦ä¸²abcæ˜¯å­˜åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­çš„ã€‚</p><p>å…ˆæ£€æŸ¥å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æœ‰æ²¡æœ‰å­—ç¬¦ä¸²abcï¼Œå¦‚æœæœ‰ï¼Œä¸ä¼šåˆ›å»ºæ–°çš„ï¼Œè€Œæ˜¯ç›´æ¥å¤ç”¨ã€‚å¦‚æœæ²¡æœ‰abcï¼Œæ‰ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ã€‚</p><p>æ‰€ä»¥ï¼Œç›´æ¥èµ‹å€¼çš„æ–¹å¼ï¼Œä»£ç ç®€å•ï¼Œè€Œä¸”èŠ‚çº¦å†…å­˜ã€‚</p></li><li><p>newå‡ºæ¥çš„å­—ç¬¦ä¸²</p><p>çœ‹åˆ°newå…³é”®å­—ï¼Œä¸€å®šæ˜¯åœ¨å †é‡Œé¢å¼€è¾Ÿäº†ä¸€ä¸ªå°ç©ºé—´ã€‚</p><p>String s1 = new Stringï¼ˆâ€œabcâ€ï¼‰ï¼›</p><p>String s2 = â€œabcâ€ï¼›</p><p>s1è®°å½•çš„æ˜¯newå‡ºæ¥çš„ï¼Œåœ¨å †é‡Œé¢çš„åœ°å€å€¼ã€‚</p><p>s2æ˜¯ç›´æ¥èµ‹å€¼çš„ï¼Œæ‰€ä»¥è®°å½•çš„æ˜¯å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­çš„åœ°å€å€¼ã€‚</p></li><li><p><code>==</code>å·æ¯”è¾ƒçš„åˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>å¦‚æœæ¯”è¾ƒçš„æ˜¯åŸºæœ¬æ•°æ®ç±»å‹ï¼šæ¯”çš„æ˜¯å…·ä½“çš„æ•°å€¼æ˜¯å¦ç›¸ç­‰ã€‚</p><p>å¦‚æœæ¯”è¾ƒçš„æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ï¼šæ¯”çš„æ˜¯åœ°å€å€¼æ˜¯å¦ç›¸ç­‰ã€‚</p><p>ç»“è®ºï¼š<code>==</code>åªèƒ½ç”¨äºæ¯”è¾ƒåŸºæœ¬æ•°æ®ç±»å‹ã€‚ä¸èƒ½æ¯”è¾ƒå¼•ç”¨æ•°æ®ç±»å‹ã€‚</p></li></ol>]]></content>
    
    
    <categories>
      
      <category>JavaåŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java08-é¢å‘å¯¹è±¡</title>
    <link href="/2023/06/29/Java08-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/"/>
    <url>/2023/06/29/Java08-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/</url>
    
    <content type="html"><![CDATA[<h2 id="ç±»å’Œå¯¹è±¡">1. ç±»å’Œå¯¹è±¡</h2><h3 id="ç±»å’Œå¯¹è±¡çš„ç†è§£">1.1 ç±»å’Œå¯¹è±¡çš„ç†è§£</h3><p>å®¢è§‚å­˜åœ¨çš„äº‹ç‰©çš†ä¸ºå¯¹è±¡ ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¸¸å¸¸è¯´ä¸‡ç‰©çš†å¯¹è±¡ã€‚</p><ul><li>ç±»<ul><li>ç±»çš„ç†è§£<ul><li>ç±»æ˜¯å¯¹ç°å®ç”Ÿæ´»ä¸­ä¸€ç±»å…·æœ‰å…±åŒå±æ€§å’Œè¡Œä¸ºçš„äº‹ç‰©çš„æŠ½è±¡</li><li>ç±»æ˜¯å¯¹è±¡çš„æ•°æ®ç±»å‹ï¼Œç±»æ˜¯å…·æœ‰ç›¸åŒå±æ€§å’Œè¡Œä¸ºçš„ä¸€ç»„å¯¹è±¡çš„é›†åˆ</li><li>ç®€å•ç†è§£ï¼šç±»å°±æ˜¯å¯¹ç°å®äº‹ç‰©çš„ä¸€ç§æè¿°</li></ul></li><li>ç±»çš„ç»„æˆ<ul><li>å±æ€§ï¼šæŒ‡äº‹ç‰©çš„ç‰¹å¾ï¼Œä¾‹å¦‚ï¼šæ‰‹æœºäº‹ç‰©ï¼ˆå“ç‰Œï¼Œä»·æ ¼ï¼Œå°ºå¯¸ï¼‰</li><li>è¡Œä¸ºï¼šæŒ‡äº‹ç‰©èƒ½æ‰§è¡Œçš„æ“ä½œï¼Œä¾‹å¦‚ï¼šæ‰‹æœºäº‹ç‰©ï¼ˆæ‰“ç”µè¯ï¼Œå‘çŸ­ä¿¡ï¼‰</li></ul></li></ul></li><li>ç±»å’Œå¯¹è±¡çš„å…³ç³»<ul><li>ç±»ï¼šç±»æ˜¯å¯¹ç°å®ç”Ÿæ´»ä¸­ä¸€ç±»å…·æœ‰å…±åŒå±æ€§å’Œè¡Œä¸ºçš„äº‹ç‰©çš„æŠ½è±¡</li><li>å¯¹è±¡ï¼šæ˜¯èƒ½å¤Ÿçœ‹å¾—åˆ°æ‘¸çš„ç€çš„çœŸå®å­˜åœ¨çš„å®ä½“</li><li>ç®€å•ç†è§£ï¼š<strong>ç±»æ˜¯å¯¹äº‹ç‰©çš„ä¸€ç§æè¿°ï¼Œå¯¹è±¡åˆ™ä¸ºå…·ä½“å­˜åœ¨çš„äº‹ç‰©</strong></li></ul></li></ul><h3 id="ç±»çš„å®šä¹‰">1.2 ç±»çš„å®šä¹‰</h3><p>ç±»çš„ç»„æˆæ˜¯ç”±å±æ€§å’Œè¡Œä¸ºä¸¤éƒ¨åˆ†ç»„æˆ</p><ul><li>å±æ€§ï¼šåœ¨ç±»ä¸­é€šè¿‡æˆå‘˜å˜é‡æ¥ä½“ç°ï¼ˆç±»ä¸­æ–¹æ³•å¤–çš„å˜é‡ï¼‰</li><li>è¡Œä¸ºï¼šåœ¨ç±»ä¸­é€šè¿‡æˆå‘˜æ–¹æ³•æ¥ä½“ç°ï¼ˆå’Œå‰é¢çš„æ–¹æ³•ç›¸æ¯”å»æ‰staticå…³é”®å­—å³å¯ï¼‰</li></ul><p>ç±»çš„å®šä¹‰æ­¥éª¤ï¼š</p><p>â‘ å®šä¹‰ç±» ç±»åé¦–å­—æ¯å»ºè®®å¤§å†™ï¼Œéœ€è¦è§åçŸ¥æ„ï¼Œé©¼å³°æ¨¡å¼ã€‚ ä¸€ä¸ªJavaæ–‡ä»¶ä¸­å¯ä»¥å®šä¹‰å¤šä¸ªclassç±»ï¼Œä¸”åªèƒ½ä¸€ä¸ªç±»æ˜¯publicä¿®é¥°ï¼Œè€Œä¸”publicä¿®é¥°çš„ç±»åå¿…é¡»æˆä¸ºä»£ç æ–‡ä»¶åã€‚ å®é™…å¼€å‘ä¸­å»ºè®®è¿˜æ˜¯ä¸€ä¸ªæ–‡ä»¶å®šä¹‰ä¸€ä¸ªclassç±»ã€‚</p><p>â‘¡ç¼–å†™ç±»çš„æˆå‘˜å˜é‡ ä¿®é¥°ç¬¦ æ•°æ®ç±»å‹ å˜é‡åç§° = åˆå§‹åŒ–å€¼ï¼›</p><p>â‘¢ç¼–å†™ç±»çš„æˆå‘˜æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> class ç±»å &#123;<br><span class="hljs-comment">// æˆå‘˜å˜é‡</span><br>å˜é‡<span class="hljs-number">1</span>çš„æ•°æ®ç±»å‹ å˜é‡<span class="hljs-number">1</span>ï¼›<br>å˜é‡<span class="hljs-number">2</span>çš„æ•°æ®ç±»å‹ å˜é‡<span class="hljs-number">2</span>;<br>â€¦<br><span class="hljs-comment">// æˆå‘˜æ–¹æ³•</span><br>æ–¹æ³•<span class="hljs-number">1</span>;<br>æ–¹æ³•<span class="hljs-number">2</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment">    æ‰‹æœºç±»ï¼š</span><br><span class="hljs-comment">        ç±»åï¼š</span><br><span class="hljs-comment">        æ‰‹æœº(Phone)</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        æˆå‘˜å˜é‡ï¼š</span><br><span class="hljs-comment">        å“ç‰Œ(brand)</span><br><span class="hljs-comment">        ä»·æ ¼(price)</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        æˆå‘˜æ–¹æ³•ï¼š</span><br><span class="hljs-comment">        æ‰“ç”µè¯(call)</span><br><span class="hljs-comment">        å‘çŸ­ä¿¡(sendMessage)</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Phone</span> &#123;<br>    <span class="hljs-comment">//æˆå‘˜å˜é‡</span><br>    String brand;<br>    <span class="hljs-type">int</span> price;<br><br>    <span class="hljs-comment">//æˆå‘˜æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">call</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æ‰“ç”µè¯&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">sendMessage</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;å‘çŸ­ä¿¡&quot;</span>);<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><p>å®šä¹‰ç±»çš„è¡¥å……æ³¨æ„äº‹é¡¹</p><ul><li><p>ç”¨æ¥æè¿°ä¸€ç±»äº‹ç‰©çš„ç±»ï¼Œä¸“ä¸šå«åšï¼šJavabeanç±»ã€‚ åœ¨javabeanç±»ä¸­ï¼Œæ˜¯ä¸å†™mainæ–¹æ³•çš„ã€‚</p></li><li><p>åœ¨ä»¥å‰ï¼Œç¼–å†™mainæ–¹æ³•çš„ç±»ï¼Œå«åšæµ‹è¯•ç±»ã€‚ æˆ‘ä»¬å¯ä»¥åœ¨æµ‹è¯•ç±»ä¸­åˆ›å»ºjavabeanç±»çš„å¯¹è±¡å¹¶è¿›è¡Œèµ‹å€¼è°ƒç”¨ã€‚</p></li></ul><p>å®šä¹‰ç±»æŠ€å·§ - å±æ€§å¤šä¸ºåè¯ - åŠ¨è¯å¤šä¸ºè¡Œä¸º ### 1.3 å¯¹è±¡çš„ä½¿ç”¨</p><ul><li>åˆ›å»ºå¯¹è±¡çš„æ ¼å¼ï¼š<ul><li>ç±»å å¯¹è±¡å = new ç±»å();</li></ul></li><li>è°ƒç”¨æˆå‘˜çš„æ ¼å¼ï¼š<ul><li>å¯¹è±¡å.æˆå‘˜å˜é‡</li><li>å¯¹è±¡å.æˆå‘˜æ–¹æ³•();</li></ul></li><li>ç¤ºä¾‹ä»£ç  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment">    åˆ›å»ºå¯¹è±¡</span><br><span class="hljs-comment">        æ ¼å¼ï¼šç±»å å¯¹è±¡å = new ç±»å();</span><br><span class="hljs-comment">        èŒƒä¾‹ï¼šPhone p = new Phone();</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">    ä½¿ç”¨å¯¹è±¡</span><br><span class="hljs-comment">        1ï¼šä½¿ç”¨æˆå‘˜å˜é‡</span><br><span class="hljs-comment">            æ ¼å¼ï¼šå¯¹è±¡å.å˜é‡å</span><br><span class="hljs-comment">            èŒƒä¾‹ï¼šp.brand</span><br><span class="hljs-comment">        2ï¼šä½¿ç”¨æˆå‘˜æ–¹æ³•</span><br><span class="hljs-comment">            æ ¼å¼ï¼šå¯¹è±¡å.æ–¹æ³•å()</span><br><span class="hljs-comment">            èŒƒä¾‹ï¼šp.call()</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">PhoneDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//åˆ›å»ºå¯¹è±¡</span><br>        <span class="hljs-type">Phone</span> <span class="hljs-variable">p</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Phone</span>();<br><br>        <span class="hljs-comment">//ä½¿ç”¨æˆå‘˜å˜é‡</span><br>        System.out.println(p.brand);<br>        System.out.println(p.price);<br><br>        p.brand = <span class="hljs-string">&quot;å°ç±³&quot;</span>;<br>        p.price = <span class="hljs-number">2999</span>;<br><br>        System.out.println(p.brand);<br>        System.out.println(p.price);<br><br>        <span class="hljs-comment">//ä½¿ç”¨æˆå‘˜æ–¹æ³•</span><br>        p.call();<br>        p.sendMessage();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h2 id="å¯¹è±¡å†…å­˜å›¾">2. å¯¹è±¡å†…å­˜å›¾</h2><h3 id="å•ä¸ªå¯¹è±¡å†…å­˜å›¾">2.1 å•ä¸ªå¯¹è±¡å†…å­˜å›¾</h3><p>1.åŠ è½½classæ–‡ä»¶ 2.ç”³æ˜å±€éƒ¨å˜é‡ 3.åœ¨å †å†…å­˜ä¸­å¼€è¾Ÿä¸€ä¸ªç©ºé—´ 4.é»˜è®¤åˆå§‹åŒ– 5.æ˜¾ç¤ºåˆå§‹åŒ– 6.æ„é€ æ–¹æ³•åˆå§‹åŒ– 7.å°†å †å†…å­˜ä¸­çš„åœ°å€å€¼èµ‹å€¼ç»™å·¦è¾¹çš„å±€éƒ¨å˜é‡</p><ul><li>æˆå‘˜å˜é‡ä½¿ç”¨è¿‡ç¨‹</li></ul><p><img src="/img/08-Javaé¢å‘å¯¹è±¡/a988fe806c874853b9932cd82f4f0ace.png" /></p><ul><li>æˆå‘˜æ–¹æ³•è°ƒç”¨è¿‡ç¨‹</li></ul><p><img src="/img/08-Javaé¢å‘å¯¹è±¡/9452a4e92a064994a789cf8933907fee.png" /></p><h3 id="å¤šä¸ªå¯¹è±¡å†…å­˜å›¾">2.2 å¤šä¸ªå¯¹è±¡å†…å­˜å›¾</h3><ul><li>æˆå‘˜å˜é‡ä½¿ç”¨è¿‡ç¨‹</li></ul><p><img src="/img/08-Javaé¢å‘å¯¹è±¡/3fc24a8afebb4205b22c3ab626fac3e1.png" /></p><ul><li>æˆå‘˜æ–¹æ³•è°ƒç”¨è¿‡ç¨‹</li></ul><p><img src="/img/08-Javaé¢å‘å¯¹è±¡/42357759542a4e1e928a5e259b3bbec0.png" /></p><ul><li><p>æ€»ç»“ï¼š</p><p>å¤šä¸ªå¯¹è±¡åœ¨å †å†…å­˜ä¸­ï¼Œéƒ½æœ‰ä¸åŒçš„å†…å­˜åˆ’åˆ†ï¼Œæˆå‘˜å˜é‡å­˜å‚¨åœ¨å„è‡ªçš„å†…å­˜åŒºåŸŸä¸­ï¼Œæˆå‘˜æ–¹æ³•å¤šä¸ªå¯¹è±¡å…±ç”¨çš„ä¸€ä»½</p></li></ul><h2 id="æˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡">3. æˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡</h2><h3 id="æˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡çš„åŒºåˆ«">3.1 æˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡çš„åŒºåˆ«</h3><table><thead><tr class="header"><th>åŒºåˆ«</th><th>æˆå‘˜å˜é‡</th><th>å±€éƒ¨å˜é‡</th></tr></thead><tbody><tr class="odd"><td>ç±»ä¸­ä½ç½®ä¸åŒ</td><td>ç±»ä¸­æ–¹æ³•å¤–</td><td>æ–¹æ³•å†…éƒ¨æˆ–æ–¹æ³•å£°æ˜ä¸Š</td></tr><tr class="even"><td>åˆå§‹åŒ–å€¼ä¸åŒ</td><td>æœ‰é»˜è®¤åˆå§‹åŒ–å€¼</td><td>æ²¡æœ‰é»˜è®¤åˆå§‹åŒ–å€¼ï¼Œå¿…é¡»å…ˆå®šä¹‰ï¼Œèµ‹å€¼æ‰èƒ½ä½¿ç”¨</td></tr><tr class="odd"><td>å†…å­˜ä¸­ä½ç½®ä¸åŒ</td><td>å †å†…å­˜</td><td>æ ˆå†…å­˜</td></tr><tr class="even"><td>ç”Ÿå‘½å‘¨æœŸä¸åŒ</td><td>éšç€å¯¹è±¡çš„å­˜åœ¨è€Œå­˜åœ¨ï¼Œéšç€å¯¹è±¡çš„æ¶ˆå¤±è€Œæ¶ˆå¤±</td><td>éšç€æ–¹æ³•çš„è°ƒç”¨è€Œå­˜åœ¨ï¼Œé†‰ç€æ–¹æ³•çš„è°ƒç”¨å®Œæ¯•è€Œæ¶ˆå¤±</td></tr><tr class="odd"><td>ä½œç”¨åŸŸ</td><td>æ•´ä¸ªç±»ä¸­æœ‰æ•ˆ</td><td>å½“å‰æ–¹æ³•ä¸­æœ‰æ•ˆ</td></tr></tbody></table><h2 id="å°è£…">4. å°è£…</h2><p>é»‘é©¬ç¨‹åºå‘˜Java P83</p><h3 id="å°è£…æ€æƒ³">4.1 å°è£…æ€æƒ³</h3><ol type="1"><li><p>å°è£…æ¦‚è¿° æ˜¯é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹å¾ä¹‹ä¸€ï¼ˆå°è£…ï¼Œç»§æ‰¿ï¼Œå¤šæ€ï¼‰ æœ‰é€‰æ‹©çš„æš´éœ²</p><p><strong>å¯¹è±¡ä»£è¡¨ä»€ä¹ˆï¼Œå°±å¾—å°è£…å¯¹åº”çš„æ•°æ®ï¼Œå¹¶æä¾›æ•°æ®å¯¹åº”çš„è¡Œä¸º</strong> ï¼ˆjava beanç±»ï¼‰</p></li><li><p>å°è£…ä»£ç å®ç° å°†ç±»çš„æŸäº›ä¿¡æ¯éšè—åœ¨ç±»å†…éƒ¨ï¼Œä¸å…è®¸å¤–éƒ¨ç¨‹åºç›´æ¥è®¿é—®ï¼Œè€Œæ˜¯é€šè¿‡è¯¥ç±»æä¾›çš„æ–¹æ³•æ¥å®ç°å¯¹éšè—ä¿¡æ¯çš„æ“ä½œå’Œè®¿é—® æˆå‘˜å˜é‡privateï¼Œæä¾›å¯¹åº”çš„getXxx()/setXxx()æ–¹æ³•</p></li></ol><h3 id="privateå…³é”®å­—">4.2 privateå…³é”®å­—</h3><p>privateæ˜¯ä¸€ä¸ªæƒé™ä¿®é¥°ç¬¦ï¼Œå¯ä»¥ç”¨æ¥ä¿®é¥°æˆå‘˜ï¼ˆæˆå‘˜å˜é‡ï¼Œæˆå‘˜æ–¹æ³•ï¼‰</p><ul><li><p>è¢«privateä¿®é¥°çš„æˆå‘˜ï¼Œåªèƒ½åœ¨æœ¬ç±»è¿›è¡Œè®¿é—®ï¼Œä¸èƒ½åœ¨å…¶ä»–ç±»ç›´æ¥è°ƒç”¨(å¦‚æµ‹è¯•ç±»). å¦‚æœéœ€è¦è¢«å…¶ä»–ç±»ä½¿ç”¨ï¼Œæä¾›ç›¸åº”çš„æ“ä½œ:</p><ul><li>æä¾›â€œgetå˜é‡å()â€æ–¹æ³•ï¼Œç”¨äºè·å–æˆå‘˜å˜é‡çš„å€¼ï¼Œæ–¹æ³•ç”¨publicä¿®é¥°</li><li>æä¾›â€œsetå˜é‡å(å‚æ•°)â€æ–¹æ³•ï¼Œç”¨äºè®¾ç½®æˆå‘˜å˜é‡çš„å€¼ï¼Œæ–¹æ³•ç”¨publicä¿®é¥°</li></ul></li><li><p>ç¤ºä¾‹ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment">    å­¦ç”Ÿç±»</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-comment">//æˆå‘˜å˜é‡</span><br>    String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-comment">//æä¾›get/setæ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> a)</span> &#123;<br>        <span class="hljs-keyword">if</span>(a&lt;<span class="hljs-number">0</span> || a&gt;<span class="hljs-number">120</span>) &#123;<br>            System.out.println(<span class="hljs-string">&quot;ä½ ç»™çš„å¹´é¾„æœ‰è¯¯&quot;</span>);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            age = a;<br>        &#125;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br><br>    <span class="hljs-comment">//æˆå‘˜æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(name + <span class="hljs-string">&quot;,&quot;</span> + age);<br>    &#125;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    å­¦ç”Ÿæµ‹è¯•ç±»</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StudentDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//åˆ›å»ºå¯¹è±¡</span><br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();<br>        <span class="hljs-comment">//ç»™æˆå‘˜å˜é‡èµ‹å€¼</span><br>        s.name = <span class="hljs-string">&quot;æ—é’éœ&quot;</span>;<br>        s.setAge(<span class="hljs-number">30</span>);<br>        <span class="hljs-comment">//è°ƒç”¨showæ–¹æ³•</span><br>        s.show();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h3 id="thiså…³é”®å­—">4.3 thiså…³é”®å­—</h3><ul><li>==this==ä¿®é¥°çš„å˜é‡ç”¨äº==æŒ‡ä»£æˆå‘˜å˜é‡==ï¼Œå…¶ä¸»è¦ä½œç”¨æ˜¯ï¼ˆåŒºåˆ†å±€éƒ¨å˜é‡å’Œæˆå‘˜å˜é‡çš„é‡åé—®é¢˜ï¼‰<ul><li>æ–¹æ³•çš„å½¢å‚å¦‚æœä¸æˆå‘˜å˜é‡åŒåï¼Œä¸å¸¦thisä¿®é¥°çš„å˜é‡æŒ‡çš„æ˜¯å½¢å‚ï¼Œè€Œä¸æ˜¯æˆå‘˜å˜é‡</li><li>æ–¹æ³•çš„å½¢å‚æ²¡æœ‰ä¸æˆå‘˜å˜é‡åŒåï¼Œä¸å¸¦thisä¿®é¥°çš„å˜é‡æŒ‡çš„æ˜¯æˆå‘˜å˜é‡</li><li>ä¸å†™thisçš„è¯å°±æ˜¯å°±è¿‘åŸåˆ™</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(name + <span class="hljs-string">&quot;,&quot;</span> + age);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>thisçš„å†…å­˜åŸç† é»‘é©¬P89 thisçš„æœ¬è´¨:æ‰€åœ¨æ–¹æ³•è°ƒç”¨è€…çš„åœ°å€å€¼</li></ul><h2 id="æ„é€ æ–¹æ³•">5. æ„é€ æ–¹æ³•</h2><h3 id="æ„é€ æ–¹æ³•æ¦‚è¿°">5.1 æ„é€ æ–¹æ³•æ¦‚è¿°</h3><p>æ„é€ æ–¹æ³•æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–¹æ³•,ä¹Ÿå«ä½œæ„é€ å™¨ã€æ„é€ å‡½æ•°ã€‚</p><ul><li><p>ä½œç”¨ï¼š åˆ›é€ å¯¹è±¡çš„æ—¶å€™ï¼Œç”±è™šæ‹Ÿæœºè‡ªåŠ¨è°ƒç”¨æ„é€ æ–¹æ³•ï¼Œç»™æˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–(å³èµ‹å€¼)çš„ã€‚å®Œæˆå¯¹è±¡æ•°æ®çš„åˆå§‹åŒ– <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs Java"> <span class="hljs-type">Student</span> <span class="hljs-variable">stu</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();  <span class="hljs-comment">//ç©ºå‚çš„æ„é€ æ–¹æ³•</span><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">newä¸ºåˆ›å»ºå¯¹è±¡</span><br><span class="hljs-comment">ç©ºå‚æ„é€ å…ˆæŠŠå¯¹è±¡åˆ›å»ºå‡ºæ¥,Studentä¸ºè‡ªå·±åˆ›å»ºçš„æ–¹æ³•</span><br><span class="hljs-comment">åç»­åœ¨ç”¨   </span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure></p></li><li><p>ç§ç±» æ— å‚æ•°æ„é€ æ–¹æ³•ï¼šåˆå§‹åŒ–çš„å¯¹è±¡æ—¶ï¼Œæˆå‘˜å˜é‡çš„æ•°æ®å‡é‡‡ç”¨é»˜è®¤å€¼ã€‚ æœ‰å‚æ•°æ„é€ æ–¹æ³•ï¼šåœ¨åˆå§‹åŒ–å¯¹è±¡çš„æ—¶å€™ï¼ŒåŒæ—¶å¯ä»¥ä¸ºå¯¹è±¡è¿›è¡Œèµ‹å€¼ã€‚</p></li><li><p>æ ¼å¼ï¼š</p><p>public class ç±»å{ ä¿®é¥°ç¬¦ ç±»å( å‚æ•° ) { æ–¹æ³•ä½“; } }</p></li><li><p>ç¤ºä¾‹ä»£ç ï¼š</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-comment">//æ„é€ æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;æ— å‚æ„é€ æ–¹æ³•&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(name + <span class="hljs-string">&quot;,&quot;</span> + age);<br>    &#125;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    æµ‹è¯•ç±»</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StudentDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//åˆ›å»ºå¯¹è±¡</span><br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();<span class="hljs-comment">// æ— å‚æ„é€ æ–¹æ³•</span><br>        s.show();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ„é€ æ–¹æ³•çš„æ³¨æ„äº‹é¡¹">5.2 æ„é€ æ–¹æ³•çš„æ³¨æ„äº‹é¡¹</h3><ul><li><p>æ„é€ æ–¹æ³•çš„å®šä¹‰ å¦‚æœæ²¡æœ‰å®šä¹‰æ„é€ æ–¹æ³•ï¼Œç³»ç»Ÿå°†ç»™å‡ºä¸€ä¸ªé»˜è®¤çš„æ— å‚æ•°æ„é€ æ–¹æ³• å¦‚æœå®šä¹‰äº†æ„é€ æ–¹æ³•ï¼Œç³»ç»Ÿå°†ä¸å†æä¾›é»˜è®¤çš„æ„é€ æ–¹æ³• å¦‚æœè‡ªå®šä¹‰äº†å¸¦å‚æ„é€ æ–¹æ³•ï¼Œè¿˜è¦ä½¿ç”¨æ— å‚æ•°æ„é€ æ–¹æ³•ï¼Œå°±å¿…é¡»å†å†™ä¸€ä¸ªæ— å‚æ•°æ„é€ æ–¹æ³•</p></li><li><p>æ„é€ æ–¹æ³•çš„é‡è½½ å¸¦å‚æ„é€ æ–¹æ³•å’Œæ— å‚æ•°æ„é€ æ–¹æ³•ï¼Œä¸¤è€…æ–¹æ³•åç›¸åŒï¼Œä½†æ˜¯å‚æ•°ä¸åŒï¼Œè¿™å«åšæ„é€ æ–¹æ³•çš„é‡è½½</p></li><li><p>æ¨èçš„ä½¿ç”¨æ–¹å¼ æ— è®ºæ˜¯å¦ä½¿ç”¨ï¼Œ==éƒ½å†™==æ— å‚å’Œå¸¦å…¨éƒ¨å‚æ•°çš„æ„é€ æ–¹æ³•</p></li><li><p>é‡è¦åŠŸèƒ½ï¼</p></li></ul><p>å¯ä»¥ä½¿ç”¨å¸¦å‚æ„é€ ï¼Œä¸ºæˆå‘˜å˜é‡è¿›è¡Œåˆå§‹åŒ–</p><ul><li>ç¤ºä¾‹ä»£ç </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment">    å­¦ç”Ÿç±»</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> &#123;&#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name,<span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(name + <span class="hljs-string">&quot;,&quot;</span> + age);<br>    &#125;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    æµ‹è¯•ç±»</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StudentDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//åˆ›å»ºå¯¹è±¡</span><br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();<br>        s1.show();<br><br>        <span class="hljs-comment">//public Student(String name)</span><br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;æ—é’éœ&quot;</span>);<br>        s2.show();<br><br>        <span class="hljs-comment">//public Student(int age)</span><br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s3</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-number">30</span>);<br>        s3.show();<br><br>        <span class="hljs-comment">//public Student(String name,int age)</span><br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s4</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;æ—é’éœ&quot;</span>,<span class="hljs-number">30</span>);<br>        s4.show();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ ‡å‡†javabeanç±»åˆ¶ä½œ">5.3 æ ‡å‡†JavaBeanç±»åˆ¶ä½œ</h3><p>â‘  ç±»åéœ€è¦è§åçŸ¥æ„</p><p>â‘¡ æˆå‘˜å˜é‡ä½¿ç”¨privateä¿®é¥°</p><p>â‘¢ æä¾›è‡³å°‘ä¸¤ä¸ªæ„é€ æ–¹æ³•</p><ul><li>æ— å‚æ„é€ æ–¹æ³•</li><li>å¸¦å…¨éƒ¨å‚æ•°çš„æ„é€ æ–¹æ³•</li></ul><p>â‘£ æˆå‘˜æ–¹æ³•</p><ul><li>æä¾›æ¯ä¸€ä¸ªæˆå‘˜å˜é‡å¯¹åº”çš„setXxx()/getXxx()</li><li>å¦‚æœè¿˜æœ‰å…¶ä»–è¡Œä¸ºï¼Œä¹Ÿéœ€è¦å†™ä¸Š</li></ul><h3 id="ä¾‹1">5.4 ä¾‹1</h3><p>éœ€æ±‚ï¼š</p><pre><code class="hljs">å®šä¹‰æ ‡å‡†å­¦ç”Ÿç±»ï¼Œè¦æ±‚åˆ†åˆ«ä½¿ç”¨ç©ºå‚å’Œæœ‰å‚æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡ï¼Œç©ºå‚åˆ›å»ºçš„å¯¹è±¡é€šè¿‡setXxxèµ‹å€¼ï¼Œæœ‰å‚åˆ›å»ºçš„å¯¹è±¡ç›´æ¥èµ‹å€¼ï¼Œå¹¶é€šè¿‡showæ–¹æ³•å±•ç¤ºæ•°æ®ã€‚ </code></pre><ul><li>ç¤ºä¾‹ä»£ç ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">class</span> <span class="hljs-title class_">Student</span> &#123;<br>    <span class="hljs-comment">//æˆå‘˜å˜é‡</span><br>    <span class="hljs-keyword">private</span> String name;<br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<br><br>    <span class="hljs-comment">//æ„é€ æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">Student</span><span class="hljs-params">(String name, <span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-comment">//æˆå‘˜æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setName</span><span class="hljs-params">(String name)</span> &#123;<br>        <span class="hljs-built_in">this</span>.name = name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getName</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> name;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">show</span><span class="hljs-params">()</span> &#123;<br>        System.out.println(name + <span class="hljs-string">&quot;,&quot;</span> + age);<br>    &#125;<br>&#125;<br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    åˆ›å»ºå¯¹è±¡å¹¶ä¸ºå…¶æˆå‘˜å˜é‡èµ‹å€¼çš„ä¸¤ç§æ–¹å¼</span><br><span class="hljs-comment">        1:æ— å‚æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡åä½¿ç”¨setXxx()èµ‹å€¼</span><br><span class="hljs-comment">        2:ä½¿ç”¨å¸¦å‚æ„é€ æ–¹æ³•ç›´æ¥åˆ›å»ºå¸¦æœ‰å±æ€§å€¼çš„å¯¹è±¡</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">StudentDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//æ— å‚æ„é€ æ–¹æ³•åˆ›å»ºå¯¹è±¡åä½¿ç”¨setXxx()èµ‹å€¼</span><br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>();<br>        s1.setName(<span class="hljs-string">&quot;æ—é’éœ&quot;</span>);<br>        s1.setAge(<span class="hljs-number">30</span>);<br>        s1.show();<br><br>        <span class="hljs-comment">//ä½¿ç”¨å¸¦å‚æ„é€ æ–¹æ³•ç›´æ¥åˆ›å»ºå¸¦æœ‰å±æ€§å€¼çš„å¯¹è±¡</span><br>        <span class="hljs-type">Student</span> <span class="hljs-variable">s2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Student</span>(<span class="hljs-string">&quot;æ—é’éœ&quot;</span>,<span class="hljs-number">30</span>);<br>        s2.show();<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ä¾‹2">5.4 ä¾‹2</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">User</span> &#123;<br>    <span class="hljs-comment">//1.ç§æœ‰åŒ–å…¨éƒ¨çš„æˆå‘˜å˜é‡</span><br>    <span class="hljs-comment">//2.ç©ºå‚æ„é€ </span><br>    <span class="hljs-comment">//3.å¸¦å…¨éƒ¨å‚æ•°çš„æ„é€ </span><br>    <span class="hljs-comment">//4.é’ˆå¯¹äºæ¯ä¸€ä¸ªç§æœ‰åŒ–çš„æˆå‘˜å˜é‡éƒ½è¦æä¾›å…¶å¯¹åº”çš„getå’Œsetæ–¹æ³•</span><br>    <span class="hljs-comment">//5.å¦‚æœå½“å‰äº‹ç‰©è¿˜æœ‰å…¶ä»–è¡Œä¸ºï¼Œé‚£ä¹ˆä¹Ÿè¦å†™å‡ºæ¥ï¼Œæ¯”å¦‚å­¦ç”Ÿçš„åƒé¥­ï¼Œç¡è§‰ç­‰è¡Œä¸º</span><br><br>    <span class="hljs-keyword">private</span> String username;<span class="hljs-comment">//ç”¨æˆ·å</span><br>    <span class="hljs-keyword">private</span> String password;<span class="hljs-comment">//å¯†ç </span><br>    <span class="hljs-keyword">private</span> String email;<span class="hljs-comment">//é‚®ç®±</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">char</span> gender;<span class="hljs-comment">//æ€§åˆ«</span><br>    <span class="hljs-keyword">private</span> <span class="hljs-type">int</span> age;<span class="hljs-comment">//å¹´é¾„</span><br><br>    <span class="hljs-comment">//ç©ºå‚æ„é€ æ–¹æ³•</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">()</span> &#123;<br>    &#125;<br><br>    <span class="hljs-comment">//å¸¦å…¨éƒ¨å‚æ•°çš„æ„é€ </span><br>    <span class="hljs-keyword">public</span> <span class="hljs-title function_">User</span><span class="hljs-params">(String username, String password, String email, <span class="hljs-type">char</span> gender, <span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.username = username;<br>        <span class="hljs-built_in">this</span>.password = password;<br>        <span class="hljs-built_in">this</span>.email = email;<br>        <span class="hljs-built_in">this</span>.gender = gender;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-comment">//getå’Œset</span><br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getUsername</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> username;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setUsername</span><span class="hljs-params">(String username)</span> &#123;<br>        <span class="hljs-built_in">this</span>.username = username;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getPassword</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> password;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setPassword</span><span class="hljs-params">(String password)</span> &#123;<br>        <span class="hljs-built_in">this</span>.password = password;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> String <span class="hljs-title function_">getEmail</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> email;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setEmail</span><span class="hljs-params">(String email)</span> &#123;<br>        <span class="hljs-built_in">this</span>.email = email;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">char</span> <span class="hljs-title function_">getGender</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> gender;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setGender</span><span class="hljs-params">(<span class="hljs-type">char</span> gender)</span> &#123;<br>        <span class="hljs-built_in">this</span>.gender = gender;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getAge</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-keyword">return</span> age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">setAge</span><span class="hljs-params">(<span class="hljs-type">int</span> age)</span> &#123;<br>        <span class="hljs-built_in">this</span>.age = age;<br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">eat</span><span class="hljs-params">()</span>&#123;<br>        System.out.println(username + <span class="hljs-string">&quot;åœ¨åƒé¥­&quot;</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//å†™ä¸€ä¸ªæ ‡å‡†çš„javabeanç±»</span><br>        <span class="hljs-comment">//å’±ä»¬åœ¨è¯¾ååªè¦èƒ½æŠŠè¿™ä¸ªæ ‡å‡†çš„javabeanèƒ½è‡ªå·±å†™å‡ºæ¥ï¼Œé‚£ä¹ˆå°±è¡¨ç¤ºä»Šå¤©çš„çŸ¥è¯†ç‚¹å°±okäº†</span><br><br><br>        <span class="hljs-comment">//åˆ©ç”¨ç©ºå‚æ„é€ åˆ›å»ºå¯¹è±¡</span><br>        <span class="hljs-type">User</span> <span class="hljs-variable">u1</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>();<br>        <span class="hljs-comment">//å¦‚æœåˆ©ç”¨ç©ºå‚åˆ›å»ºå¯¹è±¡ï¼Œè¿˜æƒ³èµ‹å€¼åªèƒ½ç”¨setæ–¹æ³•èµ‹å€¼</span><br>        u1.setUsername(<span class="hljs-string">&quot;zhangsan&quot;</span>);<br>        u1.setPassword(<span class="hljs-string">&quot;1234qwer&quot;</span>);<br>        u1.setEmail(<span class="hljs-string">&quot;zjl256904767@outlook.com&quot;</span>);<br>        u1.setGender(<span class="hljs-string">&#x27;ç”·&#x27;</span>);<br>        u1.setAge(<span class="hljs-number">23</span>);<br>        <span class="hljs-comment">//è·å–å±æ€§çš„å€¼å¹¶æ‰“å°</span><br>        System.out.println(u1.getUsername() + <span class="hljs-string">&quot;, &quot;</span> + u1.getPassword()<br>                + <span class="hljs-string">&quot;, &quot;</span> + u1.getEmail() + <span class="hljs-string">&quot;, &quot;</span> + u1.getGender() + <span class="hljs-string">&quot;, &quot;</span> + u1.getAge());<br>        u1.eat();<br><br>        System.out.println(<span class="hljs-string">&quot;=============================&quot;</span>);<br><br>        <span class="hljs-comment">//ç®€å•çš„åŠæ³•</span><br>        <span class="hljs-comment">//åˆ©ç”¨å¸¦å…¨éƒ¨å‚æ•°çš„æ„é€ æ¥åˆ›å»ºå¯¹è±¡</span><br>        <span class="hljs-comment">//å¿«æ·é”®:ctrl + p</span><br>        <span class="hljs-type">User</span> <span class="hljs-variable">u2</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">User</span>(<span class="hljs-string">&quot;lisi&quot;</span>,<span class="hljs-string">&quot;12345678&quot;</span>,<span class="hljs-string">&quot;lisi@outlook.com&quot;</span>,<span class="hljs-string">&#x27;å¥³&#x27;</span>,<span class="hljs-number">24</span>);<br>        System.out.println(u2.getUsername() + <span class="hljs-string">&quot;, &quot;</span> + u2.getPassword()<br>                + <span class="hljs-string">&quot;, &quot;</span> + u2.getEmail() + <span class="hljs-string">&quot;, &quot;</span> + u2.getGender() + <span class="hljs-string">&quot;, &quot;</span> + u2.getAge());<br>        u2.eat();<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure><h2 id="åŸºæœ¬æ•°æ®ç±»å‹ä¸å¼•ç”¨æ•°æ®ç±»å‹">6.åŸºæœ¬æ•°æ®ç±»å‹ä¸å¼•ç”¨æ•°æ®ç±»å‹</h2><p>ä»å†…å­˜çš„è§’åº¦å»è§£é‡Šï¼š åŸºæœ¬æ•°æ®ç±»å‹ï¼šæ•°æ®å€¼æ˜¯å­˜å‚¨åœ¨è‡ªå·±çš„ç©ºé—´ä¸­ å¼•ç”¨æ•°æ®ç±»å‹ï¼šæ•°æ®å€¼æ˜¯å­˜å‚¨åœ¨å…¶ä»–ç©ºé—´ä¸­ï¼Œ è‡ªå·±ç©ºé—´ä¸­å­˜å‚¨çš„æ˜¯åœ°å€å€¼ã€‚</p>]]></content>
    
    
    <categories>
      
      <category>JavaåŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java07-æ–¹æ³•</title>
    <link href="/2023/06/29/Java07-%E6%96%B9%E6%B3%95/"/>
    <url>/2023/06/29/Java07-%E6%96%B9%E6%B3%95/</url>
    
    <content type="html"><![CDATA[<h2 id="æ–¹æ³•æ¦‚è¿°">1. æ–¹æ³•æ¦‚è¿°</h2><h3 id="æ–¹æ³•çš„æ¦‚å¿µ">1.1 æ–¹æ³•çš„æ¦‚å¿µ</h3><p>æ–¹æ³•ï¼ˆmethodï¼‰æ˜¯ç¨‹åºä¸­æœ€å°çš„æ‰§è¡Œå•å…ƒ</p><p>æ³¨æ„ï¼š * æ–¹æ³•å¿…é¡»å…ˆåˆ›å»ºæ‰å¯ä»¥ä½¿ç”¨ï¼Œè¯¥è¿‡ç¨‹å³ä¸ºæ–¹æ³•å®šä¹‰ï¼ˆæŠŠä¸€äº›ä»£ç æ‰“åŒ…åœ¨ä¸€èµ·ï¼‰ * æ–¹æ³•å®šä¹‰åå¹¶ä¸æ˜¯ç›´æ¥è¿è¡Œï¼Œéœ€è¦æ‰‹åŠ¨ä½¿ç”¨æ‰æ‰§è¡Œï¼Œè¯¥è¿‡ç¨‹å³ä¸ºæ–¹æ³•è°ƒç”¨</p><h2 id="æ–¹æ³•çš„å®šä¹‰å’Œè°ƒç”¨">2. æ–¹æ³•çš„å®šä¹‰å’Œè°ƒç”¨</h2><h3 id="æ— å‚æ•°æ–¹æ³•å®šä¹‰å’Œè°ƒç”¨">2.1 æ— å‚æ•°æ–¹æ³•å®šä¹‰å’Œè°ƒç”¨</h3><ul><li><p>å®šä¹‰æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> æ–¹æ³•å (  ) &#123;<br><span class="hljs-comment">// æ–¹æ³•ä½“;</span><br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>è°ƒç”¨æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">æ–¹æ³•å();<br></code></pre></td></tr></table></figure></li><li><p>æ³¨æ„ï¼š æ–¹æ³•å¿…é¡»å…ˆå®šä¹‰ï¼Œåè°ƒç”¨ï¼Œå¦åˆ™ç¨‹åºå°†æŠ¥é”™ æ–¹æ³•å®šä¹‰è¦å†™åœ¨mainæ–¹æ³•å¤–é¢ï¼Œç±»çš„é‡Œé¢</p></li></ul><h3 id="æœ‰å‚æ•°æ–¹æ³•å®šä¹‰å’Œè°ƒç”¨">2.2 æœ‰å‚æ•°æ–¹æ³•å®šä¹‰å’Œè°ƒç”¨</h3><ul><li><p>å®šä¹‰æ ¼å¼ï¼š å‚æ•°ï¼šæ•°æ®ç±»å‹ å˜é‡å</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> æ–¹æ³•å (å‚æ•°<span class="hljs-number">1</span>, å‚æ•°<span class="hljs-number">2</span>, å‚æ•°<span class="hljs-number">3.</span>..) &#123;<br>æ–¹æ³•ä½“;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>èŒƒä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">getMax</span><span class="hljs-params">(<span class="hljs-type">int</span> num1, <span class="hljs-type">int</span> num2)</span>&#123;<br>    ...<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>è°ƒç”¨æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">æ–¹æ³•å(å‚æ•°)ï¼›<br><br>æ–¹æ³•å(å‚æ•°<span class="hljs-number">1</span>,å‚æ•°<span class="hljs-number">2</span>)ï¼›<br></code></pre></td></tr></table></figure></li></ul><p>æ³¨æ„ï¼š - æ–¹æ³•å®šä¹‰æ—¶ï¼Œå‚æ•°ä¸­çš„æ•°æ®ç±»å‹ä¸å˜é‡åéƒ½ä¸èƒ½ç¼ºå°‘ - æ–¹æ³•å®šä¹‰æ—¶ï¼Œå¤šä¸ªå‚æ•°ä¹‹é—´ä½¿ç”¨é€—å·( ï¼Œ)åˆ†éš” * æ–¹æ³•è°ƒç”¨æ—¶ï¼Œå‚æ•°çš„æ•°é‡ä¸ç±»å‹å¿…é¡»ä¸æ–¹æ³•å®šä¹‰ä¸­çš„è®¾ç½®ç›¸åŒ¹é…</p><h3 id="å½¢å‚å’Œå®å‚">2.3 å½¢å‚å’Œå®å‚</h3><ol type="1"><li>å½¢å‚ï¼šæ–¹æ³•å®šä¹‰ä¸­çš„å‚æ•°</li></ol><p>ç­‰åŒäºå˜é‡å®šä¹‰æ ¼å¼ï¼Œä¾‹å¦‚ï¼šint number</p><ol start="2" type="1"><li>å®å‚ï¼šæ–¹æ³•è°ƒç”¨ä¸­çš„å‚æ•°</li></ol><p>ç­‰åŒäºä½¿ç”¨å˜é‡æˆ–å¸¸é‡ï¼Œä¾‹å¦‚ï¼š 10 number</p><h3 id="å¸¦è¿”å›å€¼æ–¹æ³•å®šä¹‰å’Œè°ƒç”¨">2.4 å¸¦è¿”å›å€¼æ–¹æ³•å®šä¹‰å’Œè°ƒç”¨</h3><ul><li><p>å®šä¹‰æ ¼å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> è¿”å›å€¼ç±»å‹ æ–¹æ³•å ( å‚æ•° ) &#123; <br>  æ–¹æ³•ä½“<br>   <span class="hljs-keyword">return</span> è¿”å›å€¼ ;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>è°ƒç”¨æ ¼å¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//ç›´æ¥è°ƒç”¨</span><br>æ–¹æ³•å ( å®å‚ ) ;<br><br><span class="hljs-comment">//èµ‹å€¼è°ƒç”¨</span><br>æ•°æ®ç±»å‹ å˜é‡å = æ–¹æ³•å ( å®å‚ ) ;<br><br><span class="hljs-comment">//è¾“å‡ºè°ƒç”¨</span><br>sout(æ–¹æ³•å ( å®å‚ ))<br></code></pre></td></tr></table></figure></li><li><p>èŒƒä¾‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">isEvenNumber ( <span class="hljs-number">5</span> ) ;<br><span class="hljs-type">boolean</span>  <span class="hljs-variable">flag</span> <span class="hljs-operator">=</span>  isEvenNumber ( <span class="hljs-number">5</span> ); <br></code></pre></td></tr></table></figure></li></ul><p>æ³¨æ„ï¼š - æ–¹æ³•å®šä¹‰æ—¶returnåé¢çš„è¿”å›å€¼ä¸æ–¹æ³•å®šä¹‰ä¸Šçš„æ•°æ®ç±»å‹è¦åŒ¹é…ï¼Œå¦åˆ™ç¨‹åºå°†æŠ¥é”™ - æ–¹æ³•çš„è¿”å›å€¼é€šå¸¸ä¼šä½¿ç”¨å˜é‡æ¥æ”¶ï¼Œå¦åˆ™è¯¥è¿”å›å€¼å°†æ— æ„ä¹‰</p><h3 id="æ–¹æ³•å®šä¹‰çš„å°æŠ€å·§">2.5==æ–¹æ³•å®šä¹‰çš„å°æŠ€å·§==</h3><ol start="0" type="1"><li>éœ€è¦==é‡å¤==ç”¨åˆ°çš„æ¨¡å—å®šä¹‰ä¸ºæ–¹æ³•</li><li>æˆ‘è¦å¹²ä»€ä¹ˆï¼Ÿ ï¼ˆæ–¹æ³•ä½“ï¼‰</li><li>æˆ‘å¹²è¿™ä»¶äº‹æƒ…éœ€è¦ä»€ä¹ˆæ‰èƒ½å®Œæˆï¼Ÿ ï¼ˆå½¢å‚ï¼‰</li><li>æ–¹æ³•çš„è°ƒç”¨å¤„æ˜¯å¦éœ€è¦ç»§ç»­ä½¿ç”¨æ–¹æ³•çš„ç»“æœ ï¼ˆè¿”å›å€¼ï¼‰ ## 3. æ–¹æ³•çš„æ³¨æ„äº‹é¡¹</li></ol><h3 id="æ–¹æ³•çš„æ³¨æ„äº‹é¡¹">3.1 æ–¹æ³•çš„æ³¨æ„äº‹é¡¹</h3><ul><li><p>æ–¹æ³•ä¸èƒ½åµŒå¥—å®šä¹‰</p><p>ç¤ºä¾‹ä»£ç ï¼š</p><p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MethodDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br>    &#125;<br><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">methodOne</span><span class="hljs-params">()</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">methodTwo</span><span class="hljs-params">()</span> &#123;<br>       <span class="hljs-comment">// è¿™é‡Œä¼šå¼•å‘ç¼–è¯‘é”™è¯¯!!!</span><br>    &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></p></li><li><p>voidè¡¨ç¤ºæ— è¿”å›å€¼ï¼Œå¯ä»¥çœç•¥returnï¼Œä¹Ÿå¯ä»¥å•ç‹¬çš„ä¹¦å†™returnï¼Œåé¢ä¸åŠ æ•°æ®</p><p>ç¤ºä¾‹ä»£ç ï¼š</p><p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MethodDemo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br><br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">methodTwo</span><span class="hljs-params">()</span> &#123;<br>        <span class="hljs-comment">//return 100; ç¼–è¯‘é”™è¯¯ï¼Œå› ä¸ºæ²¡æœ‰å…·ä½“è¿”å›å€¼ç±»å‹</span><br>        <span class="hljs-keyword">return</span>;<br>        <span class="hljs-comment">//System.out.println(100); returnè¯­å¥åé¢ä¸èƒ½è·Ÿæ•°æ®æˆ–ä»£ç </span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></p></li><li><p>returnè¯­å¥ä¸‹é¢ï¼Œä¸èƒ½ç¼–å†™ä»£ç ï¼Œå› ä¸ºæ°¸è¿œæ‰§è¡Œä¸åˆ°ï¼Œå±äºæ— æ•ˆçš„ä»£ç  æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ï¼šå¯ä»¥çœè·¯ä¸å†™ã€‚å¦‚æœä¹¦å†™ï¼Œè¡¨ç¤ºç»“æŸæ–¹æ³• æ–¹æ³•æœ‰è¿”å›å€¼ï¼šå¿…é¡»è¦å†™ã€‚è¡¨ç¤ºç»“æŸæ–¹æ³•å’Œè¿”å›ç»“æœ</p></li></ul><h3 id="æ–¹æ³•çš„é€šç”¨æ ¼å¼">3.2 æ–¹æ³•çš„é€šç”¨æ ¼å¼</h3><ul><li><p>æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å‚æ•°) &#123;<br>   æ–¹æ³•ä½“; <br>   <span class="hljs-keyword">return</span> æ•°æ® ;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>è§£é‡Šï¼š</p></li></ul><p>public static ä¿®é¥°ç¬¦ï¼Œç›®å‰å…ˆè®°ä½è¿™ä¸ªæ ¼å¼</p><p>è¿”å›å€¼ç±»å‹ æ–¹æ³•æ“ä½œå®Œæ¯•ä¹‹åè¿”å›çš„æ•°æ®çš„æ•°æ®ç±»å‹</p><p>å¦‚æœæ–¹æ³•æ“ä½œå®Œæ¯•ï¼Œæ²¡æœ‰æ•°æ®è¿”å›ï¼Œè¿™é‡Œå†™voidï¼Œè€Œä¸”æ–¹æ³•ä½“ä¸­ä¸€èˆ¬ä¸å†™return</p><p>æ–¹æ³•å è°ƒç”¨æ–¹æ³•æ—¶å€™ä½¿ç”¨çš„æ ‡è¯†</p><p>å‚æ•° ç”±æ•°æ®ç±»å‹å’Œå˜é‡åç»„æˆï¼Œå¤šä¸ªå‚æ•°ä¹‹é—´ç”¨é€—å·éš”å¼€</p><p>æ–¹æ³•ä½“ å®ŒæˆåŠŸèƒ½çš„ä»£ç å—</p><p>return å¦‚æœæ–¹æ³•æ“ä½œå®Œæ¯•ï¼Œæœ‰æ•°æ®è¿”å›ï¼Œç”¨äºæŠŠæ•°æ®è¿”å›ç»™è°ƒç”¨è€…</p><ul><li><p>å®šä¹‰æ–¹æ³•æ—¶ï¼Œè¦åšåˆ°ä¸¤ä¸ªæ˜ç¡®</p><ul><li>æ˜ç¡®è¿”å›å€¼ç±»å‹ï¼šä¸»è¦æ˜¯æ˜ç¡®æ–¹æ³•æ“ä½œå®Œæ¯•ä¹‹åæ˜¯å¦æœ‰æ•°æ®è¿”å›ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå†™voidï¼›å¦‚æœæœ‰ï¼Œå†™å¯¹åº”çš„æ•°æ®ç±»å‹</li><li>æ˜ç¡®å‚æ•°ï¼šä¸»è¦æ˜¯æ˜ç¡®å‚æ•°çš„ç±»å‹å’Œæ•°é‡</li></ul></li><li><p>è°ƒç”¨æ–¹æ³•æ—¶çš„æ³¨æ„ï¼š</p><ul><li>voidç±»å‹çš„æ–¹æ³•ï¼Œç›´æ¥è°ƒç”¨å³å¯</li><li>évoidç±»å‹çš„æ–¹æ³•ï¼Œæ¨èç”¨å˜é‡æ¥æ”¶è°ƒç”¨</li></ul></li></ul><h2 id="æ–¹æ³•é‡è½½">4. æ–¹æ³•é‡è½½</h2><h3 id="æ–¹æ³•é‡è½½-1">4.1 æ–¹æ³•é‡è½½</h3><ul><li><p>æ–¹æ³•é‡è½½æ¦‚å¿µ</p><p>æ–¹æ³•é‡è½½æŒ‡åŒä¸€ä¸ªç±»ä¸­å®šä¹‰çš„å¤šä¸ªæ–¹æ³•ä¹‹é—´çš„å…³ç³»ï¼Œæ»¡è¶³ä¸‹åˆ—æ¡ä»¶çš„å¤šä¸ªæ–¹æ³•ç›¸äº’æ„æˆé‡è½½</p><ul><li>å¤šä¸ªæ–¹æ³•åœ¨==åŒä¸€ç±»ä¸­==</li><li>å¤šä¸ªæ–¹æ³•å…·æœ‰==ç›¸åŒçš„æ–¹æ³•å==</li><li>å¤šä¸ªæ–¹æ³•çš„==å‚æ•°ä¸ç›¸åŒ==ï¼Œç±»å‹ä¸åŒã€æ•°é‡ä¸åŒ æˆ– é¡ºåºä¸åŒ(ä¸å»ºè®®)</li></ul></li><li><p>ç®€å•è®°ï¼šåŒä¸€ä¸ªç±»ä¸­ï¼Œæ–¹æ³•åç›¸åŒï¼Œå‚æ•°ï¼ˆå½¢å‚ï¼‰ä¸åŒçš„æ–¹æ³•ã€‚ ä¸è¿”å›å€¼æ— å…³ã€‚åªæœ‰ä¸‰ä¸ªæ¡ä»¶ï¼Œä¸çœ‹å…¶ä»–æ¡ä»¶ã€‚</p></li></ul><p><strong>æ³¨æ„ï¼š</strong> * é‡è½½ä»…å¯¹åº”æ–¹æ³•çš„å®šä¹‰ï¼Œä¸æ–¹æ³•çš„è°ƒç”¨æ— å…³ï¼Œè°ƒç”¨æ–¹å¼å‚ç…§æ ‡å‡†æ ¼å¼ * é‡è½½ä»…é’ˆå¯¹åŒä¸€ä¸ªç±»ä¸­æ–¹æ³•çš„åç§°ä¸å‚æ•°è¿›è¡Œè¯†åˆ«ï¼Œä¸è¿”å›å€¼æ— å…³ï¼Œæ¢å¥è¯è¯´ä¸èƒ½é€šè¿‡è¿”å›å€¼æ¥åˆ¤å®šä¸¤ä¸ªæ–¹æ³•æ˜¯å¦ç›¸äº’æ„æˆé‡è½½</p><ul><li><p>æ­£ç¡®èŒƒä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MethodDemo</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fn</span><span class="hljs-params">(<span class="hljs-type">int</span> a)</span> &#123;<br>    <span class="hljs-comment">//æ–¹æ³•ä½“</span><br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">fn</span><span class="hljs-params">(<span class="hljs-type">double</span> a)</span> &#123;<br>    <span class="hljs-comment">//æ–¹æ³•ä½“</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MethodDemo</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">float</span> <span class="hljs-title function_">fn</span><span class="hljs-params">(<span class="hljs-type">int</span> a)</span> &#123;<br>    <span class="hljs-comment">//æ–¹æ³•ä½“</span><br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">fn</span><span class="hljs-params">(<span class="hljs-type">int</span> a , <span class="hljs-type">int</span> b)</span> &#123;<br>    <span class="hljs-comment">//æ–¹æ³•ä½“</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li><li><p>é”™è¯¯èŒƒä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MethodDemo</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fn</span><span class="hljs-params">(<span class="hljs-type">int</span> a)</span> &#123;<br>    <span class="hljs-comment">//æ–¹æ³•ä½“</span><br>    &#125;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">fn</span><span class="hljs-params">(<span class="hljs-type">int</span> a)</span> &#123; <span class="hljs-comment">/*é”™è¯¯åŸå› ï¼šé‡è½½ä¸è¿”å›å€¼æ— å…³*/</span><br>    <span class="hljs-comment">//æ–¹æ³•ä½“</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MethodDemo01</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">fn</span><span class="hljs-params">(<span class="hljs-type">int</span> a)</span> &#123;<br>        <span class="hljs-comment">//æ–¹æ³•ä½“</span><br>    &#125;<br>&#125; <br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MethodDemo02</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">fn</span><span class="hljs-params">(<span class="hljs-type">double</span> a)</span> &#123; <span class="hljs-comment">/*é”™è¯¯åŸå› ï¼šè¿™æ˜¯ä¸¤ä¸ªç±»çš„ä¸¤ä¸ªfnæ–¹æ³•*/</span><br>        <span class="hljs-comment">//æ–¹æ³•ä½“</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h3 id="æ–¹æ³•é‡è½½ç»ƒä¹ ">6.2 æ–¹æ³•é‡è½½ç»ƒä¹ </h3><ul><li><p>éœ€æ±‚ï¼šä½¿ç”¨æ–¹æ³•é‡è½½çš„æ€æƒ³ï¼Œè®¾è®¡æ¯”è¾ƒä¸¤ä¸ªæ•´æ•°æ˜¯å¦ç›¸åŒçš„æ–¹æ³•ï¼Œå…¼å®¹å…¨æ•´æ•°ç±»å‹ï¼ˆbyte,short,int,longï¼‰</p></li><li><p>æ€è·¯ï¼š</p><ul><li>â‘ å®šä¹‰æ¯”è¾ƒä¸¤ä¸ªæ•°å­—çš„æ˜¯å¦ç›¸åŒçš„æ–¹æ³•compare()æ–¹æ³•ï¼Œå‚æ•°é€‰æ‹©ä¸¤ä¸ªintå‹å‚æ•°</li><li>â‘¡å®šä¹‰å¯¹åº”çš„é‡è½½æ–¹æ³•ï¼Œå˜æ›´å¯¹åº”çš„å‚æ•°ç±»å‹ï¼Œå‚æ•°å˜æ›´ä¸ºä¸¤ä¸ªlongå‹å‚æ•°</li><li>â‘¢å®šä¹‰æ‰€æœ‰çš„é‡è½½æ–¹æ³•ï¼Œä¸¤ä¸ªbyteç±»å‹ä¸ä¸¤ä¸ªshortç±»å‹å‚æ•°</li><li>â‘£å®Œæˆæ–¹æ³•çš„è°ƒç”¨ï¼Œæµ‹è¯•è¿è¡Œç»“æœ</li></ul></li><li><p>ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MethodTest</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//è°ƒç”¨æ–¹æ³•</span><br>        System.out.println(compare(<span class="hljs-number">10</span>, <span class="hljs-number">20</span>));<br>        System.out.println(compare((<span class="hljs-type">byte</span>) <span class="hljs-number">10</span>, (<span class="hljs-type">byte</span>) <span class="hljs-number">20</span>));<br>        System.out.println(compare((<span class="hljs-type">short</span>) <span class="hljs-number">10</span>, (<span class="hljs-type">short</span>) <span class="hljs-number">20</span>));<br>        System.out.println(compare(<span class="hljs-number">10L</span>, <span class="hljs-number">20L</span>));<br>    &#125;<br><br>    <span class="hljs-comment">//int</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;int&quot;</span>);<br>        <span class="hljs-keyword">return</span> a == b;<br>    &#125;<br><br>    <span class="hljs-comment">//byte</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(<span class="hljs-type">byte</span> a, <span class="hljs-type">byte</span> b)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;byte&quot;</span>);<br>        <span class="hljs-keyword">return</span> a == b;<br>    &#125;<br><br>    <span class="hljs-comment">//short</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(<span class="hljs-type">short</span> a, <span class="hljs-type">short</span> b)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;short&quot;</span>);<br>        <span class="hljs-keyword">return</span> a == b;<br>    &#125;<br><br>    <span class="hljs-comment">//long</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">boolean</span> <span class="hljs-title function_">compare</span><span class="hljs-params">(<span class="hljs-type">long</span> a, <span class="hljs-type">long</span> b)</span> &#123;<br>        System.out.println(<span class="hljs-string">&quot;long&quot;</span>);<br>        <span class="hljs-keyword">return</span> a == b;<br>    &#125;<br><br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h3 id="æ•°ç»„éå†">7.3 æ•°ç»„éå†</h3><ul><li><p>éœ€æ±‚ï¼šè®¾è®¡ä¸€ä¸ªæ–¹æ³•ç”¨äºæ•°ç»„éå†ï¼Œè¦æ±‚éå†çš„ç»“æœæ˜¯åœ¨ä¸€è¡Œä¸Šçš„ã€‚ä¾‹å¦‚ï¼š[11, 22, 33, 44, 55]</p></li><li><p>æ€è·¯ï¼š</p><ul><li><p>â‘ å› ä¸ºè¦æ±‚ç»“æœåœ¨ä¸€è¡Œä¸Šè¾“å‡ºï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦åœ¨å­¦ä¹ ä¸€ä¸ªæ–°çš„è¾“å‡ºè¯­å¥System.out.print(â€œå†…å®¹â€);</p><p>System.out.println(â€œå†…å®¹â€); è¾“å‡ºå†…å®¹å¹¶æ¢è¡Œ</p><p>System.out.print(â€œå†…å®¹â€); è¾“å‡ºå†…å®¹ä¸æ¢è¡Œ</p><p>System.out.println(); èµ·åˆ°æ¢è¡Œçš„ä½œç”¨</p></li><li><p>â‘¡å®šä¹‰ä¸€ä¸ªæ•°ç»„ï¼Œç”¨é™æ€åˆå§‹åŒ–å®Œæˆæ•°ç»„å…ƒç´ åˆå§‹åŒ–</p></li><li><p>â‘¢å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨æ•°ç»„éå†é€šç”¨æ ¼å¼å¯¹æ•°ç»„è¿›è¡Œéå†</p></li><li><p>â‘£ç”¨æ–°çš„è¾“å‡ºè¯­å¥ä¿®æ”¹éå†æ“ä½œ</p></li><li><p>â‘¤è°ƒç”¨éå†æ–¹æ³•</p></li></ul></li><li><p>ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test1</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>      <span class="hljs-comment">/*  //å…ˆæ‰“å°æ•°æ®ï¼Œå†è¿›è¡Œæ¢è¡Œ</span><br><span class="hljs-comment">        System.out.println(&quot;aaa&quot;);</span><br><span class="hljs-comment">        //åªæ‰“å°ä¸æ¢è¡Œ</span><br><span class="hljs-comment">        System.out.print(&quot;bbb&quot;);</span><br><span class="hljs-comment">        System.out.print(&quot;ddd&quot;);</span><br><span class="hljs-comment">        //ä¸æ‰“å°ä»»ä½•å†…å®¹ï¼Œåªæ¢è¡Œ</span><br><span class="hljs-comment">        System.out.println();</span><br><span class="hljs-comment">        System.out.print(&quot;cc&quot;);*/</span><br>        <span class="hljs-comment">//è®¾è®¡ä¸€ä¸ªæ–¹æ³•ç”¨äºæ•°ç»„éå†ï¼Œè¦æ±‚éå†çš„ç»“æœæ˜¯åœ¨ä¸€è¡Œä¸Šçš„ã€‚ä¾‹å¦‚ï¼š[11, 22, 33, 44, 55]</span><br>        <span class="hljs-type">int</span>[] arr = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;;<br>        printArr(arr);<br>    &#125;<br>    <span class="hljs-comment">//1.æˆ‘è¦éå†æ•°ç»„</span><br>    <span class="hljs-comment">//2.éœ€è¦ä»€ä¹ˆï¼Ÿ  æ•°ç»„</span><br>    <span class="hljs-comment">//3.è°ƒç”¨å¤„æ˜¯å¦éœ€è¦ä½¿ç”¨æ–¹æ³•çš„ç»“æœã€‚</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">printArr</span><span class="hljs-params">(<span class="hljs-type">int</span>[] arr)</span>&#123;<br>        System.out.print(<span class="hljs-string">&quot;[&quot;</span>);<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; arr.length; i++) &#123;<br>            <span class="hljs-keyword">if</span>(i == arr.length - <span class="hljs-number">1</span>)&#123;<br>                System.out.println(arr[i] + <span class="hljs-string">&quot;]&quot;</span>);<br>            &#125;<span class="hljs-keyword">else</span>&#123;<br>                System.out.print(arr[i] + <span class="hljs-string">&quot;, &quot;</span>);<br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h3 id="æ•°ç»„æœ€å¤§å€¼">7.4 æ•°ç»„æœ€å¤§å€¼</h3><ul><li><p>éœ€æ±‚ï¼šè®¾è®¡ä¸€ä¸ªæ–¹æ³•ç”¨äºè·å–æ•°ç»„ä¸­å…ƒç´ çš„æœ€å¤§å€¼</p></li><li><p>æ€è·¯ï¼š</p><ul><li>â‘ å®šä¹‰ä¸€ä¸ªæ•°ç»„ï¼Œç”¨é™æ€åˆå§‹åŒ–å®Œæˆæ•°ç»„å…ƒç´ åˆå§‹åŒ–</li><li>â‘¡å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨æ¥è·å–æ•°ç»„ä¸­çš„æœ€å¤§å€¼ï¼Œæœ€å€¼çš„è®¤çŸ¥å’Œè®²è§£æˆ‘ä»¬åœ¨æ•°ç»„ä¸­å·²ç»è®²è§£è¿‡äº†</li><li>â‘¢è°ƒç”¨è·å–æœ€å¤§å€¼æ–¹æ³•ï¼Œç”¨å˜é‡æ¥æ”¶è¿”å›ç»“æœ</li><li>â‘£æŠŠç»“æœè¾“å‡ºåœ¨æ§åˆ¶å°</li></ul></li><li><p>ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">MethodTest02</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªæ•°ç»„ï¼Œç”¨é™æ€åˆå§‹åŒ–å®Œæˆæ•°ç»„å…ƒç´ åˆå§‹åŒ–</span><br>        <span class="hljs-type">int</span>[] arr = &#123;<span class="hljs-number">12</span>, <span class="hljs-number">45</span>, <span class="hljs-number">98</span>, <span class="hljs-number">73</span>, <span class="hljs-number">60</span>&#125;;<br><br>        <span class="hljs-comment">//è°ƒç”¨è·å–æœ€å¤§å€¼æ–¹æ³•ï¼Œç”¨å˜é‡æ¥æ”¶è¿”å›ç»“æœ</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">number</span> <span class="hljs-operator">=</span> getMax(arr);<br><br>        <span class="hljs-comment">//æŠŠç»“æœè¾“å‡ºåœ¨æ§åˆ¶å°</span><br>        System.out.println(<span class="hljs-string">&quot;number:&quot;</span> + number);<br>    &#125;<br><br>    <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨æ¥è·å–æ•°ç»„ä¸­çš„æœ€å¤§å€¼</span><br>    <span class="hljs-comment">/*</span><br><span class="hljs-comment">        ä¸¤ä¸ªæ˜ç¡®ï¼š</span><br><span class="hljs-comment">            è¿”å›å€¼ç±»å‹ï¼šint</span><br><span class="hljs-comment">            å‚æ•°ï¼šint[] arr</span><br><span class="hljs-comment">     */</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">getMax</span><span class="hljs-params">(<span class="hljs-type">int</span>[] arr)</span> &#123;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">max</span> <span class="hljs-operator">=</span> arr[<span class="hljs-number">0</span>];<br><br>        <span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> x=<span class="hljs-number">1</span>; x&lt;arr.length; x++) &#123;<br>            <span class="hljs-keyword">if</span>(arr[x] &gt; max) &#123;<br>                max = arr[x];<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> max;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li></ul><h3 id="è·å–ç´¢å¼•">7.6 è·å–ç´¢å¼•</h3><p>éœ€æ±‚ï¼š</p><pre><code class="hljs">å®šä¹‰ä¸€ä¸ªæ–¹æ³•è·å–æ•°å­—ï¼Œåœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½®ï¼Œå°†ç»“æœè¿”å›ç»™è°ƒç”¨å¤„ï¼Œå¦‚æœæœ‰é‡å¤çš„ï¼Œåªè¦è·å–ç¬¬ä¸€ä¸ªå³å¯ã€‚</code></pre><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">package</span> com.itheima.demo;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Test4</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªæ–¹æ³•è·å–æ•°å­—ï¼Œåœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ä½ç½®ï¼Œå°†ç»“æœè¿”å›ç»™è°ƒç”¨å¤„</span><br>        <span class="hljs-comment">//å¦‚æœæœ‰é‡å¤çš„ï¼Œåªè¦è·å–ç¬¬ä¸€ä¸ªå³å¯</span><br><br>        <span class="hljs-type">int</span>[] arr = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">index</span> <span class="hljs-operator">=</span> contains(arr, <span class="hljs-number">3</span>);<br>        System.out.println(index);<br>    &#125;<br><br>    <span class="hljs-comment">//1. æˆ‘è¦å¹²å˜›ï¼Ÿåˆ¤æ–­æ•°ç»„ä¸­çš„æŸä¸€ä¸ªæ•°æ˜¯å¦å­˜åœ¨</span><br>    <span class="hljs-comment">//2. éœ€è¦ä»€ä¹ˆï¼Ÿæ•°ç»„ æ•°å­—</span><br>    <span class="hljs-comment">//3. è°ƒç”¨å¤„æ˜¯å¦éœ€è¦ç»§ç»­ä½¿ç”¨ï¼Ÿè¿”å›</span><br>    <span class="hljs-comment">//è·å–numberåœ¨arrä¸­çš„ä½ç½®</span><br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-type">int</span> <span class="hljs-title function_">contains</span><span class="hljs-params">(<span class="hljs-type">int</span>[] arr, <span class="hljs-type">int</span> number)</span> &#123;<br>        <span class="hljs-comment">//éå†arrå¾—åˆ°æ¯ä¸€ä¸ªå…ƒç´ </span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; arr.length; i++) &#123;<br>            <span class="hljs-comment">//æ‹¿ç€æ¯ä¸€ä¸ªå…ƒç´ è·Ÿnumberæ¯”è¾ƒ</span><br>            <span class="hljs-keyword">if</span>(arr[i] == number)&#123;<br>                <span class="hljs-comment">//å¦‚æœç›¸ç­‰ï¼Œè¡¨ç¤ºæ‰¾åˆ°äº†</span><br>                <span class="hljs-keyword">return</span> i;<br>            &#125;<br>        &#125;<br>        <span class="hljs-comment">//å½“å¾ªç¯ç»“æŸä¹‹åï¼Œå¦‚æœè¿˜ä¸èƒ½è¿”å›ç´¢å¼•ï¼Œè¡¨ç¤ºæ•°ç»„ä¸­ä¸å­˜åœ¨è¯¥æ•°æ®</span><br>        <span class="hljs-comment">//å¯ä»¥è¿”å›-1</span><br>        <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>    &#125;<br>&#125;<br><br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>JavaåŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java06-æ•°ç»„</title>
    <link href="/2023/06/29/Java06-%E6%95%B0%E7%BB%84/"/>
    <url>/2023/06/29/Java06-%E6%95%B0%E7%BB%84/</url>
    
    <content type="html"><![CDATA[<h1 id="æ•°ç»„">1.æ•°ç»„</h1><h3 id="æ¦‚å¿µ">æ¦‚å¿µï¼š</h3><p>æŒ‡çš„æ˜¯ä¸€ç§å®¹å™¨ï¼Œå¯ä»¥åŒæ¥å­˜å‚¨==åŒç§æ•°æ®ç±»å‹==çš„å¤šä¸ªå€¼ã€‚</p><p>ä½†æ˜¯æ•°ç»„å®¹å™¨åœ¨å­˜å‚¨æ•°æ®çš„æ—¶å€™ï¼Œéœ€è¦ç»“åˆéšå¼è½¬æ¢è€ƒè™‘ã€‚</p><p><strong>å»ºè®®ï¼š</strong> å®¹å™¨çš„ç±»ï¼Œå’Œå­˜å‚¨çš„æ•°æ®ç±»å‹ä¿æŒä¸€è‡´ã€‚</p><h1 id="æ•°ç»„çš„å®šä¹‰">2.æ•°ç»„çš„å®šä¹‰</h1><h3 id="æ ¼å¼ä¸€">æ ¼å¼ä¸€ï¼š</h3><p>(å¸¸ç”¨) æ•°æ®ç±»å‹ [ ] æ•°ç»„å</p><p>æ¯”å¦‚ï¼š<code>int [ ] array</code></p><h3 id="æ ¼å¼äºŒ">æ ¼å¼äºŒï¼š</h3><p>æ•°æ®ç±»å‹ æ•°ç»„å []</p><p>æ¯”å¦‚ï¼š<code>int array []</code></p><h1 id="æ•°ç»„çš„é™æ€åˆå§‹åŒ–">3.æ•°ç»„çš„é™æ€åˆå§‹åŒ–</h1><h3 id="å®Œæ•´æ ¼å¼">å®Œæ•´æ ¼å¼ï¼š</h3><p>æ•°æ®ç±»å‹ [] æ•°ç»„å = new æ•°æ®ç±»å‹[]{å…ƒç´ 1ï¼Œå…ƒç´ 2ï¼Œå…ƒç´ 3ï¼Œå…ƒç´ 4...};</p><p>æ¯”å¦‚ï¼š<code>int[] arr = new int[]&#123;11,22,33&#125;;</code></p><h3 id="ç®€åŒ–æ ¼å¼">ç®€åŒ–æ ¼å¼ :</h3><p>æ•°æ®ç±»å‹[] æ•°ç»„å = {å…ƒç´ 1ï¼Œå…ƒç´ 2ï¼Œå…ƒç´ 3ï¼Œå…ƒç´ 4...};</p><p>æ¯”å¦‚ï¼š<code>int[] array = &#123;1,2,3,4,5&#125;;</code></p><h3 id="æ³¨æ„ç‚¹">æ³¨æ„ç‚¹ï¼š</h3><ul><li>ç­‰å·å‰åçš„æ•°æ®ç±»å‹å¿…é¡»ä¿æŒä¸€è‡´ã€‚</li><li>æ•°ç»„ä¸€æ—¦åˆ›å»ºä¹‹åï¼Œé•¿åº¦ä¸èƒ½å‘ç”Ÿå˜åŒ–ã€‚</li></ul><h1 id="åœ°å€å€¼">4.åœ°å€å€¼</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span>[] arr = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;;<br>System.out.println(arr);<span class="hljs-comment">//[I@6d03e736</span><br><br><span class="hljs-type">double</span>[] arr2 = &#123;<span class="hljs-number">1.1</span>,<span class="hljs-number">2.2</span>,<span class="hljs-number">3.3</span>&#125;;<br>System.out.println(arr2);<span class="hljs-comment">//[D@568db2f2</span><br></code></pre></td></tr></table></figure><p>æ‰“å°æ•°ç»„çš„æ—¶å€™ï¼Œå®é™…å‡ºç°çš„æ˜¯æ•°ç»„çš„==åœ°å€å€¼==ã€‚</p><p>æ•°ç»„çš„åœ°å€å€¼ï¼šå°±è¡¨ç¤ºæ•°ç»„åœ¨å†…å­˜ä¸­çš„ä½ç½®ã€‚</p><p>ä»¥<code>[I@6d03e736</code>ä¸ºä¾‹ï¼š</p><p><code>[</code>ï¼šè¡¨ç¤ºç°åœ¨æ‰“å°çš„æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚</p><p>Iï¼šè¡¨ç¤ºç°åœ¨æ‰“å°çš„æ•°ç»„æ˜¯intç±»å‹çš„ã€‚</p><p>@ï¼šä»…ä»…æ˜¯ä¸€ä¸ªé—´éš”ç¬¦å·è€Œå·²ã€‚</p><p>6d03e736ï¼šå°±æ˜¯æ•°ç»„åœ¨å†…å­˜ä¸­çœŸæ­£çš„åœ°å€å€¼ã€‚ï¼ˆåå…­è¿›åˆ¶çš„ï¼‰</p><p>ä¹ æƒ¯æ€§æŠŠ<code>[I@6d03e736</code> è¿™ä¸ªæ•´ä½“ç§°ä¹‹ä¸ºæ•°ç»„çš„åœ°å€å€¼ã€‚</p><h1 id="æ•°ç»„å…ƒç´ è®¿é—®">5.æ•°ç»„å…ƒç´ è®¿é—®</h1><h3 id="æ ¼å¼">æ ¼å¼ï¼š</h3><p>æ•°ç»„å[ç´¢å¼•];</p><h3 id="ä½œç”¨">ä½œç”¨ï¼š</h3><ul><li><p>è·å–æ•°ç»„ä¸­å¯¹åº”ç´¢å¼•ä¸Šçš„å€¼</p></li><li><p>ä¿®æ”¹æ•°ç»„ä¸­å¯¹åº”ç´¢å¼•ä¸Šçš„å€¼</p><p>ä¸€æ—¦ä¿®æ”¹ä¹‹åï¼ŒåŸæ¥çš„å€¼å°±ä¼šè¢«è¦†ç›–äº†ã€‚</p></li></ul><p><strong>ä¾‹ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ArrDemo2</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>    <br>       <span class="hljs-type">int</span>[] arr = &#123;<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>&#125;;<br>       <span class="hljs-comment">//éœ€æ±‚1ï¼šè·å–arræ•°ç»„ä¸­ï¼Œ3ç´¢å¼•ä¸Šçš„å€¼</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">number</span> <span class="hljs-operator">=</span> arr[<span class="hljs-number">3</span>];<br>        System.out.println(number);<br>        System.out.println(arr[<span class="hljs-number">3</span>]);<br><br>       <span class="hljs-comment">//éœ€æ±‚2ï¼šå°†arræ•°ç»„ä¸­ï¼Œ3ç´¢å¼•ä¸Šçš„å€¼ä¿®æ”¹ä¸º10</span><br>            arr[<span class="hljs-number">3</span>] = <span class="hljs-number">10</span>;<br>        System.out.println(<span class="hljs-string">&quot;ä¿®æ”¹ä¹‹åä¸º:&quot;</span> + arr[<span class="hljs-number">3</span>]);<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="æ•°ç»„çš„éå†">6.æ•°ç»„çš„éå†</h1><p>éå†ï¼šæŠŠæ•°ç»„é‡Œé¢æ‰€æœ‰çš„å†…å®¹ä¸€ä¸ªä¸€ä¸ªå…¨éƒ¨å–å‡ºæ¥ã€‚</p><p>æ•°ç»„çš„é•¿åº¦ï¼šæ•°ç»„å.length;</p><p>é€šç”¨ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>; i &lt; arr.length; i++)&#123;<br>    <span class="hljs-comment">//åœ¨å¾ªç¯çš„è¿‡ç¨‹ä¸­ï¼Œiä¾æ¬¡è¡¨ç¤ºæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªç´¢å¼•</span><br>    sout(arr[i]);<span class="hljs-comment">//å°±å¯ä»¥æŠŠæ•°ç»„é‡Œé¢çš„æ¯ä¸€ä¸ªå…ƒç´ éƒ½è·å–å‡ºæ¥ï¼Œå¹¶æ‰“å°åœ¨æ§åˆ¶å°ä¸Šäº†ã€‚</span><br>&#125;<br></code></pre></td></tr></table></figure><p><strong>é™„ï¼š</strong> ideaå¿«é€Ÿéå†æ•°ç»„ æ•°ç»„å.fori</p><h1 id="æ•°ç»„çš„åŠ¨æ€åˆå§‹åŒ–">7.æ•°ç»„çš„åŠ¨æ€åˆå§‹åŒ–</h1><p>åªæŒ‡å®šé•¿åº¦ï¼Œæ— åˆå§‹å€¼</p><h3 id="æ ¼å¼-1">æ ¼å¼ï¼š</h3><p>æ•°æ®ç±»å‹[] æ•°ç»„å = new æ•°æ®ç±»å‹[æ•°ç»„çš„é•¿åº¦];</p><h3 id="ä¾‹">ä¾‹ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªæ•°ç»„ï¼Œå­˜3ä¸ªäººçš„å¹´é¾„ï¼Œå¹´é¾„æœªçŸ¥</span><br><span class="hljs-type">int</span>[] agesArr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">int</span>[<span class="hljs-number">3</span>];<br></code></pre></td></tr></table></figure><h3 id="æ•°ç»„çš„é»˜è®¤åˆå§‹åŒ–å€¼">æ•°ç»„çš„é»˜è®¤åˆå§‹åŒ–å€¼ï¼š</h3><p>æ•´æ•°ç±»å‹ï¼š0</p><p>å°æ•°ç±»å‹ï¼š0.0</p><p>å¸ƒå°”ç±»å‹ï¼šfalse</p><p>å­—ç¬¦ç±»å‹ï¼š'000'</p><p>å¼•ç”¨ç±»å‹ï¼šnull</p><h1 id="æ•°ç»„ä¸¤ç§åˆå§‹åŒ–æ–¹å¼çš„åŒºåˆ«">8.æ•°ç»„ä¸¤ç§åˆå§‹åŒ–æ–¹å¼çš„åŒºåˆ«</h1><p>é™æ€åˆå§‹åŒ–ï¼š<code>int[] arr = &#123;1,2,3,4,5&#125;;</code></p><p>åŠ¨æ€åˆå§‹åŒ–ï¼š<code>int[] arr = new int[5];</code></p><p>é™æ€åˆå§‹åŒ–ï¼šæ‰‹åŠ¨æŒ‡å®šæ•°ç»„çš„å…ƒç´ ï¼Œç³»ç»Ÿä¼šæ ¹æ®å…ƒç´ çš„ä¸ªæ•°ï¼Œè®¡ç®—å‡ºæ•°ç»„çš„é•¿åº¦ã€‚</p><p>åŠ¨æ€åˆå§‹åŒ–ï¼šæ‰‹åŠ¨æŒ‡å®šæ•°ç»„é•¿åº¦ï¼Œç”±ç³»ç»Ÿç»™å‡ºé»˜è®¤åˆå§‹åŒ–å€¼ã€‚</p><h3 id="ä½¿ç”¨åœºæ™¯">ä½¿ç”¨åœºæ™¯ï¼š</h3><p>åªæ˜ç¡®å…ƒç´ ä¸ªæ•°ï¼Œä½†æ˜¯ä¸æ˜ç¡®å…·ä½“çš„æ•°æ®ï¼Œæ¨èä½¿ç”¨åŠ¨æ€åˆå§‹åŒ–ã€‚</p><p>å·²ç»æ˜ç¡®äº†è¦æ“ä½œçš„æ‰€æœ‰æ•°æ®ï¼Œæ¨èä½¿ç”¨é™æ€åˆå§‹åŒ–ã€‚</p><h3 id="ä¸¾ä¾‹">ä¸¾ä¾‹ï¼š</h3><ul><li><p>ä½¿ç”¨æ•°ç»„æ¥å­˜å‚¨é”®ç›˜å½•å…¥çš„5ä¸ªæ•´æ•°ã€‚</p><p><code>int[] arr = new int[5];</code></p></li><li><p>å°†å…¨ç­çš„å­¦ç”Ÿæˆç»©å­˜å…¥æ•°ç»„ä¸­ï¼Œå·²çŸ¥å­¦ç”Ÿæˆç»©ä¸ºï¼š66,77,88,99,100</p><p><code>int[] arr = &#123;66,77,88,99,100&#125;;</code></p></li></ul><h1 id="äºŒç»´æ•°ç»„">9.äºŒç»´æ•°ç»„</h1><h2 id="é™æ€åˆå§‹åŒ–">é™æ€åˆå§‹åŒ–</h2><h3 id="æ ¼å¼-2">æ ¼å¼ï¼š</h3><p><code>æ•°æ®ç±»å‹[][] æ•°ç»„å=new æ®ç±»å‹[][] &#123;&#123;å…ƒç´ 1ï¼Œå…ƒç´ 2&#125;,&#123;å…ƒç´ 1ï¼Œå…ƒç´ 2&#125;&#125;</code> æ¯”å¦‚ï¼š<code>int[][] array = new int[][]&#123;&#123;11,22&#125;,&#123;33,44&#125;&#125;</code></p><h3 id="ç®€åŒ–æ ¼å¼-1">ç®€åŒ–æ ¼å¼ï¼š</h3><p><code>æ•°æ®ç±»å‹[][] æ•°ç»„å=&#123;&#123;å…ƒç´ 1ï¼Œå…ƒç´ 2&#125;,&#123;å…ƒç´ 1ï¼Œå…ƒç´ 2&#125;&#125;</code></p><h2 id="è·å–å…ƒç´ ">è·å–å…ƒç´ </h2><h3 id="æ ¼å¼-3">æ ¼å¼</h3><p><code>arr[i][j]</code></p><h2 id="äºŒç»´æ•°ç»„çš„éå†">äºŒç»´æ•°ç»„çš„éå†</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">arr.fori<br>  arr[i].fori<br>    <span class="hljs-title function_">sout</span><span class="hljs-params">(arr[i][j])</span><br></code></pre></td></tr></table></figure><h2 id="åŠ¨æ€åˆå§‹åŒ–">åŠ¨æ€åˆå§‹åŒ–</h2><h3 id="æ ¼å¼-4">æ ¼å¼</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java">`æ•°æ®ç±»å‹[][] æ•°ç»„å=<span class="hljs-keyword">new</span> æ•°æ®ç±»å‹[m][n]`<br><span class="hljs-comment">// mè¡¨ç¤ºè¿™ä¸ªäºŒç»´æ•°ç»„ï¼Œå¯ä»¥å­˜æ”¾å¤šå°‘ä¸ªä¸€ç»´æ•°ç»„ </span><br><span class="hljs-comment">//nè¡¨ç¤ºæ¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œå¯ä»¥å­˜æ”¾å¤šå°‘ä¸ªå…ƒç´ </span><br></code></pre></td></tr></table></figure><h2 id="äºŒç»´æ•°ç»„åœ°å€å€¼">äºŒç»´æ•°ç»„åœ°å€å€¼</h2><p><img src="/img/06-Javaæ•°ç»„/85e10cf54f6a41e695ad103f5defcdd3.png" /> <img src="/img/06-Javaæ•°ç»„/9d5945949af649db9f30f4101b5b2b38.png" /></p>]]></content>
    
    
    <categories>
      
      <category>JavaåŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java05-é«˜çº§å¾ªç¯(forr while)</title>
    <link href="/2023/06/29/Java05-%E9%AB%98%E7%BA%A7%E5%BE%AA%E7%8E%AF-for-while/"/>
    <url>/2023/06/29/Java05-%E9%AB%98%E7%BA%A7%E5%BE%AA%E7%8E%AF-for-while/</url>
    
    <content type="html"><![CDATA[<h2 id="æ— é™å¾ªç¯">1.æ— é™å¾ªç¯</h2><h3 id="æ¦‚å¿µ">æ¦‚å¿µï¼š</h3><pre><code class="hljs">åˆå«æ­»å¾ªç¯ã€‚å¾ªç¯ä¸€ç›´åœä¸ä¸‹æ¥ã€‚</code></pre><h3 id="foræ ¼å¼">foræ ¼å¼ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">for</span>(;;)&#123;<br>    System.out.println(<span class="hljs-string">&quot;å¾ªç¯æ‰§è¡Œä¸€ç›´åœ¨æ‰“å°å†…å®¹&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>è§£é‡Šï¼š</p><p>åˆå§‹åŒ–è¯­å¥å¯ä»¥ç©ºç€ä¸å†™ï¼Œè¡¨ç¤ºå¾ªç¯ä¹‹å‰ä¸å®šä¹‰ä»»ä½•çš„æ§åˆ¶å˜é‡ã€‚</p><p>æ¡ä»¶åˆ¤æ–­è¯­å¥å¯ä»¥ç©ºç€ä¸å†™ï¼Œå¦‚æœä¸å†™ï¼Œé»˜è®¤è¡¨ç¤ºtrueï¼Œå¾ªç¯ä¸€ç›´è¿›è¡Œã€‚</p><p>æ¡ä»¶æ§åˆ¶è¯­å¥å¯ä»¥ç©ºç€ä¸å†™ï¼Œè¡¨ç¤ºæ¯æ¬¡å¾ªç¯ä½“æ‰§è¡Œå®Œæ¯•åï¼Œæ§åˆ¶å˜é‡ä¸åšä»»ä½•å˜åŒ–ã€‚</p><h3 id="whileæ ¼å¼">whileæ ¼å¼ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)&#123;<br>    System.out.println(<span class="hljs-string">&quot;å¾ªç¯æ‰§è¡Œä¸€ç›´åœ¨æ‰“å°å†…å®¹&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><p>è§£é‡Šï¼š</p><pre><code class="hljs">å°æ‹¬å·é‡Œé¢å°±ä¸èƒ½çœç•¥äº†ï¼Œtrueä¸€å®šè¦å†™å‡ºæ¥ï¼Œå¦åˆ™ä»£ç ä¼šæŠ¥é”™ã€‚</code></pre><h3 id="do...whileæ ¼å¼">do...whileæ ¼å¼ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">do</span>&#123;<br>    System.out.println(<span class="hljs-string">&quot;å¾ªç¯æ‰§è¡Œä¸€ç›´åœ¨æ‰“å°å†…å®¹&quot;</span>);<br>&#125;<span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>);<br></code></pre></td></tr></table></figure><p>è§£é‡Šï¼š</p><pre><code class="hljs">å°æ‹¬å·é‡Œé¢å°±ä¸èƒ½çœç•¥äº†ï¼Œtrueä¸€å®šè¦å†™å‡ºæ¥ï¼Œå¦åˆ™ä»£ç ä¼šæŠ¥é”™ã€‚</code></pre><h3 id="æ— é™å¾ªç¯çš„æ³¨æ„äº‹é¡¹">æ— é™å¾ªç¯çš„æ³¨æ„äº‹é¡¹ï¼š</h3><ul><li>æœ€ä¸ºå¸¸ç”¨çš„æ ¼å¼ï¼šwhile</li><li>æ— é™å¾ªç¯ä¸‹é¢ä¸èƒ½å†å†™å…¶ä»–ä»£ç äº†ï¼Œå› ä¸ºæ°¸è¿œæ‰§è¡Œä¸åˆ°ã€‚</li></ul><h2 id="æ¡ä»¶æ§åˆ¶è¯­å¥">2.æ¡ä»¶æ§åˆ¶è¯­å¥</h2><ul><li>break</li><li>continue</li></ul><h3 id="break">break:</h3><pre><code class="hljs">ä¸èƒ½å•ç‹¬å­˜åœ¨çš„ã€‚å¯ä»¥ç”¨åœ¨switchå’Œå¾ªç¯ä¸­ï¼Œè¡¨ç¤ºç»“æŸï¼Œè·³å‡ºçš„æ„æ€ã€‚</code></pre><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//1.åƒ1~5å·åŒ…å­</span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">5</span>; i++) &#123;<br>    System.out.println(<span class="hljs-string">&quot;åœ¨åƒç¬¬&quot;</span> + i + <span class="hljs-string">&quot;ä¸ªåŒ…å­&quot;</span>);<br>    <span class="hljs-comment">//2.åƒå®Œç¬¬ä¸‰ä¸ªçš„æ—¶å€™å°±ä¸åƒäº†</span><br>    <span class="hljs-keyword">if</span>(i == <span class="hljs-number">3</span>)&#123;<br>        <span class="hljs-keyword">break</span>;<span class="hljs-comment">//ç»“æŸæ•´ä¸ªå¾ªç¯ã€‚</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="continue">continue:</h3><pre><code class="hljs">ä¸èƒ½å•ç‹¬å­˜åœ¨çš„ã€‚åªèƒ½å­˜åœ¨äºå¾ªç¯å½“ä¸­ã€‚è¡¨ç¤ºï¼šè·³è¿‡æœ¬æ¬¡å¾ªç¯ï¼Œç»§ç»­æ‰§è¡Œä¸‹æ¬¡å¾ªç¯ã€‚</code></pre><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//1.åƒ1~5å·åŒ…å­</span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">5</span>; i++) &#123;<br>    <span class="hljs-comment">//2.ç¬¬3ä¸ªåŒ…å­æœ‰è™«å­å°±è·³è¿‡ï¼Œç»§ç»­åƒä¸‹é¢çš„åŒ…å­</span><br>    <span class="hljs-keyword">if</span>(i == <span class="hljs-number">3</span>)&#123;<br>        <span class="hljs-comment">//è·³è¿‡æœ¬æ¬¡å¾ªç¯ï¼ˆæœ¬æ¬¡å¾ªç¯ä¸­ï¼Œä¸‹é¢çš„ä»£ç å°±ä¸æ‰§è¡Œäº†ï¼‰ï¼Œç»§ç»­æ‰§è¡Œä¸‹æ¬¡å¾ªç¯ã€‚</span><br>        <span class="hljs-keyword">continue</span>;<br>    &#125;<br>    System.out.println(<span class="hljs-string">&quot;åœ¨åƒç¬¬&quot;</span> + i + <span class="hljs-string">&quot;ä¸ªåŒ…å­&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="random">3. Random</h2><p>Randomè·ŸScannerä¸€æ ·ï¼Œä¹Ÿæ˜¯Javaæå‰å†™å¥½çš„ç±»ï¼Œæˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒæ˜¯å¦‚ä½•å®ç°çš„ï¼Œåªè¦ç›´æ¥ä½¿ç”¨å°±å¯ä»¥äº†ã€‚</p><h3 id="ä½¿ç”¨æ­¥éª¤">ä½¿ç”¨æ­¥éª¤ï¼š</h3><ol type="1"><li>å¯¼åŒ…</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Random;<br><span class="hljs-comment">// å¯¼åŒ…çš„åŠ¨ä½œå¿…é¡»å‡ºç°åœ¨ç±»å®šä¹‰çš„ä¸Šè¾¹ã€‚</span><br></code></pre></td></tr></table></figure><ol start="2" type="1"><li>åˆ›å»ºå¯¹è±¡</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">Random</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Random</span> ();<br><span class="hljs-comment">// ä¸Šé¢è¿™ä¸ªæ ¼å¼é‡Œé¢ï¼Œåªæœ‰ræ˜¯å˜é‡åï¼Œå¯ä»¥å˜ï¼Œå…¶ä»–çš„éƒ½ä¸å…è®¸å˜ã€‚</span><br></code></pre></td></tr></table></figure><ol start="3" type="1"><li>ç”Ÿæˆéšæœºæ•°</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">number</span> <span class="hljs-operator">=</span> r.nextInt(éšæœºæ•°çš„èŒƒå›´);<br><span class="hljs-comment">// ä¸Šé¢è¿™ä¸ªæ ¼å¼é‡Œé¢ï¼Œåªæœ‰numberæ˜¯å˜é‡åï¼Œå¯ä»¥å˜ï¼Œå…¶ä»–çš„éƒ½ä¸å…è®¸å˜ã€‚</span><br><span class="hljs-comment">// éšæœºæ•°èŒƒå›´çš„ç‰¹ç‚¹ï¼šä»0å¼€å§‹ï¼Œä¸åŒ…å«æŒ‡å®šå€¼ã€‚æ¯”å¦‚ï¼šå‚æ•°ä¸º10ï¼Œç”Ÿæˆçš„èŒƒå›´[0,10)</span><br></code></pre></td></tr></table></figure><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//1.å¯¼åŒ…</span><br><span class="hljs-keyword">import</span> java.util.Random;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">RandomDemo1</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//2.åˆ›å»ºå¯¹è±¡</span><br>        <span class="hljs-type">Random</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Random</span>();<br>        <span class="hljs-comment">//3.ç”Ÿæˆéšæœºæ•°</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">number</span> <span class="hljs-operator">=</span> r.nextInt(<span class="hljs-number">100</span>);<span class="hljs-comment">//åŒ…å·¦ä¸åŒ…å³ï¼ŒåŒ…å¤´ä¸åŒ…å°¾</span><br>        <span class="hljs-comment">//0 ~ 99</span><br>        System.out.println(number);<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="é€¢ä¸ƒè¿‡">4. é€¢ä¸ƒè¿‡</h2><p>éœ€æ±‚ï¼š</p><pre><code class="hljs">æœ‹å‹èšä¼šçš„æ—¶å€™å¯èƒ½ä¼šç©ä¸€ä¸ªæ¸¸æˆï¼šé€¢7è¿‡ æ¸¸æˆè§„åˆ™ï¼šä»ä»»æ„ä¸€ä¸ªæ•°å­—å¼€å§‹æŠ¥æ•°ï¼Œå½“ä½ è¦æŠ¥çš„æ•°å­—æ˜¯åŒ…å«7æˆ–è€…æ˜¯7çš„å€æ•°æ—¶éƒ½è¦è¯´è¿‡ï¼šè¿‡ä½¿ç”¨ç¨‹åºåœ¨æ§åˆ¶å°æ‰“å°å‡º1-100ä¹‹é—´çš„æ»¡è¶³é€¢ä¸ƒå¿…è¿‡è§„åˆ™çš„æ•°æ® </code></pre><p>ä¸¾ä¾‹ï¼š</p><pre><code class="hljs">1 2 3 4 5 6 è¿‡ 8 9 10 11 12 13 è¿‡ 15 16 è¿‡ 18 ...</code></pre><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*æœ‹å‹èšä¼šçš„æ—¶å€™å¯èƒ½ä¼šç©ä¸€ä¸ªæ¸¸æˆï¼šé€¢7è¿‡</span><br><span class="hljs-comment">        æ¸¸æˆè§„åˆ™ï¼šä»ä»»æ„ä¸€ä¸ªæ•°å­—å¼€å§‹æŠ¥æ•°ï¼Œå½“ä½ è¦æŠ¥çš„æ•°å­—æ˜¯åŒ…å«7æˆ–è€…æ˜¯7çš„å€æ•°æ—¶éƒ½è¦è¯´è¿‡ï¼šè¿‡</span><br><span class="hljs-comment">        éœ€æ±‚ï¼šä½¿ç”¨ç¨‹åºåœ¨æ§åˆ¶å°æ‰“å°å‡º1-100ä¹‹é—´çš„æ»¡è¶³é€¢ä¸ƒå¿…è¿‡è§„åˆ™çš„æ•°æ®*/</span><br><span class="hljs-comment">//åˆ†æï¼š</span><br><span class="hljs-comment">//ä¸ªä½7  åä½7   7å€æ•°</span><br><span class="hljs-comment">//1 2 3 4 5 6 è¿‡ 8 9 10 11 12 13 è¿‡ 15 16 è¿‡ 18 19 20 è¿‡....</span><br><span class="hljs-comment">//69 è¿‡ è¿‡ è¿‡ è¿‡ è¿‡ è¿‡... 80</span><br><span class="hljs-comment">//1.å¾—åˆ°1~100ä¹‹é—´çš„æ¯ä¸€ä¸ªæ•°å­—</span><br><span class="hljs-comment">//å¼€å§‹ï¼š1</span><br><span class="hljs-comment">//ç»“æŸï¼š100</span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">100</span>; i++) &#123;<br>    <span class="hljs-comment">//2.åˆ¤æ–­æ¯ä¸€ä¸ªæ•°å­—ï¼Œå¦‚æœç¬¦åˆè§„åˆ™ï¼Œå°±æ‰“å°è¿‡ï¼Œå¦‚æœä¸ç¬¦åˆè§„åˆ™å°±æ‰“å°çœŸå®çš„æ•°å­—</span><br>    <span class="hljs-keyword">if</span>(i % <span class="hljs-number">10</span> == <span class="hljs-number">7</span> || i / <span class="hljs-number">10</span> % <span class="hljs-number">10</span> == <span class="hljs-number">7</span>  ||  i % <span class="hljs-number">7</span> == <span class="hljs-number">0</span>)&#123;<br>        System.out.println(<span class="hljs-string">&quot;è¿‡&quot;</span>);<br>        <span class="hljs-keyword">continue</span>;<br>    &#125;<br>    System.out.println(i);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="å¹³æ–¹æ ¹">5. å¹³æ–¹æ ¹</h2><p>éœ€æ±‚ï¼š</p><pre><code class="hljs">é”®ç›˜å½•å…¥ä¸€ä¸ªå¤§äºç­‰äº2çš„æ•´æ•° x ï¼Œè®¡ç®—å¹¶è¿”å› x çš„ å¹³æ–¹æ ¹ ã€‚ç»“æœåªä¿ç•™æ•´æ•°éƒ¨åˆ† ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå» ã€‚</code></pre><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*éœ€æ±‚ï¼šé”®ç›˜å½•å…¥ä¸€ä¸ªå¤§äºç­‰äº2çš„æ•´æ•° x ï¼Œè®¡ç®—å¹¶è¿”å› x çš„ å¹³æ–¹æ ¹ ã€‚</span><br><span class="hljs-comment">        ç»“æœåªä¿ç•™æ•´æ•°éƒ¨åˆ† ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå» ã€‚*/</span><br><br><br><span class="hljs-comment">//åˆ†æï¼š</span><br><span class="hljs-comment">//å¹³æ–¹æ ¹   16çš„å¹³æ–¹æ ¹4</span><br><span class="hljs-comment">//         4çš„å¹³æ–¹æ ¹2</span><br><br><br><span class="hljs-comment">// 10</span><br><span class="hljs-comment">// 1 * 1 = 1 &lt; 10</span><br><span class="hljs-comment">// 2 * 2 = 4 &lt; 10</span><br><span class="hljs-comment">// 3 * 3 = 9 &lt; 10</span><br><span class="hljs-comment">// 4 * 4 = 16 &gt; 10</span><br><span class="hljs-comment">//æ¨æ–­ï¼š10çš„å¹³æ–¹æ ¹æ˜¯åœ¨3~4ä¹‹é—´ã€‚</span><br><br><br><span class="hljs-comment">// 20</span><br><span class="hljs-comment">// 1 * 1 = 1 &lt; 20</span><br><span class="hljs-comment">// 2 * 2 = 4 &lt; 20</span><br><span class="hljs-comment">// 3 * 3 = 9 &lt; 20</span><br><span class="hljs-comment">// 4 * 4 = 16 &lt; 20</span><br><span class="hljs-comment">// 5 * 5 = 25 &gt; 20</span><br><span class="hljs-comment">//æ¨æ–­ï¼š20çš„å¹³æ–¹æ ¹æ˜¯åœ¨4~5ä¹‹é—´ã€‚</span><br><br><br><span class="hljs-comment">//åœ¨ä»£ç å½“ä¸­</span><br><span class="hljs-comment">//ä»1å¼€å§‹å¾ªç¯ï¼Œæ‹¿ç€æ•°å­—çš„å¹³æ–¹è·ŸåŸæ¥çš„æ•°å­—è¿›è¡Œæ¯”è¾ƒ</span><br><span class="hljs-comment">//å¦‚æœå°äºçš„ï¼Œé‚£ä¹ˆç»§ç»­å¾€ååˆ¤æ–­</span><br><span class="hljs-comment">//å¦‚æœç›¸ç­‰ï¼Œé‚£ä¹ˆå½“å‰æ•°å­—å°±æ˜¯å¹³æ–¹æ ¹</span><br><span class="hljs-comment">//å¦‚æœå¤§äºçš„ï¼Œé‚£ä¹ˆå‰ä¸€ä¸ªæ•°å­—å°±æ˜¯å¹³æ–¹è·Ÿçš„æ•´æ•°éƒ¨åˆ†</span><br><br><br><span class="hljs-comment">//1.é”®ç›˜å½•å…¥ä¸€ä¸ªæ•´æ•°</span><br><span class="hljs-type">Scanner</span> <span class="hljs-variable">sc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>System.out.println(<span class="hljs-string">&quot;è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°&quot;</span>);<br><span class="hljs-type">int</span> <span class="hljs-variable">number</span> <span class="hljs-operator">=</span> sc.nextInt();<br><span class="hljs-comment">//2.ä»1å¼€å§‹å¾ªç¯åˆ¤æ–­</span><br><span class="hljs-comment">//å¼€å§‹ï¼š1 ç»“æŸ: number</span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= number; i++) &#123;<br>    <span class="hljs-comment">//ç”¨i * i å†è·Ÿnumberè¿›è¡Œæ¯”è¾ƒ</span><br>    <span class="hljs-keyword">if</span>(i * i == number)&#123;<br>        System.out.println(i + <span class="hljs-string">&quot;å°±æ˜¯&quot;</span> + number + <span class="hljs-string">&quot;çš„å¹³æ–¹æ ¹&quot;</span>);<br>        <span class="hljs-comment">//ä¸€æ—¦æ‰¾åˆ°äº†ï¼Œå¾ªç¯å°±å¯ä»¥åœæ­¢äº†ï¼Œåé¢çš„æ•°å­—å°±ä¸éœ€è¦å†æ‰¾äº†ï¼Œæé«˜ä»£ç çš„è¿è¡Œæ•ˆç‡ã€‚</span><br>        <span class="hljs-keyword">break</span>;<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(i * i &gt; number)&#123;<br>        System.out.println((i - <span class="hljs-number">1</span>) + <span class="hljs-string">&quot;å°±æ˜¯&quot;</span> + number + <span class="hljs-string">&quot;å¹³æ–¹æ ¹çš„æ•´æ•°éƒ¨åˆ†&quot;</span>);<br>        <span class="hljs-keyword">break</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="åˆ¤æ–­æ˜¯å¦ä¸ºè´¨æ•°">6.åˆ¤æ–­æ˜¯å¦ä¸ºè´¨æ•°</h2><p>éœ€æ±‚ï¼š</p><pre><code class="hljs">é”®ç›˜å½•å…¥ä¸€ä¸ªæ­£æ•´æ•° x ï¼Œåˆ¤æ–­è¯¥æ•´æ•°æ˜¯å¦ä¸ºä¸€ä¸ªè´¨æ•°ã€‚ </code></pre><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//éœ€æ±‚ï¼šé”®ç›˜å½•å…¥ä¸€ä¸ªæ­£æ•´æ•° x ï¼Œåˆ¤æ–­è¯¥æ•´æ•°æ˜¯å¦ä¸ºä¸€ä¸ªè´¨æ•°ã€‚</span><br><br><span class="hljs-comment">//è´¨æ•°ï¼š</span><br><span class="hljs-comment">//å¦‚æœä¸€ä¸ªæ•´æ•°åªèƒ½è¢«1å’Œæœ¬èº«æ•´é™¤ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°å°±æ˜¯è´¨æ•°ã€‚å¦åˆ™è¿™ä¸ªæ•°å«åšåˆæ•°</span><br><span class="hljs-comment">//7 = 1 * 7 è´¨æ•°</span><br><span class="hljs-comment">//8 = 1 * 8  2 * 4 åˆæ•°</span><br><br><br><span class="hljs-comment">//åˆ†æï¼š</span><br><span class="hljs-comment">//1.é”®ç›˜å½•å…¥ä¸€ä¸ªæ­£æ•´æ•°</span><br><span class="hljs-comment">//number</span><br><span class="hljs-type">Scanner</span> <span class="hljs-variable">sc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>System.out.println(<span class="hljs-string">&quot;è¯·è¾“å…¥ä¸€ä¸ªæ­£æ•´æ•°&quot;</span>);<br><span class="hljs-type">int</span> <span class="hljs-variable">number</span> <span class="hljs-operator">=</span> sc.nextInt();<span class="hljs-comment">//9</span><br><br><span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªå˜é‡ï¼Œè¡¨ç¤ºæ ‡è®°</span><br><span class="hljs-comment">//æ ‡è®°ç€numberæ˜¯å¦ä¸ºä¸€ä¸ªè´¨æ•°</span><br><span class="hljs-comment">//trueï¼š æ˜¯ä¸€ä¸ªè´¨æ•°</span><br><span class="hljs-comment">//false : ä¸æ˜¯ä¸€ä¸ªè´¨æ•°</span><br><br><span class="hljs-comment">//è¡¨ç¤ºæœ€åˆå°±è®¤ä¸ºnumberæ˜¯ä¸€ä¸ªè´¨æ•°</span><br><span class="hljs-type">boolean</span> <span class="hljs-variable">flag</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br><br><br><span class="hljs-comment">//2.åˆ¤æ–­</span><br><span class="hljs-comment">//å†™ä¸€ä¸ªå¾ªç¯ï¼Œä»2å¼€å§‹åˆ¤æ–­ï¼Œä¸€ç›´åˆ¤æ–­åˆ°number-1ä¸ºæ­¢</span><br><span class="hljs-comment">//çœ‹è¿™ä¸ªèŒƒå›´ä¹‹å†…ï¼Œæœ‰æ²¡æœ‰æ•°å­—å¯ä»¥è¢«numberæ•´é™¤</span><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">2</span>; i &lt; number; i++) &#123;<br>    <span class="hljs-comment">//i ä¾æ¬¡è¡¨ç¤ºè¿™ä¸ªèŒƒå›´ä¹‹å†…çš„æ¯ä¸€ä¸ªæ•°å­—</span><br>    <span class="hljs-comment">//çœ‹numberæ˜¯å¦èƒ½è¢«iæ•´é™¤å°±å¯ä»¥äº†</span><br>    <span class="hljs-keyword">if</span>(number % i == <span class="hljs-number">0</span>)&#123;<span class="hljs-comment">// 9 % 2 = 1</span><br>        flag = <span class="hljs-literal">false</span>;<br>        <span class="hljs-comment">//System.out.println(number + &quot;ä¸æ˜¯ä¸€ä¸ªè´¨æ•°&quot;);</span><br>        <span class="hljs-keyword">break</span>;<br>    &#125;<span class="hljs-comment">/*else&#123;</span><br><span class="hljs-comment">                System.out.println(number + &quot;æ˜¯ä¸€ä¸ªè´¨æ•°&quot;);</span><br><span class="hljs-comment">            &#125;*/</span><br>&#125;<br><br><span class="hljs-comment">//åªæœ‰å½“è¿™ä¸ªå¾ªç¯ç»“æŸäº†ï¼Œè¡¨ç¤ºè¿™ä¸ªèŒƒå›´ä¹‹å†…æ‰€æœ‰çš„æ•°å­—éƒ½åˆ¤æ–­å®Œæ¯•äº†</span><br><span class="hljs-comment">//æ­¤æ—¶æ‰èƒ½æ–­å®šnumberæ˜¯ä¸€ä¸ªè´¨æ•°</span><br><span class="hljs-keyword">if</span>(flag)&#123;<br>    System.out.println(number + <span class="hljs-string">&quot;æ˜¯ä¸€ä¸ªè´¨æ•°&quot;</span>);<br>&#125;<span class="hljs-keyword">else</span>&#123;<br>    System.out.println(number + <span class="hljs-string">&quot;ä¸æ˜¯ä¸€ä¸ªè´¨æ•°&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="çŒœæ•°å­—å°æ¸¸æˆ">7. çŒœæ•°å­—å°æ¸¸æˆ</h2><p>éœ€æ±‚ï¼š</p><pre><code class="hljs">ç¨‹åºè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª1-100ä¹‹é—´çš„éšæœºæ•°ï¼Œåœ¨ä»£ç ä¸­ä½¿ç”¨é”®ç›˜å½•å…¥å»çŒœå‡ºè¿™ä¸ªæ•°å­—æ˜¯å¤šå°‘ï¼Ÿ</code></pre><p>è¦æ±‚ï¼š</p><pre><code class="hljs">ä½¿ç”¨å¾ªç¯çŒœï¼Œä¸€ç›´çŒœä¸­ä¸ºæ­¢ã€‚</code></pre><p>æ€è·¯åˆ†æï¼š</p><ol type="1"><li>ç”Ÿæˆä¸€ä¸ª1-100ä¹‹é—´çš„éšæœºæ•°</li><li>ä½¿ç”¨é”®ç›˜å½•å…¥å»çŒœå‡ºè¿™ä¸ªæ•°å­—æ˜¯å¤šå°‘</li><li>æŠŠåå¤çŒœçš„ä»£ç å†™åœ¨å¾ªç¯ä¸­</li></ol><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//1.ç”Ÿæˆä¸€ä¸ª1-100ä¹‹é—´çš„éšæœºæ•°</span><br><span class="hljs-type">Random</span> <span class="hljs-variable">r</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Random</span>();<br><span class="hljs-type">int</span> <span class="hljs-variable">number</span> <span class="hljs-operator">=</span> r.nextInt(<span class="hljs-number">100</span>) + <span class="hljs-number">1</span>;<span class="hljs-comment">// 0 ~ 99 + 1 --- 1 ~ 100</span><br>System.out.println(number);<br><br><span class="hljs-comment">//2.ä½¿ç”¨é”®ç›˜å½•å…¥å»çŒœå‡ºè¿™ä¸ªæ•°å­—æ˜¯å¤šå°‘ï¼Ÿ</span><br><span class="hljs-type">Scanner</span> <span class="hljs-variable">sc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br><span class="hljs-keyword">while</span>(<span class="hljs-literal">true</span>)&#123;<br>    System.out.println(<span class="hljs-string">&quot;è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°&quot;</span>);<br>    <span class="hljs-type">int</span> <span class="hljs-variable">guessNumber</span> <span class="hljs-operator">=</span> sc.nextInt();<br>    <span class="hljs-comment">//3.æ¯”è¾ƒ</span><br>    <span class="hljs-keyword">if</span>(guessNumber &gt; number)&#123;<br>        System.out.println(<span class="hljs-string">&quot;æ‚¨çŒœçš„æ•°å­—å¤§äº†&quot;</span>);<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(guessNumber &lt; number)&#123;<br>        System.out.println(<span class="hljs-string">&quot;æ‚¨çŒœçš„æ•°å­—å°äº†&quot;</span>);<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        System.out.println(<span class="hljs-string">&quot;æ­å–œä½ ï¼ŒçŒœä¸­äº†&quot;</span>);<br>        <span class="hljs-keyword">break</span>;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>JavaåŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java04-åˆ¤æ–­å’Œå¾ªç¯</title>
    <link href="/2023/06/29/Java04-%E5%88%A4%E6%96%AD%E5%92%8C%E5%BE%AA%E7%8E%AF/"/>
    <url>/2023/06/29/Java04-%E5%88%A4%E6%96%AD%E5%92%8C%E5%BE%AA%E7%8E%AF/</url>
    
    <content type="html"><![CDATA[<h2 id="ç¬¬ä¸€ç« -æµç¨‹æ§åˆ¶è¯­å¥">ç¬¬ä¸€ç«  æµç¨‹æ§åˆ¶è¯­å¥</h2><p>åœ¨ä¸€ä¸ªç¨‹åºæ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå„æ¡è¯­å¥çš„æ‰§è¡Œé¡ºåºå¯¹ç¨‹åºçš„ç»“æœæ˜¯æœ‰ç›´æ¥å½±å“çš„ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¿…é¡»æ¸…æ¥šæ¯æ¡è¯­å¥çš„æ‰§è¡Œæµç¨‹ã€‚è€Œä¸”ï¼Œå¾ˆå¤šæ—¶å€™è¦é€šè¿‡æ§åˆ¶è¯­å¥çš„æ‰§è¡Œé¡ºåºæ¥å®ç°æˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½ã€‚</p><h3 id="æµç¨‹æ§åˆ¶è¯­å¥åˆ†ç±»">1.1 æµç¨‹æ§åˆ¶è¯­å¥åˆ†ç±»</h3><pre><code class="hljs">é¡ºåºç»“æ„åˆ¤æ–­å’Œé€‰æ‹©ç»“æ„(if, switch)å¾ªç¯ç»“æ„(for, while, doâ€¦while)</code></pre><h3 id="é¡ºåºç»“æ„">1.2 é¡ºåºç»“æ„</h3><p>é¡ºåºç»“æ„æ˜¯ç¨‹åºä¸­æœ€ç®€å•æœ€åŸºæœ¬çš„æµç¨‹æ§åˆ¶ï¼Œæ²¡æœ‰ç‰¹å®šçš„è¯­æ³•ç»“æ„ï¼ŒæŒ‰ç…§ä»£ç çš„å…ˆåé¡ºåºï¼Œä¾æ¬¡æ‰§è¡Œï¼Œç¨‹åºä¸­å¤§å¤šæ•°çš„ä»£ç éƒ½æ˜¯è¿™æ ·æ‰§è¡Œçš„ã€‚</p><p>é¡ºåºç»“æ„æ‰§è¡Œæµç¨‹å›¾ï¼š</p><p><img src="/img/04-Javaåˆ¤æ–­å’Œå¾ªç¯/7ededb84db2e49cd8c0887a2f4873189.png" /></p><h2 id="ç¬¬äºŒç« -åˆ¤æ–­è¯­å¥ifè¯­å¥">ç¬¬äºŒç«  åˆ¤æ–­è¯­å¥ï¼šifè¯­å¥</h2><h3 id="ifè¯­å¥æ ¼å¼1">2.1 ifè¯­å¥æ ¼å¼1</h3><p>æ ¼å¼ï¼š <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">if</span> (å…³ç³»è¡¨è¾¾å¼) &#123;<br>    è¯­å¥ä½“;<br>&#125;<br></code></pre></td></tr></table></figure></p><p>æ‰§è¡Œæµç¨‹ï¼š</p><p>â‘ é¦–å…ˆè®¡ç®—å…³ç³»è¡¨è¾¾å¼çš„å€¼</p><p>â‘¡å¦‚æœå…³ç³»è¡¨è¾¾å¼çš„å€¼ä¸ºtrueå°±æ‰§è¡Œè¯­å¥ä½“</p><p>â‘¢å¦‚æœå…³ç³»è¡¨è¾¾å¼çš„å€¼ä¸ºfalseå°±ä¸æ‰§è¡Œè¯­å¥ä½“</p><p>â‘£ç»§ç»­æ‰§è¡Œåé¢çš„è¯­å¥å†…å®¹</p><p><img src="/img/04-Javaåˆ¤æ–­å’Œå¾ªç¯/678e041956b54723a24ead3103ac6b28.png" /> ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">IfDemo</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;å¼€å§‹&quot;</span>);<br><span class="hljs-comment">//å®šä¹‰ä¸¤ä¸ªå˜é‡</span><br><span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;<br><span class="hljs-comment">//éœ€æ±‚ï¼šåˆ¤æ–­aå’Œbçš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰ï¼Œå°±åœ¨æ§åˆ¶å°è¾“å‡ºï¼šaç­‰äºb</span><br><span class="hljs-keyword">if</span>(a == b) &#123;<br>System.out.println(<span class="hljs-string">&quot;aç­‰äºb&quot;</span>);<br>&#125;<br><span class="hljs-comment">//éœ€æ±‚ï¼šåˆ¤æ–­aå’Œcçš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœç›¸ç­‰ï¼Œå°±åœ¨æ§åˆ¶å°è¾“å‡ºï¼šaç­‰äºc</span><br><span class="hljs-type">int</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br><span class="hljs-keyword">if</span>(a == c) &#123;<br>System.out.println(<span class="hljs-string">&quot;aç­‰äºc&quot;</span>);<br>&#125;<br>System.out.println(<span class="hljs-string">&quot;ç»“æŸ&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ifè¯­å¥æ ¼å¼2">2.2 ifè¯­å¥æ ¼å¼2</h3><p>æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">if</span> (å…³ç³»è¡¨è¾¾å¼) &#123;<br>    è¯­å¥ä½“<span class="hljs-number">1</span>;<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>    è¯­å¥ä½“<span class="hljs-number">2</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œæµç¨‹ï¼š</p><p>â‘ é¦–å…ˆè®¡ç®—å…³ç³»è¡¨è¾¾å¼çš„å€¼</p><p>â‘¡å¦‚æœå…³ç³»è¡¨è¾¾å¼çš„å€¼ä¸ºtrueå°±æ‰§è¡Œè¯­å¥ä½“1</p><p>â‘¢å¦‚æœå…³ç³»è¡¨è¾¾å¼çš„å€¼ä¸ºfalseå°±æ‰§è¡Œè¯­å¥ä½“2</p><p>â‘£ç»§ç»­æ‰§è¡Œåé¢çš„è¯­å¥å†…å®¹</p><p><img src="/img/04-Javaåˆ¤æ–­å’Œå¾ªç¯/39c52aa5d50049e48513a724a5aceb87.png" /></p><p>ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">IfDemo02</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;å¼€å§‹&quot;</span>);<br><span class="hljs-comment">//å®šä¹‰ä¸¤ä¸ªå˜é‡</span><br><span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;<br><span class="hljs-comment">//éœ€æ±‚ï¼šåˆ¤æ–­aæ˜¯å¦å¤§äºbï¼Œå¦‚æœæ˜¯ï¼Œåœ¨æ§åˆ¶å°è¾“å‡ºï¼šaçš„å€¼å¤§äºbï¼Œå¦åˆ™ï¼Œåœ¨æ§åˆ¶å°è¾“å‡ºï¼šaçš„å€¼ä¸å¤§äºb</span><br><span class="hljs-keyword">if</span>(a &gt; b) &#123;<br>System.out.println(<span class="hljs-string">&quot;açš„å€¼å¤§äºb&quot;</span>);<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;açš„å€¼ä¸å¤§äºb&quot;</span>);<br>&#125;<br>System.out.println(<span class="hljs-string">&quot;ç»“æŸ&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="ifè¯­å¥æ ¼å¼3">2.3 ifè¯­å¥æ ¼å¼3</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs java">æ ¼å¼ï¼š<br><span class="hljs-keyword">if</span> (å…³ç³»è¡¨è¾¾å¼<span class="hljs-number">1</span>) &#123;<br>    è¯­å¥ä½“<span class="hljs-number">1</span>;<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (å…³ç³»è¡¨è¾¾å¼<span class="hljs-number">2</span>) &#123;<br>    è¯­å¥ä½“<span class="hljs-number">2</span>;<br>&#125; <br>â€¦<br><span class="hljs-keyword">else</span> &#123;<br>    è¯­å¥ä½“n+<span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ‰§è¡Œæµç¨‹ï¼š</p><p>â‘ é¦–å…ˆè®¡ç®—å…³ç³»è¡¨è¾¾å¼1çš„å€¼</p><p>â‘¡å¦‚æœå€¼ä¸ºtrueå°±æ‰§è¡Œè¯­å¥ä½“1ï¼›å¦‚æœå€¼ä¸ºfalseå°±è®¡ç®—å…³ç³»è¡¨è¾¾å¼2çš„å€¼</p><p>â‘¢å¦‚æœå€¼ä¸ºtrueå°±æ‰§è¡Œè¯­å¥ä½“2ï¼›å¦‚æœå€¼ä¸ºfalseå°±è®¡ç®—å…³ç³»è¡¨è¾¾å¼3çš„å€¼</p><p>â‘£â€¦</p><p>â‘¤å¦‚æœæ²¡æœ‰ä»»ä½•å…³ç³»è¡¨è¾¾å¼ä¸ºtrueï¼Œå°±æ‰§è¡Œè¯­å¥ä½“n+1ã€‚</p><p><img src="/img/04-Javaåˆ¤æ–­å’Œå¾ªç¯/273c4ba80bbb4f51a924fb7b81f1d75c.png" /></p><h2 id="ç¬¬ä¸‰ç« -switchè¯­å¥">ç¬¬ä¸‰ç«  switchè¯­å¥</h2><h3 id="æ ¼å¼">3.1 æ ¼å¼</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">switch</span> (è¡¨è¾¾å¼) &#123;<br><span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br>è¯­å¥ä½“<span class="hljs-number">1</span>;<br><span class="hljs-keyword">break</span>;<br><span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>è¯­å¥ä½“<span class="hljs-number">2</span>;<br><span class="hljs-keyword">break</span>;<br>...<br><span class="hljs-keyword">default</span>:<br>è¯­å¥ä½“n+<span class="hljs-number">1</span>;<br><span class="hljs-keyword">break</span>;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ‰§è¡Œæµç¨‹">3.2 <strong>æ‰§è¡Œæµç¨‹ï¼š</strong></h3><ul><li>é¦–å…ˆè®¡ç®—å‡ºè¡¨è¾¾å¼çš„å€¼</li><li>å…¶æ¬¡ï¼Œå’Œcaseä¾æ¬¡æ¯”è¾ƒï¼Œä¸€æ—¦æœ‰å¯¹åº”çš„å€¼ï¼Œå°±ä¼šæ‰§è¡Œç›¸åº”çš„è¯­å¥ï¼Œåœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œé‡åˆ°breakå°±ä¼šç»“ æŸã€‚</li><li>æœ€åï¼Œå¦‚æœæ‰€æœ‰çš„caseéƒ½å’Œè¡¨è¾¾å¼çš„å€¼ä¸åŒ¹é…ï¼Œå°±ä¼šæ‰§è¡Œdefaultè¯­å¥ä½“éƒ¨åˆ†ï¼Œç„¶åç¨‹åºç»“æŸæ‰ã€‚</li></ul><h4 id="ç»ƒä¹ è¿åŠ¨è®¡åˆ’">ç»ƒä¹ ï¼šè¿åŠ¨è®¡åˆ’</h4><ul><li><p>éœ€æ±‚ï¼šé”®ç›˜å½•å…¥æ˜ŸæœŸæ•°ï¼Œæ˜¾ç¤ºä»Šå¤©çš„å‡è‚¥æ´»åŠ¨ã€‚</p><p>å‘¨ä¸€ï¼šè·‘æ­¥</p><p>å‘¨äºŒï¼šæ¸¸æ³³</p><p>å‘¨ä¸‰ï¼šæ…¢èµ°</p><p>å‘¨å››ï¼šåŠ¨æ„Ÿå•è½¦</p><p>å‘¨äº”ï¼šæ‹³å‡»</p><p>å‘¨å…­ï¼šçˆ¬å±±</p><p>å‘¨æ—¥ï¼šå¥½å¥½åƒä¸€é¡¿</p></li><li><p>ä»£ç ç¤ºä¾‹ï¼š</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">import</span> java.util.Scanner;<br><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">SwitchDemo2</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//1.é”®ç›˜å½•å…¥ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºæ˜ŸæœŸ</span><br>        <span class="hljs-type">Scanner</span> <span class="hljs-variable">sc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>        System.out.println(<span class="hljs-string">&quot;è¯·è¾“å…¥ä¸€ä¸ªæ•´æ•°è¡¨ç¤ºæ˜ŸæœŸ&quot;</span>);<br>        <span class="hljs-type">int</span> <span class="hljs-variable">week</span> <span class="hljs-operator">=</span> sc.nextInt();<br><br>        <span class="hljs-comment">//2.ä¹¦å†™ä¸€ä¸ªswitchè¯­å¥å»è·Ÿweekè¿›è¡ŒåŒ¹é…</span><br>        <span class="hljs-keyword">switch</span> (week)&#123;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<br>                System.out.println(<span class="hljs-string">&quot;è·‘æ­¥&quot;</span>);<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<br>                System.out.println(<span class="hljs-string">&quot;æ¸¸æ³³&quot;</span>);<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<br>                System.out.println(<span class="hljs-string">&quot;æ…¢èµ°&quot;</span>);<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:<br>                System.out.println(<span class="hljs-string">&quot;åŠ¨æ„Ÿå•è½¦&quot;</span>);<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:<br>                System.out.println(<span class="hljs-string">&quot;æ‹³å‡»&quot;</span>);<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:<br>                System.out.println(<span class="hljs-string">&quot;çˆ¬å±±&quot;</span>);<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:<br>                System.out.println(<span class="hljs-string">&quot;å¥½å¥½åƒä¸€é¡¿&quot;</span>);<br>                <span class="hljs-keyword">break</span>;<br>            <span class="hljs-keyword">default</span>:<br>                System.out.println(<span class="hljs-string">&quot;è¾“å…¥é”™è¯¯ï¼Œæ²¡æœ‰è¿™ä¸ªæ˜ŸæœŸ&quot;</span>);<br>                <span class="hljs-keyword">break</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="switchçš„æ‰©å±•çŸ¥è¯†">3.3 switchçš„æ‰©å±•çŸ¥è¯†ï¼š</h3><ul><li><p>defaultçš„ä½ç½®å’Œçœç•¥æƒ…å†µ</p><p>defaultå¯ä»¥æ”¾åœ¨ä»»æ„ä½ç½®ï¼Œä¹Ÿå¯ä»¥çœç•¥</p></li><li><p>caseç©¿é€</p><p>ä¸å†™breakä¼šå¼•å‘caseç©¿é€ç°è±¡</p></li><li><p>switchåœ¨JDK12çš„æ–°ç‰¹æ€§</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">number</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br><span class="hljs-keyword">switch</span> (number) &#123;<br>    <span class="hljs-keyword">case</span> <span class="hljs-number">1</span> -&gt; System.out.println(<span class="hljs-string">&quot;ä¸€&quot;</span>);<br>    <span class="hljs-keyword">case</span> <span class="hljs-number">2</span> -&gt; System.out.println(<span class="hljs-string">&quot;äºŒ&quot;</span>);<br>    <span class="hljs-keyword">case</span> <span class="hljs-number">3</span> -&gt; System.out.println(<span class="hljs-string">&quot;ä¸‰&quot;</span>);<br>    <span class="hljs-keyword">default</span> -&gt; System.out.println(<span class="hljs-string">&quot;å…¶ä»–&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><ul><li>switchå’Œifç¬¬ä¸‰ç§æ ¼å¼å„è‡ªçš„ä½¿ç”¨åœºæ™¯</li></ul><p>å½“æˆ‘ä»¬éœ€è¦å¯¹ä¸€ä¸ªèŒƒå›´è¿›è¡Œåˆ¤æ–­çš„æ—¶å€™ï¼Œç”¨ifçš„ç¬¬ä¸‰ç§æ ¼å¼</p><p>å½“æˆ‘ä»¬æŠŠæœ‰é™ä¸ªæ•°æ®åˆ—ä¸¾å‡ºæ¥ï¼Œé€‰æ‹©å…¶ä¸­ä¸€ä¸ªæ‰§è¡Œçš„æ—¶å€™ï¼Œç”¨switchè¯­å¥</p><p>æ¯”å¦‚ï¼š</p><p>å°æ˜çš„è€ƒè¯•æˆç»©ï¼Œå¦‚æœç”¨switchï¼Œé‚£ä¹ˆéœ€è¦å†™100ä¸ªcaseï¼Œå¤ªéº»çƒ¦äº†ï¼Œæ‰€ä»¥ç”¨ifç®€å•ã€‚</p><p>å¦‚æœæ˜¯æ˜ŸæœŸï¼Œæœˆä»½ï¼Œå®¢æœç”µè¯ä¸­0~9çš„åŠŸèƒ½é€‰æ‹©å°±å¯ä»¥ç”¨switch</p><h2 id="ç¬¬å››ç« -å¾ªç¯ç»“æ„">ç¬¬å››ç«  å¾ªç¯ç»“æ„</h2><h3 id="forå¾ªç¯ç»“æ„æŒæ¡">4.1 forå¾ªç¯ç»“æ„ï¼ˆæŒæ¡ï¼‰</h3><p>å¾ªç¯è¯­å¥å¯ä»¥åœ¨æ»¡è¶³å¾ªç¯æ¡ä»¶çš„æƒ…å†µä¸‹ï¼Œåå¤æ‰§è¡ŒæŸä¸€æ®µä»£ç ï¼Œè¿™æ®µè¢«é‡å¤æ‰§è¡Œçš„ä»£ç è¢«ç§°ä¸ºå¾ªç¯ä½“è¯­å¥ï¼Œå½“åå¤ æ‰§è¡Œè¿™ä¸ªå¾ªç¯ä½“æ—¶ï¼Œéœ€è¦åœ¨åˆé€‚çš„æ—¶å€™æŠŠå¾ªç¯åˆ¤æ–­æ¡ä»¶ä¿®æ”¹ä¸ºfalseï¼Œä»è€Œç»“æŸå¾ªç¯ï¼Œå¦åˆ™å¾ªç¯å°†ä¸€ç›´æ‰§è¡Œä¸‹å»ï¼Œå½¢æˆæ­»å¾ªç¯ã€‚</p><h4 id="forå¾ªç¯æ ¼å¼">4.1.1 forå¾ªç¯æ ¼å¼ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">for</span> (åˆå§‹åŒ–è¯­å¥;æ¡ä»¶åˆ¤æ–­è¯­å¥;æ¡ä»¶æ§åˆ¶è¯­å¥) &#123;<br>å¾ªç¯ä½“è¯­å¥;<br>&#125;<br></code></pre></td></tr></table></figure><p><strong>æ ¼å¼è§£é‡Šï¼š</strong></p><ul><li>åˆå§‹åŒ–è¯­å¥ï¼š ç”¨äºè¡¨ç¤ºå¾ªç¯å¼€å¯æ—¶çš„èµ·å§‹çŠ¶æ€ï¼Œç®€å•è¯´å°±æ˜¯å¾ªç¯å¼€å§‹çš„æ—¶å€™ä»€ä¹ˆæ ·</li><li>æ¡ä»¶åˆ¤æ–­è¯­å¥ï¼šç”¨äºè¡¨ç¤ºå¾ªç¯åå¤æ‰§è¡Œçš„æ¡ä»¶ï¼Œç®€å•è¯´å°±æ˜¯åˆ¤æ–­å¾ªç¯æ˜¯å¦èƒ½ä¸€ç›´æ‰§è¡Œä¸‹å»</li><li>å¾ªç¯ä½“è¯­å¥ï¼š ç”¨äºè¡¨ç¤ºå¾ªç¯åå¤æ‰§è¡Œçš„å†…å®¹ï¼Œç®€å•è¯´å°±æ˜¯å¾ªç¯åå¤æ‰§è¡Œçš„äº‹æƒ…</li><li>æ¡ä»¶æ§åˆ¶è¯­å¥ï¼šç”¨äºè¡¨ç¤ºå¾ªç¯æ‰§è¡Œä¸­æ¯æ¬¡å˜åŒ–çš„å†…å®¹ï¼Œç®€å•è¯´å°±æ˜¯æ§åˆ¶å¾ªç¯æ˜¯å¦èƒ½æ‰§è¡Œä¸‹å»</li></ul><p><strong>æ‰§è¡Œæµç¨‹ï¼š</strong></p><p>â‘ æ‰§è¡Œåˆå§‹åŒ–è¯­å¥</p><p>â‘¡æ‰§è¡Œæ¡ä»¶åˆ¤æ–­è¯­å¥ï¼Œçœ‹å…¶ç»“æœæ˜¯trueè¿˜æ˜¯false</p><pre><code class="hljs">         å¦‚æœæ˜¯falseï¼Œå¾ªç¯ç»“æŸ         å¦‚æœæ˜¯trueï¼Œç»§ç»­æ‰§è¡Œ</code></pre><p>â‘¢æ‰§è¡Œå¾ªç¯ä½“è¯­å¥</p><p>â‘£æ‰§è¡Œæ¡ä»¶æ§åˆ¶è¯­å¥</p><p>â‘¤å›åˆ°â‘¡ç»§ç»­</p><p><strong>forå¾ªç¯ä¹¦å†™æŠ€å·§ï¼š</strong></p><ul><li>ç¡®å®šå¾ªç¯çš„å¼€å§‹æ¡ä»¶</li><li>ç¡®å®šå¾ªç¯çš„ç»“æŸæ¡ä»¶</li><li>ç¡®å®šå¾ªç¯è¦é‡å¤æ‰§è¡Œçš„ä»£ç </li></ul><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//1.ç¡®å®šå¾ªç¯çš„å¼€å§‹æ¡ä»¶</span><br><span class="hljs-comment">//2.ç¡®å®šå¾ªç¯çš„ç»“æŸæ¡ä»¶</span><br><span class="hljs-comment">//3.ç¡®å®šè¦é‡å¤æ‰§è¡Œçš„ä»£ç </span><br><br><span class="hljs-comment">//éœ€æ±‚ï¼šæ‰“å°5æ¬¡HelloWorld</span><br><span class="hljs-comment">//å¼€å§‹æ¡ä»¶ï¼š1</span><br><span class="hljs-comment">//ç»“æŸæ¡ä»¶ï¼š5</span><br><span class="hljs-comment">//é‡å¤ä»£ç ï¼šæ‰“å°è¯­å¥</span><br><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>; i &lt;= <span class="hljs-number">5</span>; i++) &#123;<br>    System.out.println(<span class="hljs-string">&quot;HelloWorld&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="whileå¾ªç¯">4.2 whileå¾ªç¯</h3><h4 id="æ ¼å¼-1">4.2.1 æ ¼å¼ï¼š</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">åˆå§‹åŒ–è¯­å¥;<br><span class="hljs-keyword">while</span>(æ¡ä»¶åˆ¤æ–­è¯­å¥)&#123;<br>å¾ªç¯ä½“;<br>æ¡ä»¶æ§åˆ¶è¯­å¥;<br>&#125;<br></code></pre></td></tr></table></figure><h5 id="å®ä¾‹æ‰“å°5æ¬¡helloworld">å®ä¾‹ï¼šæ‰“å°5æ¬¡HelloWorld</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> <span class="hljs-number">1</span>;<br><span class="hljs-keyword">while</span>(i &lt;= <span class="hljs-number">5</span>)&#123;<br>    System.out.println(<span class="hljs-string">&quot;HelloWorld&quot;</span>);<br>    i++;<br>&#125;<br>System.out.println(i);<br></code></pre></td></tr></table></figure><h3 id="do...whileå¾ªç¯">4.3 do...whileå¾ªç¯</h3><p>æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java">åˆå§‹åŒ–è¯­å¥;<br><span class="hljs-keyword">do</span>&#123;<br>    å¾ªç¯ä½“;<br>    æ¡ä»¶æ§åˆ¶è¯­å¥;<br>&#125;<span class="hljs-keyword">while</span>(æ¡ä»¶åˆ¤æ–­è¯­å¥);<br></code></pre></td></tr></table></figure><p>ç‰¹ç‚¹ï¼š</p><pre><code class="hljs">å…ˆæ‰§è¡Œï¼Œå†åˆ¤æ–­ã€‚</code></pre><h3 id="ä¸‰ç§æ ¼å¼çš„åŒºåˆ«">4.4 ä¸‰ç§æ ¼å¼çš„åŒºåˆ«ï¼š</h3><pre><code class="hljs">forå’Œwhileå¾ªç¯ï¼Œæ˜¯å…ˆåˆ¤æ–­ï¼Œå†æ‰§è¡Œã€‚do...whileæ˜¯å…ˆæ‰§è¡Œï¼Œå†åˆ¤æ–­ã€‚å½“çŸ¥é“å¾ªç¯æ¬¡æ•°æˆ–è€…å¾ªç¯èŒƒå›´çš„æ—¶å€™ï¼Œç”¨forå¾ªç¯ã€‚å½“ä¸çŸ¥é“å¾ªç¯æ¬¡æ•°ï¼Œä¹Ÿä¸çŸ¥é“å¾ªç¯èŒƒå›´ï¼Œä½†æ˜¯çŸ¥é“å¾ªç¯çš„ç»“æŸæ¡ä»¶æ—¶ï¼Œç”¨whileå¾ªç¯ã€‚</code></pre>]]></content>
    
    
    <categories>
      
      <category>JavaåŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java03-è¿ç®—ç¬¦</title>
    <link href="/2023/06/29/Java03-%E8%BF%90%E7%AE%97%E7%AC%A6/"/>
    <url>/2023/06/29/Java03-%E8%BF%90%E7%AE%97%E7%AC%A6/</url>
    
    <content type="html"><![CDATA[<h1 id="è¿ç®—ç¬¦å’Œè¡¨è¾¾å¼">1.è¿ç®—ç¬¦å’Œè¡¨è¾¾å¼</h1><h3 id="è¿ç®—ç¬¦">è¿ç®—ç¬¦ï¼š</h3><pre><code class="hljs">å°±æ˜¯å¯¹å¸¸é‡æˆ–è€…å˜é‡è¿›è¡Œæ“ä½œçš„ç¬¦å·ã€‚æ¯”å¦‚ï¼š +  -  *  / </code></pre><h3 id="è¡¨è¾¾å¼">è¡¨è¾¾å¼ï¼š</h3><pre><code class="hljs">ç”¨è¿ç®—ç¬¦æŠŠå¸¸é‡æˆ–è€…å˜é‡è¿æ¥èµ·æ¥çš„ï¼Œç¬¦åˆJavaè¯­æ³•çš„å¼å­å°±æ˜¯è¡¨è¾¾å¼ã€‚æ¯”å¦‚ï¼ša + b è¿™ä¸ªæ•´ä½“å°±æ˜¯è¡¨è¾¾å¼ã€‚è€Œå…¶ä¸­+æ˜¯ç®—æœ¯è¿ç®—ç¬¦çš„ä¸€ç§ï¼Œæ‰€ä»¥è¿™ä¸ªè¡¨è¾¾å¼ä¹Ÿç§°ä¹‹ä¸ºç®—æœ¯è¡¨è¾¾å¼ã€‚</code></pre><h1 id="ç®—æœ¯è¿ç®—ç¬¦">2.ç®—æœ¯è¿ç®—ç¬¦</h1><p>åˆ†ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">+ - * / %<br></code></pre></td></tr></table></figure><p>è¿ç®—ç‰¹ç‚¹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">+ - * :è·Ÿæ•°å­¦ä¸­ä¸€æ ·.<br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java">/ï¼š<br><span class="hljs-number">1.</span>æ•´æ•°ç›¸é™¤ç»“æœåªèƒ½å¾—åˆ°æ•´é™¤ï¼Œå¦‚æœç»“æœæƒ³è¦æ˜¯å°æ•°ï¼Œå¿…é¡»è¦æœ‰å°æ•°å‚æ•°ã€‚<br><span class="hljs-number">2.</span>å°æ•°ç›´æ¥å‚ä¸è¿ç®—ï¼Œå¾—åˆ°çš„ç»“æœæœ‰å¯èƒ½æ˜¯ä¸ç²¾ç¡®çš„ã€‚<br>æ¡ˆä¾‹ï¼š<br>System.out.println( <span class="hljs-number">10</span> / <span class="hljs-number">3</span>);<span class="hljs-comment">//3</span><br>System.out.println(<span class="hljs-number">10.0</span> / <span class="hljs-number">3</span>);<span class="hljs-comment">//3.3333333333333335</span><br></code></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs java">%ï¼šå–æ¨¡ã€å–ä½™ã€‚<br>   åšçš„ä¹Ÿæ˜¯é™¤æ³•è¿ç®—ï¼Œåªä¸è¿‡è·å–çš„æ˜¯ä½™æ•°è€Œå·²ã€‚<br>æ¡ˆä¾‹ï¼š<br>System.out.println(<span class="hljs-number">10</span> % <span class="hljs-number">2</span>);<span class="hljs-comment">//0</span><br>System.out.println(<span class="hljs-number">10</span> % <span class="hljs-number">3</span>);<span class="hljs-comment">//1</span><br>åº”ç”¨åœºæ™¯ï¼š<br><span class="hljs-comment">//å¯ä»¥åˆ©ç”¨å–æ¨¡æ¥åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°</span><br>System.out.println(<span class="hljs-number">15</span> % <span class="hljs-number">2</span>);<span class="hljs-comment">//1  å¥‡æ•°</span><br></code></pre></td></tr></table></figure><h3 id="ç»ƒä¹ æ•°å€¼æ‹†åˆ†">ç»ƒä¹ ï¼šæ•°å€¼æ‹†åˆ†</h3><p>éœ€æ±‚ï¼šé”®ç›˜å½•å…¥ä¸€ä¸ªä¸‰ä½æ•°ï¼Œå°†å…¶æ‹†åˆ†ä¸ºä¸ªä½ã€åä½ã€ç™¾ä½åï¼Œæ‰“å°åœ¨æ§åˆ¶å°</p><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//1.é”®ç›˜å½•å…¥ä¸€ä¸ªä¸‰ä½æ•°</span><br><span class="hljs-comment">//å¯¼åŒ… --- åˆ›å»ºå¯¹è±¡ --- æ¥æ”¶æ•°æ®</span><br><span class="hljs-type">Scanner</span> <span class="hljs-variable">sc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br>System.out.println(<span class="hljs-string">&quot;è¯·è¾“å…¥ä¸€ä¸ªä¸‰ä½æ•°&quot;</span>);<br><span class="hljs-type">int</span> <span class="hljs-variable">number</span> <span class="hljs-operator">=</span> sc.nextInt();<span class="hljs-comment">//123</span><br><br><span class="hljs-comment">//2.è·å–è¿™ä¸ªä¸‰ä½æ•°çš„ä¸ªä½ã€åä½ã€ç™¾ä½å¹¶æ‰“å°å‡ºæ¥</span><br><span class="hljs-comment">//å…¬å¼ï¼š</span><br><span class="hljs-comment">//é’ˆå¯¹äºä»»æ„çš„ä¸€ä¸ªæ•°è€Œè¨€</span><br><span class="hljs-comment">//ä¸ªä½ï¼š æ•°å­— % 10</span><br><span class="hljs-type">int</span> <span class="hljs-variable">ones</span> <span class="hljs-operator">=</span> number % <span class="hljs-number">10</span>;<br><span class="hljs-comment">//åä½ï¼š æ•°å­— / 10 % 10</span><br><span class="hljs-type">int</span> <span class="hljs-variable">tens</span> <span class="hljs-operator">=</span> number / <span class="hljs-number">10</span> % <span class="hljs-number">10</span>;<br><span class="hljs-comment">//ç™¾ä½ï¼š æ•°å­— / 100 % 10</span><br><span class="hljs-type">int</span> <span class="hljs-variable">hundreds</span> <span class="hljs-operator">=</span> number / <span class="hljs-number">100</span>  % <span class="hljs-number">10</span>;<br><br><span class="hljs-comment">//è¾“å‡ºç»“æœ</span><br>System.out.println(ones);<br>System.out.println(tens);<br>System.out.println(hundreds);<br></code></pre></td></tr></table></figure><p>å…¬å¼ï¼š</p><p>è·å–ä»»æ„ä¸€ä¸ªæ•°ä¸Šæ¯ä¸€ä½æ•°ã€‚</p><p>ä¸ªä½ï¼šæ•°å­— % 10</p><p>åä½ï¼šæ•°å­— / 10 % 10</p><p>ç™¾ä½ï¼šæ•°å­— / 100 % 10</p><p>åƒä½ï¼šæ•°å­— / 1000 % 10</p><p>ä»¥æ­¤ç±»æ¨</p><h1 id="éšå¼è½¬æ¢">3.éšå¼è½¬æ¢</h1><h3 id="æ¦‚å¿µ">æ¦‚å¿µï¼š</h3><p>ä¹Ÿå«è‡ªåŠ¨ç±»å‹æå‡ã€‚</p><p>å°±æ˜¯æŠŠä¸€ä¸ªå–å€¼èŒƒå›´å°çš„æ•°æ®æˆ–è€…å˜é‡ï¼Œèµ‹å€¼ç»™å¦ä¸€ä¸ªå–å€¼èŒƒå›´å¤§çš„å˜é‡ã€‚æ­¤æ—¶ä¸éœ€è¦æˆ‘ä»¬é¢å¤–å†™ä»£ç å•ç‹¬å®ç°ï¼Œæ˜¯ç¨‹åºè‡ªåŠ¨å¸®æˆ‘ä»¬å®Œæˆçš„ã€‚</p><p>ç®€å•è®°å¿†ï¼šå°±æ˜¯å°çš„ç»™å¤§çš„ï¼Œå¯ä»¥ç›´æ¥ç»™ã€‚</p><h3 id="ä¸¤ç§æå‡è§„åˆ™">ä¸¤ç§æå‡è§„åˆ™ï¼š</h3><ul><li>å–å€¼èŒƒå›´å°çš„ï¼Œå’Œå–å€¼èŒƒå›´å¤§çš„è¿›è¡Œè¿ç®—ï¼Œå°çš„ä¼šå…ˆæå‡ä¸ºå¤§çš„ï¼Œå†è¿›è¡Œè¿ç®—ã€‚</li><li>byteã€shortã€charä¸‰ç§ç±»å‹çš„æ•°æ®åœ¨è¿ç®—çš„æ—¶å€™ï¼Œéƒ½ä¼šç›´æ¥å…ˆæå‡ä¸ºintï¼Œç„¶åå†è¿›è¡Œè¿ç®—ã€‚</li></ul><h3 id="å–å€¼èŒƒå›´ä»å°åˆ°å¤§çš„å…³ç³»">å–å€¼èŒƒå›´ä»å°åˆ°å¤§çš„å…³ç³»ï¼š</h3><pre><code class="hljs">byte \&lt;short \&lt;int \&lt;long \&lt;float \&lt;double</code></pre><h1 id="å¼ºåˆ¶è½¬æ¢">4.å¼ºåˆ¶è½¬æ¢</h1><h3 id="æ¦‚å¿µ-1">æ¦‚å¿µï¼š</h3><p>å¦‚æœè¦æŠŠä¸€ä¸ªå–å€¼èŒƒå›´å¤§çš„æ•°æ®æˆ–è€…å˜é‡èµ‹å€¼ç»™å¦ä¸€ä¸ªå–å€¼èŒƒå›´å°çš„å˜é‡ã€‚æ˜¯ä¸å…è®¸ç›´æ¥æ“ä½œã€‚å¦‚æœä¸€å®šè¦è¿™ä¹ˆå¹²ï¼Œå°±éœ€è¦åŠ å…¥å¼ºåˆ¶è½¬æ¢ã€‚</p><h3 id="ä¹¦å†™æ ¼å¼">ä¹¦å†™æ ¼å¼ï¼š</h3><pre><code class="hljs">ç›®æ ‡æ•°æ®ç±»å‹ å˜é‡å = ï¼ˆç›®æ ‡æ•°æ®ç±»å‹ï¼‰è¢«å¼ºè½¬çš„æ•°æ®ï¼›</code></pre><p>ç®€å•ç†è§£ï¼šè¦è½¬æˆä»€ä¹ˆç±»å‹çš„ï¼Œé‚£ä¹ˆå°±åœ¨å°æ‹¬å·ä¸­å†™ä»€ä¹ˆç±»å‹å°±å¯ä»¥äº†ã€‚</p><p>æ¡ˆä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OperatorDemo2</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">double</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">12.3</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> (<span class="hljs-type">int</span>) a;<br>        System.out.println(b);<span class="hljs-comment">//12</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹ï¼š</p><pre><code class="hljs">å¼ºåˆ¶è½¬æ¢æœ‰å¯èƒ½ä¼šå¯¼è‡´æ•°æ®å‘ç”Ÿé”™è¯¯ã€‚ï¼ˆæ•°æ®çš„ç²¾åº¦ä¸¢å¤±ï¼‰</code></pre><h1 id="å­—ç¬¦ä¸²çš„æ“ä½œ">5.å­—ç¬¦ä¸²çš„+æ“ä½œ</h1><h3 id="æ ¸å¿ƒæŠ€å·§">æ ¸å¿ƒæŠ€å·§ï¼š</h3><ul><li>å½“+æ“ä½œä¸­å‡ºç°å­—ç¬¦ä¸²æ—¶ï¼Œæ­¤æ—¶å°±æ˜¯å­—ç¬¦ä¸²çš„è¿æ¥ç¬¦ï¼Œä¼šå°†å‰åçš„æ•°æ®è¿›è¡Œæ‹¼æ¥ï¼Œå¹¶äº§ç”Ÿä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ã€‚</li><li>å½“è¿ç»­è¿›è¡Œ+æ“ä½œæ—¶ï¼Œä»å·¦åˆ°å³é€ä¸ªæ‰§è¡Œçš„ã€‚</li></ul><h1 id="å­—ç¬¦ä¸²ç›¸åŠ çš„ç»ƒä¹ ">6.å­—ç¬¦ä¸²ç›¸åŠ çš„ç»ƒä¹ ï¼š</h1><p>æ¡ˆä¾‹1ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-number">1</span> + <span class="hljs-string">&quot;abc&quot;</span> + <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>ç»“æœï¼š"1abc1"</p><p>è§£é‡Šï¼š</p><pre><code class="hljs">ç¬¬ä¸€æ­¥ï¼š 1 + &quot;abc&quot;ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæœ‰å­—ç¬¦ä¸²å‚ä¸çš„ï¼Œæ‰€ä»¥åšçš„æ˜¯æ‹¼æ¥æ“ä½œï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²&quot;1abc&quot;ç¬¬äºŒæ­¥ï¼š  &quot;1abc&quot; + 1ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæœ‰å­—ç¬¦ä¸²å‚ä¸çš„ï¼Œæ‰€ä»¥åšçš„ä¹Ÿæ˜¯æ‹¼æ¥æ“ä½œï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²&quot;1abc1&quot;</code></pre><p>æ¡ˆä¾‹2ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-number">1</span> + <span class="hljs-number">2</span> + <span class="hljs-string">&quot;abc&quot;</span> + <span class="hljs-number">2</span> + <span class="hljs-number">1</span><br></code></pre></td></tr></table></figure><p>ç»“æœï¼šâ€œ3abc21â€</p><p>è§£é‡Šï¼š</p><pre><code class="hljs">ç¬¬ä¸€æ­¥ï¼š1 + 2 ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæ²¡æœ‰å­—ç¬¦ä¸²å‚ä¸çš„ï¼Œæ‰€ä»¥åšçš„æ˜¯åŠ æ³•è¿ç®—ï¼Œç»“æœä¸º3ã€‚ç¬¬äºŒæ­¥ï¼š3 + &quot;abc&quot;ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæœ‰å­—ç¬¦ä¸²å‚ä¸çš„ï¼Œæ‰€ä»¥åšçš„æ˜¯æ‹¼æ¥æ“ä½œï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²&quot;3abc&quot;ã€‚ç¬¬ä¸‰æ­¥ï¼š&quot;3abc&quot; + 2ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæœ‰å­—ç¬¦ä¸²å‚ä¸çš„ï¼Œæ‰€ä»¥åšçš„æ˜¯æ‹¼æ¥æ“ä½œï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²&quot;3abc2&quot;ã€‚ç¬¬å››æ­¥ï¼š&quot;3abc2&quot; + 1ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæœ‰å­—ç¬¦ä¸²å‚ä¸çš„ï¼Œæ‰€ä»¥åšçš„æ˜¯æ‹¼æ¥æ“ä½œï¼Œäº§ç”Ÿä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²â€œ3abc21â€</code></pre><h1 id="å­—ç¬¦çš„æ“ä½œ">8.å­—ç¬¦çš„+æ“ä½œ</h1><h3 id="è§„åˆ™">è§„åˆ™ï¼š</h3><pre><code class="hljs">å½“+æ“ä½œä¸­å‡ºç°äº†**å­—ç¬¦**ï¼Œä¼šæ‹¿ç€å­—ç¬¦åˆ°è®¡ç®—æœºå†…ç½®çš„ASCIIç è¡¨ä¸­å»æŸ¥å¯¹åº”çš„æ•°å­—ï¼Œç„¶åå†è¿›è¡Œè®¡ç®—ã€‚</code></pre><h3 id="æ¡ˆä¾‹">æ¡ˆä¾‹ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-type">char</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;a&#x27;</span>;<br><span class="hljs-type">int</span> <span class="hljs-variable">result</span> <span class="hljs-operator">=</span> c + <span class="hljs-number">0</span>;<br>System.out.println(result);<span class="hljs-comment">//97</span><br></code></pre></td></tr></table></figure><p>ASCIIç è¡¨ä¸­ï¼š</p><pre><code class="hljs">&#39;a&#39;   -----    97&#39;A&#39;   -----    65</code></pre><h1 id="ç®—æœ¯è¿ç®—ç¬¦çš„æ€»ç»“">9.ç®—æœ¯è¿ç®—ç¬¦çš„æ€»ç»“</h1><p>åˆ†ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java">+ - * / %  è¿™äº›æ“ä½œè·Ÿå°å­¦æ•°å­¦å‡ ä¹æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚<br></code></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹ï¼š</p><ul><li>/ å’Œ % çš„åŒºåˆ«ï¼šä»–ä»¬ä¸¤ä¸ªéƒ½æ˜¯åšé™¤æ³•è¿ç®—ï¼Œ/å–ç»“æœçš„å•†ã€‚% å–ç»“æœçš„ä½™æ•°ã€‚</li><li>æ•´æ•°æ“ä½œåªèƒ½å¾—åˆ°æ•´æ•°ï¼Œå¦‚æœæƒ³è¦å¾—åˆ°å°æ•°ï¼Œå¿…é¡»æœ‰æµ®ç‚¹æ•°å‚ä¸è¿ç®—ã€‚</li></ul><p>ç®—æœ¯è¿ç®—ç¬¦çš„é«˜çº§ç”¨æ³•ï¼š</p><p>æ˜¯ä»¥+ä¸ºä¾‹è¿›è¡Œçš„è®²è§£ï¼Œå…¶ä½™å‡æ³•ï¼Œä¹˜æ³•ï¼Œé™¤æ³•çš„è¿ç®—è§„åˆ™ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p><p>ç‰¹ä¾‹ï¼šå­—ç¬¦ä¸²åªæœ‰+æ“ä½œï¼Œæ²¡æœ‰å…¶ä»–æ“ä½œã€‚</p><h1 id="è‡ªå¢è‡ªå‡è¿ç®—ç¬¦">10.è‡ªå¢è‡ªå‡è¿ç®—ç¬¦</h1><h3 id="åˆ†ç±»">åˆ†ç±»ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs java">++  è‡ªå¢è¿ç®—ç¬¦<br>--  è‡ªå‡è¿ç®—ç¬¦<br></code></pre></td></tr></table></figure><p>++ï¼šå°±æ˜¯æŠŠå˜é‡é‡Œé¢çš„å€¼+1</p><p>--ï¼šå°±æ˜¯æŠŠå˜é‡é‡Œé¢çš„å€¼-1</p><h3 id="ä½¿ç”¨æ–¹å¼">ä½¿ç”¨æ–¹å¼ï¼š</h3><ul><li>æ”¾åœ¨å˜é‡çš„å‰é¢ï¼Œæˆ‘ä»¬å«åšå…ˆ++ã€‚ æ¯”å¦‚ï¼š++a</li><li>æ”¾åœ¨å˜é‡çš„åé¢ï¼Œæˆ‘ä»¬å«åšå++ã€‚ æ¯”å¦‚ï¼ša++</li></ul><h3 id="æ³¨æ„ç‚¹">æ³¨æ„ç‚¹ï¼š</h3><pre><code class="hljs">ä¸ç®¡æ˜¯å…ˆ++ï¼Œè¿˜æ˜¯å++ã€‚å•ç‹¬å†™åœ¨ä¸€è¡Œçš„æ—¶å€™ï¼Œè¿ç®—ç»“æœæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚</code></pre><h3 id="æ¡ˆä¾‹-1">æ¡ˆä¾‹ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//++</span><br><span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>a++;<span class="hljs-comment">//å°±æ˜¯è®©å˜é‡aé‡Œé¢çš„å€¼ + 1</span><br>System.out.println(a);<span class="hljs-comment">//11</span><br>++a;<span class="hljs-comment">//å°±æ˜¯è®©å˜é‡aé‡Œé¢çš„å€¼ + 1</span><br>System.out.println(a);<span class="hljs-comment">//12</span><br></code></pre></td></tr></table></figure><h3 id="è‡ªå¢è‡ªå‡è¿ç®—ç¬¦çš„åº”ç”¨åœºæ™¯">è‡ªå¢è‡ªå‡è¿ç®—ç¬¦çš„åº”ç”¨åœºæ™¯ï¼š</h3><p>æŸäº›æƒ…å†µä¸‹ï¼Œå˜é‡éœ€è¦è¿›è¡ŒåŠ 1æˆ–è€…å‡1çš„æ—¶å€™ä½¿ç”¨ã€‚</p><p>æ¯”å¦‚ï¼šè¿‡ç”Ÿæ—¥å¤šä¸€å²ï¼Œå°±ç”¨åˆ°äº†è‡ªå¢è¿ç®—ç¬¦ã€‚</p><p>æ¯”å¦‚ï¼šè´­ç‰©å•†åœºä¸­ï¼Œé€‰æ‹©å•†å“æ•°é‡ï¼Œä¹Ÿç”¨åˆ°äº†è‡ªå¢æˆ–è€…è‡ªå‡è¿ç®—ç¬¦ã€‚</p><p>æ¯”å¦‚ï¼šç»Ÿè®¡å¾ˆå¤šæ•°æ®ä¸­ï¼Œæœ‰å¤šå°‘ä¸ªæ•°æ®æ»¡è¶³è¦æ±‚ï¼Œä¹Ÿç”¨åˆ°äº†è‡ªå¢è¿ç®—ç¬¦ã€‚</p><h1 id="èµ‹å€¼è¿ç®—ç¬¦">11.èµ‹å€¼è¿ç®—ç¬¦</h1><p>æœ€ä¸ºå¸¸ç”¨çš„ï¼š =</p><p>è¿ç®—è¿‡ç¨‹ï¼šå°±æ˜¯æŠŠç­‰å·å³è¾¹çš„ç»“æœèµ‹å€¼ç»™å·¦è¾¹çš„å˜é‡</p><p>æ¡ˆä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OperatorDemo6</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//1.æœ€ä¸ºç®€å•çš„èµ‹å€¼è¿ç®—ç¬¦ç”¨æ³•</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<span class="hljs-comment">//å°±æ˜¯æŠŠ10èµ‹å€¼ç»™å˜é‡a</span><br>        System.out.println(a);<br><br>        <span class="hljs-comment">//2.å¦‚æœç­‰å·å³è¾¹éœ€è¦è¿›è¡Œè®¡ç®—ã€‚</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> a + b;<span class="hljs-comment">//å…ˆè®¡ç®—ç­‰å·å³è¾¹çš„ï¼ŒæŠŠè®¡ç®—çš„ç»“æœèµ‹å€¼ç»™å·¦è¾¹çš„å˜é‡</span><br>        System.out.println(c);<br><br>        <span class="hljs-comment">//3.ç‰¹æ®Šçš„ç”¨æ³•</span><br>        a = a + <span class="hljs-number">10</span>;<span class="hljs-comment">//å…ˆè®¡ç®—ç­‰å·å³è¾¹çš„ï¼ŒæŠŠè®¡ç®—çš„ç»“æœèµ‹å€¼ç»™å·¦è¾¹çš„å˜é‡</span><br>        System.out.println(a);<span class="hljs-comment">//20</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="æ‰©å±•èµ‹å€¼è¿ç®—ç¬¦">12.æ‰©å±•èµ‹å€¼è¿ç®—ç¬¦</h1><h3 id="åˆ†ç±»-1">åˆ†ç±»ï¼š</h3><pre><code class="hljs">+=ã€-=ã€*=ã€/=ã€%=</code></pre><h3 id="è¿ç®—è§„åˆ™">è¿ç®—è§„åˆ™ï¼š</h3><pre><code class="hljs">å°±æ˜¯æŠŠå·¦è¾¹è·Ÿå³è¾¹è¿›è¡Œè¿ç®—ï¼ŒæŠŠæœ€ç»ˆçš„ç»“æœèµ‹å€¼ç»™å·¦è¾¹ï¼Œå¯¹å³è¾¹æ²¡æœ‰ä»»ä½•å½±å“ã€‚</code></pre><h3 id="æ¡ˆä¾‹-2">æ¡ˆä¾‹ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OperatorDemo7</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//æ‰©å±•èµ‹å€¼è¿ç®—ç¬¦</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;<br>        a += b;<span class="hljs-comment">//æŠŠå·¦è¾¹å’Œå³è¾¹ç›¸åŠ ï¼Œå†æŠŠæœ€ç»ˆçš„ç»“æœèµ‹å€¼ç»™å·¦è¾¹ï¼Œå¯¹å³è¾¹æ²¡æœ‰ä»»ä½•å½±å“</span><br>        <span class="hljs-comment">// ç›¸å½“äº a = a + b;</span><br>        System.out.println(a);<span class="hljs-comment">//30</span><br>        System.out.println(b);<span class="hljs-comment">//20</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="æ³¨æ„ç‚¹-1">æ³¨æ„ç‚¹ï¼š</h3><p>æ‰©å±•çš„èµ‹å€¼è¿ç®—ç¬¦ä¸­éšå±‚è¿˜åŒ…å«äº†ä¸€ä¸ªå¼ºåˆ¶è½¬æ¢ã€‚</p><p>ä»¥+=ä¸ºä¾‹ã€‚</p><p>a += b ;å®é™…ä¸Šç›¸å½“äº a = (byte)(a + b);</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OperatorDemo8</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-type">byte</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>        <span class="hljs-type">byte</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;<br>        <span class="hljs-comment">//a += b;</span><br>        a = (<span class="hljs-type">byte</span>)(a + b);<br>        System.out.println(a);<span class="hljs-comment">//30</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h1 id="å…³ç³»è¿ç®—ç¬¦">13.å…³ç³»è¿ç®—ç¬¦</h1><p>åˆå«æ¯”è¾ƒè¿ç®—ç¬¦ï¼Œå…¶å®å°±æ˜¯æ‹¿ç€å·¦è¾¹è·Ÿå³è¾¹è¿›è¡Œäº†åˆ¤æ–­è€Œå·²ã€‚</p><h3 id="åˆ†ç±»-2">åˆ†ç±»ï¼š</h3><table><thead><tr class="header"><th>ç¬¦å·</th><th>è§£é‡Š</th></tr></thead><tbody><tr class="odd"><td>==</td><td>å°±æ˜¯åˆ¤æ–­å·¦è¾¹è·Ÿå³è¾¹æ˜¯å¦ç›¸ç­‰ï¼Œå¦‚æœæˆç«‹å°±æ˜¯trueï¼Œå¦‚æœä¸æˆç«‹å°±æ˜¯false</td></tr><tr class="even"><td>!=</td><td>å°±æ˜¯åˆ¤æ–­å·¦è¾¹è·Ÿå³è¾¹æ˜¯å¦ä¸ç›¸ç­‰ï¼Œå¦‚æœæˆç«‹å°±æ˜¯trueï¼Œå¦‚æœä¸æˆç«‹å°±æ˜¯false</td></tr><tr class="odd"><td>&gt;</td><td>å°±æ˜¯åˆ¤æ–­å·¦è¾¹æ˜¯å¦å¤§äºå³è¾¹ï¼Œå¦‚æœæˆç«‹å°±æ˜¯trueï¼Œå¦‚æœä¸æˆç«‹å°±æ˜¯false</td></tr><tr class="even"><td>&gt;=</td><td>å°±æ˜¯åˆ¤æ–­å·¦è¾¹æ˜¯å¦å¤§äºç­‰äºå³è¾¹ï¼Œå¦‚æœæˆç«‹å°±æ˜¯trueï¼Œå¦‚æœä¸æˆç«‹å°±æ˜¯false</td></tr><tr class="odd"><td>&lt;</td><td>å°±æ˜¯åˆ¤æ–­å·¦è¾¹æ˜¯å¦å°äºå³è¾¹ï¼Œå¦‚æœæˆç«‹å°±æ˜¯trueï¼Œå¦‚æœä¸æˆç«‹å°±æ˜¯false</td></tr><tr class="even"><td>&lt;=</td><td>å°±æ˜¯åˆ¤æ–­å·¦è¾¹æ˜¯å¦å°äºç­‰äºå³è¾¹ï¼Œå¦‚æœæˆç«‹å°±æ˜¯trueï¼Œå¦‚æœä¸æˆç«‹å°±æ˜¯false</td></tr></tbody></table><h3 id="æ³¨æ„ç‚¹-2">æ³¨æ„ç‚¹ï¼š</h3><ul><li>å…³ç³»è¿ç®—ç¬¦æœ€ç»ˆçš„ç»“æœä¸€å®šæ˜¯å¸ƒå°”ç±»å‹çš„ã€‚è¦ä¹ˆæ˜¯trueï¼Œè¦ä¹ˆæ˜¯false</li><li>åœ¨å†™==çš„æ—¶å€™ï¼Œåƒä¸‡ä¸è¦å†™æˆ=</li></ul><h1 id="é€»è¾‘è¿ç®—ç¬¦">14.é€»è¾‘è¿ç®—ç¬¦</h1><h3 id="å’Œ-çš„ä½¿ç”¨">&amp; å’Œ | çš„ä½¿ç”¨ï¼š</h3><p>&amp;ï¼šé€»è¾‘ä¸ï¼ˆè€Œä¸”ï¼‰</p><pre><code class="hljs">ä¸¤è¾¹éƒ½ä¸ºçœŸï¼Œç»“æœæ‰æ˜¯çœŸï¼Œåªè¦æœ‰ä¸€ä¸ªä¸ºå‡ï¼Œé‚£ä¹ˆç»“æœå°±æ˜¯å‡ã€‚</code></pre><p>|ï¼šé€»è¾‘æˆ–ï¼ˆæˆ–è€…ï¼‰</p><pre><code class="hljs">ä¸¤è¾¹éƒ½ä¸ºå‡ï¼Œç»“æœæ‰æ˜¯å‡ï¼Œåªè¦æœ‰ä¸€ä¸ªä¸ºçœŸï¼Œé‚£ä¹ˆç»“æœå°±æ˜¯çœŸã€‚</code></pre><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// &amp;  //ä¸¤è¾¹éƒ½æ˜¯çœŸï¼Œç»“æœæ‰æ˜¯çœŸã€‚</span><br>System.out.println(<span class="hljs-literal">true</span> &amp; <span class="hljs-literal">true</span>);<span class="hljs-comment">//true</span><br>System.out.println(<span class="hljs-literal">false</span> &amp; <span class="hljs-literal">false</span>);<span class="hljs-comment">//false</span><br>System.out.println(<span class="hljs-literal">true</span> &amp; <span class="hljs-literal">false</span>);<span class="hljs-comment">//false</span><br>System.out.println(<span class="hljs-literal">false</span> &amp; <span class="hljs-literal">true</span>);<span class="hljs-comment">//false</span><br><br>System.out.println(<span class="hljs-string">&quot;===================================&quot;</span>);<br><br><span class="hljs-comment">// | æˆ–  //ä¸¤è¾¹éƒ½æ˜¯å‡ï¼Œç»“æœæ‰æ˜¯å‡ï¼Œå¦‚æœæœ‰ä¸€ä¸ªä¸ºçœŸï¼Œé‚£ä¹ˆç»“æœå°±æ˜¯çœŸã€‚</span><br>System.out.println(<span class="hljs-literal">true</span> | <span class="hljs-literal">true</span>);<span class="hljs-comment">//true</span><br>System.out.println(<span class="hljs-literal">false</span> | <span class="hljs-literal">false</span>);<span class="hljs-comment">//false</span><br>System.out.println(<span class="hljs-literal">true</span> | <span class="hljs-literal">false</span>);<span class="hljs-comment">//true</span><br>System.out.println(<span class="hljs-literal">false</span> | <span class="hljs-literal">true</span>);<span class="hljs-comment">//true</span><br></code></pre></td></tr></table></figure><p>ä½¿ç”¨æŠ€å·§ï¼š</p><pre><code class="hljs">å½“ä¸¤ç§æ¡ä»¶åªè¦æ»¡è¶³å…¶ä¸­ä¸€ä¸ªçš„æ—¶å€™ï¼Œå¯ä»¥ä½¿ç”¨æˆ–</code></pre><h3 id="å¼‚æˆ–çš„ä½¿ç”¨">^ï¼ˆå¼‚æˆ–ï¼‰çš„ä½¿ç”¨ï¼š</h3><pre><code class="hljs">åœ¨ä»¥åç”¨çš„ä¸å¤šï¼Œäº†è§£ä¸€ä¸‹å³å¯ã€‚</code></pre><p>è®¡ç®—è§„åˆ™ï¼šå¦‚æœä¸¤è¾¹ç›¸åŒï¼Œç»“æœä¸ºfalseï¼Œå¦‚æœä¸¤è¾¹ä¸åŒï¼Œç»“æœä¸ºtrue</p><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//^   //å·¦å³ä¸ç›¸åŒï¼Œç»“æœæ‰æ˜¯trueï¼Œå·¦å³ç›¸åŒç»“æœå°±æ˜¯false</span><br>System.out.println(<span class="hljs-literal">true</span> ^ <span class="hljs-literal">true</span>);<span class="hljs-comment">//false</span><br>System.out.println(<span class="hljs-literal">false</span> ^ <span class="hljs-literal">false</span>);<span class="hljs-comment">//false</span><br>System.out.println(<span class="hljs-literal">true</span> ^ <span class="hljs-literal">false</span>);<span class="hljs-comment">//true</span><br>System.out.println(<span class="hljs-literal">false</span> ^ <span class="hljs-literal">true</span>);<span class="hljs-comment">//true</span><br></code></pre></td></tr></table></figure><h3 id="å–åçš„ä½¿ç”¨">!ï¼ˆå–åï¼‰çš„ä½¿ç”¨ï¼š</h3><pre><code class="hljs">æ˜¯å–åï¼Œä¹Ÿå«åšéã€‚</code></pre><p>è®¡ç®—è§„åˆ™ï¼šfalseå–åå°±æ˜¯trueï¼Œtrueå–åå°±æ˜¯false</p><p>æ¸©é¦¨æç¤ºï¼š<strong>å–åæœ€å¤šåªç”¨ä¸€ä¸ªã€‚</strong></p><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs java">System.out.println(!<span class="hljs-literal">false</span>);<span class="hljs-comment">//true</span><br>System.out.println(!<span class="hljs-literal">true</span>);<span class="hljs-comment">//false</span><br><br>System.out.println(!!<span class="hljs-literal">false</span>);<span class="hljs-comment">//æ³¨æ„ç‚¹ï¼šå–åæœ€å¤šåªç”¨ä¸€ä¸ªã€‚</span><br></code></pre></td></tr></table></figure><h1 id="çŸ­è·¯é€»è¾‘è¿ç®—ç¬¦">15.çŸ­è·¯é€»è¾‘è¿ç®—ç¬¦</h1><p>åˆ†ç±»ï¼š &amp;&amp; ||</p><h3 id="section">&amp;&amp;ï¼š</h3><pre><code class="hljs">è¿ç®—ç»“æœè·Ÿ&amp;æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œåªä¸è¿‡å…·æœ‰çŸ­è·¯æ•ˆæœã€‚</code></pre><h3 id="section-1">||ï¼š</h3><pre><code class="hljs">è¿ç®—ç»“æœè·Ÿ|æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚åªä¸è¿‡å…·æœ‰çŸ­è·¯æ•ˆæœã€‚</code></pre><h3 id="é€»è¾‘æ ¸å¿ƒ">é€»è¾‘æ ¸å¿ƒï¼š</h3><pre><code class="hljs">å½“å·¦è¾¹ä¸èƒ½ç¡®å®šæ•´ä¸ªè¡¨è¾¾å¼çš„ç»“æœï¼Œå³è¾¹æ‰ä¼šæ‰§è¡Œã€‚å½“å·¦è¾¹èƒ½ç¡®å®šæ•´ä¸ªè¡¨è¾¾å¼çš„ç»“æœï¼Œé‚£ä¹ˆå³è¾¹å°±ä¸ä¼šæ‰§è¡Œäº†ã€‚ä»è€Œæé«˜äº†ä»£ç çš„è¿è¡Œæ•ˆç‡ã€‚</code></pre><h3 id="ä¸¾ä¾‹">ä¸¾ä¾‹ï¼š</h3><ul><li><p>ç”¨æˆ·ç™»å½•æ¡ˆä¾‹</p><p>ç”¨æˆ·åæ­£ç¡® &amp; å¯†ç æ­£ç¡®</p><p>å¦‚æœä½¿ç”¨ä¸€ä¸ª&amp;ï¼Œä¸ç®¡ç”¨æˆ·åæ˜¯å¦æ­£ç¡®éƒ½ä¼šå»éªŒè¯å¯†ç ã€‚</p></li></ul><p>æ€è€ƒï¼š</p><pre><code class="hljs">å¦‚æœç”¨æˆ·åè¾“å…¥æ­£ç¡®äº†ï¼Œé‚£ä¹ˆæˆ‘ä»¬å†åˆ¤æ–­å¯†ç æ˜¯å¦æ­£ç¡®ï¼Œæ˜¯ç¬¦åˆä¸šåŠ¡é€»è¾‘çš„ã€‚ä½†æ˜¯å¦‚æœç”¨æˆ·åè¾“å…¥é”™è¯¯äº†ï¼Œé‚£ä¹ˆç°åœ¨è¿˜æœ‰å¿…è¦å»æ¯”è¾ƒå¯†ç å—ï¼Ÿæ²¡æœ‰ä¸è¦äº†ã€‚å¦‚æœä½¿ç”¨ä¸€ä¸ª&amp;ï¼Œé‚£ä¹ˆå·¦è¾¹å’Œå³è¾¹ä¸ç®¡ä»€ä¹ˆæƒ…å†µä¸‹ï¼Œéƒ½ä¼šæ‰§è¡Œã€‚ç”¨æˆ·åæ­£ç¡®  &amp;&amp;  å¯†ç æ­£ç¡®å¦‚æœç”¨æˆ·åè¾“å…¥æ­£ç¡®äº†ï¼Œé‚£ä¹ˆæ‰ä¼šéªŒè¯å¯†ç æ˜¯å¦è¾“å…¥æ­£ç¡®ã€‚å¦‚æœç”¨æˆ·åè¾“å…¥é”™è¯¯äº†ï¼Œé‚£ä¹ˆå°±ä¸ä¼šå†å»éªŒè¯å¯†ç æ˜¯å¦æ­£ç¡®ï¼Œæœ€ç»ˆçš„ç»“æœç›´æ¥ä¸ºfalseã€‚ä»è€Œæé«˜äº†ç¨‹åºè¿è¡Œçš„æ•ˆç‡ã€‚</code></pre><h3 id="æ€»ç»“">æ€»ç»“ï¼š</h3><pre><code class="hljs">&amp;&amp; å’Œ &amp; ã€||å’Œ|çš„è¿è¡Œç»“æœéƒ½æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚ä½†æ˜¯çŸ­è·¯é€»è¾‘è¿ç®—ç¬¦å¯ä»¥æé«˜ç¨‹åºçš„è¿è¡Œæ•ˆç‡ã€‚</code></pre><h3 id="å»ºè®®">å»ºè®®ï¼š</h3><pre><code class="hljs">æœ€ä¸ºå¸¸ç”¨ï¼š &amp;&amp;   ||   ï¼</code></pre><h1 id="ä¸‰å…ƒè¿ç®—ç¬¦">16.ä¸‰å…ƒè¿ç®—ç¬¦</h1><p>åˆå«åšï¼šä¸‰å…ƒè¡¨è¾¾å¼æˆ–è€…é—®å·å†’å·è¡¨è¾¾å¼ã€‚</p><h3 id="æ ¼å¼">æ ¼å¼ï¼š</h3><pre><code class="hljs">å…³ç³»è¡¨è¾¾å¼ ï¼Ÿ è¡¨è¾¾å¼1 ï¼šè¡¨è¾¾å¼2 ï¼›</code></pre><h3 id="è®¡ç®—è§„åˆ™">è®¡ç®—è§„åˆ™ï¼š</h3><ul><li>è®¡ç®—å…³ç³»è¡¨è¾¾å¼çš„å€¼ã€‚</li><li>å¦‚æœå…³ç³»è¡¨è¾¾å¼çš„å€¼ä¸ºçœŸï¼Œé‚£ä¹ˆæ‰§è¡Œè¡¨è¾¾å¼1ã€‚</li><li>å¦‚æœå…³ç³»è¡¨è¾¾å¼çš„å€¼ä¸ºå‡ï¼Œé‚£ä¹ˆæ‰§è¡Œè¡¨è¾¾å¼2ã€‚</li></ul><h3 id="æ³¨æ„ç‚¹-3">æ³¨æ„ç‚¹ï¼š</h3><pre><code class="hljs">ä¸‰å…ƒè¿ç®—ç¬¦çš„æœ€ç»ˆç»“æœä¸€å®šè¦è¢«ä½¿ç”¨ï¼Œè¦ä¹ˆèµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œè¦ä¹ˆç›´æ¥æ‰“å°å‡ºæ¥ã€‚</code></pre><h3 id="æ¡ˆä¾‹-3">æ¡ˆä¾‹ï¼š</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">OperatorDemo12</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        <span class="hljs-comment">//éœ€æ±‚ï¼šæ±‚ä¸¤ä¸ªæ•°çš„è¾ƒå¤§å€¼</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>        <span class="hljs-type">int</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;<br><br>        <span class="hljs-comment">//æ ¼å¼ï¼šå…³ç³»è¡¨è¾¾å¼ ï¼Ÿ è¡¨è¾¾å¼1 ï¼š è¡¨è¾¾å¼2 ï¼›</span><br>        <span class="hljs-comment">//æ³¨æ„ç‚¹ï¼š</span><br>        <span class="hljs-comment">//ä¸‰å…ƒè¿ç®—ç¬¦çš„æœ€ç»ˆç»“æœä¸€å®šè¦è¢«ä½¿ç”¨ã€‚</span><br>        <span class="hljs-comment">//è¦ä¹ˆèµ‹å€¼ç»™ä¸€ä¸ªå˜é‡ï¼Œè¦ä¹ˆç›´æ¥è¾“å‡ºã€‚</span><br>       <span class="hljs-type">int</span> <span class="hljs-variable">max</span> <span class="hljs-operator">=</span>  a &gt; b ? a : b ;<br>        System.out.println(max);<br><br><br>        System.out.println(a &gt; b ? a : b);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>JavaåŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java02-åŸºç¡€æ¦‚å¿µ</title>
    <link href="/2023/06/29/Java02-%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/"/>
    <url>/2023/06/29/Java02-%E5%9F%BA%E7%A1%80%E6%A6%82%E5%BF%B5/</url>
    
    <content type="html"><![CDATA[<h1 id="javaåŸºç¡€æ¦‚å¿µ">JavaåŸºç¡€æ¦‚å¿µ</h1><h2 id="æ³¨é‡Š">1. æ³¨é‡Š</h2><p>æ³¨é‡Šæ˜¯å¯¹ä»£ç çš„è§£é‡Šå’Œè¯´æ˜æ–‡å­—ã€‚</p><p>Javaä¸­çš„æ³¨é‡Šåˆ†ä¸ºä¸‰ç§ï¼š</p><ul><li>å•è¡Œæ³¨é‡Šï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">// è¿™æ˜¯å•è¡Œæ³¨é‡Šæ–‡å­—</span><br></code></pre></td></tr></table></figure><ul><li>å¤šè¡Œæ³¨é‡Šï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/*</span><br><span class="hljs-comment">è¿™æ˜¯å¤šè¡Œæ³¨é‡Šæ–‡å­—</span><br><span class="hljs-comment">è¿™æ˜¯å¤šè¡Œæ³¨é‡Šæ–‡å­—</span><br><span class="hljs-comment">è¿™æ˜¯å¤šè¡Œæ³¨é‡Šæ–‡å­—</span><br><span class="hljs-comment">*/</span><br>æ³¨æ„ï¼šå¤šè¡Œæ³¨é‡Šä¸èƒ½åµŒå¥—ä½¿ç”¨ã€‚<br></code></pre></td></tr></table></figure><ul><li>æ–‡æ¡£æ³¨é‡Šï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">/**</span><br><span class="hljs-comment">è¿™æ˜¯å¤šè¡Œæ³¨é‡Šæ–‡å­—</span><br><span class="hljs-comment">è¿™æ˜¯å¤šè¡Œæ³¨é‡Šæ–‡å­—</span><br><span class="hljs-comment">è¿™æ˜¯å¤šè¡Œæ³¨é‡Šæ–‡å­—</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure><h3 id="ä½¿ç”¨çš„æŠ€å·§">ä½¿ç”¨çš„æŠ€å·§</h3><pre><code class="hljs">å¦‚æœæˆ‘ä»¬è¦å¯¹ä»£ç è¿›è¡Œè§£é‡Šï¼Œé‚£ä¹ˆå°±å¯ä»¥ä½¿ç”¨æ³¨é‡Šã€‚å½“æ³¨é‡Šçš„å†…å®¹æ¯”è¾ƒå°‘ï¼Œä¸€è¡Œå°±å†™å®Œäº†ï¼Œå¯ä»¥ç”¨å•è¡Œæ³¨é‡Šã€‚å¦‚æœæ³¨é‡Šçš„å†…å®¹æ¯”è¾ƒå¤šï¼Œéœ€è¦å†™åœ¨å¤šè¡Œï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨å¤šè¡Œæ³¨é‡Šã€‚</code></pre><h3 id="æ³¨æ„">æ³¨æ„ï¼š</h3><pre><code class="hljs">æ³¨é‡Šçš„å†…å®¹ä¸ä¼šå‚ä¸ç¼–è¯‘å’Œè¿è¡Œçš„ï¼Œä»…ä»…æ˜¯å¯¹ä»£ç çš„è§£é‡Šè¯´æ˜è€Œå·²ã€‚æ‰€ä»¥ï¼Œä¸ç®¡åœ¨æ³¨é‡Šå½“ä¸­å†™ä»€ä¹ˆå†…å®¹ï¼Œéƒ½ä¸ä¼šå½±å“ä»£ç è¿è¡Œçš„ç»“æœã€‚</code></pre><h2 id="å…³é”®å­—">2. å…³é”®å­—</h2><h3 id="æ¦‚å¿µ">2.1 æ¦‚å¿µ</h3><pre><code class="hljs">è¢«Javaèµ‹äºˆäº†ç‰¹å®šå«ä¹‰çš„è‹±æ–‡å•è¯ã€‚å½“æˆ‘ä»¬åœ¨ä»£ç ä¸­å†™äº†å…³é”®å­—ä¹‹åï¼Œç¨‹åºåœ¨è¿è¡Œçš„æ—¶å€™ï¼Œå°±çŸ¥é“è¦åšä»€ä¹ˆäº‹æƒ…äº†ã€‚</code></pre><table><thead><tr class="header"><th><strong>abstract</strong></th><th><strong>assert</strong></th><th><strong>boolean</strong></th><th><strong>break</strong></th><th><strong>byte</strong></th></tr></thead><tbody><tr class="odd"><td><strong>case</strong></td><td><strong>catch</strong></td><td><strong>char</strong></td><td><strong>class</strong></td><td><strong>const</strong></td></tr><tr class="even"><td><strong>continue</strong></td><td><strong>default</strong></td><td><strong>do</strong></td><td><strong>double</strong></td><td><strong>else</strong></td></tr><tr class="odd"><td><strong>enum</strong></td><td><strong>extends</strong></td><td><strong>final</strong></td><td><strong>finally</strong></td><td><strong>float</strong></td></tr><tr class="even"><td><strong>for</strong></td><td><strong>goto</strong></td><td><strong>if</strong></td><td><strong>implements</strong></td><td><strong>import</strong></td></tr><tr class="odd"><td><strong>instanceof</strong></td><td><strong>int</strong></td><td><strong>interface</strong></td><td><strong>long</strong></td><td><strong>native</strong></td></tr><tr class="even"><td><strong>new</strong></td><td><strong>package</strong></td><td><strong>private</strong></td><td><strong>protected</strong></td><td><strong>public</strong></td></tr><tr class="odd"><td><strong>return</strong></td><td><strong>strictfp</strong></td><td><strong>short</strong></td><td><strong>static</strong></td><td><strong>super</strong></td></tr><tr class="even"><td><strong>switch</strong></td><td><strong>synchronized</strong></td><td><strong>this</strong></td><td><strong>throw</strong></td><td><strong>throws</strong></td></tr><tr class="odd"><td><strong>transient</strong></td><td><strong>try</strong></td><td><strong>void</strong></td><td><strong>volatile</strong></td><td><strong>while</strong></td></tr></tbody></table><h3 id="ç¬¬ä¸€ä¸ªå…³é”®å­—class">2.2 ç¬¬ä¸€ä¸ªå…³é”®å­—class</h3><pre><code class="hljs">è¡¨ç¤ºå®šä¹‰ä¸€ä¸ªç±» åˆ›å»ºä¸€ä¸ªç±»ã€‚</code></pre><p>ç±»ï¼šJavaé¡¹ç›®æœ€åŸºæœ¬çš„ç»„æˆå•å…ƒï¼Œä¸€ä¸ªå®Œæ•´çš„Javaé¡¹ç›®æœ‰å¯èƒ½ä¼šæœ‰æˆåƒä¸Šä¸‡ä¸ªç±»æ¥ç»„æˆçš„ã€‚</p><p>classåé¢è·Ÿéšçš„å°±æ˜¯è¿™ä¸ªç±»çš„åå­—ï¼Œç®€ç§°ï¼šç±»åã€‚</p><p>åœ¨ç±»ååé¢ä¼šæœ‰ä¸€å¯¹å¤§æ‹¬å·ï¼Œè¡¨ç¤ºè¿™ä¸ªç±»çš„å†…å®¹ã€‚</p><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloWorld</span>&#123;<br>    <br>&#125;<br></code></pre></td></tr></table></figure><p>è§£é‡Šï¼šclassè¡¨ç¤ºå®šä¹‰ç±»ã€‚</p><pre><code class="hljs">ç±»åï¼šHelloWorldHelloWorldåé¢çš„å¤§æ‹¬å·è¡¨ç¤ºè¿™ä¸ªç±»çš„èŒƒå›´ã€‚</code></pre><h2 id="å­—é¢é‡">3. å­—é¢é‡</h2><p>ä½œç”¨ï¼šå‘Šè¯‰ç¨‹åºå‘˜ï¼Œæ•°æ®åœ¨ç¨‹åºä¸­çš„ä¹¦å†™æ ¼å¼ã€‚</p><table><thead><tr class="header"><th><strong>å­—é¢é‡ç±»å‹</strong></th><th><strong>è¯´æ˜</strong></th><th><strong>ç¨‹åºä¸­çš„å†™æ³•</strong></th></tr></thead><tbody><tr class="odd"><td>æ•´æ•°</td><td>ä¸å¸¦å°æ•°çš„æ•°å­—</td><td>666ï¼Œ-88</td></tr><tr class="even"><td>å°æ•°</td><td>å¸¦å°æ•°çš„æ•°å­—</td><td>13.14ï¼Œ-5.21</td></tr><tr class="odd"><td>å­—ç¬¦</td><td>å¿…é¡»ä½¿ç”¨å•å¼•å·ï¼Œæœ‰ä¸”ä»…èƒ½ä¸€ä¸ªå­—ç¬¦</td><td>â€˜Aâ€™ï¼Œâ€˜0â€™ï¼Œ â€˜æˆ‘â€™</td></tr><tr class="even"><td>å­—ç¬¦ä¸²</td><td>å¿…é¡»ä½¿ç”¨åŒå¼•å·ï¼Œå†…å®¹å¯æœ‰å¯æ— </td><td>â€œHelloWorldâ€ï¼Œâ€œç¨‹åºå‘˜â€</td></tr><tr class="odd"><td>å¸ƒå°”å€¼</td><td>å¸ƒå°”å€¼ï¼Œè¡¨ç¤ºçœŸå‡ï¼Œåªæœ‰ä¸¤ä¸ªå€¼ï¼štrueï¼Œfalse</td><td>true ã€false</td></tr><tr class="even"><td>ç©ºå€¼</td><td>ä¸€ä¸ªç‰¹æ®Šçš„å€¼ï¼Œç©ºå€¼</td><td>å€¼æ˜¯ï¼šnull</td></tr></tbody></table><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">Demo</span> &#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>        System.out.println(<span class="hljs-number">10</span>); <span class="hljs-comment">// è¾“å‡ºä¸€ä¸ªæ•´æ•°</span><br>        System.out.println(<span class="hljs-number">5.5</span>); <span class="hljs-comment">// è¾“å‡ºä¸€ä¸ªå°æ•°</span><br>        System.out.println(<span class="hljs-string">&#x27;a&#x27;</span>); <span class="hljs-comment">// è¾“å‡ºä¸€ä¸ªå­—ç¬¦</span><br>        System.out.println(<span class="hljs-literal">true</span>); <span class="hljs-comment">// è¾“å‡ºbooleanå€¼true</span><br>        System.out.println(<span class="hljs-string">&quot;ç¨‹åºå‘˜&quot;</span>); <span class="hljs-comment">// è¾“å‡ºå­—ç¬¦ä¸²</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="åŒºåˆ†æŠ€å·§">åŒºåˆ†æŠ€å·§</h3><ol type="1"><li>ä¸å¸¦å°æ•°ç‚¹çš„æ•°å­—éƒ½æ˜¯æ•´æ•°ç±»å‹çš„å­—é¢é‡ã€‚</li><li>åªè¦å¸¦äº†å°æ•°ç‚¹ï¼Œé‚£ä¹ˆå°±æ˜¯å°æ•°ç±»å‹çš„å­—é¢é‡ã€‚</li><li>åªè¦ç”¨åŒå¼•å·å¼•èµ·æ¥çš„ï¼Œä¸ç®¡é‡Œé¢çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Œä¸ç®¡é‡Œé¢æœ‰æ²¡æœ‰å†…å®¹ï¼Œéƒ½æ˜¯å­—ç¬¦ä¸²ç±»å‹çš„å­—é¢é‡ã€‚</li><li>å­—ç¬¦ç±»å‹çš„å­—é¢é‡å¿…é¡»ç”¨å•å¼•å·å¼•èµ·æ¥ï¼Œä¸ç®¡å†…å®¹æ˜¯ä»€ä¹ˆï¼Œä½†æ˜¯ä¸ªæ•°æœ‰ä¸”åªèƒ½æœ‰ä¸€ä¸ªã€‚</li><li>å­—ç¬¦ç±»å‹çš„å­—é¢é‡åªæœ‰ä¸¤ä¸ªå€¼ï¼Œtrueã€falseã€‚</li><li>ç©ºç±»å‹çš„å­—é¢é‡åªæœ‰ä¸€ä¸ªå€¼ï¼Œnullã€‚</li></ol><h2 id="å˜é‡">4. å˜é‡</h2><h3 id="ä»€ä¹ˆæ˜¯å˜é‡">4.1 ä»€ä¹ˆæ˜¯å˜é‡ï¼Ÿ</h3><pre><code class="hljs">å˜é‡å°±åœ¨ç¨‹åºä¸­ä¸´æ—¶å­˜å‚¨æ•°æ®çš„å®¹å™¨ã€‚ä½†æ˜¯è¿™ä¸ªå®¹å™¨ä¸­åªèƒ½å­˜ä¸€ä¸ªå€¼ã€‚</code></pre><h3 id="å˜é‡çš„å®šä¹‰æ ¼å¼">4.2 å˜é‡çš„å®šä¹‰æ ¼å¼</h3><pre><code class="hljs">æ•°æ®ç±»å‹ å˜é‡å = æ•°æ®å€¼ï¼›</code></pre><h4 id="æ ¼å¼è¯¦è§£">4.2.1 æ ¼å¼è¯¦è§£</h4><pre><code class="hljs">æ•°æ®ç±»å‹ï¼šé™å®šäº†å˜é‡å½“ä¸­èƒ½å­˜å‚¨ä»€ä¹ˆç±»å‹çš„æ•°æ®ã€‚å¦‚æœè¦å­˜10ï¼Œé‚£ä¹ˆæ•°æ®ç±»å‹å°±éœ€è¦å†™æ•´æ•°ç±»å‹ã€‚å¦‚æœè¦å­˜10.0ï¼Œé‚£ä¹ˆæ•°æ®ç±»å‹å°±éœ€è¦å†™å°æ•°ç±»å‹ã€‚å˜é‡åï¼šå…¶å®å°±æ˜¯è¿™ä¸ªå®¹å™¨çš„åå­—ã€‚å½“ä»¥åæƒ³è¦ä½¿ç”¨å˜é‡é‡Œé¢çš„æ•°æ®æ—¶ï¼Œç›´æ¥ä½¿ç”¨å˜é‡åå°±å¯ä»¥äº†ã€‚æ•°æ®å€¼ï¼šçœŸæ­£å­˜å‚¨åœ¨å®¹å™¨ä¸­çš„æ•°æ®ã€‚åˆ†å·ï¼šè¡¨ç¤ºè¯­å¥çš„ç»“æŸï¼Œå°±è·Ÿä»¥å‰å†™ä½œæ–‡æ—¶å€™çš„å¥å·æ˜¯ä¸€æ ·çš„ã€‚</code></pre><h4 id="å¸¸ç”¨çš„æ•°æ®ç±»å‹">4.2.2 å¸¸ç”¨çš„æ•°æ®ç±»å‹</h4><pre><code class="hljs">æ•´æ•°ï¼šintå°æ•°ï¼šï¼ˆæµ®ç‚¹æ•°ï¼‰doubleå…¶ä»–æ•°æ®ç±»å‹ç¨åè®²è§£</code></pre><p>ä¸¾ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">VariableDemo</span>&#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br><span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªæ•´æ•°ç±»å‹çš„å˜é‡</span><br><span class="hljs-comment">//æ•°æ®ç±»å‹ å˜é‡å = æ•°æ®å€¼;</span><br><span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">16</span>;<br>System.out.println(a);<span class="hljs-comment">//16</span><br><br><span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªå°æ•°ç±»å‹çš„å˜é‡</span><br><span class="hljs-type">double</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">10.1</span>;<br>System.out.println(b);<span class="hljs-comment">//10.1</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="å˜é‡çš„æ³¨æ„äº‹é¡¹">4.2.3 å˜é‡çš„æ³¨æ„äº‹é¡¹</h4><ul><li>å˜é‡åä¸èƒ½é‡å¤</li><li>åœ¨ä¸€æ¡è¯­å¥ä¸­ï¼Œå¯ä»¥å®šä¹‰å¤šä¸ªå˜é‡ã€‚ä½†æ˜¯è¿™ç§æ–¹å¼å½±å“ä»£ç çš„é˜…è¯»ï¼Œæ‰€ä»¥äº†è§£ä¸€ä¸‹å³å¯ã€‚</li><li>å˜é‡åœ¨ä½¿ç”¨ä¹‹å‰å¿…é¡»è¦èµ‹å€¼ã€‚</li></ul><p>æ¡ˆä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">VariableDemo2</span>&#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br><span class="hljs-comment">//1.å˜é‡åä¸å…è®¸é‡å¤</span><br><span class="hljs-comment">//int a = 10;</span><br><span class="hljs-comment">//int a = 20;</span><br><span class="hljs-comment">//System.out.println(a);</span><br><br><span class="hljs-comment">//2.ä¸€æ¡è¯­å¥å¯ä»¥å®šä¹‰å¤šä¸ªå˜é‡</span><br><span class="hljs-comment">//äº†è§£ã€‚</span><br><span class="hljs-comment">//int a = 10, b = 20, c = 20,d = 20;</span><br><span class="hljs-comment">//System.out.println(a);//?</span><br><span class="hljs-comment">//System.out.println(b);//?</span><br><br><br><span class="hljs-comment">//3.å˜é‡åœ¨ä½¿ç”¨ä¹‹å‰å¿…é¡»è¦èµ‹å€¼</span><br><span class="hljs-type">int</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">30</span>;<br>System.out.println(a);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="å˜é‡çš„ç»ƒä¹ ">4.3 å˜é‡çš„ç»ƒä¹ </h3><pre><code class="hljs">éœ€æ±‚ï¼šè¯´å‡ºå…¬äº¤è½¦åˆ°ç»ˆç‚¹ç«™ä¹‹åï¼Œè½¦ä¸Šä¸€å…±æœ‰å¤šå°‘ä¹˜å®¢ï¼Ÿ        ä¸€å¼€å§‹æ²¡æœ‰ä¹˜å®¢ã€‚       ç¬¬ä¸€ç«™ï¼šä¸Šå»ä¸€ä½ä¹˜å®¢ï¼Œæ²¡æœ‰ä¸‹æ¥ä¹˜å®¢ã€‚       ç¬¬äºŒç«™ï¼šä¸Šå»ä¸¤ä½ä¹˜å®¢ï¼Œä¸‹æ¥ä¸€ä½ä¹˜å®¢ã€‚       ç¬¬ä¸‰ç«™ï¼šä¸Šå»ä¸¤ä½ä¹˜å®¢ï¼Œä¸‹æ¥ä¸€ä½ä¹˜å®¢ã€‚       ç¬¬å››ç«™ï¼šæ²¡æœ‰ä¸Šå»ä¹˜å®¢ï¼Œä¸‹æ¥ä¸€ä½ä¹˜å®¢ã€‚       ç¬¬äº”ç«™ï¼šä¸Šå»ä¸€ä½ä¹˜å®¢ï¼Œæ²¡æœ‰ä¸‹æ¥ä¹˜å®¢ã€‚       é—®ï¼šåˆ°äº†ç»ˆç‚¹ç«™ä¹‹åï¼Œè½¦ä¸Šä¸€å…±å¤šå°‘ä¹˜å®¢ï¼Ÿä»£ç è§£æï¼š</code></pre><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">VariableBus</span>&#123;<br><span class="hljs-comment">//ä¸»å…¥å£</span><br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br><span class="hljs-comment">//ä¸€å¼€å§‹æ²¡æœ‰ä¹˜å®¢ã€‚</span><br><span class="hljs-type">int</span> <span class="hljs-variable">count</span> <span class="hljs-operator">=</span> <span class="hljs-number">0</span>;<br><span class="hljs-comment">//ç¬¬ä¸€ç«™ï¼šä¸Šå»ä¸€ä½ä¹˜å®¢</span><br><span class="hljs-comment">//åœ¨åŸæœ‰çš„åŸºç¡€ä¸Š + 1</span><br>count = count + <span class="hljs-number">1</span>;<br><span class="hljs-comment">//System.out.println(count);</span><br><span class="hljs-comment">//ç¬¬äºŒç«™ï¼šä¸Šå»ä¸¤ä½ä¹˜å®¢ï¼Œä¸‹æ¥ä¸€ä½ä¹˜å®¢</span><br>count = count + <span class="hljs-number">2</span> - <span class="hljs-number">1</span>; <br><span class="hljs-comment">//ç¬¬ä¸‰ç«™ï¼šä¸Šå»ä¸¤ä½ä¹˜å®¢ï¼Œä¸‹æ¥ä¸€ä½ä¹˜å®¢</span><br>count = count + <span class="hljs-number">2</span> - <span class="hljs-number">1</span>;<br><span class="hljs-comment">//ç¬¬å››ç«™ï¼šä¸‹æ¥ä¸€ä½ä¹˜å®¢</span><br>count = count - <span class="hljs-number">1</span>;<br><span class="hljs-comment">//ç¬¬äº”ç«™ï¼šä¸Šå»ä¸€ä½ä¹˜å®¢</span><br>count = count + <span class="hljs-number">1</span>;<br><span class="hljs-comment">//è¯·é—®ï¼šåˆ°äº†ç»ˆç‚¹ç«™ï¼Œè½¦ä¸Šä¸€å…±å‡ ä½ä¹˜å®¢ã€‚</span><br>System.out.println(count);<span class="hljs-comment">//3</span><br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><h2 id="æ•°æ®ç±»å‹">5. æ•°æ®ç±»å‹</h2><h3 id="javaè¯­è¨€æ•°æ®ç±»å‹çš„åˆ†ç±»">5.1 Javaè¯­è¨€æ•°æ®ç±»å‹çš„åˆ†ç±»</h3><ul><li>åŸºæœ¬æ•°æ®ç±»å‹</li><li>å¼•ç”¨æ•°æ®ç±»å‹ï¼ˆé¢å‘å¯¹è±¡çš„æ—¶å€™å†æ·±å…¥å­¦ä¹ ï¼‰</li></ul><h3 id="åŸºæœ¬æ•°æ®ç±»å‹çš„å››ç±»å…«ç§">5.2 åŸºæœ¬æ•°æ®ç±»å‹çš„å››ç±»å…«ç§</h3><table><thead><tr class="header"><th style="text-align: center;">æ•°æ®ç±»å‹</th><th style="text-align: center;">å…³é”®å­—</th><th style="text-align: center;">å†…å­˜å ç”¨</th><th style="text-align: center;">å–å€¼èŒƒå›´</th></tr></thead><tbody><tr class="odd"><td style="text-align: center;">æ•´æ•°</td><td style="text-align: center;">byte</td><td style="text-align: center;">1</td><td style="text-align: center;">è´Ÿçš„2çš„7æ¬¡æ–¹ ~ 2çš„7æ¬¡æ–¹-1(-128~127)</td></tr><tr class="even"><td style="text-align: center;"></td><td style="text-align: center;">short</td><td style="text-align: center;">2</td><td style="text-align: center;">è´Ÿçš„2çš„15æ¬¡æ–¹ ~ 2çš„15æ¬¡æ–¹-1(-32768~32767)</td></tr><tr class="odd"><td style="text-align: center;"></td><td style="text-align: center;">int</td><td style="text-align: center;">4</td><td style="text-align: center;">è´Ÿçš„2çš„31æ¬¡æ–¹ ~ 2çš„31æ¬¡æ–¹-1</td></tr><tr class="even"><td style="text-align: center;"></td><td style="text-align: center;">long</td><td style="text-align: center;">8</td><td style="text-align: center;">è´Ÿçš„2çš„63æ¬¡æ–¹ ~ 2çš„63æ¬¡æ–¹-1</td></tr><tr class="odd"><td style="text-align: center;">æµ®ç‚¹æ•°</td><td style="text-align: center;">float</td><td style="text-align: center;">4</td><td style="text-align: center;">1.401298e<sup>-45</sup> ~ 3.402823e<sup>+38</sup></td></tr><tr class="even"><td style="text-align: center;"></td><td style="text-align: center;">double</td><td style="text-align: center;">8</td><td style="text-align: center;">4.9000000e<sup>-324</sup> ~ 1.797693e<sup>+308</sup></td></tr><tr class="odd"><td style="text-align: center;">å­—ç¬¦</td><td style="text-align: center;">char</td><td style="text-align: center;">2</td><td style="text-align: center;">0-65535</td></tr><tr class="even"><td style="text-align: center;">å¸ƒå°”</td><td style="text-align: center;">boolean</td><td style="text-align: center;">1</td><td style="text-align: center;">trueï¼Œfalse</td></tr></tbody></table><h4 id="è¯´æ˜">è¯´æ˜</h4><pre><code class="hljs">e^+38^è¡¨ç¤ºæ˜¯ä¹˜ä»¥10çš„38æ¬¡æ–¹ï¼ŒåŒæ ·ï¼Œe^-45^è¡¨ç¤ºä¹˜ä»¥10çš„è´Ÿ45æ¬¡æ–¹ã€‚åœ¨javaä¸­æ•´æ•°é»˜è®¤æ˜¯intç±»å‹ï¼Œæµ®ç‚¹æ•°é»˜è®¤æ˜¯doubleç±»å‹ã€‚</code></pre><h4 id="éœ€è¦è®°å¿†ä»¥ä¸‹å‡ ç‚¹">éœ€è¦è®°å¿†ä»¥ä¸‹å‡ ç‚¹</h4><p>byteç±»å‹çš„å–å€¼èŒƒå›´ï¼š</p><pre><code class="hljs">-128 ~ 127</code></pre><p>intç±»å‹çš„å¤§æ¦‚å–å€¼èŒƒå›´ï¼š</p><pre><code class="hljs">-21äº¿å¤š  ~ 21äº¿å¤š</code></pre><p>æ•´æ•°ç±»å‹å’Œå°æ•°ç±»å‹çš„å–å€¼èŒƒå›´å¤§å°å…³ç³»ï¼š</p><pre><code class="hljs">double &gt; float &gt; long &gt; int &gt; short &gt; byte</code></pre><p>æœ€ä¸ºå¸¸ç”¨çš„æ•°æ®ç±»å‹é€‰æ‹©ï¼š</p><ul><li><p>åœ¨å®šä¹‰å˜é‡çš„æ—¶å€™ï¼Œè¦æ ¹æ®å®é™…çš„æƒ…å†µæ¥é€‰æ‹©ä¸åŒç±»å‹çš„å˜é‡ã€‚</p><p>æ¯”å¦‚ï¼šäººçš„å¹´é¾„ï¼Œå¯ä»¥é€‰æ‹©byteç±»å‹ã€‚</p><p>æ¯”å¦‚ï¼šåœ°çƒçš„å¹´é¾„ï¼Œå¯ä»¥é€‰æ‹©longç±»å‹ã€‚</p></li><li><p>å¦‚æœæ•´æ•°ç±»å‹ä¸­ï¼Œä¸å¤ªç¡®å®šèŒƒå›´ï¼Œé‚£ä¹ˆé»˜è®¤ä½¿ç”¨intç±»å‹ã€‚</p></li><li><p>å¦‚æœå°æ•°ç±»å‹ä¸­ï¼Œä¸å¤ªç¡®å®šèŒƒå›´ï¼Œé‚£ä¹ˆé»˜è®¤ä½¿ç”¨doubleç±»å‹ã€‚</p></li><li><p>å¦‚æœè¦å®šä¹‰å­—ç¬¦ç±»å‹çš„å˜é‡ï¼Œé‚£ä¹ˆä½¿ç”¨char</p></li><li><p>å¦‚æœè¦å®šä¹‰å¸ƒå°”ç±»å‹çš„å˜é‡ï¼Œé‚£ä¹ˆä½¿ç”¨boolean</p></li></ul><h3 id="å®šä¹‰8ç§åŸºæœ¬æ•°æ®ç±»å‹å˜é‡">5.3 å®šä¹‰8ç§åŸºæœ¬æ•°æ®ç±»å‹å˜é‡</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">VariableDemo3</span>&#123;<br>    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br>        <span class="hljs-comment">//1.å®šä¹‰byteç±»å‹çš„å˜é‡</span><br>        <span class="hljs-comment">//æ•°æ®ç±»å‹ å˜é‡å = æ•°æ®å€¼;</span><br>        <span class="hljs-type">byte</span> <span class="hljs-variable">a</span> <span class="hljs-operator">=</span> <span class="hljs-number">10</span>;<br>        System.out.println(a);<br><br>        <span class="hljs-comment">//2.å®šä¹‰shortç±»å‹çš„å˜é‡</span><br>        <span class="hljs-type">short</span> <span class="hljs-variable">b</span> <span class="hljs-operator">=</span> <span class="hljs-number">20</span>;<br>        System.out.println(b);<br><br>        <span class="hljs-comment">//3.å®šä¹‰intç±»å‹çš„å˜é‡</span><br>        <span class="hljs-type">int</span> <span class="hljs-variable">c</span> <span class="hljs-operator">=</span> <span class="hljs-number">30</span>;<br>        System.out.println(c);<br><br>        <span class="hljs-comment">//4.å®šä¹‰longç±»å‹çš„å˜é‡</span><br>        <span class="hljs-type">long</span> <span class="hljs-variable">d</span> <span class="hljs-operator">=</span> <span class="hljs-number">123456789123456789L</span>;<br>        System.out.println(d);<br><br>        <span class="hljs-comment">//5.å®šä¹‰floatç±»å‹çš„å˜é‡</span><br>        <span class="hljs-type">float</span> <span class="hljs-variable">e</span> <span class="hljs-operator">=</span> <span class="hljs-number">10.1F</span>;<br>        System.out.println(e);<br><br>        <span class="hljs-comment">//6.å®šä¹‰doubleç±»å‹çš„å˜é‡</span><br>        <span class="hljs-type">double</span> <span class="hljs-variable">f</span> <span class="hljs-operator">=</span> <span class="hljs-number">20.3</span>;<br>        System.out.println(f);<br><br>        <span class="hljs-comment">//7.å®šä¹‰charç±»å‹çš„å˜é‡</span><br>        <span class="hljs-type">char</span> <span class="hljs-variable">g</span> <span class="hljs-operator">=</span> <span class="hljs-string">&#x27;a&#x27;</span>;<br>        System.out.println(g);<br><br>        <span class="hljs-comment">//8.å®šä¹‰booleanç±»å‹çš„å˜é‡</span><br>        <span class="hljs-type">boolean</span> <span class="hljs-variable">h</span> <span class="hljs-operator">=</span> <span class="hljs-literal">true</span>;<br>        System.out.println(h);<br><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure><h4 id="æ³¨æ„-1"><strong>æ³¨æ„</strong></h4><ul><li>å¦‚æœè¦å®šä¹‰ ä¸€ä¸ªæ•´æ•°ç±»å‹çš„å˜é‡ï¼Œä¸çŸ¥é“é€‰æ‹©å“ªç§æ•°æ®ç±»å‹äº†ï¼Œé»˜è®¤ä½¿ç”¨intã€‚</li><li>å¦‚æœè¦å®šä¹‰ ä¸€ä¸ªå°æ•°ç±»å‹çš„å˜é‡ï¼Œä¸çŸ¥é“é€‰æ‹©å“ªç§æ•°æ®ç±»å‹äº†ï¼Œé»˜è®¤ä½¿ç”¨doubleã€‚</li><li>å¦‚æœè¦å®šä¹‰ä¸€ä¸ªlongç±»å‹çš„å˜é‡ï¼Œé‚£ä¹ˆåœ¨æ•°æ®å€¼çš„åé¢éœ€è¦åŠ ä¸ŠLåç¼€ã€‚ï¼ˆå¤§å°å†™éƒ½å¯ä»¥ï¼Œå»ºè®®å¤§å†™ã€‚ï¼‰</li><li>å¦‚æœè¦å®šä¹‰ä¸€ä¸ªfloatç±»å‹çš„å˜é‡ï¼Œé‚£ä¹ˆåœ¨æ•°æ®å€¼çš„åé¢éœ€è¦åŠ ä¸ŠFåç¼€ã€‚ï¼ˆå¤§å°å†™éƒ½å¯ä»¥ï¼‰</li></ul><h2 id="æ ‡è¯†ç¬¦">6. æ ‡è¯†ç¬¦</h2><p>ä¸šå†…å¤§å¤šæ•°ç¨‹åºå‘˜éƒ½åœ¨éµå®ˆé˜¿é‡Œå·´å·´çš„å‘½åè§„åˆ™ã€‚</p><h3 id="ç¡¬æ€§è¦æ±‚">6.1 ç¡¬æ€§è¦æ±‚ï¼š</h3><pre><code class="hljs">å¿…é¡»è¦è¿™ä¹ˆåšï¼Œå¦åˆ™ä»£ç ä¼šæŠ¥é”™ã€‚</code></pre><ul><li>å¿…é¡»ç”±æ•°å­—ã€å­—æ¯ã€ä¸‹åˆ’çº¿_ã€ç¾å…ƒç¬¦å·$ç»„æˆã€‚</li><li>æ•°å­—ä¸èƒ½å¼€å¤´</li><li>ä¸èƒ½æ˜¯å…³é”®å­—</li><li>åŒºåˆ†å¤§å°å†™çš„ã€‚</li></ul><h3 id="è½¯æ€§å»ºè®®">6.2 è½¯æ€§å»ºè®®ï¼š</h3><pre><code class="hljs">å¦‚æœä¸è¿™ä¹ˆåšï¼Œä»£ç ä¸ä¼šæŠ¥é”™ï¼Œä½†æ˜¯ä¼šè®©ä»£ç æ˜¾ä¸è§„èŒƒã€‚</code></pre><h3 id="å°é©¼å³°å‘½åæ³•">6.2.1 å°é©¼å³°å‘½åæ³•</h3><p>é€‚ç”¨äºå˜é‡åå’Œæ–¹æ³•å</p><ul><li><p>å¦‚æœæ˜¯ä¸€ä¸ªå•è¯ï¼Œé‚£ä¹ˆå…¨éƒ¨å°å†™ï¼Œæ¯”å¦‚ï¼šname</p></li><li><p>å¦‚æœæ˜¯å¤šä¸ªå•è¯ï¼Œé‚£ä¹ˆä»ç¬¬äºŒä¸ªå•è¯å¼€å§‹ï¼Œé¦–å­—æ¯å¤§å†™ï¼Œæ¯”å¦‚ï¼šfirstNameã€maxAge</p></li></ul><h3 id="å¤§é©¼å³°å‘½åæ³•">6.2.2 å¤§é©¼å³°å‘½åæ³•</h3><p>é€‚ç”¨äºç±»å</p><ul><li><p>å¦‚æœæ˜¯ä¸€ä¸ªå•è¯ï¼Œé‚£ä¹ˆé¦–å­—æ¯å¤§å†™ã€‚æ¯”å¦‚ï¼šDemoã€Testã€‚</p></li><li><p>å¦‚æœæ˜¯å¤šä¸ªå•è¯ï¼Œé‚£ä¹ˆæ¯ä¸€ä¸ªå•è¯é¦–å­—æ¯éƒ½éœ€è¦å¤§å†™ã€‚æ¯”å¦‚ï¼šHelloWorld</p></li></ul><p><strong>ä¸ç®¡èµ·ä»€ä¹ˆåå­—ï¼Œéƒ½è¦åšåˆ°è§åçŸ¥æ„ã€‚</strong></p><h3 id="é˜¿é‡Œå·´å·´å‘½åè§„èŒƒç»†èŠ‚">é˜¿é‡Œå·´å·´å‘½åè§„èŒƒç»†èŠ‚ï¼š</h3><ol type="1"><li><p>å°½é‡ä¸è¦ç”¨æ‹¼éŸ³ã€‚ä½†æ˜¯ä¸€äº›å›½é™…é€šç”¨çš„æ‹¼éŸ³å¯è§†ä¸ºè‹±æ–‡å•è¯ã€‚</p><p>æ­£ç¡®ï¼šalibabaã€hangzhouã€nanjing</p><p>é”™è¯¯ï¼šjiageã€dazhe</p></li><li><p>å¹³æ—¶åœ¨ç»™å˜é‡åã€æ–¹æ³•åã€ç±»åèµ·åå­—çš„æ—¶å€™ï¼Œä¸è¦ä½¿ç”¨ä¸‹åˆ’çº¿æˆ–ç¾å…ƒç¬¦å·ã€‚</p><p>é”™è¯¯ï¼š_name</p><p>æ­£ç¡®ï¼šname</p></li></ol><h2 id="é”®ç›˜å½•å…¥">7. é”®ç›˜å½•å…¥</h2><pre><code class="hljs">é”®ç›˜å½•å…¥çš„å®é™…åŠŸèƒ½Javaå·²ç»å¸®æˆ‘ä»¬å†™å¥½äº†ï¼Œä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å†å®ç°äº†ï¼Œè€ŒJavaå†™å¥½çš„åŠŸèƒ½éƒ½æ”¾åœ¨äº†Scannerè¿™ä¸ªç±»ä¸­ï¼Œæ‰€ä»¥ï¼Œæˆ‘ä»¬åªè¦ç›´æ¥ä½¿ç”¨Scannerè¿™ä¸ªç±»å°±å¯ä»¥äº†ã€‚</code></pre><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><p>ç¬¬ä¸€æ­¥ï¼š</p><pre><code class="hljs">å¯¼åŒ…ï¼šå…¶å®å°±æ˜¯è¡¨ç¤ºå…ˆæ‰¾åˆ°Scannerè¿™ä¸ªç±»åœ¨å“ªã€‚</code></pre><p>ç¬¬äºŒæ­¥ï¼š</p><pre><code class="hljs">åˆ›å»ºå¯¹è±¡ï¼šå…¶å®å°±è¡¨ç¤ºç”³æ˜ä¸€ä¸‹ï¼Œæˆ‘å‡†å¤‡å¼€å§‹ç”¨Scannerè¿™ä¸ªç±»äº†ã€‚</code></pre><p>ç¬¬ä¸‰æ­¥ï¼š</p><pre><code class="hljs">æ¥æ”¶æ•°æ®ï¼šä¹Ÿæ˜¯çœŸæ­£å¹²æ´»çš„ä»£ç ã€‚</code></pre><p>ä»£ç ç¤ºä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-comment">//å¯¼åŒ…ï¼Œå…¶å®å°±æ˜¯å…ˆæ‰¾åˆ°Scannerè¿™ä¸ªç±»åœ¨å“ª</span><br><span class="hljs-keyword">import</span> java.util.Scanner;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">ScannerDemo1</span>&#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span>&#123;<br><span class="hljs-comment">//2.åˆ›å»ºå¯¹è±¡ï¼Œå…¶å®å°±æ˜¯ç”³æ˜ä¸€ä¸‹ï¼Œæˆ‘å‡†å¤‡å¼€å§‹ç”¨Scannerè¿™ä¸ªç±»äº†ã€‚</span><br><span class="hljs-type">Scanner</span> <span class="hljs-variable">sc</span> <span class="hljs-operator">=</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Scanner</span>(System.in);<br><span class="hljs-comment">//3.æ¥æ”¶æ•°æ®</span><br><span class="hljs-comment">//å½“ç¨‹åºè¿è¡Œä¹‹åï¼Œæˆ‘ä»¬åœ¨é”®ç›˜è¾“å…¥çš„æ•°æ®å°±ä¼šè¢«å˜é‡iç»™æ¥æ”¶äº†</span><br>System.out.println(<span class="hljs-string">&quot;è¯·è¾“å…¥ä¸€ä¸ªæ•°å­—&quot;</span>);<br><span class="hljs-type">int</span> <span class="hljs-variable">i</span> <span class="hljs-operator">=</span> sc.nextInt();<br>System.out.println(i);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>JavaåŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Java01-Javaå…¥é—¨</title>
    <link href="/2023/06/27/Java01-Java%E5%85%A5%E9%97%A8/"/>
    <url>/2023/06/27/Java01-Java%E5%85%A5%E9%97%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="javaæ¦‚è¿°">1. Javaæ¦‚è¿°</h2><h3 id="javaæ˜¯ä»€ä¹ˆ">1.1 Javaæ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>è¯­è¨€ï¼šäººä¸äººäº¤æµæ²Ÿé€šçš„è¡¨è¾¾æ–¹å¼</p><p>è®¡ç®—æœºè¯­è¨€ï¼šäººä¸è®¡ç®—æœºä¹‹é—´è¿›è¡Œä¿¡æ¯äº¤æµæ²Ÿé€šçš„ä¸€ç§ç‰¹æ®Šè¯­è¨€</p><p>æˆ‘ä»¬æƒ³è¦è®©è®¡ç®—æœºåšä¸€äº›äº‹æƒ…ï¼Œé‚£ä¹ˆå°±å¯ä»¥é€šè¿‡Javaè¯­è¨€å‘Šè¯‰è®¡ç®—æœºå°±å¯ä»¥äº†</p><h3 id="ä¸‹è½½å’Œå®‰è£…">1.2 ä¸‹è½½å’Œå®‰è£…</h3><h4 id="ä¸‹è½½">1.2.1 ä¸‹è½½</h4><p>é€šè¿‡å®˜æ–¹ç½‘ç«™è·å–JDK <a href="http://www.oracle.com/">http://www.oracle.com</a></p><p><strong>æ³¨æ„</strong>ï¼šé’ˆå¯¹ä¸åŒçš„æ“ä½œç³»ç»Ÿï¼Œéœ€è¦ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„JDKã€‚</p><h4 id="å®‰è£…">1.2.2 å®‰è£…</h4><p>å‚»ç“œå¼å®‰è£…ï¼Œä¸‹ä¸€æ­¥å³å¯ã€‚é»˜è®¤çš„å®‰è£…è·¯å¾„æ˜¯åœ¨<code>C:\Program Files</code>ä¸‹ã€‚</p><p>å»ºè®®ï¼š</p><ul><li>å®‰è£…åœ¨é™¤Cç›˜ä»¥å¤–çš„ç›˜å†…ï¼Œåœ¨è¿™é‡Œæ’å…¥ä»£ç ç‰‡å®‰è£…è·¯å¾„ä¸è¦æœ‰ä¸­æ–‡ï¼Œä¸è¦æœ‰ç©ºæ ¼ç­‰ä¸€äº›ç‰¹æ®Šçš„ç¬¦å·ã€‚</li><li>ä»¥åè·Ÿå¼€å‘ç›¸å…³çš„æ‰€æœ‰è½¯ä»¶å»ºè®®éƒ½å®‰è£…åœ¨åŒä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œæ–¹ä¾¿ç®¡ç†ã€‚</li></ul><h4 id="jdkçš„å®‰è£…ç›®å½•ä»‹ç»">1.2.3 JDKçš„å®‰è£…ç›®å½•ä»‹ç»</h4><table><thead><tr class="header"><th>ç›®å½•åç§°</th><th>è¯´æ˜</th></tr></thead><tbody><tr class="odd"><td>bin</td><td>è¯¥è·¯å¾„ä¸‹å­˜æ”¾äº†JDKçš„å„ç§å·¥å…·å‘½ä»¤ã€‚javacå’Œjavaå°±æ”¾åœ¨è¿™ä¸ªç›®å½•ã€‚</td></tr><tr class="even"><td>conf</td><td>è¯¥è·¯å¾„ä¸‹å­˜æ”¾äº†JDKçš„ç›¸å…³é…ç½®æ–‡ä»¶ã€‚</td></tr><tr class="odd"><td>include</td><td>è¯¥è·¯å¾„ä¸‹å­˜æ”¾äº†ä¸€äº›å¹³å°ç‰¹å®šçš„å¤´æ–‡ä»¶ã€‚</td></tr><tr class="even"><td>jmods</td><td>è¯¥è·¯å¾„ä¸‹å­˜æ”¾äº†JDKçš„å„ç§æ¨¡å—ã€‚</td></tr><tr class="odd"><td>legal</td><td>è¯¥è·¯å¾„ä¸‹å­˜æ”¾äº†JDKå„æ¨¡å—çš„æˆæƒæ–‡æ¡£ã€‚</td></tr><tr class="even"><td>lib</td><td>è¯¥è·¯å¾„ä¸‹å­˜æ”¾äº†JDKå·¥å…·çš„ä¸€äº›è¡¥å……JARåŒ…ã€‚</td></tr></tbody></table><h3 id="helloworldå°æ¡ˆä¾‹">1.3 HelloWorldå°æ¡ˆä¾‹</h3><p>HelloWorldæ¡ˆä¾‹æ˜¯æŒ‡åœ¨è®¡ç®—æœºå±å¹•ä¸Šè¾“å‡ºâ€œHelloWorldâ€è¿™è¡Œæ–‡å­—ã€‚å„ç§è®¡ç®—æœºè¯­è¨€éƒ½ä¹ æƒ¯ä½¿ç”¨è¯¥æ¡ˆä¾‹ä½œä¸ºç¬¬ä¸€ä¸ªæ¼”ç¤ºæ¡ˆä¾‹ã€‚</p><h4 id="javaç¨‹åºå¼€å‘è¿è¡Œæµç¨‹">1.3.1 Javaç¨‹åºå¼€å‘è¿è¡Œæµç¨‹</h4><p>å¼€å‘Javaç¨‹åºï¼Œéœ€è¦ä¸‰ä¸ªæ­¥éª¤ï¼šç¼–å†™ç¨‹åºï¼Œç¼–è¯‘ç¨‹åºï¼Œè¿è¡Œç¨‹åºã€‚</p><h4 id="helloworldæ¡ˆä¾‹çš„ç¼–å†™">1.3.2 HelloWorldæ¡ˆä¾‹çš„ç¼–å†™</h4><ol type="1"><li><p>æ–°å»ºæ–‡æœ¬æ–‡æ¡£æ–‡ä»¶ï¼Œä¿®æ”¹åç§°ä¸ºHelloWorld.javaã€‚</p><p><strong>æ³¨æ„</strong>ï¼šåç¼€åä¸ºjavaçš„æ‰æ˜¯javaæ–‡ä»¶ã€‚</p></li><li><p>ç”¨è®°äº‹æœ¬æ‰“å¼€HelloWorld.javaæ–‡ä»¶ï¼Œè¾“å†™ç¨‹åºå†…å®¹ã€‚</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs java"><span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title class_">HelloWorld</span> &#123;<br><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title function_">main</span><span class="hljs-params">(String[] args)</span> &#123;<br>System.out.println(<span class="hljs-string">&quot;Hello World&quot;</span>);<br>&#125;<br>&#125;<br></code></pre></td></tr></table></figure><ol start="3" type="1"><li><p>ä¿å­˜</p></li><li><p>ç¼–è¯‘æ–‡ä»¶ã€‚ç¼–è¯‘åä¼šäº§ç”Ÿä¸€ä¸ªclassæ–‡ä»¶ã€‚</p><p>javaæ–‡ä»¶ï¼šç¨‹åºå‘˜è‡ªå·±ç¼–å†™çš„ä»£ç ã€‚</p><p>classæ–‡ä»¶ï¼šäº¤ç»™è®¡ç®—æœºæ‰§è¡Œçš„æ–‡ä»¶ã€‚</p></li><li><p>è¿è¡Œä»£ç </p><p><strong>æ³¨æ„</strong>ï¼šè¿è¡Œçš„æ˜¯ç¼–è¯‘ä¹‹åçš„classæ–‡ä»¶ã€‚</p></li></ol><blockquote><p>ç”¨åˆ°ä¸¤ä¸ªå‘½ä»¤ï¼š</p><p>javac + æ–‡ä»¶å + åç¼€å ï¼ˆå°±æ˜¯ç¼–è¯‘javaæ–‡ä»¶ï¼‰</p><p>java + æ–‡ä»¶åï¼ˆè¿è¡Œç¼–è¯‘ä¹‹åçš„classæ–‡ä»¶ï¼‰</p></blockquote><h3 id="helloworldæ¡ˆä¾‹å¸¸è§é—®é¢˜">1.4 HelloWorldæ¡ˆä¾‹å¸¸è§é—®é¢˜</h3><p>1ã€éæ³•å­—ç¬¦é—®é¢˜ã€‚Javaä¸­çš„ç¬¦å·éƒ½æ˜¯è‹±æ–‡æ ¼å¼çš„ã€‚</p><p>2ã€å¤§å°å†™é—®é¢˜ã€‚Javaè¯­è¨€å¯¹å¤§å°å†™æ•æ„Ÿï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰ã€‚</p><p>3ã€åœ¨ç³»ç»Ÿä¸­æ˜¾ç¤ºæ–‡ä»¶çš„æ‰©å±•åï¼Œé¿å…å‡ºç°HelloWorld.java.txtæ–‡ä»¶ã€‚</p><p>4ã€ç¼–è¯‘å‘½ä»¤åçš„javaæ–‡ä»¶åéœ€è¦å¸¦æ–‡ä»¶åç¼€.java</p><p>5ã€è¿è¡Œå‘½ä»¤åçš„classæ–‡ä»¶åï¼ˆç±»åï¼‰ä¸å¸¦æ–‡ä»¶åç¼€.class</p><h3 id="ç¯å¢ƒå˜é‡">1.5 ç¯å¢ƒå˜é‡</h3><h4 id="ä¸ºä»€ä¹ˆé…ç½®ç¯å¢ƒå˜é‡">1.5.1 ä¸ºä»€ä¹ˆé…ç½®ç¯å¢ƒå˜é‡</h4><pre><code class="hljs">å¼€å‘Javaç¨‹åºï¼Œéœ€è¦ä½¿ç”¨JDKæä¾›çš„å¼€å‘å·¥å…·ï¼ˆæ¯”å¦‚javac.exeã€java.exeç­‰å‘½ä»¤ï¼‰ï¼Œè€Œè¿™äº›å·¥å…·åœ¨JDKçš„å®‰è£…ç›®å½•çš„binç›®å½•ä¸‹ï¼Œå¦‚æœä¸é…ç½®ç¯å¢ƒå˜é‡ï¼Œé‚£ä¹ˆè¿™äº›å‘½ä»¤åªå¯ä»¥åœ¨binç›®å½•ä¸‹ä½¿ç”¨ï¼Œè€Œæˆ‘ä»¬æƒ³è¦åœ¨ä»»æ„ç›®å½•ä¸‹éƒ½èƒ½ä½¿ç”¨ï¼Œæ‰€ä»¥å°±è¦é…ç½®ç¯å¢ƒå˜é‡ã€‚</code></pre><p>æ³¨æ„ï¼šç°åœ¨ä»å®˜ç½‘ä¸Šä¸‹è½½çš„æœ€æ–°ç‰ˆæœ¬çš„JDKå®‰è£…æ—¶ä¼šè‡ªåŠ¨é…ç½®javacã€javaå‘½ä»¤çš„è·¯å¾„åˆ°Pathç¯å¢ƒå˜é‡ä¸­å» ï¼Œæ‰€ä»¥javacã€javaå¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚</p><h4 id="é…ç½®æ–¹å¼">1.5.2 é…ç½®æ–¹å¼</h4><p>ä»¥å‰ä¸‹è½½çš„è€ç‰ˆæœ¬çš„JDKæ˜¯æ²¡æœ‰è‡ªåŠ¨é…ç½®çš„ï¼Œè€Œä¸”è‡ªåŠ¨é…ç½®çš„ä¹ŸåªåŒ…å«äº†4ä¸ªå·¥å…·è€Œå·²ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ æ‰å·²ç»é…ç½®å®Œæ¯•çš„ï¼Œå†æ¬¡é‡æ–°é…ç½®Pathç¯å¢ƒå˜é‡ã€‚</p><p><img src="/img/01-Javaå…¥é—¨/18bc9fbdd5d44dcca776d761afabc52f.png" /></p><p>â‘  <strong>JAVA_HOME</strong>ï¼šå‘Šè¯‰æ“ä½œç³»ç»ŸJDKå®‰è£…åœ¨äº†å“ªä¸ªä½ç½®</p><p>â‘¡ <strong>Path</strong>ï¼šå‘Šè¯‰æ“ä½œç³»ç»ŸJDKæä¾›çš„javac(ç¼–è¯‘)ã€java(æ‰§è¡Œ)å‘½ä»¤å®‰è£…åˆ°äº†å“ªä¸ªä½ç½®</p><h3 id="javaè¯­è¨€çš„å‘å±•">1.6 Javaè¯­è¨€çš„å‘å±•</h3><p>ä¸‰ä¸ªç‰ˆæœ¬ï¼š</p><ul><li>Java5.0ï¼šè¿™æ˜¯Javaçš„ç¬¬ä¸€ä¸ªå¤§ç‰ˆæœ¬æ›´æ–°ã€‚</li><li>Java8.0ï¼šè¿™ä¸ªæ˜¯ç›®å‰ç»å¤§æ•°å…¬å¸æ­£åœ¨ä½¿ç”¨çš„ç‰ˆæœ¬ã€‚è¿™ä¸ªç‰ˆæœ¬æœ€ä¸ºç¨³å®šã€‚</li></ul><h3 id="javaçš„ä¸‰å¤§å¹³å°">1.7 Javaçš„ä¸‰å¤§å¹³å°</h3><p>JavaSEã€JavaMEã€JavaEE</p><h4 id="javase">1.7.1 JavaSE</h4><p>æ˜¯å…¶ä»–ä¸¤ä¸ªç‰ˆæœ¬çš„åŸºç¡€ã€‚</p><h4 id="javame">1.7.2 JavaME</h4><p>Javaè¯­è¨€çš„å°å‹ç‰ˆï¼Œç”¨äºåµŒå…¥å¼æ¶ˆè´¹ç±»ç”µå­è®¾å¤‡æˆ–è€…å°å‹ç§»åŠ¨è®¾å¤‡çš„å¼€å‘ã€‚</p><p>å…¶ä¸­æœ€ä¸ºä¸»è¦çš„è¿˜æ˜¯å°å‹ç§»åŠ¨è®¾å¤‡çš„å¼€å‘ï¼ˆæ‰‹æœºï¼‰ã€‚æ¸æ¸çš„æ²¡è½äº†ï¼Œå·²ç»è¢«å®‰å“å’ŒIOSç»™æ›¿ä»£äº†ã€‚</p><p>ä½†æ˜¯ï¼Œå®‰å“ä¹Ÿæ˜¯å¯ä»¥ç”¨Javaæ¥å¼€å‘çš„ã€‚</p><h4 id="javaee">1.7.3 JavaEE</h4><p>ç”¨äºWebæ–¹å‘çš„ç½‘ç«™å¼€å‘ã€‚ï¼ˆä¸»è¦ä»äº‹åå°æœåŠ¡å™¨çš„å¼€å‘ï¼‰</p><h3 id="javaçš„ä¸»è¦ç‰¹æ€§">1.8 Javaçš„ä¸»è¦ç‰¹æ€§</h3><ul><li>é¢å‘å¯¹è±¡</li><li>å®‰å…¨æ€§</li><li>å¤šçº¿ç¨‹</li><li>ç®€å•æ˜“ç”¨</li><li>å¼€æº</li><li>è·¨å¹³å°</li></ul><h4 id="javaè¯­è¨€è·¨å¹³å°çš„åŸç†">1.8.1 Javaè¯­è¨€è·¨å¹³å°çš„åŸç†</h4><ul><li>æ“ä½œç³»ç»Ÿæœ¬èº«å…¶å®æ˜¯ä¸è®¤è¯†Javaè¯­è¨€çš„ã€‚</li><li>ä½†æ˜¯é’ˆå¯¹äºä¸åŒçš„æ“ä½œç³»ç»Ÿï¼ŒJavaæä¾›äº†ä¸åŒçš„è™šæ‹Ÿæœºã€‚</li></ul><p>è™šæ‹Ÿæœºä¼šæŠŠJavaè¯­è¨€ç¿»è¯‘æˆæ“ä½œç³»ç»Ÿèƒ½çœ‹å¾—æ‡‚çš„è¯­è¨€ã€‚</p><p><img src="/img/01-Javaå…¥é—¨/a009ce99cf0841e89f9c731e67b07b80.png" /></p><h3 id="jreå’Œjdk">1.9 JREå’ŒJDK</h3><p><img src="/img/01-Javaå…¥é—¨/5a5bce2705344fb29c0a39ceaf57573d.png" /></p><p>JVMï¼ˆJava Virtual Machine) : Javaè™šæ‹Ÿæœº</p><p>JREï¼ˆJava Runtime Environment) : Javaè¿è¡Œç¯å¢ƒï¼ŒåŒ…å«äº†JVMå’ŒJavaçš„æ ¸å¿ƒç±»åº“ï¼ˆJava APIï¼‰</p><p>JDKï¼ˆJava Development Kitï¼‰ç§°ä¸ºJavaå¼€å‘å·¥å…·ï¼ŒåŒ…å«äº†JREå’Œå¼€å‘å·¥å…·</p><p>æ€»ç»“ï¼šæˆ‘ä»¬åªéœ€å®‰è£…JDKå³å¯ï¼Œå®ƒåŒ…å«äº†javaçš„è¿è¡Œç¯å¢ƒå’Œè™šæ‹Ÿæœºã€‚</p>]]></content>
    
    
    <categories>
      
      <category>JavaåŸºç¡€</category>
      
    </categories>
    
    
    <tags>
      
      <tag>Java</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
